(self.webpackChunkejercicio_one=self.webpackChunkejercicio_one||[]).push([[179],{8255:Mt=>{function Ke(W){return Promise.resolve().then(()=>{var D=new Error("Cannot find module '"+W+"'");throw D.code="MODULE_NOT_FOUND",D})}Ke.keys=()=>[],Ke.resolve=Ke,Ke.id=8255,Mt.exports=Ke},8583:(Mt,Ke,W)=>{"use strict";W.d(Ke,{mr:()=>Ye,ez:()=>Os,K0:()=>Ue,Do:()=>dt,V_:()=>ne,Ye:()=>Qe,S$:()=>ke,O5:()=>rs,b0:()=>lt,lw:()=>Ce,EM:()=>j,JF:()=>Vt,PM:()=>mo,w_:()=>ve,bD:()=>xs,q:()=>oe,Mx:()=>an,HT:()=>Re});var D=W(3018);let U=null;function oe(){return U}function Re(k){U||(U=k)}class ve{}const Ue=new D.OlP("DocumentToken");let Ce=(()=>{class k{historyGo(V){throw new Error("Not implemented")}}return k.\u0275fac=function(V){return new(V||k)},k.\u0275prov=(0,D.Yz7)({factory:fe,token:k,providedIn:"platform"}),k})();function fe(){return(0,D.LFG)(ae)}const ne=new D.OlP("Location Initialized");let ae=(()=>{class k extends Ce{constructor(V){super(),this._doc=V,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return oe().getBaseHref(this._doc)}onPopState(V){const Q=oe().getGlobalEventTarget(this._doc,"window");return Q.addEventListener("popstate",V,!1),()=>Q.removeEventListener("popstate",V)}onHashChange(V){const Q=oe().getGlobalEventTarget(this._doc,"window");return Q.addEventListener("hashchange",V,!1),()=>Q.removeEventListener("hashchange",V)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(V){this.location.pathname=V}pushState(V,Q,me){pe()?this._history.pushState(V,Q,me):this.location.hash=me}replaceState(V,Q,me){pe()?this._history.replaceState(V,Q,me):this.location.hash=me}forward(){this._history.forward()}back(){this._history.back()}historyGo(V=0){this._history.go(V)}getState(){return this._history.state}}return k.\u0275fac=function(V){return new(V||k)(D.LFG(Ue))},k.\u0275prov=(0,D.Yz7)({factory:de,token:k,providedIn:"platform"}),k})();function pe(){return!!window.history.pushState}function de(){return new ae((0,D.LFG)(Ue))}function Te(k,q){if(0==k.length)return q;if(0==q.length)return k;let V=0;return k.endsWith("/")&&V++,q.startsWith("/")&&V++,2==V?k+q.substring(1):1==V?k+q:k+"/"+q}function Ge(k){const q=k.match(/#|\?|$/),V=q&&q.index||k.length;return k.slice(0,V-("/"===k[V-1]?1:0))+k.slice(V)}function xe(k){return k&&"?"!==k[0]?"?"+k:k}let ke=(()=>{class k{historyGo(V){throw new Error("Not implemented")}}return k.\u0275fac=function(V){return new(V||k)},k.\u0275prov=(0,D.Yz7)({factory:it,token:k,providedIn:"root"}),k})();function it(k){const q=(0,D.LFG)(Ue).location;return new lt((0,D.LFG)(Ce),q&&q.origin||"")}const Ye=new D.OlP("appBaseHref");let lt=(()=>{class k extends ke{constructor(V,Q){if(super(),this._platformLocation=V,this._removeListenerFns=[],null==Q&&(Q=this._platformLocation.getBaseHrefFromDOM()),null==Q)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=Q}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(V){this._removeListenerFns.push(this._platformLocation.onPopState(V),this._platformLocation.onHashChange(V))}getBaseHref(){return this._baseHref}prepareExternalUrl(V){return Te(this._baseHref,V)}path(V=!1){const Q=this._platformLocation.pathname+xe(this._platformLocation.search),me=this._platformLocation.hash;return me&&V?`${Q}${me}`:Q}pushState(V,Q,me,Pe){const st=this.prepareExternalUrl(me+xe(Pe));this._platformLocation.pushState(V,Q,st)}replaceState(V,Q,me,Pe){const st=this.prepareExternalUrl(me+xe(Pe));this._platformLocation.replaceState(V,Q,st)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(V=0){var Q,me;null===(me=(Q=this._platformLocation).historyGo)||void 0===me||me.call(Q,V)}}return k.\u0275fac=function(V){return new(V||k)(D.LFG(Ce),D.LFG(Ye,8))},k.\u0275prov=D.Yz7({token:k,factory:k.\u0275fac}),k})(),dt=(()=>{class k extends ke{constructor(V,Q){super(),this._platformLocation=V,this._baseHref="",this._removeListenerFns=[],null!=Q&&(this._baseHref=Q)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(V){this._removeListenerFns.push(this._platformLocation.onPopState(V),this._platformLocation.onHashChange(V))}getBaseHref(){return this._baseHref}path(V=!1){let Q=this._platformLocation.hash;return null==Q&&(Q="#"),Q.length>0?Q.substring(1):Q}prepareExternalUrl(V){const Q=Te(this._baseHref,V);return Q.length>0?"#"+Q:Q}pushState(V,Q,me,Pe){let st=this.prepareExternalUrl(me+xe(Pe));0==st.length&&(st=this._platformLocation.pathname),this._platformLocation.pushState(V,Q,st)}replaceState(V,Q,me,Pe){let st=this.prepareExternalUrl(me+xe(Pe));0==st.length&&(st=this._platformLocation.pathname),this._platformLocation.replaceState(V,Q,st)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(V=0){var Q,me;null===(me=(Q=this._platformLocation).historyGo)||void 0===me||me.call(Q,V)}}return k.\u0275fac=function(V){return new(V||k)(D.LFG(Ce),D.LFG(Ye,8))},k.\u0275prov=D.Yz7({token:k,factory:k.\u0275fac}),k})(),Qe=(()=>{class k{constructor(V,Q){this._subject=new D.vpe,this._urlChangeListeners=[],this._platformStrategy=V;const me=this._platformStrategy.getBaseHref();this._platformLocation=Q,this._baseHref=Ge(Jt(me)),this._platformStrategy.onPopState(Pe=>{this._subject.emit({url:this.path(!0),pop:!0,state:Pe.state,type:Pe.type})})}path(V=!1){return this.normalize(this._platformStrategy.path(V))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(V,Q=""){return this.path()==this.normalize(V+xe(Q))}normalize(V){return k.stripTrailingSlash(function(k,q){return k&&q.startsWith(k)?q.substring(k.length):q}(this._baseHref,Jt(V)))}prepareExternalUrl(V){return V&&"/"!==V[0]&&(V="/"+V),this._platformStrategy.prepareExternalUrl(V)}go(V,Q="",me=null){this._platformStrategy.pushState(me,"",V,Q),this._notifyUrlChangeListeners(this.prepareExternalUrl(V+xe(Q)),me)}replaceState(V,Q="",me=null){this._platformStrategy.replaceState(me,"",V,Q),this._notifyUrlChangeListeners(this.prepareExternalUrl(V+xe(Q)),me)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(V=0){var Q,me;null===(me=(Q=this._platformStrategy).historyGo)||void 0===me||me.call(Q,V)}onUrlChange(V){this._urlChangeListeners.push(V),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(Q=>{this._notifyUrlChangeListeners(Q.url,Q.state)}))}_notifyUrlChangeListeners(V="",Q){this._urlChangeListeners.forEach(me=>me(V,Q))}subscribe(V,Q,me){return this._subject.subscribe({next:V,error:Q,complete:me})}}return k.\u0275fac=function(V){return new(V||k)(D.LFG(ke),D.LFG(Ce))},k.normalizeQueryParams=xe,k.joinWithSlash=Te,k.stripTrailingSlash=Ge,k.\u0275prov=(0,D.Yz7)({factory:we,token:k,providedIn:"root"}),k})();function we(){return new Qe((0,D.LFG)(ke),(0,D.LFG)(Ce))}function Jt(k){return k.replace(/\/index.html$/,"")}var Le=(()=>((Le=Le||{})[Le.Zero=0]="Zero",Le[Le.One=1]="One",Le[Le.Two=2]="Two",Le[Le.Few=3]="Few",Le[Le.Many=4]="Many",Le[Le.Other=5]="Other",Le))();const dn=D.kL8;class Qr{}let ts=(()=>{class k extends Qr{constructor(V){super(),this.locale=V}getPluralCategory(V,Q){switch(dn(Q||this.locale)(V)){case Le.Zero:return"zero";case Le.One:return"one";case Le.Two:return"two";case Le.Few:return"few";case Le.Many:return"many";default:return"other"}}}return k.\u0275fac=function(V){return new(V||k)(D.LFG(D.soG))},k.\u0275prov=D.Yz7({token:k,factory:k.\u0275fac}),k})();function an(k,q){q=encodeURIComponent(q);for(const V of k.split(";")){const Q=V.indexOf("="),[me,Pe]=-1==Q?[V,""]:[V.slice(0,Q),V.slice(Q+1)];if(me.trim()===q)return decodeURIComponent(Pe)}return null}let rs=(()=>{class k{constructor(V,Q){this._viewContainer=V,this._context=new ri,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=Q}set ngIf(V){this._context.$implicit=this._context.ngIf=V,this._updateView()}set ngIfThen(V){$n("ngIfThen",V),this._thenTemplateRef=V,this._thenViewRef=null,this._updateView()}set ngIfElse(V){$n("ngIfElse",V),this._elseTemplateRef=V,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(V,Q){return!0}}return k.\u0275fac=function(V){return new(V||k)(D.Y36(D.s_b),D.Y36(D.Rgc))},k.\u0275dir=D.lG2({type:k,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),k})();class ri{constructor(){this.$implicit=null,this.ngIf=null}}function $n(k,q){if(q&&!q.createEmbeddedView)throw new Error(`${k} must be a TemplateRef, but received '${(0,D.AaK)(q)}'.`)}let Os=(()=>{class k{}return k.\u0275fac=function(V){return new(V||k)},k.\u0275mod=D.oAB({type:k}),k.\u0275inj=D.cJS({providers:[{provide:Qr,useClass:ts}]}),k})();const xs="browser";function mo(k){return"server"===k}let j=(()=>{class k{}return k.\u0275prov=(0,D.Yz7)({token:k,providedIn:"root",factory:()=>new F((0,D.LFG)(Ue),window)}),k})();class F{constructor(q,V){this.document=q,this.window=V,this.offset=()=>[0,0]}setOffset(q){this.offset=Array.isArray(q)?()=>q:q}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(q){this.supportsScrolling()&&this.window.scrollTo(q[0],q[1])}scrollToAnchor(q){if(!this.supportsScrolling())return;const V=function(k,q){const V=k.getElementById(q)||k.getElementsByName(q)[0];if(V)return V;if("function"==typeof k.createTreeWalker&&k.body&&(k.body.createShadowRoot||k.body.attachShadow)){const Q=k.createTreeWalker(k.body,NodeFilter.SHOW_ELEMENT);let me=Q.currentNode;for(;me;){const Pe=me.shadowRoot;if(Pe){const st=Pe.getElementById(q)||Pe.querySelector(`[name="${q}"]`);if(st)return st}me=Q.nextNode()}}return null}(this.document,q);V&&(this.scrollToElement(V),this.attemptFocus(V))}setHistoryScrollRestoration(q){if(this.supportScrollRestoration()){const V=this.window.history;V&&V.scrollRestoration&&(V.scrollRestoration=q)}}scrollToElement(q){const V=q.getBoundingClientRect(),Q=V.left+this.window.pageXOffset,me=V.top+this.window.pageYOffset,Pe=this.offset();this.window.scrollTo(Q-Pe[0],me-Pe[1])}attemptFocus(q){return q.focus(),this.document.activeElement===q}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const q=O(this.window.history)||O(Object.getPrototypeOf(this.window.history));return!(!q||!q.writable&&!q.set)}catch(q){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(q){return!1}}}function O(k){return Object.getOwnPropertyDescriptor(k,"scrollRestoration")}class Vt{}},1841:(Mt,Ke,W)=>{"use strict";W.d(Ke,{eN:()=>ue,JF:()=>Pn});var D=W(8583),U=W(3018),oe=W(5917),Ie=W(7574),Re=W(4612),ve=W(5435),Ue=W(8002);class Ce{}class fe{}class ne{constructor(ee){this.normalizedNames=new Map,this.lazyUpdate=null,ee?this.lazyInit="string"==typeof ee?()=>{this.headers=new Map,ee.split("\n").forEach(ye=>{const tt=ye.indexOf(":");if(tt>0){const Xe=ye.slice(0,tt),bt=Xe.toLowerCase(),gt=ye.slice(tt+1).trim();this.maybeSetNormalizedName(Xe,bt),this.headers.has(bt)?this.headers.get(bt).push(gt):this.headers.set(bt,[gt])}})}:()=>{this.headers=new Map,Object.keys(ee).forEach(ye=>{let tt=ee[ye];const Xe=ye.toLowerCase();"string"==typeof tt&&(tt=[tt]),tt.length>0&&(this.headers.set(Xe,tt),this.maybeSetNormalizedName(ye,Xe))})}:this.headers=new Map}has(ee){return this.init(),this.headers.has(ee.toLowerCase())}get(ee){this.init();const ye=this.headers.get(ee.toLowerCase());return ye&&ye.length>0?ye[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(ee){return this.init(),this.headers.get(ee.toLowerCase())||null}append(ee,ye){return this.clone({name:ee,value:ye,op:"a"})}set(ee,ye){return this.clone({name:ee,value:ye,op:"s"})}delete(ee,ye){return this.clone({name:ee,value:ye,op:"d"})}maybeSetNormalizedName(ee,ye){this.normalizedNames.has(ye)||this.normalizedNames.set(ye,ee)}init(){this.lazyInit&&(this.lazyInit instanceof ne?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(ee=>this.applyUpdate(ee)),this.lazyUpdate=null))}copyFrom(ee){ee.init(),Array.from(ee.headers.keys()).forEach(ye=>{this.headers.set(ye,ee.headers.get(ye)),this.normalizedNames.set(ye,ee.normalizedNames.get(ye))})}clone(ee){const ye=new ne;return ye.lazyInit=this.lazyInit&&this.lazyInit instanceof ne?this.lazyInit:this,ye.lazyUpdate=(this.lazyUpdate||[]).concat([ee]),ye}applyUpdate(ee){const ye=ee.name.toLowerCase();switch(ee.op){case"a":case"s":let tt=ee.value;if("string"==typeof tt&&(tt=[tt]),0===tt.length)return;this.maybeSetNormalizedName(ee.name,ye);const Xe=("a"===ee.op?this.headers.get(ye):void 0)||[];Xe.push(...tt),this.headers.set(ye,Xe);break;case"d":const bt=ee.value;if(bt){let gt=this.headers.get(ye);if(!gt)return;gt=gt.filter(Et=>-1===bt.indexOf(Et)),0===gt.length?(this.headers.delete(ye),this.normalizedNames.delete(ye)):this.headers.set(ye,gt)}else this.headers.delete(ye),this.normalizedNames.delete(ye)}}forEach(ee){this.init(),Array.from(this.normalizedNames.keys()).forEach(ye=>ee(this.normalizedNames.get(ye),this.headers.get(ye)))}}class ae{encodeKey(ee){return Ge(ee)}encodeValue(ee){return Ge(ee)}decodeKey(ee){return decodeURIComponent(ee)}decodeValue(ee){return decodeURIComponent(ee)}}const de=/%(\d[a-f0-9])/gi,Te={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function Ge(Fe){return encodeURIComponent(Fe).replace(de,(ee,ye)=>{var tt;return null!==(tt=Te[ye])&&void 0!==tt?tt:ee})}function xe(Fe){return`${Fe}`}class ke{constructor(ee={}){if(this.updates=null,this.cloneFrom=null,this.encoder=ee.encoder||new ae,ee.fromString){if(ee.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(Fe,ee){const ye=new Map;return Fe.length>0&&Fe.replace(/^\?/,"").split("&").forEach(Xe=>{const bt=Xe.indexOf("="),[gt,Et]=-1==bt?[ee.decodeKey(Xe),""]:[ee.decodeKey(Xe.slice(0,bt)),ee.decodeValue(Xe.slice(bt+1))],Xt=ye.get(gt)||[];Xt.push(Et),ye.set(gt,Xt)}),ye}(ee.fromString,this.encoder)}else ee.fromObject?(this.map=new Map,Object.keys(ee.fromObject).forEach(ye=>{const tt=ee.fromObject[ye];this.map.set(ye,Array.isArray(tt)?tt:[tt])})):this.map=null}has(ee){return this.init(),this.map.has(ee)}get(ee){this.init();const ye=this.map.get(ee);return ye?ye[0]:null}getAll(ee){return this.init(),this.map.get(ee)||null}keys(){return this.init(),Array.from(this.map.keys())}append(ee,ye){return this.clone({param:ee,value:ye,op:"a"})}appendAll(ee){const ye=[];return Object.keys(ee).forEach(tt=>{const Xe=ee[tt];Array.isArray(Xe)?Xe.forEach(bt=>{ye.push({param:tt,value:bt,op:"a"})}):ye.push({param:tt,value:Xe,op:"a"})}),this.clone(ye)}set(ee,ye){return this.clone({param:ee,value:ye,op:"s"})}delete(ee,ye){return this.clone({param:ee,value:ye,op:"d"})}toString(){return this.init(),this.keys().map(ee=>{const ye=this.encoder.encodeKey(ee);return this.map.get(ee).map(tt=>ye+"="+this.encoder.encodeValue(tt)).join("&")}).filter(ee=>""!==ee).join("&")}clone(ee){const ye=new ke({encoder:this.encoder});return ye.cloneFrom=this.cloneFrom||this,ye.updates=(this.updates||[]).concat(ee),ye}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(ee=>this.map.set(ee,this.cloneFrom.map.get(ee))),this.updates.forEach(ee=>{switch(ee.op){case"a":case"s":const ye=("a"===ee.op?this.map.get(ee.param):void 0)||[];ye.push(xe(ee.value)),this.map.set(ee.param,ye);break;case"d":if(void 0===ee.value){this.map.delete(ee.param);break}{let tt=this.map.get(ee.param)||[];const Xe=tt.indexOf(xe(ee.value));-1!==Xe&&tt.splice(Xe,1),tt.length>0?this.map.set(ee.param,tt):this.map.delete(ee.param)}}}),this.cloneFrom=this.updates=null)}}class Ye{constructor(){this.map=new Map}set(ee,ye){return this.map.set(ee,ye),this}get(ee){return this.map.has(ee)||this.map.set(ee,ee.defaultValue()),this.map.get(ee)}delete(ee){return this.map.delete(ee),this}keys(){return this.map.keys()}}function dt(Fe){return"undefined"!=typeof ArrayBuffer&&Fe instanceof ArrayBuffer}function Qe(Fe){return"undefined"!=typeof Blob&&Fe instanceof Blob}function we(Fe){return"undefined"!=typeof FormData&&Fe instanceof FormData}class Jt{constructor(ee,ye,tt,Xe){let bt;if(this.url=ye,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=ee.toUpperCase(),function(Fe){switch(Fe){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||Xe?(this.body=void 0!==tt?tt:null,bt=Xe):bt=tt,bt&&(this.reportProgress=!!bt.reportProgress,this.withCredentials=!!bt.withCredentials,bt.responseType&&(this.responseType=bt.responseType),bt.headers&&(this.headers=bt.headers),bt.context&&(this.context=bt.context),bt.params&&(this.params=bt.params)),this.headers||(this.headers=new ne),this.context||(this.context=new Ye),this.params){const gt=this.params.toString();if(0===gt.length)this.urlWithParams=ye;else{const Et=ye.indexOf("?");this.urlWithParams=ye+(-1===Et?"?":Et<ye.length-1?"&":"")+gt}}else this.params=new ke,this.urlWithParams=ye}serializeBody(){return null===this.body?null:dt(this.body)||Qe(this.body)||we(this.body)||"undefined"!=typeof URLSearchParams&&this.body instanceof URLSearchParams||"string"==typeof this.body?this.body:this.body instanceof ke?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||we(this.body)?null:Qe(this.body)?this.body.type||null:dt(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof ke?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(ee={}){var ye;const tt=ee.method||this.method,Xe=ee.url||this.url,bt=ee.responseType||this.responseType,gt=void 0!==ee.body?ee.body:this.body,Et=void 0!==ee.withCredentials?ee.withCredentials:this.withCredentials,Xt=void 0!==ee.reportProgress?ee.reportProgress:this.reportProgress;let lr=ee.headers||this.headers,cr=ee.params||this.params;const jn=null!==(ye=ee.context)&&void 0!==ye?ye:this.context;return void 0!==ee.setHeaders&&(lr=Object.keys(ee.setHeaders).reduce((tr,Nt)=>tr.set(Nt,ee.setHeaders[Nt]),lr)),ee.setParams&&(cr=Object.keys(ee.setParams).reduce((tr,Nt)=>tr.set(Nt,ee.setParams[Nt]),cr)),new Jt(tt,Xe,gt,{params:cr,headers:lr,context:jn,reportProgress:Xt,responseType:bt,withCredentials:Et})}}var Ct=(()=>((Ct=Ct||{})[Ct.Sent=0]="Sent",Ct[Ct.UploadProgress=1]="UploadProgress",Ct[Ct.ResponseHeader=2]="ResponseHeader",Ct[Ct.DownloadProgress=3]="DownloadProgress",Ct[Ct.Response=4]="Response",Ct[Ct.User=5]="User",Ct))();class Ae{constructor(ee,ye=200,tt="OK"){this.headers=ee.headers||new ne,this.status=void 0!==ee.status?ee.status:ye,this.statusText=ee.statusText||tt,this.url=ee.url||null,this.ok=this.status>=200&&this.status<300}}class Le extends Ae{constructor(ee={}){super(ee),this.type=Ct.ResponseHeader}clone(ee={}){return new Le({headers:ee.headers||this.headers,status:void 0!==ee.status?ee.status:this.status,statusText:ee.statusText||this.statusText,url:ee.url||this.url||void 0})}}class Be extends Ae{constructor(ee={}){super(ee),this.type=Ct.Response,this.body=void 0!==ee.body?ee.body:null}clone(ee={}){return new Be({body:void 0!==ee.body?ee.body:this.body,headers:ee.headers||this.headers,status:void 0!==ee.status?ee.status:this.status,statusText:ee.statusText||this.statusText,url:ee.url||this.url||void 0})}}class ze extends Ae{constructor(ee){super(ee,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${ee.url||"(unknown url)"}`:`Http failure response for ${ee.url||"(unknown url)"}: ${ee.status} ${ee.statusText}`,this.error=ee.error||null}}function He(Fe,ee){return{body:ee,headers:Fe.headers,context:Fe.context,observe:Fe.observe,params:Fe.params,reportProgress:Fe.reportProgress,responseType:Fe.responseType,withCredentials:Fe.withCredentials}}let ue=(()=>{class Fe{constructor(ye){this.handler=ye}request(ye,tt,Xe={}){let bt;if(ye instanceof Jt)bt=ye;else{let Xt,lr;Xt=Xe.headers instanceof ne?Xe.headers:new ne(Xe.headers),Xe.params&&(lr=Xe.params instanceof ke?Xe.params:new ke({fromObject:Xe.params})),bt=new Jt(ye,tt,void 0!==Xe.body?Xe.body:null,{headers:Xt,context:Xe.context,params:lr,reportProgress:Xe.reportProgress,responseType:Xe.responseType||"json",withCredentials:Xe.withCredentials})}const gt=(0,oe.of)(bt).pipe((0,Re.b)(Xt=>this.handler.handle(Xt)));if(ye instanceof Jt||"events"===Xe.observe)return gt;const Et=gt.pipe((0,ve.h)(Xt=>Xt instanceof Be));switch(Xe.observe||"body"){case"body":switch(bt.responseType){case"arraybuffer":return Et.pipe((0,Ue.U)(Xt=>{if(null!==Xt.body&&!(Xt.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return Xt.body}));case"blob":return Et.pipe((0,Ue.U)(Xt=>{if(null!==Xt.body&&!(Xt.body instanceof Blob))throw new Error("Response is not a Blob.");return Xt.body}));case"text":return Et.pipe((0,Ue.U)(Xt=>{if(null!==Xt.body&&"string"!=typeof Xt.body)throw new Error("Response is not a string.");return Xt.body}));case"json":default:return Et.pipe((0,Ue.U)(Xt=>Xt.body))}case"response":return Et;default:throw new Error(`Unreachable: unhandled observe type ${Xe.observe}}`)}}delete(ye,tt={}){return this.request("DELETE",ye,tt)}get(ye,tt={}){return this.request("GET",ye,tt)}head(ye,tt={}){return this.request("HEAD",ye,tt)}jsonp(ye,tt){return this.request("JSONP",ye,{params:(new ke).append(tt,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(ye,tt={}){return this.request("OPTIONS",ye,tt)}patch(ye,tt,Xe={}){return this.request("PATCH",ye,He(Xe,tt))}post(ye,tt,Xe={}){return this.request("POST",ye,He(Xe,tt))}put(ye,tt,Xe={}){return this.request("PUT",ye,He(Xe,tt))}}return Fe.\u0275fac=function(ye){return new(ye||Fe)(U.LFG(Ce))},Fe.\u0275prov=U.Yz7({token:Fe,factory:Fe.\u0275fac}),Fe})();class at{constructor(ee,ye){this.next=ee,this.interceptor=ye}handle(ee){return this.interceptor.intercept(ee,this.next)}}const ut=new U.OlP("HTTP_INTERCEPTORS");let St=(()=>{class Fe{intercept(ye,tt){return tt.handle(ye)}}return Fe.\u0275fac=function(ye){return new(ye||Fe)},Fe.\u0275prov=U.Yz7({token:Fe,factory:Fe.\u0275fac}),Fe})();const mt=/^\)\]\}',?\n/;let xn=(()=>{class Fe{constructor(ye){this.xhrFactory=ye}handle(ye){if("JSONP"===ye.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new Ie.y(tt=>{const Xe=this.xhrFactory.build();if(Xe.open(ye.method,ye.urlWithParams),ye.withCredentials&&(Xe.withCredentials=!0),ye.headers.forEach((Nt,on)=>Xe.setRequestHeader(Nt,on.join(","))),ye.headers.has("Accept")||Xe.setRequestHeader("Accept","application/json, text/plain, */*"),!ye.headers.has("Content-Type")){const Nt=ye.detectContentTypeHeader();null!==Nt&&Xe.setRequestHeader("Content-Type",Nt)}if(ye.responseType){const Nt=ye.responseType.toLowerCase();Xe.responseType="json"!==Nt?Nt:"text"}const bt=ye.serializeBody();let gt=null;const Et=()=>{if(null!==gt)return gt;const Nt=1223===Xe.status?204:Xe.status,on=Xe.statusText||"OK",_e=new ne(Xe.getAllResponseHeaders()),se=function(Fe){return"responseURL"in Fe&&Fe.responseURL?Fe.responseURL:/^X-Request-URL:/m.test(Fe.getAllResponseHeaders())?Fe.getResponseHeader("X-Request-URL"):null}(Xe)||ye.url;return gt=new Le({headers:_e,status:Nt,statusText:on,url:se}),gt},Xt=()=>{let{headers:Nt,status:on,statusText:_e,url:se}=Et(),Se=null;204!==on&&(Se=void 0===Xe.response?Xe.responseText:Xe.response),0===on&&(on=Se?200:0);let je=on>=200&&on<300;if("json"===ye.responseType&&"string"==typeof Se){const Me=Se;Se=Se.replace(mt,"");try{Se=""!==Se?JSON.parse(Se):null}catch(rt){Se=Me,je&&(je=!1,Se={error:rt,text:Se})}}je?(tt.next(new Be({body:Se,headers:Nt,status:on,statusText:_e,url:se||void 0})),tt.complete()):tt.error(new ze({error:Se,headers:Nt,status:on,statusText:_e,url:se||void 0}))},lr=Nt=>{const{url:on}=Et(),_e=new ze({error:Nt,status:Xe.status||0,statusText:Xe.statusText||"Unknown Error",url:on||void 0});tt.error(_e)};let cr=!1;const jn=Nt=>{cr||(tt.next(Et()),cr=!0);let on={type:Ct.DownloadProgress,loaded:Nt.loaded};Nt.lengthComputable&&(on.total=Nt.total),"text"===ye.responseType&&!!Xe.responseText&&(on.partialText=Xe.responseText),tt.next(on)},tr=Nt=>{let on={type:Ct.UploadProgress,loaded:Nt.loaded};Nt.lengthComputable&&(on.total=Nt.total),tt.next(on)};return Xe.addEventListener("load",Xt),Xe.addEventListener("error",lr),Xe.addEventListener("timeout",lr),Xe.addEventListener("abort",lr),ye.reportProgress&&(Xe.addEventListener("progress",jn),null!==bt&&Xe.upload&&Xe.upload.addEventListener("progress",tr)),Xe.send(bt),tt.next({type:Ct.Sent}),()=>{Xe.removeEventListener("error",lr),Xe.removeEventListener("abort",lr),Xe.removeEventListener("load",Xt),Xe.removeEventListener("timeout",lr),ye.reportProgress&&(Xe.removeEventListener("progress",jn),null!==bt&&Xe.upload&&Xe.upload.removeEventListener("progress",tr)),Xe.readyState!==Xe.DONE&&Xe.abort()}})}}return Fe.\u0275fac=function(ye){return new(ye||Fe)(U.LFG(D.JF))},Fe.\u0275prov=U.Yz7({token:Fe,factory:Fe.\u0275fac}),Fe})();const Tn=new U.OlP("XSRF_COOKIE_NAME"),wn=new U.OlP("XSRF_HEADER_NAME");class Vr{}let ir=(()=>{class Fe{constructor(ye,tt,Xe){this.doc=ye,this.platform=tt,this.cookieName=Xe,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const ye=this.doc.cookie||"";return ye!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,D.Mx)(ye,this.cookieName),this.lastCookieString=ye),this.lastToken}}return Fe.\u0275fac=function(ye){return new(ye||Fe)(U.LFG(D.K0),U.LFG(U.Lbi),U.LFG(Tn))},Fe.\u0275prov=U.Yz7({token:Fe,factory:Fe.\u0275fac}),Fe})(),dn=(()=>{class Fe{constructor(ye,tt){this.tokenService=ye,this.headerName=tt}intercept(ye,tt){const Xe=ye.url.toLowerCase();if("GET"===ye.method||"HEAD"===ye.method||Xe.startsWith("http://")||Xe.startsWith("https://"))return tt.handle(ye);const bt=this.tokenService.getToken();return null!==bt&&!ye.headers.has(this.headerName)&&(ye=ye.clone({headers:ye.headers.set(this.headerName,bt)})),tt.handle(ye)}}return Fe.\u0275fac=function(ye){return new(ye||Fe)(U.LFG(Vr),U.LFG(wn))},Fe.\u0275prov=U.Yz7({token:Fe,factory:Fe.\u0275fac}),Fe})(),Kn=(()=>{class Fe{constructor(ye,tt){this.backend=ye,this.injector=tt,this.chain=null}handle(ye){if(null===this.chain){const tt=this.injector.get(ut,[]);this.chain=tt.reduceRight((Xe,bt)=>new at(Xe,bt),this.backend)}return this.chain.handle(ye)}}return Fe.\u0275fac=function(ye){return new(ye||Fe)(U.LFG(fe),U.LFG(U.zs3))},Fe.\u0275prov=U.Yz7({token:Fe,factory:Fe.\u0275fac}),Fe})(),hn=(()=>{class Fe{static disable(){return{ngModule:Fe,providers:[{provide:dn,useClass:St}]}}static withOptions(ye={}){return{ngModule:Fe,providers:[ye.cookieName?{provide:Tn,useValue:ye.cookieName}:[],ye.headerName?{provide:wn,useValue:ye.headerName}:[]]}}}return Fe.\u0275fac=function(ye){return new(ye||Fe)},Fe.\u0275mod=U.oAB({type:Fe}),Fe.\u0275inj=U.cJS({providers:[dn,{provide:ut,useExisting:dn,multi:!0},{provide:Vr,useClass:ir},{provide:Tn,useValue:"XSRF-TOKEN"},{provide:wn,useValue:"X-XSRF-TOKEN"}]}),Fe})(),Pn=(()=>{class Fe{}return Fe.\u0275fac=function(ye){return new(ye||Fe)},Fe.\u0275mod=U.oAB({type:Fe}),Fe.\u0275inj=U.cJS({providers:[ue,{provide:Ce,useClass:Kn},xn,{provide:fe,useExisting:xn}],imports:[[hn.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),Fe})()},3018:(Mt,Ke,W)=>{"use strict";W.d(Ke,{deG:()=>Oa,tb:()=>rC,AFp:()=>eC,ip1:()=>cE,CZH:()=>jf,hGG:()=>$S,z2F:()=>nm,sBO:()=>SI,Sil:()=>tm,_Vd:()=>sh,EJc:()=>sC,SBq:()=>Bl,qLn:()=>yt,vpe:()=>jl,gxx:()=>xl,tBr:()=>zt,XFs:()=>ee,OlP:()=>Gn,zs3:()=>Tr,ZZ4:()=>Jy,aQg:()=>Xy,soG:()=>c_,YKP:()=>Y0,v3s:()=>CS,h0i:()=>oh,PXZ:()=>mS,R0b:()=>ou,FiY:()=>nn,Lbi:()=>nC,g9A:()=>tC,Qsj:()=>hI,FYo:()=>Qy,JOm:()=>Ua,Tiy:()=>Lv,q3G:()=>pr,tp0:()=>fr,EAV:()=>TS,Rgc:()=>$g,dDg:()=>lC,DyG:()=>Xs,q4F:()=>Vv,GfV:()=>$0,s_b:()=>n_,ifc:()=>jn,eFA:()=>pC,G48:()=>lS,Gpc:()=>xe,X6Q:()=>yE,_c5:()=>FS,VLi:()=>uS,c2e:()=>iC,zSh:()=>gc,wAp:()=>yn,vHH:()=>lt,EiD:()=>El,mCW:()=>Zl,qzn:()=>_l,JVY:()=>qn,pB0:()=>xc,eBb:()=>mh,L6k:()=>gh,LAX:()=>gi,cg1:()=>Av,Tjo:()=>PS,kL8:()=>d0,yhl:()=>pi,dqk:()=>se,sIi:()=>yf,CqO:()=>Ng,QGY:()=>Ag,F4k:()=>Ny,RDi:()=>V,AaK:()=>de,z3N:()=>Mo,qOj:()=>As,TTD:()=>Kr,_Bn:()=>V0,xp6:()=>fp,uIk:()=>cy,ekj:()=>nh,Suo:()=>Ow,Xpm:()=>ei,lG2:()=>Rs,Yz7:()=>wn,cJS:()=>ir,oAB:()=>ui,Yjl:()=>_i,Y36:()=>Zd,_UZ:()=>Dy,qZA:()=>Sf,TgZ:()=>Tg,EpF:()=>Ay,n5z:()=>Ut,Ikx:()=>Sv,LFG:()=>Yn,$8M:()=>or,NdJ:()=>Ry,CRH:()=>xw,oxw:()=>Rg,Q6J:()=>Df,iGM:()=>Mw,CHM:()=>ba,LSH:()=>pa,kYT:()=>xr,YNc:()=>fy,_uU:()=>ce,Oqu:()=>be,hij:()=>Je});var D=W(9765),U=W(5319),oe=W(7574),Ie=W(6682),Re=W(2441);var Ce=W(1307);function fe(){return new D.xQ}function ae(i){for(let s in i)if(i[s]===ae)return s;throw Error("Could not find renamed property on target object.")}function pe(i,s){for(const o in s)s.hasOwnProperty(o)&&!i.hasOwnProperty(o)&&(i[o]=s[o])}function de(i){if("string"==typeof i)return i;if(Array.isArray(i))return"["+i.map(de).join(", ")+"]";if(null==i)return""+i;if(i.overriddenName)return`${i.overriddenName}`;if(i.name)return`${i.name}`;const s=i.toString();if(null==s)return""+s;const o=s.indexOf("\n");return-1===o?s:s.substring(0,o)}function Te(i,s){return null==i||""===i?null===s?"":s:null==s||""===s?i:i+" "+s}const Ge=ae({__forward_ref__:ae});function xe(i){return i.__forward_ref__=xe,i.toString=function(){return de(this())},i}function ke(i){return it(i)?i():i}function it(i){return"function"==typeof i&&i.hasOwnProperty(Ge)&&i.__forward_ref__===xe}class lt extends Error{constructor(s,o){super(function(i,s){return`${i?`NG0${i}: `:""}${s}`}(s,o)),this.code=s}}function we(i){return"string"==typeof i?i:null==i?"":String(i)}function We(i){return"function"==typeof i?i.name||i.toString():"object"==typeof i&&null!=i&&"function"==typeof i.type?i.type.name||i.type.toString():we(i)}function Le(i,s){const o=s?` in ${s}`:"";throw new lt("201",`No provider for ${We(i)} found${o}`)}function Ht(i,s){null==i&&function(i,s,o,l){throw new Error(`ASSERTION ERROR: ${i}`+(null==l?"":` [Expected=> ${o} ${l} ${s} <=Actual]`))}(s,i,null,"!=")}function wn(i){return{token:i.token,providedIn:i.providedIn||null,factory:i.factory,value:void 0}}function ir(i){return{providers:i.providers||[],imports:i.imports||[]}}function dn(i){return Kn(i,Pn)||Kn(i,Ur)}function Kn(i,s){return i.hasOwnProperty(s)?i[s]:null}function hn(i){return i&&(i.hasOwnProperty(Cn)||i.hasOwnProperty(Fe))?i[Cn]:null}const Pn=ae({\u0275prov:ae}),Cn=ae({\u0275inj:ae}),Ur=ae({ngInjectableDef:ae}),Fe=ae({ngInjectorDef:ae});var ee=(()=>((ee=ee||{})[ee.Default=0]="Default",ee[ee.Host=1]="Host",ee[ee.Self=2]="Self",ee[ee.SkipSelf=4]="SkipSelf",ee[ee.Optional=8]="Optional",ee))();let ye;function Xe(i){const s=ye;return ye=i,s}function bt(i,s,o){const l=dn(i);return l&&"root"==l.providedIn?void 0===l.value?l.value=l.factory():l.value:o&ee.Optional?null:void 0!==s?s:void Le(de(i),"Injector")}function Et(i){return{toString:i}.toString()}var Xt=(()=>((Xt=Xt||{})[Xt.OnPush=0]="OnPush",Xt[Xt.Default=1]="Default",Xt))(),jn=(()=>((jn=jn||{})[jn.Emulated=0]="Emulated",jn[jn.None=2]="None",jn[jn.ShadowDom=3]="ShadowDom",jn))();const tr="undefined"!=typeof globalThis&&globalThis,Nt="undefined"!=typeof window&&window,on="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,_e="undefined"!=typeof global&&global,se=tr||_e||Nt||on,Me={},rt=[],xt=ae({\u0275cmp:ae}),_n=ae({\u0275dir:ae}),Sn=ae({\u0275pipe:ae}),fn=ae({\u0275mod:ae}),gr=ae({\u0275loc:ae}),$t=ae({\u0275fac:ae}),Rn=ae({__NG_ELEMENT_ID__:ae});let hs=0;function ei(i){return Et(()=>{const o={},l={type:i.type,providersResolver:null,decls:i.decls,vars:i.vars,factory:null,template:i.template||null,consts:i.consts||null,ngContentSelectors:i.ngContentSelectors,hostBindings:i.hostBindings||null,hostVars:i.hostVars||0,hostAttrs:i.hostAttrs||null,contentQueries:i.contentQueries||null,declaredInputs:o,inputs:null,outputs:null,exportAs:i.exportAs||null,onPush:i.changeDetection===Xt.OnPush,directiveDefs:null,pipeDefs:null,selectors:i.selectors||rt,viewQuery:i.viewQuery||null,features:i.features||null,data:i.data||{},encapsulation:i.encapsulation||jn.Emulated,id:"c",styles:i.styles||rt,_:null,setInput:null,schemas:i.schemas||null,tView:null},d=i.directives,f=i.features,v=i.pipes;return l.id+=hs++,l.inputs=Di(i.inputs,o),l.outputs=Di(i.outputs),f&&f.forEach(w=>w(l)),l.directiveDefs=d?()=>("function"==typeof d?d():d).map(es):null,l.pipeDefs=v?()=>("function"==typeof v?v():v).map(Ns):null,l})}function es(i){return qt(i)||function(i){return i[_n]||null}(i)}function Ns(i){return function(i){return i[Sn]||null}(i)}const fs={};function ui(i){return Et(()=>{const s={type:i.type,bootstrap:i.bootstrap||rt,declarations:i.declarations||rt,imports:i.imports||rt,exports:i.exports||rt,transitiveCompileScopes:null,schemas:i.schemas||null,id:i.id||null};return null!=i.id&&(fs[i.id]=i.type),s})}function xr(i,s){return Et(()=>{const o=bn(i,!0);o.declarations=s.declarations||rt,o.imports=s.imports||rt,o.exports=s.exports||rt})}function Di(i,s){if(null==i)return Me;const o={};for(const l in i)if(i.hasOwnProperty(l)){let d=i[l],f=d;Array.isArray(d)&&(f=d[1],d=d[0]),o[d]=l,s&&(s[d]=f)}return o}const Rs=ei;function _i(i){return{type:i.type,name:i.name,factory:null,pure:!1!==i.pure,onDestroy:i.type.prototype.ngOnDestroy||null}}function qt(i){return i[xt]||null}function bn(i,s){const o=i[fn]||null;if(!o&&!0===s)throw new Error(`Type ${de(i)} does not have '\u0275mod' property.`);return o}function Si(i){return Array.isArray(i)&&"object"==typeof i[1]}function mr(i){return Array.isArray(i)&&!0===i[1]}function Ar(i){return 0!=(8&i.flags)}function Lo(i){return 2==(2&i.flags)}function _s(i){return 1==(1&i.flags)}function Nr(i){return null!==i.template}function ji(i){return 0!=(512&i[2])}function $i(i,s){return i.hasOwnProperty($t)?i[$t]:null}class as{constructor(s,o,l){this.previousValue=s,this.currentValue=o,this.firstChange=l}isFirstChange(){return this.firstChange}}function Kr(){return mo}function mo(i){return i.type.prototype.ngOnChanges&&(i.setInput=Ws),qa}function qa(){const i=j(this),s=null==i?void 0:i.current;if(s){const o=i.previous;if(o===Me)i.previous=s;else for(let l in s)o[l]=s[l];i.current=null,this.ngOnChanges(s)}}function Ws(i,s,o,l){const d=j(i)||function(i,s){return i[us]=s}(i,{previous:Me,current:null}),f=d.current||(d.current={}),v=d.previous,w=this.declaredInputs[o],N=v[w];f[w]=new as(N&&N.currentValue,s,v===Me),i[l]=s}Kr.ngInherit=!0;const us="__ngSimpleChanges__";function j(i){return i[us]||null}let q;function V(i){q=i}function Pe(i){return!!i.listen}const kt={createRenderer:(i,s)=>void 0!==q?q:"undefined"!=typeof document?document:void 0};function Yt(i){for(;Array.isArray(i);)i=i[0];return i}function sr(i,s){return Yt(s[i])}function Mn(i,s){return Yt(s[i.index])}function $r(i,s){return i.data[s]}function Rr(i,s){const o=s[i];return Si(o)?o:o[0]}function wi(i){return 4==(4&i[2])}function Vo(i){return 128==(128&i[2])}function Ri(i,s){return null==s?null:i[s]}function Jo(i){i[18]=0}function qs(i,s){i[5]+=s;let o=i,l=i[3];for(;null!==l&&(1===s&&1===o[5]||-1===s&&0===o[5]);)l[5]+=s,o=l,l=l[3]}const Qt={lFrame:Qs(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function Xo(){return Qt.bindingsEnabled}function ht(){return Qt.lFrame.lView}function An(){return Qt.lFrame.tView}function ba(i){return Qt.lFrame.contextLView=i,i[8]}function Er(){let i=ea();for(;null!==i&&64===i.type;)i=i.parent;return i}function ea(){return Qt.lFrame.currentTNode}function Mi(i,s){const o=Qt.lFrame;o.currentTNode=i,o.isParent=s}function Ia(){return Qt.lFrame.isParent}function ta(){return Qt.isInCheckNoChangesMode}function Ys(i){Qt.isInCheckNoChangesMode=i}function qi(){return Qt.lFrame.bindingIndex++}function au(i,s){const o=Qt.lFrame;o.bindingIndex=o.bindingRootIndex=i,Uo(s)}function Uo(i){Qt.lFrame.currentDirectiveIndex=i}function Ya(){return Qt.lFrame.currentQueryIndex}function Vu(i){Qt.lFrame.currentQueryIndex=i}function Da(i){const s=i[1];return 2===s.type?s.declTNode:1===s.type?i[6]:null}function Ta(i,s,o){if(o&ee.SkipSelf){let d=s,f=i;for(;!(d=d.parent,null!==d||o&ee.Host||(d=Da(f),null===d||(f=f[15],10&d.type))););if(null===d)return!1;s=d,i=f}const l=Qt.lFrame=Uu();return l.currentTNode=s,l.lView=i,!0}function Ps(i){const s=Uu(),o=i[1];Qt.lFrame=s,s.currentTNode=o.firstChild,s.lView=i,s.tView=o,s.contextLView=i,s.bindingIndex=o.bindingStartIndex,s.inI18n=!1}function Uu(){const i=Qt.lFrame,s=null===i?null:i.child;return null===s?Qs(i):s}function Qs(i){const s={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:i,child:null,inI18n:!1};return null!==i&&(i.child=s),s}function hl(){const i=Qt.lFrame;return Qt.lFrame=i.parent,i.currentTNode=null,i.lView=null,i}const Sc=hl;function na(){const i=hl();i.isParent=!0,i.tView=null,i.selectedIndex=-1,i.contextLView=null,i.elementDepthCount=0,i.currentDirectiveIndex=-1,i.currentNamespace=null,i.bindingRootIndex=-1,i.bindingIndex=-1,i.currentQueryIndex=0}function ii(){return Qt.lFrame.selectedIndex}function ci(i){Qt.lFrame.selectedIndex=i}function wr(){const i=Qt.lFrame;return $r(i.tView,i.selectedIndex)}function Qa(i,s){for(let o=s.directiveStart,l=s.directiveEnd;o<l;o++){const f=i.data[o].type.prototype,{ngAfterContentInit:v,ngAfterContentChecked:w,ngAfterViewInit:N,ngAfterViewChecked:P,ngOnDestroy:G}=f;v&&(i.contentHooks||(i.contentHooks=[])).push(-o,v),w&&((i.contentHooks||(i.contentHooks=[])).push(o,w),(i.contentCheckHooks||(i.contentCheckHooks=[])).push(o,w)),N&&(i.viewHooks||(i.viewHooks=[])).push(-o,N),P&&((i.viewHooks||(i.viewHooks=[])).push(o,P),(i.viewCheckHooks||(i.viewCheckHooks=[])).push(o,P)),null!=G&&(i.destroyHooks||(i.destroyHooks=[])).push(o,G)}}function vo(i,s,o){Ja(i,s,3,o)}function Eo(i,s,o,l){(3&i[2])===o&&Ja(i,s,o,l)}function cu(i,s){let o=i[2];(3&o)===s&&(o&=2047,o+=1,i[2]=o)}function Ja(i,s,o,l){const f=null!=l?l:-1,v=s.length-1;let w=0;for(let N=void 0!==l?65535&i[18]:0;N<v;N++)if("number"==typeof s[N+1]){if(w=s[N],null!=l&&w>=l)break}else s[N]<0&&(i[18]+=65536),(w<f||-1==f)&&(di(i,o,s,N),i[18]=(4294901760&i[18])+N+2),N++}function di(i,s,o,l){const d=o[l]<0,f=o[l+1],w=i[d?-o[l]:o[l]];if(d){if(i[2]>>11<i[18]>>16&&(3&i[2])===s){i[2]+=2048;try{f.call(w)}finally{}}}else try{f.call(w)}finally{}}class si{constructor(s,o,l){this.factory=s,this.resolving=!1,this.canSeeViewProviders=o,this.injectImpl=l}}function Pi(i,s,o){const l=Pe(i);let d=0;for(;d<o.length;){const f=o[d];if("number"==typeof f){if(0!==f)break;d++;const v=o[d++],w=o[d++],N=o[d++];l?i.setAttribute(s,w,N,v):s.setAttributeNS(v,w,N)}else{const v=f,w=o[++d];oa(v)?l&&i.setProperty(s,v,w):l?i.setAttribute(s,v,w):s.setAttribute(v,w),d++}}return d}function Aa(i){return 3===i||4===i||6===i}function oa(i){return 64===i.charCodeAt(0)}function Co(i,s){if(null!==s&&0!==s.length)if(null===i||0===i.length)i=s.slice();else{let o=-1;for(let l=0;l<s.length;l++){const d=s[l];"number"==typeof d?o=d:0===o||pu(i,o,d,null,-1===o||2===o?s[++l]:null)}}return i}function pu(i,s,o,l,d){let f=0,v=i.length;if(-1===s)v=-1;else for(;f<i.length;){const w=i[f++];if("number"==typeof w){if(w===s){v=-1;break}if(w>s){v=f-1;break}}}for(;f<i.length;){const w=i[f];if("number"==typeof w)break;if(w===o){if(null===l)return void(null!==d&&(i[f+1]=d));if(l===i[f+1])return void(i[f+2]=d)}f++,null!==l&&f++,null!==d&&f++}-1!==v&&(i.splice(v,0,s),f=v+1),i.splice(f++,0,o),null!==l&&i.splice(f++,0,l),null!==d&&i.splice(f++,0,d)}function Js(i){return-1!==i}function bo(i){return 32767&i}function Fs(i,s){let o=function(i){return i>>16}(i),l=s;for(;o>0;)l=l[15],o--;return l}let Io=!0;function aa(i){const s=Io;return Io=i,s}let kr=0;function la(i,s){const o=Cr(i,s);if(-1!==o)return o;const l=s[1];l.firstCreatePass&&(i.injectorIndex=s.length,vt(l.data,i),vt(s,null),vt(l.blueprint,null));const d=$o(i,s),f=i.injectorIndex;if(Js(d)){const v=bo(d),w=Fs(d,s),N=w[1].data;for(let P=0;P<8;P++)s[f+P]=w[v+P]|N[v+P]}return s[f+8]=d,f}function vt(i,s){i.push(0,0,0,0,0,0,0,0,s)}function Cr(i,s){return-1===i.injectorIndex||i.parent&&i.parent.injectorIndex===i.injectorIndex||null===s[i.injectorIndex+8]?-1:i.injectorIndex}function $o(i,s){if(i.parent&&-1!==i.parent.injectorIndex)return i.parent.injectorIndex;let o=0,l=null,d=s;for(;null!==d;){const f=d[1],v=f.type;if(l=2===v?f.declTNode:1===v?d[6]:null,null===l)return-1;if(o++,d=d[15],-1!==l.injectorIndex)return l.injectorIndex|o<<16}return-1}function Na(i,s,o){!function(i,s,o){let l;"string"==typeof o?l=o.charCodeAt(0)||0:o.hasOwnProperty(Rn)&&(l=o[Rn]),null==l&&(l=o[Rn]=kr++);const d=255&l;s.data[i+(d>>5)]|=1<<d}(i,s,o)}function un(i,s,o){if(o&ee.Optional)return i;Le(s,"NodeInjector")}function Ra(i,s,o,l){if(o&ee.Optional&&void 0===l&&(l=null),0==(o&(ee.Self|ee.Host))){const d=i[9],f=Xe(void 0);try{return d?d.get(s,l,o&ee.Optional):bt(s,l,o&ee.Optional)}finally{Xe(f)}}return un(l,s,o)}function R(i,s,o,l=ee.Default,d){if(null!==i){const f=function(i){if("string"==typeof i)return i.charCodeAt(0)||0;const s=i.hasOwnProperty(Rn)?i[Rn]:void 0;return"number"==typeof s?s>=0?255&s:C:s}(o);if("function"==typeof f){if(!Ta(s,i,l))return l&ee.Host?un(d,o,l):Ra(s,o,l,d);try{const v=f(l);if(null!=v||l&ee.Optional)return v;Le(o)}finally{Sc()}}else if("number"==typeof f){let v=null,w=Cr(i,s),N=-1,P=l&ee.Host?s[16][6]:null;for((-1===w||l&ee.SkipSelf)&&(N=-1===w?$o(i,s):s[w+8],-1!==N&&nt(l,!1)?(v=s[1],w=bo(N),s=Fs(N,s)):w=-1);-1!==w;){const G=s[1];if(Ee(f,w,G.data)){const J=x(w,s,o,v,l,P);if(J!==b)return J}N=s[w+8],-1!==N&&nt(l,s[1].data[w+8]===P)&&Ee(f,w,s)?(v=G,w=bo(N),s=Fs(N,s)):w=-1}}}return Ra(s,o,l,d)}const b={};function C(){return new Ot(Er(),ht())}function x(i,s,o,l,d,f){const v=s[1],w=v.data[i+8],G=H(w,v,o,null==l?Lo(w)&&Io:l!=v&&0!=(3&w.type),d&ee.Host&&f===w);return null!==G?Z(s,v,G,w):b}function H(i,s,o,l,d){const f=i.providerIndexes,v=s.data,w=1048575&f,N=i.directiveStart,G=f>>20,te=d?w+G:i.directiveEnd;for(let ge=l?w:w+G;ge<te;ge++){const De=v[ge];if(ge<N&&o===De||ge>=N&&De.type===o)return ge}if(d){const ge=v[N];if(ge&&Nr(ge)&&ge.type===o)return N}return null}function Z(i,s,o,l){let d=i[o];const f=s.data;if(function(i){return i instanceof si}(d)){const v=d;v.resolving&&function(i,s){throw new lt("200",`Circular dependency in DI detected for ${i}`)}(We(f[o]));const w=aa(v.canSeeViewProviders);v.resolving=!0;const N=v.injectImpl?Xe(v.injectImpl):null;Ta(i,l,ee.Default);try{d=i[o]=v.factory(void 0,f,i,l),s.firstCreatePass&&o>=l.directiveStart&&function(i,s,o){const{ngOnChanges:l,ngOnInit:d,ngDoCheck:f}=s.type.prototype;if(l){const v=mo(s);(o.preOrderHooks||(o.preOrderHooks=[])).push(i,v),(o.preOrderCheckHooks||(o.preOrderCheckHooks=[])).push(i,v)}d&&(o.preOrderHooks||(o.preOrderHooks=[])).push(0-i,d),f&&((o.preOrderHooks||(o.preOrderHooks=[])).push(i,f),(o.preOrderCheckHooks||(o.preOrderCheckHooks=[])).push(i,f))}(o,f[o],s)}finally{null!==N&&Xe(N),aa(w),v.resolving=!1,Sc()}}return d}function Ee(i,s,o){return!!(o[s+(i>>5)]&1<<i)}function nt(i,s){return!(i&ee.Self||i&ee.Host&&s)}class Ot{constructor(s,o){this._tNode=s,this._lView=o}get(s,o){return R(this._tNode,this._lView,s,void 0,o)}}function Ut(i){return Et(()=>{const s=i.prototype.constructor,o=s[$t]||vn(s),l=Object.prototype;let d=Object.getPrototypeOf(i.prototype).constructor;for(;d&&d!==l;){const f=d[$t]||vn(d);if(f&&f!==o)return f;d=Object.getPrototypeOf(d)}return f=>new f})}function vn(i){return it(i)?()=>{const s=vn(ke(i));return s&&s()}:$i(i)}function or(i){return function(i,s){if("class"===s)return i.classes;if("style"===s)return i.styles;const o=i.attrs;if(o){const l=o.length;let d=0;for(;d<l;){const f=o[d];if(Aa(f))break;if(0===f)d+=2;else if("number"==typeof f)for(d++;d<l&&"string"==typeof o[d];)d++;else{if(f===s)return o[d+1];d+=2}}}return null}(Er(),i)}const Zr="__parameters__";function Ki(i,s,o){return Et(()=>{const l=function(i){return function(...o){if(i){const l=i(...o);for(const d in l)this[d]=l[d]}}}(s);function d(...f){if(this instanceof d)return l.apply(this,f),this;const v=new d(...f);return w.annotation=v,w;function w(N,P,G){const J=N.hasOwnProperty(Zr)?N[Zr]:Object.defineProperty(N,Zr,{value:[]})[Zr];for(;J.length<=G;)J.push(null);return(J[G]=J[G]||[]).push(v),N}}return o&&(d.prototype=Object.create(o.prototype)),d.prototype.ngMetadataName=i,d.annotationCls=d,d})}class Gn{constructor(s,o){this._desc=s,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof o?this.__NG_ELEMENT_ID__=o:void 0!==o&&(this.\u0275prov=wn({token:this,providedIn:o.providedIn||"root",factory:o.factory}))}toString(){return`InjectionToken ${this._desc}`}}const Oa=new Gn("AnalyzeForEntryComponents"),Xs=Function;function Vs(i,s){void 0===s&&(s=i);for(let o=0;o<i.length;o++){let l=i[o];Array.isArray(l)?(s===i&&(s=i.slice(0,o)),Vs(l,s)):s!==i&&s.push(l)}return s}function bs(i,s){i.forEach(o=>Array.isArray(o)?bs(o,s):s(o))}function yu(i,s,o){s>=i.length?i.push(o):i.splice(s,0,o)}function eo(i,s){return s>=i.length-1?i.pop():i.splice(s,1)[0]}function Zi(i,s,o){let l=M(i,s);return l>=0?i[1|l]=o:(l=~l,function(i,s,o,l){let d=i.length;if(d==s)i.push(o,l);else if(1===d)i.push(l,i[0]),i[0]=o;else{for(d--,i.push(i[d-1],i[d]);d>s;)i[d]=i[d-2],d--;i[s]=o,i[s+1]=l}}(i,l,s,o)),l}function Ir(i,s){const o=M(i,s);if(o>=0)return i[1|o]}function M(i,s){return function(i,s,o){let l=0,d=i.length>>o;for(;d!==l;){const f=l+(d-l>>1),v=i[f<<o];if(s===v)return f<<o;v>s?d=f:l=f+1}return~(d<<o)}(i,s,1)}const cn={},kn="__NG_DI_FLAG__",Kt="ngTempTokenPath",On=/\n/gm,hr="__source",Xr=ae({provide:String,useValue:ae});let To;function Fr(i){const s=To;return To=i,s}function bi(i,s=ee.Default){if(void 0===To)throw new Error("inject() must be called from an injection context");return null===To?bt(i,void 0,s):To.get(i,s&ee.Optional?null:void 0,s)}function Yn(i,s=ee.Default){return(ye||bi)(ke(i),s)}function to(i){const s=[];for(let o=0;o<i.length;o++){const l=ke(i[o]);if(Array.isArray(l)){if(0===l.length)throw new Error("Arguments array must have arguments.");let d,f=ee.Default;for(let v=0;v<l.length;v++){const w=l[v],N=da(w);"number"==typeof N?-1===N?d=w.token:f|=N:d=w}s.push(Yn(d,f))}else s.push(Yn(l))}return s}function Ao(i,s){return i[kn]=s,i.prototype[kn]=s,i}function da(i){return i[kn]}function ha(i,s,o,l){const d=i[Kt];throw s[hr]&&d.unshift(s[hr]),i.message=function(i,s,o,l=null){i=i&&"\n"===i.charAt(0)&&"\u0275"==i.charAt(1)?i.substr(2):i;let d=de(s);if(Array.isArray(s))d=s.map(de).join(" -> ");else if("object"==typeof s){let f=[];for(let v in s)if(s.hasOwnProperty(v)){let w=s[v];f.push(v+":"+("string"==typeof w?JSON.stringify(w):de(w)))}d=`{${f.join(", ")}}`}return`${o}${l?"("+l+")":""}[${d}]: ${i.replace(On,"\n  ")}`}("\n"+i.message,d,o,l),i.ngTokenPath=d,i[Kt]=null,i}const zt=Ao(Ki("Inject",i=>({token:i})),-1),nn=Ao(Ki("Optional"),8),fr=Ao(Ki("SkipSelf"),4);let Fa;function Yu(i){var s;return(null===(s=function(){if(void 0===Fa&&(Fa=null,se.trustedTypes))try{Fa=se.trustedTypes.createPolicy("angular",{createHTML:i=>i,createScript:i=>i,createScriptURL:i=>i})}catch(i){}return Fa}())||void 0===s?void 0:s.createHTML(i))||i}class La{constructor(s){this.changingThisBreaksApplicationSecurity=s}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class ro extends La{getTypeName(){return"HTML"}}class fh extends La{getTypeName(){return"Style"}}class ph extends La{getTypeName(){return"Script"}}class Oc extends La{getTypeName(){return"URL"}}class Kl extends La{getTypeName(){return"ResourceURL"}}function Mo(i){return i instanceof La?i.changingThisBreaksApplicationSecurity:i}function _l(i,s){const o=pi(i);if(null!=o&&o!==s){if("ResourceURL"===o&&"URL"===s)return!0;throw new Error(`Required a safe ${s}, got a ${o} (see https://g.co/ng/security#xss)`)}return o===s}function pi(i){return i instanceof La&&i.getTypeName()||null}function qn(i){return new ro(i)}function gh(i){return new fh(i)}function mh(i){return new ph(i)}function gi(i){return new Oc(i)}function xc(i){return new Kl(i)}class oi{constructor(s){this.inertDocumentHelper=s}getInertBodyElement(s){s="<body><remove></remove>"+s;try{const o=(new window.DOMParser).parseFromString(Yu(s),"text/html").body;return null===o?this.inertDocumentHelper.getInertBodyElement(s):(o.removeChild(o.firstChild),o)}catch(o){return null}}}class yh{constructor(s){if(this.defaultDoc=s,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const o=this.inertDocument.createElement("html");this.inertDocument.appendChild(o);const l=this.inertDocument.createElement("body");o.appendChild(l)}}getInertBodyElement(s){const o=this.inertDocument.createElement("template");if("content"in o)return o.innerHTML=Yu(s),o;const l=this.inertDocument.createElement("body");return l.innerHTML=Yu(s),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(l),l}stripCustomNsAttrs(s){const o=s.attributes;for(let d=o.length-1;0<d;d--){const v=o.item(d).name;("xmlns:ns1"===v||0===v.indexOf("ns1:"))&&s.removeAttribute(v)}let l=s.firstChild;for(;l;)l.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(l),l=l.nextSibling}}const Oo=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,yd=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Zl(i){return(i=String(i)).match(Oo)||i.match(yd)?i:"unsafe:"+i}function Go(i){const s={};for(const o of i.split(","))s[o]=!0;return s}function nr(...i){const s={};for(const o of i)for(const l in o)o.hasOwnProperty(l)&&(s[l]=!0);return s}const vh=Go("area,br,col,hr,img,wbr"),_u=Go("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),vl=Go("rp,rt"),kc=nr(vh,nr(_u,Go("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),nr(vl,Go("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),nr(vl,_u)),Fc=Go("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),vd=Go("srcset"),wh=nr(Fc,vd,Go("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Go("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Ch=Go("script,style,template");class Yf{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(s){let o=s.firstChild,l=!0;for(;o;)if(o.nodeType===Node.ELEMENT_NODE?l=this.startElement(o):o.nodeType===Node.TEXT_NODE?this.chars(o.nodeValue):this.sanitizedSomething=!0,l&&o.firstChild)o=o.firstChild;else for(;o;){o.nodeType===Node.ELEMENT_NODE&&this.endElement(o);let d=this.checkClobberedElement(o,o.nextSibling);if(d){o=d;break}o=this.checkClobberedElement(o,o.parentNode)}return this.buf.join("")}startElement(s){const o=s.nodeName.toLowerCase();if(!kc.hasOwnProperty(o))return this.sanitizedSomething=!0,!Ch.hasOwnProperty(o);this.buf.push("<"),this.buf.push(o);const l=s.attributes;for(let d=0;d<l.length;d++){const f=l.item(d),v=f.name,w=v.toLowerCase();if(!wh.hasOwnProperty(w)){this.sanitizedSomething=!0;continue}let N=f.value;Fc[w]&&(N=Zl(N)),vd[w]&&(i=N,N=(i=String(i)).split(",").map(s=>Zl(s.trim())).join(", ")),this.buf.push(" ",v,'="',Ih(N),'"')}var i;return this.buf.push(">"),!0}endElement(s){const o=s.nodeName.toLowerCase();kc.hasOwnProperty(o)&&!vh.hasOwnProperty(o)&&(this.buf.push("</"),this.buf.push(o),this.buf.push(">"))}chars(s){this.buf.push(Ih(s))}checkClobberedElement(s,o){if(o&&(s.compareDocumentPosition(o)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${s.outerHTML}`);return o}}const Ql=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,bh=/([^\#-~ |!])/g;function Ih(i){return i.replace(/&/g,"&amp;").replace(Ql,function(s){return"&#"+(1024*(s.charCodeAt(0)-55296)+(s.charCodeAt(1)-56320)+65536)+";"}).replace(bh,function(s){return"&#"+s.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let ai;function El(i,s){let o=null;try{ai=ai||function(i){const s=new yh(i);return function(){try{return!!(new window.DOMParser).parseFromString(Yu(""),"text/html")}catch(i){return!1}}()?new oi(s):s}(i);let l=s?String(s):"";o=ai.getInertBodyElement(l);let d=5,f=l;do{if(0===d)throw new Error("Failed to sanitize html because the input is unstable");d--,l=f,f=o.innerHTML,o=ai.getInertBodyElement(l)}while(l!==f);return Yu((new Yf).sanitizeChildren(wl(o)||o))}finally{if(o){const l=wl(o)||o;for(;l.firstChild;)l.removeChild(l.firstChild)}}}function wl(i){return"content"in i&&function(i){return i.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===i.nodeName}(i)?i.content:null}var pr=(()=>((pr=pr||{})[pr.NONE=0]="NONE",pr[pr.HTML=1]="HTML",pr[pr.STYLE=2]="STYLE",pr[pr.SCRIPT=3]="SCRIPT",pr[pr.URL=4]="URL",pr[pr.RESOURCE_URL=5]="RESOURCE_URL",pr))();function pa(i){const s=function(){const i=ht();return i&&i[12]}();return s?s.sanitize(pr.URL,i)||"":_l(i,"URL")?Mo(i):Zl(we(i))}const jc="__ngContext__";function _r(i,s){i[jc]=s}function ec(i){const s=function(i){return i[jc]||null}(i);return s?Array.isArray(s)?s:s.lView:null}function X(i){return i.ngOriginalError}function qe(i,...s){i.error(...s)}class yt{constructor(){this._console=console}handleError(s){const o=this._findOriginalError(s),l=this._findContext(s),d=(i=s)&&i.ngErrorLogger||qe;var i;d(this._console,"ERROR",s),o&&d(this._console,"ORIGINAL ERROR",o),l&&d(this._console,"ERROR CONTEXT",l)}_findContext(s){return s?s.ngDebugContext||this._findContext(X(s)):null}_findOriginalError(s){let o=s&&X(s);for(;o&&X(o);)o=X(o);return o||null}}const xo=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(se))();function Ss(i){return i instanceof Function?i():i}var Ua=(()=>((Ua=Ua||{})[Ua.Important=1]="Important",Ua[Ua.DashCase=2]="DashCase",Ua))();function wu(i,s){return undefined(i,s)}function Gc(i){const s=i[3];return mr(s)?s[3]:s}function Dl(i){return rc(i[13])}function Tl(i){return rc(i[4])}function rc(i){for(;null!==i&&!mr(i);)i=i[4];return i}function ic(i,s,o,l,d){if(null!=l){let f,v=!1;mr(l)?f=l:Si(l)&&(v=!0,l=l[0]);const w=Yt(l);0===i&&null!==o?null==d?oc(s,o,w):sc(s,o,w,d||null,!0):1===i&&null!==o?sc(s,o,w,d||null,!0):2===i?function(i,s,o){const l=Cu(i,s);l&&function(i,s,o,l){Pe(i)?i.removeChild(s,o,l):s.removeChild(o)}(i,l,s,o)}(s,w,v):3===i&&s.destroyNode(w),null!=f&&function(i,s,o,l,d){const f=o[7];f!==Yt(o)&&ic(s,i,l,f,d);for(let w=10;w<o.length;w++){const N=o[w];Ba(N[1],N,i,s,l,f)}}(s,i,f,o,d)}}function Oh(i,s,o){return Pe(i)?i.createElement(s,o):null===o?i.createElement(s):i.createElementNS(o,s)}function rp(i,s){const o=i[9],l=o.indexOf(s),d=s[3];1024&s[2]&&(s[2]&=-1025,qs(d,-1)),o.splice(l,1)}function zc(i,s){if(i.length<=10)return;const o=10+s,l=i[o];if(l){const d=l[17];null!==d&&d!==i&&rp(d,l),s>0&&(i[o-1][4]=l[4]);const f=eo(i,10+s);!function(i,s){Ba(i,s,s[11],2,null,null),s[0]=null,s[6]=null}(l[1],l);const v=f[19];null!==v&&v.detachView(f[1]),l[3]=null,l[4]=null,l[2]&=-129}return l}function xh(i,s){if(!(256&s[2])){const o=s[11];Pe(o)&&o.destroyNode&&Ba(i,s,o,3,null,null),function(i){let s=i[13];if(!s)return Ph(i[1],i);for(;s;){let o=null;if(Si(s))o=s[13];else{const l=s[10];l&&(o=l)}if(!o){for(;s&&!s[4]&&s!==i;)Si(s)&&Ph(s[1],s),s=s[3];null===s&&(s=i),Si(s)&&Ph(s[1],s),o=s&&s[4]}s=o}}(s)}}function Ph(i,s){if(!(256&s[2])){s[2]&=-129,s[2]|=256,function(i,s){let o;if(null!=i&&null!=(o=i.destroyHooks))for(let l=0;l<o.length;l+=2){const d=s[o[l]];if(!(d instanceof si)){const f=o[l+1];if(Array.isArray(f))for(let v=0;v<f.length;v+=2){const w=d[f[v]],N=f[v+1];try{N.call(w)}finally{}}else try{f.call(d)}finally{}}}}(i,s),function(i,s){const o=i.cleanup,l=s[7];let d=-1;if(null!==o)for(let f=0;f<o.length-1;f+=2)if("string"==typeof o[f]){const v=o[f+1],w="function"==typeof v?v(s):Yt(s[v]),N=l[d=o[f+2]],P=o[f+3];"boolean"==typeof P?w.removeEventListener(o[f],N,P):P>=0?l[d=P]():l[d=-P].unsubscribe(),f+=2}else{const v=l[d=o[f+1]];o[f].call(v)}if(null!==l){for(let f=d+1;f<l.length;f++)l[f]();s[7]=null}}(i,s),1===s[1].type&&Pe(s[11])&&s[11].destroy();const o=s[17];if(null!==o&&mr(s[3])){o!==s[3]&&rp(o,s);const l=s[19];null!==l&&l.detachView(i)}}}function ip(i,s,o){return function(i,s,o){let l=s;for(;null!==l&&40&l.type;)l=(s=l).parent;if(null===l)return o[0];if(2&l.flags){const d=i.data[l.directiveStart].encapsulation;if(d===jn.None||d===jn.Emulated)return null}return Mn(l,o)}(i,s.parent,o)}function sc(i,s,o,l,d){Pe(i)?i.insertBefore(s,o,l,d):s.insertBefore(o,l,d)}function oc(i,s,o){Pe(i)?i.appendChild(s,o):s.appendChild(o)}function sp(i,s,o,l,d){null!==l?sc(i,s,o,l,d):oc(i,s,o)}function Cu(i,s){return Pe(i)?i.parentNode(s):s.parentNode}let gm=function(i,s,o){return 40&i.type?Mn(i,o):null};function ac(i,s,o,l){const d=ip(i,l,s),f=s[11],w=function(i,s,o){return gm(i,s,o)}(l.parent||s[6],l,s);if(null!=d)if(Array.isArray(o))for(let N=0;N<o.length;N++)sp(f,d,o[N],w,!1);else sp(f,d,o,w,!1)}function el(i,s){if(null!==s){const o=s.type;if(3&o)return Mn(s,i);if(4&o)return cp(-1,i[s.index]);if(8&o){const l=s.child;if(null!==l)return el(i,l);{const d=i[s.index];return mr(d)?cp(-1,d):Yt(d)}}if(32&o)return wu(s,i)()||Yt(i[s.index]);{const l=lp(i,s);return null!==l?Array.isArray(l)?l[0]:el(Gc(i[16]),l):el(i,s.next)}}return null}function lp(i,s){return null!==s?i[16][6].projection[s.projection]:null}function cp(i,s){const o=10+i+1;if(o<s.length){const l=s[o],d=l[1].firstChild;if(null!==d)return el(l,d)}return s[7]}function kh(i,s,o,l,d,f,v){for(;null!=o;){const w=l[o.index],N=o.type;if(v&&0===s&&(w&&_r(Yt(w),l),o.flags|=4),64!=(64&o.flags))if(8&N)kh(i,s,o.child,l,d,f,!1),ic(s,i,d,w,f);else if(32&N){const P=wu(o,l);let G;for(;G=P();)ic(s,i,d,G,f);ic(s,i,d,w,f)}else 16&N?_m(i,s,l,o,d,f):ic(s,i,d,w,f);o=v?o.projectionNext:o.next}}function Ba(i,s,o,l,d,f){kh(o,l,i.firstChild,s,d,f,!1)}function _m(i,s,o,l,d,f){const v=o[16],N=v[6].projection[l.projection];if(Array.isArray(N))for(let P=0;P<N.length;P++)ic(s,i,d,N[P],f);else kh(i,s,N,v[3],d,f,!0)}function Lh(i,s,o){Pe(i)?i.setAttribute(s,"style",o):s.style.cssText=o}function uc(i,s,o){Pe(i)?""===o?i.removeAttribute(s,"class"):i.setAttribute(s,"class",o):s.className=o}function Ad(i,s,o){let l=i.length;for(;;){const d=i.indexOf(s,o);if(-1===d)return d;if(0===d||i.charCodeAt(d-1)<=32){const f=s.length;if(d+f===l||i.charCodeAt(d+f)<=32)return d}o=d+1}}const wm="ng-template";function Cm(i,s,o){let l=0;for(;l<i.length;){let d=i[l++];if(o&&"class"===d){if(d=i[l],-1!==Ad(d.toLowerCase(),s,0))return!0}else if(1===d){for(;l<i.length&&"string"==typeof(d=i[l++]);)if(d.toLowerCase()===s)return!0;return!1}}return!1}function Vh(i){return 4===i.type&&i.value!==wm}function bm(i,s,o){return s===(4!==i.type||o?i.value:wm)}function I_(i,s,o){let l=4;const d=i.attrs||[],f=function(i){for(let s=0;s<i.length;s++)if(Aa(i[s]))return s;return i.length}(d);let v=!1;for(let w=0;w<s.length;w++){const N=s[w];if("number"!=typeof N){if(!v)if(4&l){if(l=2|1&l,""!==N&&!bm(i,N,o)||""===N&&1===s.length){if(ja(l))return!1;v=!0}}else{const P=8&l?N:s[++w];if(8&l&&null!==i.attrs){if(!Cm(i.attrs,P,o)){if(ja(l))return!1;v=!0}continue}const J=Im(8&l?"class":N,d,Vh(i),o);if(-1===J){if(ja(l))return!1;v=!0;continue}if(""!==P){let te;te=J>f?"":d[J+1].toLowerCase();const ge=8&l?te:null;if(ge&&-1!==Ad(ge,P,0)||2&l&&P!==te){if(ja(l))return!1;v=!0}}}}else{if(!v&&!ja(l)&&!ja(N))return!1;if(v&&ja(N))continue;v=!1,l=N|1&l}}return ja(l)||v}function ja(i){return 0==(1&i)}function Im(i,s,o,l){if(null===s)return-1;let d=0;if(l||!o){let f=!1;for(;d<s.length;){const v=s[d];if(v===i)return d;if(3===v||6===v)f=!0;else{if(1===v||2===v){let w=s[++d];for(;"string"==typeof w;)w=s[++d];continue}if(4===v)break;if(0===v){d+=4;continue}}d+=f?1:2}return-1}return function(i,s){let o=i.indexOf(4);if(o>-1)for(o++;o<i.length;){const l=i[o];if("number"==typeof l)return-1;if(l===s)return o;o++}return-1}(s,i)}function Uh(i,s,o=!1){for(let l=0;l<s.length;l++)if(I_(i,s[l],o))return!0;return!1}function Sm(i,s){return i?":not("+s.trim()+")":s}function qc(i){let s=i[0],o=1,l=2,d="",f=!1;for(;o<i.length;){let v=i[o];if("string"==typeof v)if(2&l){const w=i[++o];d+="["+v+(w.length>0?'="'+w+'"':"")+"]"}else 8&l?d+="."+v:4&l&&(d+=" "+v);else""!==d&&!ja(v)&&(s+=Sm(f,d),d=""),l=v,f=f||!ja(l);o++}return""!==d&&(s+=Sm(f,d)),s}const In={};function fp(i){pp(An(),ht(),ii()+i,ta())}function pp(i,s,o,l){if(!l)if(3==(3&s[2])){const f=i.preOrderCheckHooks;null!==f&&vo(s,f,o)}else{const f=i.preOrderHooks;null!==f&&Eo(s,f,0,o)}ci(o)}function Bh(i,s){return i<<17|s<<2}function ya(i){return i>>17&32767}function mp(i){return 2|i}function tu(i){return(131068&i)>>2}function yp(i,s){return-131069&i|s<<2}function Ji(i){return 1|i}function nl(i,s){const o=i.contentQueries;if(null!==o)for(let l=0;l<o.length;l+=2){const d=o[l],f=o[l+1];if(-1!==f){const v=i.data[f];Vu(d),v.contentQueries(2,s[f],f)}}}function cc(i,s,o,l,d,f,v,w,N,P){const G=s.blueprint.slice();return G[0]=d,G[2]=140|l,Jo(G),G[3]=G[15]=i,G[8]=o,G[10]=v||i&&i[10],G[11]=w||i&&i[11],G[12]=N||i&&i[12]||null,G[9]=P||i&&i[9]||null,G[6]=f,G[16]=2==s.type?i[16]:G,G}function Yc(i,s,o,l,d){let f=i.data[s];if(null===f)f=function(i,s,o,l,d){const f=ea(),v=Ia(),N=i.data[s]=function(i,s,o,l,d,f){return{type:o,index:l,insertBeforeIndex:null,injectorIndex:s?s.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:d,attrs:f,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:s,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,v?f:f&&f.parent,o,s,l,d);return null===i.firstChild&&(i.firstChild=N),null!==f&&(v?null==f.child&&null!==N.parent&&(f.child=N):null===f.next&&(f.next=N)),N}(i,s,o,l,d),Qt.lFrame.inI18n&&(f.flags|=64);else if(64&f.type){f.type=o,f.value=l,f.attrs=d;const v=function(){const i=Qt.lFrame,s=i.currentTNode;return i.isParent?s:s.parent}();f.injectorIndex=null===v?-1:v.injectorIndex}return Mi(f,!0),f}function Qc(i,s,o,l){if(0===o)return-1;const d=s.length;for(let f=0;f<o;f++)s.push(l),i.blueprint.push(l),i.data.push(null);return d}function dc(i,s,o){Ps(s);try{const l=i.viewQuery;null!==l&&Ud(1,l,o);const d=i.template;null!==d&&Sp(i,s,d,1,o),i.firstCreatePass&&(i.firstCreatePass=!1),i.staticContentQueries&&nl(i,s),i.staticViewQueries&&Ud(2,i.viewQuery,o);const f=i.components;null!==f&&function(i,s){for(let o=0;o<s.length;o++)kp(i,s[o])}(s,f)}catch(l){throw i.firstCreatePass&&(i.incompleteFirstPass=!0,i.firstCreatePass=!1),l}finally{s[2]&=-5,na()}}function rl(i,s,o,l){const d=s[2];if(256==(256&d))return;Ps(s);const f=ta();try{Jo(s),function(i){Qt.lFrame.bindingIndex=i}(i.bindingStartIndex),null!==o&&Sp(i,s,o,2,l);const v=3==(3&d);if(!f)if(v){const P=i.preOrderCheckHooks;null!==P&&vo(s,P,null)}else{const P=i.preOrderHooks;null!==P&&Eo(s,P,0,null),cu(s,0)}if(function(i){for(let s=Dl(i);null!==s;s=Tl(s)){if(!s[2])continue;const o=s[9];for(let l=0;l<o.length;l++){const d=o[l],f=d[3];0==(1024&d[2])&&qs(f,1),d[2]|=1024}}}(s),function(i){for(let s=Dl(i);null!==s;s=Tl(s))for(let o=10;o<s.length;o++){const l=s[o],d=l[1];Vo(l)&&rl(d,l,d.template,l[8])}}(s),null!==i.contentQueries&&nl(i,s),!f)if(v){const P=i.contentCheckHooks;null!==P&&vo(s,P)}else{const P=i.contentHooks;null!==P&&Eo(s,P,1),cu(s,1)}!function(i,s){const o=i.hostBindingOpCodes;if(null!==o)try{for(let l=0;l<o.length;l++){const d=o[l];if(d<0)ci(~d);else{const f=d,v=o[++l],w=o[++l];au(v,f),w(2,s[f])}}}finally{ci(-1)}}(i,s);const w=i.components;null!==w&&function(i,s){for(let o=0;o<s.length;o++)j_(i,s[o])}(s,w);const N=i.viewQuery;if(null!==N&&Ud(2,N,l),!f)if(v){const P=i.viewCheckHooks;null!==P&&vo(s,P)}else{const P=i.viewHooks;null!==P&&Eo(s,P,2),cu(s,2)}!0===i.firstUpdatePass&&(i.firstUpdatePass=!1),f||(s[2]&=-73),1024&s[2]&&(s[2]&=-1025,qs(s[3],-1))}finally{na()}}function Tp(i,s,o,l){const d=s[10],f=!ta(),v=wi(s);try{f&&!v&&d.begin&&d.begin(),v&&dc(i,s,l),rl(i,s,o,l)}finally{f&&!v&&d.end&&d.end()}}function Sp(i,s,o,l,d){const f=ii(),v=2&l;try{ci(-1),v&&s.length>20&&pp(i,s,20,ta()),o(l,d)}finally{ci(f)}}function xd(i,s,o){!Xo()||(function(i,s,o,l){const d=o.directiveStart,f=o.directiveEnd;i.firstCreatePass||la(o,s),_r(l,s);const v=o.initialInputs;for(let w=d;w<f;w++){const N=i.data[w],P=Nr(N);P&&Gm(s,o,N);const G=Z(s,i,w,o);_r(G,s),null!==v&&zm(0,w-d,G,N,0,v),P&&(Rr(o.index,s)[8]=G)}}(i,s,o,Mn(o,s)),128==(128&o.flags)&&function(i,s,o){const l=o.directiveStart,d=o.directiveEnd,v=o.index,w=Qt.lFrame.currentDirectiveIndex;try{ci(v);for(let N=l;N<d;N++){const P=i.data[N],G=s[N];Uo(N),(null!==P.hostBindings||0!==P.hostVars||null!==P.hostAttrs)&&Jh(P,G)}}finally{ci(-1),Uo(w)}}(i,s,o))}function Ap(i,s,o=Mn){const l=s.localNames;if(null!==l){let d=s.index+1;for(let f=0;f<l.length;f+=2){const v=l[f+1],w=-1===v?o(s,i):i[v];i[d++]=w}}}function Pm(i){const s=i.tView;return null===s||s.incompleteFirstPass?i.tView=Pd(1,null,i.template,i.decls,i.vars,i.directiveDefs,i.pipeDefs,i.viewQuery,i.schemas,i.consts):s}function Pd(i,s,o,l,d,f,v,w,N,P){const G=20+l,J=G+d,te=function(i,s){const o=[];for(let l=0;l<s;l++)o.push(l<i?null:In);return o}(G,J),ge="function"==typeof P?P():P;return te[1]={type:i,blueprint:te,template:o,queries:null,viewQuery:w,declTNode:s,data:te.slice().fill(null,G),bindingStartIndex:G,expandoStartIndex:J,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof f?f():f,pipeRegistry:"function"==typeof v?v():v,firstChild:null,schemas:N,consts:ge,incompleteFirstPass:!1}}function Yh(i,s,o,l){const d=Zm(s);null===o?d.push(l):(d.push(o),i.firstCreatePass&&sf(i).push(l,d.length-1))}function Qh(i,s,o){for(let l in i)if(i.hasOwnProperty(l)){const d=i[l];(o=null===o?{}:o).hasOwnProperty(l)?o[l].push(s,d):o[l]=[s,d]}return o}function Po(i,s,o,l,d,f,v,w){const N=Mn(s,o);let G,P=s.inputs;!w&&null!=P&&(G=P[l])?(af(i,o,G,l,d),Lo(s)&&function(i,s){const o=Rr(s,i);16&o[2]||(o[2]|=64)}(o,s.index)):3&s.type&&(l=function(i){return"class"===i?"className":"for"===i?"htmlFor":"formaction"===i?"formAction":"innerHtml"===i?"innerHTML":"readonly"===i?"readOnly":"tabindex"===i?"tabIndex":i}(l),d=null!=v?v(d,s.value||"",l):d,Pe(f)?f.setProperty(N,l,d):oa(l)||(N.setProperty?N.setProperty(l,d):N[l]=d))}function Ol(i,s,o,l){let d=!1;if(Xo()){const f=function(i,s,o){const l=i.directiveRegistry;let d=null;if(l)for(let f=0;f<l.length;f++){const v=l[f];Uh(o,v.selectors,!1)&&(d||(d=[]),Na(la(o,s),i,v.type),Nr(v)?(Hm(i,o),d.unshift(v)):d.push(v))}return d}(i,s,o),v=null===l?null:{"":-1};if(null!==f){d=!0,Xh(o,i.data.length,f.length);for(let G=0;G<f.length;G++){const J=f[G];J.providersResolver&&J.providersResolver(J)}let w=!1,N=!1,P=Qc(i,s,f.length,null);for(let G=0;G<f.length;G++){const J=f[G];o.mergedAttrs=Co(o.mergedAttrs,J.hostAttrs),$m(i,o,s,P,J),Pp(P,J,v),null!==J.contentQueries&&(o.flags|=8),(null!==J.hostBindings||null!==J.hostAttrs||0!==J.hostVars)&&(o.flags|=128);const te=J.type.prototype;!w&&(te.ngOnChanges||te.ngOnInit||te.ngDoCheck)&&((i.preOrderHooks||(i.preOrderHooks=[])).push(o.index),w=!0),!N&&(te.ngOnChanges||te.ngDoCheck)&&((i.preOrderCheckHooks||(i.preOrderCheckHooks=[])).push(o.index),N=!0),P++}!function(i,s){const l=s.directiveEnd,d=i.data,f=s.attrs,v=[];let w=null,N=null;for(let P=s.directiveStart;P<l;P++){const G=d[P],J=G.inputs,te=null===f||Vh(s)?null:Wm(J,f);v.push(te),w=Qh(J,P,w),N=Qh(G.outputs,P,N)}null!==w&&(w.hasOwnProperty("class")&&(s.flags|=16),w.hasOwnProperty("style")&&(s.flags|=32)),s.initialInputs=v,s.inputs=w,s.outputs=N}(i,o)}v&&function(i,s,o){if(s){const l=i.localNames=[];for(let d=0;d<s.length;d+=2){const f=o[s[d+1]];if(null==f)throw new lt("301",`Export of name '${s[d+1]}' not found!`);l.push(s[d],f)}}}(o,l,v)}return o.mergedAttrs=Co(o.mergedAttrs,o.attrs),d}function jm(i,s,o,l,d,f){const v=f.hostBindings;if(v){let w=i.hostBindingOpCodes;null===w&&(w=i.hostBindingOpCodes=[]);const N=~s.index;(function(i){let s=i.length;for(;s>0;){const o=i[--s];if("number"==typeof o&&o<0)return o}return 0})(w)!=N&&w.push(N),w.push(l,d,v)}}function Jh(i,s){null!==i.hostBindings&&i.hostBindings(1,s)}function Hm(i,s){s.flags|=2,(i.components||(i.components=[])).push(s.index)}function Pp(i,s,o){if(o){if(s.exportAs)for(let l=0;l<s.exportAs.length;l++)o[s.exportAs[l]]=i;Nr(s)&&(o[""]=i)}}function Xh(i,s,o){i.flags|=1,i.directiveStart=s,i.directiveEnd=s+o,i.providerIndexes=s}function $m(i,s,o,l,d){i.data[l]=d;const f=d.factory||(d.factory=$i(d.type)),v=new si(f,Nr(d),null);i.blueprint[l]=v,o[l]=v,jm(i,s,0,l,Qc(i,o,d.hostVars,In),d)}function Gm(i,s,o){const l=Mn(s,i),d=Pm(o),f=i[10],v=tf(i,cc(i,d,null,o.onPush?64:16,l,s,f,f.createRenderer(l,o),null,null));i[s.index]=v}function bu(i,s,o,l,d,f){const v=Mn(i,s);!function(i,s,o,l,d,f,v){if(null==f)Pe(i)?i.removeAttribute(s,d,o):s.removeAttribute(d);else{const w=null==v?we(f):v(f,l||"",d);Pe(i)?i.setAttribute(s,d,w,o):o?s.setAttributeNS(o,d,w):s.setAttribute(d,w)}}(s[11],v,f,i.value,o,l,d)}function zm(i,s,o,l,d,f){const v=f[s];if(null!==v){const w=l.setInput;for(let N=0;N<v.length;){const P=v[N++],G=v[N++],J=v[N++];null!==w?l.setInput(o,J,P,G):o[G]=J}}}function Wm(i,s){let o=null,l=0;for(;l<s.length;){const d=s[l];if(0!==d)if(5!==d){if("number"==typeof d)break;i.hasOwnProperty(d)&&(null===o&&(o=[]),o.push(d,i[d],s[l+1])),l+=2}else l+=2;else l+=4}return o}function qm(i,s,o,l){return new Array(i,!0,!1,s,null,0,l,o,null,null)}function j_(i,s){const o=Rr(s,i);if(Vo(o)){const l=o[1];80&o[2]?rl(l,o,l.template,o[8]):o[5]>0&&Fd(o)}}function Fd(i){for(let l=Dl(i);null!==l;l=Tl(l))for(let d=10;d<l.length;d++){const f=l[d];if(1024&f[2]){const v=f[1];rl(v,f,v.template,f[8])}else f[5]>0&&Fd(f)}const o=i[1].components;if(null!==o)for(let l=0;l<o.length;l++){const d=Rr(o[l],i);Vo(d)&&d[5]>0&&Fd(d)}}function kp(i,s){const o=Rr(s,i),l=o[1];(function(i,s){for(let o=s.length;o<i.blueprint.length;o++)s.push(i.blueprint[o])})(l,o),dc(l,o,o[8])}function tf(i,s){return i[13]?i[14][4]=s:i[13]=s,i[14]=s,s}function Ld(i){for(;i;){i[2]|=64;const s=Gc(i);if(ji(i)&&!s)return i;i=s}return null}function nf(i,s,o){const l=s[10];l.begin&&l.begin();try{rl(i,s,i.template,o)}catch(d){throw of(s,d),d}finally{l.end&&l.end()}}function rf(i){!function(i){for(let s=0;s<i.components.length;s++){const o=i.components[s],l=ec(o),d=l[1];Tp(d,l,d.template,o)}}(i[8])}function Ud(i,s,o){Vu(0),s(i,o)}const Lp=(()=>Promise.resolve(null))();function Zm(i){return i[7]||(i[7]=[])}function sf(i){return i.cleanup||(i.cleanup=[])}function of(i,s){const o=i[9],l=o?o.get(yt,null):null;l&&l.handleError(s)}function af(i,s,o,l,d){for(let f=0;f<o.length;){const v=o[f++],w=o[f++],N=s[v],P=i.data[v];null!==P.setInput?P.setInput(N,d,l,w):N[w]=d}}function ru(i,s,o){const l=sr(s,i);!function(i,s,o){Pe(i)?i.setValue(s,o):s.textContent=o}(i[11],l,o)}function il(i,s,o){let l=o?i.styles:null,d=o?i.classes:null,f=0;if(null!==s)for(let v=0;v<s.length;v++){const w=s[v];"number"==typeof w?f=w:1==f?d=Te(d,w):2==f&&(l=Te(l,w+": "+s[++v]+";"))}o?i.styles=l:i.stylesWithoutHost=l,o?i.classes=d:i.classesWithoutHost=d}const xl=new Gn("INJECTOR",-1);class Iu{get(s,o=cn){if(o===cn){const l=new Error(`NullInjectorError: No provider for ${de(s)}!`);throw l.name="NullInjectorError",l}return o}}const gc=new Gn("Set Injector scope."),Bd={},Up={};let Bp;function Jm(){return void 0===Bp&&(Bp=new Iu),Bp}function Xm(i,s=null,o=null,l){return new Hp(i,o,s||Jm(),l)}class Hp{constructor(s,o,l,d=null){this.parent=l,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const f=[];o&&bs(o,w=>this.processProvider(w,s,o)),bs([s],w=>this.processInjectorType(w,[],f)),this.records.set(xl,mc(void 0,this));const v=this.records.get(gc);this.scope=null!=v?v.value:null,this.source=d||("object"==typeof s?null:de(s))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(s=>s.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(s,o=cn,l=ee.Default){this.assertNotDestroyed();const d=Fr(this),f=Xe(void 0);try{if(!(l&ee.SkipSelf)){let w=this.records.get(s);if(void 0===w){const N=("function"==typeof(i=s)||"object"==typeof i&&i instanceof Gn)&&dn(s);w=N&&this.injectableDefInScope(N)?mc($p(s),Bd):null,this.records.set(s,w)}if(null!=w)return this.hydrate(s,w)}return(l&ee.Self?Jm():this.parent).get(s,o=l&ee.Optional&&o===cn?null:o)}catch(v){if("NullInjectorError"===v.name){if((v[Kt]=v[Kt]||[]).unshift(de(s)),d)throw v;return ha(v,s,"R3InjectorError",this.source)}throw v}finally{Xe(f),Fr(d)}var i}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(s=>this.get(s))}toString(){const s=[];return this.records.forEach((l,d)=>s.push(de(d))),`R3Injector[${s.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(s,o,l){if(!(s=ke(s)))return!1;let d=hn(s);const f=null==d&&s.ngModule||void 0,v=void 0===f?s:f,w=-1!==l.indexOf(v);if(void 0!==f&&(d=hn(f)),null==d)return!1;if(null!=d.imports&&!w){let G;l.push(v);try{bs(d.imports,J=>{this.processInjectorType(J,o,l)&&(void 0===G&&(G=[]),G.push(J))})}finally{}if(void 0!==G)for(let J=0;J<G.length;J++){const{ngModule:te,providers:ge}=G[J];bs(ge,De=>this.processProvider(De,te,ge||rt))}}this.injectorDefTypes.add(v);const N=$i(v)||(()=>new v);this.records.set(v,mc(N,Bd));const P=d.providers;if(null!=P&&!w){const G=s;bs(P,J=>this.processProvider(J,G,P))}return void 0!==f&&void 0!==s.providers}processProvider(s,o,l){let d=Xc(s=ke(s))?s:ke(s&&s.provide);const f=lf(i=s)?mc(void 0,i.useValue):mc(uf(i),Bd);var i;if(Xc(s)||!0!==s.multi)this.records.get(d);else{let v=this.records.get(d);v||(v=mc(void 0,Bd,!0),v.factory=()=>to(v.multi),this.records.set(d,v)),d=s,v.multi.push(s)}this.records.set(d,f)}hydrate(s,o){return o.value===Bd&&(o.value=Up,o.value=o.factory()),"object"==typeof o.value&&o.value&&null!==(i=o.value)&&"object"==typeof i&&"function"==typeof i.ngOnDestroy&&this.onDestroy.add(o.value),o.value;var i}injectableDefInScope(s){if(!s.providedIn)return!1;const o=ke(s.providedIn);return"string"==typeof o?"any"===o||o===this.scope:this.injectorDefTypes.has(o)}}function $p(i){const s=dn(i),o=null!==s?s.factory:$i(i);if(null!==o)return o;if(i instanceof Gn)throw new Error(`Token ${de(i)} is missing a \u0275prov definition.`);if(i instanceof Function)return function(i){const s=i.length;if(s>0){const l=function(i,s){const o=[];for(let l=0;l<i;l++)o.push(s);return o}(s,"?");throw new Error(`Can't resolve all parameters for ${de(i)}: (${l.join(", ")}).`)}const o=function(i){const s=i&&(i[Pn]||i[Ur]);if(s){const o=function(i){if(i.hasOwnProperty("name"))return i.name;const s=(""+i).match(/^function\s*([^\s(]+)/);return null===s?"":s[1]}(i);return console.warn(`DEPRECATED: DI is instantiating a token "${o}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${o}" class.`),s}return null}(i);return null!==o?()=>o.factory(i):()=>new i}(i);throw new Error("unreachable")}function uf(i,s,o){let l;if(Xc(i)){const d=ke(i);return $i(d)||$p(d)}if(lf(i))l=()=>ke(i.useValue);else if(function(i){return!(!i||!i.useFactory)}(i))l=()=>i.useFactory(...to(i.deps||[]));else if(function(i){return!(!i||!i.useExisting)}(i))l=()=>Yn(ke(i.useExisting));else{const d=ke(i&&(i.useClass||i.provide));if(!function(i){return!!i.deps}(i))return $i(d)||$p(d);l=()=>new d(...to(i.deps))}return l}function mc(i,s,o=!1){return{factory:i,value:s,multi:o?[]:void 0}}function lf(i){return null!==i&&"object"==typeof i&&Xr in i}function Xc(i){return"function"==typeof i}const Kp=function(i,s,o){return function(i,s=null,o=null,l){const d=Xm(i,s,o,l);return d._resolveInjectorDefTypes(),d}({name:o},s,i,o)};class Tr{static create(s,o){return Array.isArray(s)?Kp(s,o,""):Kp(s.providers,s.parent,s.name||"")}}function Hd(i,s){Qa(ec(i)[1],Er())}function As(i){let s=function(i){return Object.getPrototypeOf(i.prototype).constructor}(i.type),o=!0;const l=[i];for(;s;){let d;if(Nr(i))d=s.\u0275cmp||s.\u0275dir;else{if(s.\u0275cmp)throw new Error("Directives cannot inherit Components");d=s.\u0275dir}if(d){if(o){l.push(d);const v=i;v.inputs=pf(i.inputs),v.declaredInputs=pf(i.declaredInputs),v.outputs=pf(i.outputs);const w=d.hostBindings;w&&ay(i,w);const N=d.viewQuery,P=d.contentQueries;if(N&&rv(i,N),P&&gf(i,P),pe(i.inputs,d.inputs),pe(i.declaredInputs,d.declaredInputs),pe(i.outputs,d.outputs),Nr(d)&&d.data.animation){const G=i.data;G.animation=(G.animation||[]).concat(d.data.animation)}}const f=d.features;if(f)for(let v=0;v<f.length;v++){const w=f[v];w&&w.ngInherit&&w(i),w===As&&(o=!1)}}s=Object.getPrototypeOf(s)}!function(i){let s=0,o=null;for(let l=i.length-1;l>=0;l--){const d=i[l];d.hostVars=s+=d.hostVars,d.hostAttrs=Co(d.hostAttrs,o=Co(o,d.hostAttrs))}}(l)}function pf(i){return i===Me?{}:i===rt?[]:i}function rv(i,s){const o=i.viewQuery;i.viewQuery=o?(l,d)=>{s(l,d),o(l,d)}:s}function gf(i,s){const o=i.contentQueries;i.contentQueries=o?(l,d,f)=>{s(l,d,f),o(l,d,f)}:s}function ay(i,s){const o=i.hostBindings;i.hostBindings=o?(l,d)=>{s(l,d),o(l,d)}:s}Tr.THROW_IF_NOT_FOUND=cn,Tr.NULL=new Iu,Tr.\u0275prov=wn({token:Tr,providedIn:"any",factory:()=>Yn(xl)}),Tr.__NG_ELEMENT_ID__=-1;let mf=null;function nd(){if(!mf){const i=se.Symbol;if(i&&i.iterator)mf=i.iterator;else{const s=Object.getOwnPropertyNames(Map.prototype);for(let o=0;o<s.length;++o){const l=s[o];"entries"!==l&&"size"!==l&&Map.prototype[l]===Map.prototype.entries&&(mf=l)}}}return mf}function yf(i){return!!cg(i)&&(Array.isArray(i)||!(i instanceof Map)&&nd()in i)}function cg(i){return null!==i&&("function"==typeof i||"object"==typeof i)}function so(i,s,o){return!Object.is(i[s],o)&&(i[s]=o,!0)}function cy(i,s,o,l){const d=ht();return so(d,qi(),s)&&(An(),bu(wr(),d,i,s,o,l)),cy}function fy(i,s,o,l,d,f,v,w){const N=ht(),P=An(),G=i+20,J=P.firstCreatePass?function(i,s,o,l,d,f,v,w,N){const P=s.consts,G=Yc(s,i,4,v||null,Ri(P,w));Ol(s,o,G,Ri(P,N)),Qa(s,G);const J=G.tViews=Pd(2,G,l,d,f,s.directiveRegistry,s.pipeRegistry,null,s.schemas,P);return null!==s.queries&&(s.queries.template(s,G),J.queries=s.queries.embeddedTView(G)),G}(G,P,N,s,o,l,d,f,v):P.data[G];Mi(J,!1);const te=N[11].createComment("");ac(P,N,te,J),_r(te,N),tf(N,N[G]=qm(te,N,te,J)),_s(J)&&xd(P,N,J),null!=v&&Ap(N,J,w)}function Zd(i,s=ee.Default){const o=ht();return null===o?Yn(i,s):R(Er(),o,ke(i),s)}function Df(i,s,o){const l=ht();return so(l,qi(),s)&&Po(An(),wr(),l,i,s,l[11],o,!1),Df}function Tf(i,s,o,l,d){const v=d?"class":"style";af(i,o,s.inputs[v],v,l)}function Tg(i,s,o,l){const d=ht(),f=An(),v=20+i,w=d[11],N=d[v]=Oh(w,s,Qt.lFrame.currentNamespace),P=f.firstCreatePass?function(i,s,o,l,d,f,v){const w=s.consts,P=Yc(s,i,2,d,Ri(w,f));return Ol(s,o,P,Ri(w,v)),null!==P.attrs&&il(P,P.attrs,!1),null!==P.mergedAttrs&&il(P,P.mergedAttrs,!0),null!==s.queries&&s.queries.elementStart(s,P),P}(v,f,d,0,s,o,l):f.data[v];Mi(P,!0);const G=P.mergedAttrs;null!==G&&Pi(w,N,G);const J=P.classes;null!==J&&uc(w,N,J);const te=P.styles;null!==te&&Lh(w,N,te),64!=(64&P.flags)&&ac(f,d,N,P),0===Qt.lFrame.elementDepthCount&&_r(N,d),Qt.lFrame.elementDepthCount++,_s(P)&&(xd(f,d,P),function(i,s,o){if(Ar(s)){const d=s.directiveEnd;for(let f=s.directiveStart;f<d;f++){const v=i.data[f];v.contentQueries&&v.contentQueries(1,o[f],f)}}}(f,P,d)),null!==l&&Ap(d,P)}function Sf(){let i=Er();Ia()?Qt.lFrame.isParent=!1:(i=i.parent,Mi(i,!1));const s=i;Qt.lFrame.elementDepthCount--;const o=An();o.firstCreatePass&&(Qa(o,i),Ar(i)&&o.queries.elementEnd(i)),null!=s.classesWithoutHost&&function(i){return 0!=(16&i.flags)}(s)&&Tf(o,s,ht(),s.classesWithoutHost,!0),null!=s.stylesWithoutHost&&function(i){return 0!=(32&i.flags)}(s)&&Tf(o,s,ht(),s.stylesWithoutHost,!1)}function Dy(i,s,o,l){Tg(i,s,o,l),Sf()}function Ay(){return ht()}function Ag(i){return!!i&&"function"==typeof i.then}function Ny(i){return!!i&&"function"==typeof i.subscribe}const Ng=Ny;function Ry(i,s,o,l){const d=ht(),f=An(),v=Er();return function(i,s,o,l,d,f,v,w){const N=_s(l),G=i.firstCreatePass&&sf(i),J=s[8],te=Zm(s);let ge=!0;if(3&l.type||w){const Ve=Mn(l,s),_t=w?w(Ve):Ve,ot=te.length,sn=w?Dn=>w(Yt(Dn[l.index])):l.index;if(Pe(o)){let Dn=null;if(!w&&N&&(Dn=function(i,s,o,l){const d=i.cleanup;if(null!=d)for(let f=0;f<d.length-1;f+=2){const v=d[f];if(v===o&&d[f+1]===l){const w=s[7],N=d[f+2];return w.length>N?w[N]:null}"string"==typeof v&&(f+=2)}return null}(i,s,d,l.index)),null!==Dn)(Dn.__ngLastListenerFn__||Dn).__ngNextListenerFn__=f,Dn.__ngLastListenerFn__=f,ge=!1;else{f=Nf(l,s,J,f,!1);const rr=o.listen(_t,d,f);te.push(f,rr),G&&G.push(d,sn,ot,ot+1)}}else f=Nf(l,s,J,f,!0),_t.addEventListener(d,f,v),te.push(f),G&&G.push(d,sn,ot,v)}else f=Nf(l,s,J,f,!1);const De=l.outputs;let Ze;if(ge&&null!==De&&(Ze=De[d])){const Ve=Ze.length;if(Ve)for(let _t=0;_t<Ve;_t+=2){const $s=s[Ze[_t]][Ze[_t+1]].subscribe(f),xu=te.length;te.push(f,$s),G&&G.push(d,l.index,xu,-(xu+1))}}}(f,d,d[11],v,i,s,!!o,l),Ry}function Af(i,s,o,l){try{return!1!==o(l)}catch(d){return of(i,d),!1}}function Nf(i,s,o,l,d){return function f(v){if(v===Function)return l;const w=2&i.flags?Rr(i.index,s):s;0==(32&s[2])&&Ld(w);let N=Af(s,0,l,v),P=f.__ngNextListenerFn__;for(;P;)N=Af(s,0,P,v)&&N,P=P.__ngNextListenerFn__;return d&&!1===N&&(v.preventDefault(),v.returnValue=!1),N}}function Rg(i=1){return function(i){return(Qt.lFrame.contextLView=function(i,s){for(;i>0;)s=s[15],i--;return s}(i,Qt.lFrame.contextLView))[8]}(i)}function ao(i,s,o,l,d){const f=i[o+1],v=null===s;let w=l?ya(f):tu(f),N=!1;for(;0!==w&&(!1===N||v);){const G=i[w+1];wv(i[w],s)&&(N=!0,i[w+1]=l?Ji(G):mp(G)),w=l?ya(G):tu(G)}N&&(i[o+1]=l?mp(f):Ji(f))}function wv(i,s){return null===i||null==s||(Array.isArray(i)?i[1]:i)===s||!(!Array.isArray(i)||"string"!=typeof s)&&M(i,s)>=0}function nh(i,s){return function(i,s,o,l){const d=ht(),f=An(),v=function(i){const s=Qt.lFrame,o=s.bindingIndex;return s.bindingIndex=s.bindingIndex+i,o}(2);f.firstUpdatePass&&function(i,s,o,l){const d=i.data;if(null===d[o+1]){const f=d[ii()],v=function(i,s){return s>=i.expandoStartIndex}(i,o);(function(i,s){return 0!=(i.flags&(s?16:32))})(f,l)&&null===s&&!v&&(s=!1),s=function(i,s,o,l){const d=function(i){const s=Qt.lFrame.currentDirectiveIndex;return-1===s?null:i[s]}(i);let f=l?s.residualClasses:s.residualStyles;if(null===d)0===(l?s.classBindings:s.styleBindings)&&(o=r(o=u(null,i,s,o,l),s.attrs,l),f=null);else{const v=s.directiveStylingLast;if(-1===v||i[v]!==d)if(o=u(d,i,s,o,l),null===f){let N=function(i,s,o){const l=o?s.classBindings:s.styleBindings;if(0!==tu(l))return i[ya(l)]}(i,s,l);void 0!==N&&Array.isArray(N)&&(N=u(null,i,s,N[1],l),N=r(N,s.attrs,l),function(i,s,o,l){i[ya(o?s.classBindings:s.styleBindings)]=l}(i,s,l,N))}else f=function(i,s,o){let l;const d=s.directiveEnd;for(let f=1+s.directiveStylingLast;f<d;f++)l=r(l,i[f].hostAttrs,o);return r(l,s.attrs,o)}(i,s,l)}return void 0!==f&&(l?s.residualClasses=f:s.residualStyles=f),o}(d,f,s,l),function(i,s,o,l,d,f){let v=f?s.classBindings:s.styleBindings,w=ya(v),N=tu(v);i[l]=o;let G,P=!1;if(Array.isArray(o)){const J=o;G=J[1],(null===G||M(J,G)>0)&&(P=!0)}else G=o;if(d)if(0!==N){const te=ya(i[w+1]);i[l+1]=Bh(te,w),0!==te&&(i[te+1]=yp(i[te+1],l)),i[w+1]=function(i,s){return 131071&i|s<<17}(i[w+1],l)}else i[l+1]=Bh(w,0),0!==w&&(i[w+1]=yp(i[w+1],l)),w=l;else i[l+1]=Bh(N,0),0===w?w=l:i[N+1]=yp(i[N+1],l),N=l;P&&(i[l+1]=mp(i[l+1])),ao(i,G,l,!0),ao(i,G,l,!1),function(i,s,o,l,d){const f=d?i.residualClasses:i.residualStyles;null!=f&&"string"==typeof s&&M(f,s)>=0&&(o[l+1]=Ji(o[l+1]))}(s,G,i,l,f),v=Bh(w,N),f?s.classBindings=v:s.styleBindings=v}(d,f,s,o,v,l)}}(f,i,v,l),s!==In&&so(d,v,s)&&function(i,s,o,l,d,f,v,w){if(!(3&s.type))return;const N=i.data,P=N[w+1];L(function(i){return 1==(1&i)}(P)?A(N,s,o,d,tu(P),v):void 0)||(L(f)||function(i){return 2==(2&i)}(P)&&(f=A(N,null,o,d,w,v)),function(i,s,o,l,d){const f=Pe(i);if(s)d?f?i.addClass(o,l):o.classList.add(l):f?i.removeClass(o,l):o.classList.remove(l);else{let v=-1===l.indexOf("-")?void 0:Ua.DashCase;if(null==d)f?i.removeStyle(o,l,v):o.style.removeProperty(l);else{const w="string"==typeof d&&d.endsWith("!important");w&&(d=d.slice(0,-10),v|=Ua.Important),f?i.setStyle(o,l,d,v):o.style.setProperty(l,d,w?"important":"")}}}(l,v,sr(ii(),o),d,f))}(f,f.data[ii()],d,d[11],i,d[v+1]=function(i,s){return null==i||("string"==typeof s?i+=s:"object"==typeof i&&(i=de(Mo(i)))),i}(s,o),l,v)}(i,s,null,!0),nh}function u(i,s,o,l,d){let f=null;const v=o.directiveEnd;let w=o.directiveStylingLast;for(-1===w?w=o.directiveStart:w++;w<v&&(f=s[w],l=r(l,f.hostAttrs,d),f!==i);)w++;return null!==i&&(o.directiveStylingLast=w),l}function r(i,s,o){const l=o?1:2;let d=-1;if(null!==s)for(let f=0;f<s.length;f++){const v=s[f];"number"==typeof v?d=v:d===l&&(Array.isArray(i)||(i=void 0===i?[]:["",i]),Zi(i,v,!!o||s[++f]))}return void 0===i?null:i}function A(i,s,o,l,d,f){const v=null===s;let w;for(;d>0;){const N=i[d],P=Array.isArray(N),G=P?N[1]:N,J=null===G;let te=o[d+1];te===In&&(te=J?rt:void 0);let ge=J?Ir(te,l):G===l?te:void 0;if(P&&!L(ge)&&(ge=Ir(N,l)),L(ge)&&(w=ge,v))return w;const De=i[d+1];d=v?ya(De):tu(De)}if(null!==s){let N=f?s.residualClasses:s.residualStyles;null!=N&&(w=Ir(N,l))}return w}function L(i){return void 0!==i}function ce(i,s=""){const o=ht(),l=An(),d=i+20,f=l.firstCreatePass?Yc(l,d,1,s,null):l.data[d],v=o[d]=function(i,s){return Pe(i)?i.createText(s):i.createTextNode(s)}(o[11],s);ac(l,o,v,f),Mi(f,!1)}function be(i){return Je("",i,""),be}function Je(i,s,o){const l=ht(),d=function(i,s,o,l){return so(i,qi(),o)?s+we(o)+l:In}(l,i,s,o);return d!==In&&ru(l,ii(),d),Je}function Sv(i,s,o){const l=ht();return so(l,qi(),s)&&Po(An(),wr(),l,i,s,l[11],o,!0),Sv}const ih=void 0;var ub=["en",[["a","p"],["AM","PM"],ih],[["AM","PM"],ih,ih],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],ih,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],ih,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",ih,"{1} 'at' {0}",ih],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(i){const s=Math.floor(Math.abs(i)),o=i.toString().replace(/^[^.]*\.?/,"").length;return 1===s&&0===o?1:5}];let Of={};function Av(i){const s=function(i){return i.toLowerCase().replace(/_/g,"-")}(i);let o=h0(s);if(o)return o;const l=s.split("-")[0];if(o=h0(l),o)return o;if("en"===l)return ub;throw new Error(`Missing locale data for the locale "${i}".`)}function d0(i){return Av(i)[yn.PluralCase]}function h0(i){return i in Of||(Of[i]=se.ng&&se.ng.common&&se.ng.common.locales&&se.ng.common.locales[i]),Of[i]}var yn=(()=>((yn=yn||{})[yn.LocaleId=0]="LocaleId",yn[yn.DayPeriodsFormat=1]="DayPeriodsFormat",yn[yn.DayPeriodsStandalone=2]="DayPeriodsStandalone",yn[yn.DaysFormat=3]="DaysFormat",yn[yn.DaysStandalone=4]="DaysStandalone",yn[yn.MonthsFormat=5]="MonthsFormat",yn[yn.MonthsStandalone=6]="MonthsStandalone",yn[yn.Eras=7]="Eras",yn[yn.FirstDayOfWeek=8]="FirstDayOfWeek",yn[yn.WeekendRange=9]="WeekendRange",yn[yn.DateFormat=10]="DateFormat",yn[yn.TimeFormat=11]="TimeFormat",yn[yn.DateTimeFormat=12]="DateTimeFormat",yn[yn.NumberSymbols=13]="NumberSymbols",yn[yn.NumberFormats=14]="NumberFormats",yn[yn.CurrencyCode=15]="CurrencyCode",yn[yn.CurrencySymbol=16]="CurrencySymbol",yn[yn.CurrencyName=17]="CurrencyName",yn[yn.Currencies=18]="Currencies",yn[yn.Directionality=19]="Directionality",yn[yn.PluralCase=20]="PluralCase",yn[yn.ExtraData=21]="ExtraData",yn))();const zy="en-US";let f0=zy;function Nv(i){Ht(i,"Expected localeId to be defined"),"string"==typeof i&&(f0=i.toLowerCase().replace(/_/g,"-"))}function Ov(i,s,o,l,d){if(i=ke(i),Array.isArray(i))for(let f=0;f<i.length;f++)Ov(i[f],s,o,l,d);else{const f=An(),v=ht();let w=Xc(i)?i:ke(i.provide),N=uf(i);const P=Er(),G=1048575&P.providerIndexes,J=P.directiveStart,te=P.providerIndexes>>20;if(Xc(i)||!i.multi){const ge=new si(N,d,Zd),De=Pv(w,s,d?G:G+te,J);-1===De?(Na(la(P,v),f,w),xv(f,i,s.length),s.push(w),P.directiveStart++,P.directiveEnd++,d&&(P.providerIndexes+=1048576),o.push(ge),v.push(ge)):(o[De]=ge,v[De]=ge)}else{const ge=Pv(w,s,G+te,J),De=Pv(w,s,G,G+te),Ze=ge>=0&&o[ge],Ve=De>=0&&o[De];if(d&&!Ve||!d&&!Ze){Na(la(P,v),f,w);const _t=function(i,s,o,l,d){const f=new si(i,o,Zd);return f.multi=[],f.index=s,f.componentProviders=0,L0(f,d,l&&!o),f}(d?sI:iI,o.length,d,l,N);!d&&Ve&&(o[De].providerFactory=_t),xv(f,i,s.length,0),s.push(w),P.directiveStart++,P.directiveEnd++,d&&(P.providerIndexes+=1048576),o.push(_t),v.push(_t)}else xv(f,i,ge>-1?ge:De,L0(o[d?De:ge],N,!d&&l));!d&&l&&Ve&&o[De].componentProviders++}}}function xv(i,s,o,l){const d=Xc(s);if(d||function(i){return!!i.useClass}(s)){const v=(s.useClass||s).prototype.ngOnDestroy;if(v){const w=i.destroyHooks||(i.destroyHooks=[]);if(!d&&s.multi){const N=w.indexOf(o);-1===N?w.push(o,[l,v]):w[N+1].push(l,v)}else w.push(o,v)}}}function L0(i,s,o){return o&&i.componentProviders++,i.multi.push(s)-1}function Pv(i,s,o,l){for(let d=o;d<l;d++)if(s[d]===i)return d;return-1}function iI(i,s,o,l){return kv(this.multi,[])}function sI(i,s,o,l){const d=this.multi;let f;if(this.providerFactory){const v=this.providerFactory.componentProviders,w=Z(o,o[1],this.providerFactory.index,l);f=w.slice(0,v),kv(d,f);for(let N=v;N<w.length;N++)f.push(w[N])}else f=[],kv(d,f);return f}function kv(i,s){for(let o=0;o<i.length;o++)s.push((0,i[o])());return s}function V0(i,s=[]){return o=>{o.providersResolver=(l,d)=>function(i,s,o){const l=An();if(l.firstCreatePass){const d=Nr(i);Ov(o,l.data,l.blueprint,d,!0),Ov(s,l.data,l.blueprint,d,!1)}}(l,d?d(i):i,s)}}class U0{}const j0="ngComponent";class uI{resolveComponentFactory(s){throw function(i){const s=Error(`No component factory found for ${de(i)}. Did you add it to @NgModule.entryComponents?`);return s[j0]=i,s}(s)}}class sh{}function Yy(...i){}function Pf(i,s){return new Bl(Mn(i,s))}sh.NULL=new uI;const dI=function(){return Pf(Er(),ht())};let Bl=(()=>{class i{constructor(o){this.nativeElement=o}}return i.__NG_ELEMENT_ID__=dI,i})();function H0(i){return i instanceof Bl?i.nativeElement:i}class Qy{}let hI=(()=>{class i{}return i.__NG_ELEMENT_ID__=()=>pI(),i})();const pI=function(){const i=ht(),o=Rr(Er().index,i);return function(i){return i[11]}(Si(o)?o:i)};let Lv=(()=>{class i{}return i.\u0275prov=wn({token:i,providedIn:"root",factory:()=>null}),i})();class $0{constructor(s){this.full=s,this.major=s.split(".")[0],this.minor=s.split(".")[1],this.patch=s.split(".").slice(2).join(".")}}const Vv=new $0("12.2.3");class G0{constructor(){}supports(s){return yf(s)}create(s){return new _I(s)}}const yI=(i,s)=>s;class _I{constructor(s){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=s||yI}forEachItem(s){let o;for(o=this._itHead;null!==o;o=o._next)s(o)}forEachOperation(s){let o=this._itHead,l=this._removalsHead,d=0,f=null;for(;o||l;){const v=!l||o&&o.currentIndex<W0(l,d,f)?o:l,w=W0(v,d,f),N=v.currentIndex;if(v===l)d--,l=l._nextRemoved;else if(o=o._next,null==v.previousIndex)d++;else{f||(f=[]);const P=w-d,G=N-d;if(P!=G){for(let te=0;te<P;te++){const ge=te<f.length?f[te]:f[te]=0,De=ge+te;G<=De&&De<P&&(f[te]=ge+1)}f[v.previousIndex]=G-P}}w!==N&&s(v,w,N)}}forEachPreviousItem(s){let o;for(o=this._previousItHead;null!==o;o=o._nextPrevious)s(o)}forEachAddedItem(s){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)s(o)}forEachMovedItem(s){let o;for(o=this._movesHead;null!==o;o=o._nextMoved)s(o)}forEachRemovedItem(s){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)s(o)}forEachIdentityChange(s){let o;for(o=this._identityChangesHead;null!==o;o=o._nextIdentityChange)s(o)}diff(s){if(null==s&&(s=[]),!yf(s))throw new Error(`Error trying to diff '${de(s)}'. Only arrays and iterables are allowed`);return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let d,f,v,o=this._itHead,l=!1;if(Array.isArray(s)){this.length=s.length;for(let w=0;w<this.length;w++)f=s[w],v=this._trackByFn(w,f),null!==o&&Object.is(o.trackById,v)?(l&&(o=this._verifyReinsertion(o,f,v,w)),Object.is(o.item,f)||this._addIdentityChange(o,f)):(o=this._mismatch(o,f,v,w),l=!0),o=o._next}else d=0,function(i,s){if(Array.isArray(i))for(let o=0;o<i.length;o++)s(i[o]);else{const o=i[nd()]();let l;for(;!(l=o.next()).done;)s(l.value)}}(s,w=>{v=this._trackByFn(d,w),null!==o&&Object.is(o.trackById,v)?(l&&(o=this._verifyReinsertion(o,w,v,d)),Object.is(o.item,w)||this._addIdentityChange(o,w)):(o=this._mismatch(o,w,v,d),l=!0),o=o._next,d++}),this.length=d;return this._truncate(o),this.collection=s,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let s;for(s=this._previousItHead=this._itHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._additionsHead;null!==s;s=s._nextAdded)s.previousIndex=s.currentIndex;for(this._additionsHead=this._additionsTail=null,s=this._movesHead;null!==s;s=s._nextMoved)s.previousIndex=s.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(s,o,l,d){let f;return null===s?f=this._itTail:(f=s._prev,this._remove(s)),null!==(s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null))?(Object.is(s.item,o)||this._addIdentityChange(s,o),this._reinsertAfter(s,f,d)):null!==(s=null===this._linkedRecords?null:this._linkedRecords.get(l,d))?(Object.is(s.item,o)||this._addIdentityChange(s,o),this._moveAfter(s,f,d)):s=this._addAfter(new vI(o,l),f,d),s}_verifyReinsertion(s,o,l,d){let f=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null);return null!==f?s=this._reinsertAfter(f,s._prev,d):s.currentIndex!=d&&(s.currentIndex=d,this._addToMoves(s,d)),s}_truncate(s){for(;null!==s;){const o=s._next;this._addToRemovals(this._unlink(s)),s=o}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(s,o,l){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(s);const d=s._prevRemoved,f=s._nextRemoved;return null===d?this._removalsHead=f:d._nextRemoved=f,null===f?this._removalsTail=d:f._prevRemoved=d,this._insertAfter(s,o,l),this._addToMoves(s,l),s}_moveAfter(s,o,l){return this._unlink(s),this._insertAfter(s,o,l),this._addToMoves(s,l),s}_addAfter(s,o,l){return this._insertAfter(s,o,l),this._additionsTail=null===this._additionsTail?this._additionsHead=s:this._additionsTail._nextAdded=s,s}_insertAfter(s,o,l){const d=null===o?this._itHead:o._next;return s._next=d,s._prev=o,null===d?this._itTail=s:d._prev=s,null===o?this._itHead=s:o._next=s,null===this._linkedRecords&&(this._linkedRecords=new z0),this._linkedRecords.put(s),s.currentIndex=l,s}_remove(s){return this._addToRemovals(this._unlink(s))}_unlink(s){null!==this._linkedRecords&&this._linkedRecords.remove(s);const o=s._prev,l=s._next;return null===o?this._itHead=l:o._next=l,null===l?this._itTail=o:l._prev=o,s}_addToMoves(s,o){return s.previousIndex===o||(this._movesTail=null===this._movesTail?this._movesHead=s:this._movesTail._nextMoved=s),s}_addToRemovals(s){return null===this._unlinkedRecords&&(this._unlinkedRecords=new z0),this._unlinkedRecords.put(s),s.currentIndex=null,s._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=s,s._prevRemoved=null):(s._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=s),s}_addIdentityChange(s,o){return s.item=o,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=s:this._identityChangesTail._nextIdentityChange=s,s}}class vI{constructor(s,o){this.item=s,this.trackById=o,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class EI{constructor(){this._head=null,this._tail=null}add(s){null===this._head?(this._head=this._tail=s,s._nextDup=null,s._prevDup=null):(this._tail._nextDup=s,s._prevDup=this._tail,s._nextDup=null,this._tail=s)}get(s,o){let l;for(l=this._head;null!==l;l=l._nextDup)if((null===o||o<=l.currentIndex)&&Object.is(l.trackById,s))return l;return null}remove(s){const o=s._prevDup,l=s._nextDup;return null===o?this._head=l:o._nextDup=l,null===l?this._tail=o:l._prevDup=o,null===this._head}}class z0{constructor(){this.map=new Map}put(s){const o=s.trackById;let l=this.map.get(o);l||(l=new EI,this.map.set(o,l)),l.add(s)}get(s,o){const d=this.map.get(s);return d?d.get(s,o):null}remove(s){const o=s.trackById;return this.map.get(o).remove(s)&&this.map.delete(o),s}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function W0(i,s,o){const l=i.previousIndex;if(null===l)return l;let d=0;return o&&l<o.length&&(d=o[l]),l+s+d}class q0{constructor(){}supports(s){return s instanceof Map||cg(s)}create(){return new wI}}class wI{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(s){let o;for(o=this._mapHead;null!==o;o=o._next)s(o)}forEachPreviousItem(s){let o;for(o=this._previousMapHead;null!==o;o=o._nextPrevious)s(o)}forEachChangedItem(s){let o;for(o=this._changesHead;null!==o;o=o._nextChanged)s(o)}forEachAddedItem(s){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)s(o)}forEachRemovedItem(s){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)s(o)}diff(s){if(s){if(!(s instanceof Map||cg(s)))throw new Error(`Error trying to diff '${de(s)}'. Only maps and objects are allowed`)}else s=new Map;return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let o=this._mapHead;if(this._appendAfter=null,this._forEach(s,(l,d)=>{if(o&&o.key===d)this._maybeAddToChanges(o,l),this._appendAfter=o,o=o._next;else{const f=this._getOrCreateRecordForKey(d,l);o=this._insertBeforeOrAppend(o,f)}}),o){o._prev&&(o._prev._next=null),this._removalsHead=o;for(let l=o;null!==l;l=l._nextRemoved)l===this._mapHead&&(this._mapHead=null),this._records.delete(l.key),l._nextRemoved=l._next,l.previousValue=l.currentValue,l.currentValue=null,l._prev=null,l._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(s,o){if(s){const l=s._prev;return o._next=s,o._prev=l,s._prev=o,l&&(l._next=o),s===this._mapHead&&(this._mapHead=o),this._appendAfter=s,s}return this._appendAfter?(this._appendAfter._next=o,o._prev=this._appendAfter):this._mapHead=o,this._appendAfter=o,null}_getOrCreateRecordForKey(s,o){if(this._records.has(s)){const d=this._records.get(s);this._maybeAddToChanges(d,o);const f=d._prev,v=d._next;return f&&(f._next=v),v&&(v._prev=f),d._next=null,d._prev=null,d}const l=new CI(s);return this._records.set(s,l),l.currentValue=o,this._addToAdditions(l),l}_reset(){if(this.isDirty){let s;for(this._previousMapHead=this._mapHead,s=this._previousMapHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._changesHead;null!==s;s=s._nextChanged)s.previousValue=s.currentValue;for(s=this._additionsHead;null!=s;s=s._nextAdded)s.previousValue=s.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(s,o){Object.is(o,s.currentValue)||(s.previousValue=s.currentValue,s.currentValue=o,this._addToChanges(s))}_addToAdditions(s){null===this._additionsHead?this._additionsHead=this._additionsTail=s:(this._additionsTail._nextAdded=s,this._additionsTail=s)}_addToChanges(s){null===this._changesHead?this._changesHead=this._changesTail=s:(this._changesTail._nextChanged=s,this._changesTail=s)}_forEach(s,o){s instanceof Map?s.forEach(o):Object.keys(s).forEach(l=>o(s[l],l))}}class CI{constructor(s){this.key=s,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function K0(){return new Jy([new G0])}let Jy=(()=>{class i{constructor(o){this.factories=o}static create(o,l){if(null!=l){const d=l.factories.slice();o=o.concat(d)}return new i(o)}static extend(o){return{provide:i,useFactory:l=>i.create(o,l||K0()),deps:[[i,new fr,new nn]]}}find(o){const l=this.factories.find(d=>d.supports(o));if(null!=l)return l;throw new Error(`Cannot find a differ supporting object '${o}' of type '${function(i){return i.name||typeof i}(o)}'`)}}return i.\u0275prov=wn({token:i,providedIn:"root",factory:K0}),i})();function Z0(){return new Xy([new q0])}let Xy=(()=>{class i{constructor(o){this.factories=o}static create(o,l){if(l){const d=l.factories.slice();o=o.concat(d)}return new i(o)}static extend(o){return{provide:i,useFactory:l=>i.create(o,l||Z0()),deps:[[i,new fr,new nn]]}}find(o){const l=this.factories.find(d=>d.supports(o));if(l)return l;throw new Error(`Cannot find a differ supporting object '${o}'`)}}return i.\u0275prov=wn({token:i,providedIn:"root",factory:Z0}),i})();function e_(i,s,o,l,d=!1){for(;null!==o;){const f=s[o.index];if(null!==f&&l.push(Yt(f)),mr(f))for(let w=10;w<f.length;w++){const N=f[w],P=N[1].firstChild;null!==P&&e_(N[1],N,P,l)}const v=o.type;if(8&v)e_(i,s,o.child,l);else if(32&v){const w=wu(o,s);let N;for(;N=w();)l.push(N)}else if(16&v){const w=lp(s,o);if(Array.isArray(w))l.push(...w);else{const N=Gc(s[16]);e_(N[1],N,w,l,!0)}}o=d?o.projectionNext:o.next}return l}class Hg{constructor(s,o){this._lView=s,this._cdRefInjectingView=o,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const s=this._lView,o=s[1];return e_(o,s,o.firstChild,[])}get context(){return this._lView[8]}set context(s){this._lView[8]=s}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const s=this._lView[3];if(mr(s)){const o=s[8],l=o?o.indexOf(this):-1;l>-1&&(zc(s,l),eo(o,l))}this._attachedToViewContainer=!1}xh(this._lView[1],this._lView)}onDestroy(s){Yh(this._lView[1],this._lView,null,s)}markForCheck(){Ld(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){nf(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(i,s,o){Ys(!0);try{nf(i,s,o)}finally{Ys(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var s;this._appRef=null,Ba(this._lView[1],s=this._lView,s[11],2,null,null)}attachToAppRef(s){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=s}}class II extends Hg{constructor(s){super(s),this._view=s}detectChanges(){rf(this._view)}checkNoChanges(){!function(i){Ys(!0);try{rf(i)}finally{Ys(!1)}}(this._view)}get context(){return null}}const TI=function(i){return function(i,s,o){if(Lo(i)&&!o){const l=Rr(i.index,s);return new Hg(l,l)}return 47&i.type?new Hg(s[16],s):null}(Er(),ht(),16==(16&i))};let SI=(()=>{class i{}return i.__NG_ELEMENT_ID__=TI,i})();const RI=[new q0],OI=new Jy([new G0]),xI=new Xy(RI),kI=function(){return t_(Er(),ht())};let $g=(()=>{class i{}return i.__NG_ELEMENT_ID__=kI,i})();const FI=$g,LI=class extends FI{constructor(s,o,l){super(),this._declarationLView=s,this._declarationTContainer=o,this.elementRef=l}createEmbeddedView(s){const o=this._declarationTContainer.tViews,l=cc(this._declarationLView,o,s,16,null,o.declTNode,null,null,null,null);l[17]=this._declarationLView[this._declarationTContainer.index];const f=this._declarationLView[19];return null!==f&&(l[19]=f.createEmbeddedView(o)),dc(o,l,s),new Hg(l)}};function t_(i,s){return 4&i.type?new LI(s,i,Pf(i,s)):null}class oh{}class Y0{}const BI=function(){return X0(Er(),ht())};let n_=(()=>{class i{}return i.__NG_ELEMENT_ID__=BI,i})();const HI=n_,Q0=class extends HI{constructor(s,o,l){super(),this._lContainer=s,this._hostTNode=o,this._hostLView=l}get element(){return Pf(this._hostTNode,this._hostLView)}get injector(){return new Ot(this._hostTNode,this._hostLView)}get parentInjector(){const s=$o(this._hostTNode,this._hostLView);if(Js(s)){const o=Fs(s,this._hostLView),l=bo(s);return new Ot(o[1].data[l+8],o)}return new Ot(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(s){const o=J0(this._lContainer);return null!==o&&o[s]||null}get length(){return this._lContainer.length-10}createEmbeddedView(s,o,l){const d=s.createEmbeddedView(o||{});return this.insert(d,l),d}createComponent(s,o,l,d,f){const v=l||this.parentInjector;if(!f&&null==s.ngModule&&v){const N=v.get(oh,null);N&&(f=N)}const w=s.create(v,d,void 0,f);return this.insert(w.hostView,o),w}insert(s,o){const l=s._lView,d=l[1];if(mr(l[3])){const G=this.indexOf(s);if(-1!==G)this.detach(G);else{const J=l[3],te=new Q0(J,J[6],J[3]);te.detach(te.indexOf(s))}}const f=this._adjustIndex(o),v=this._lContainer;!function(i,s,o,l){const d=10+l,f=o.length;l>0&&(o[d-1][4]=s),l<f-10?(s[4]=o[d],yu(o,10+l,s)):(o.push(s),s[4]=null),s[3]=o;const v=s[17];null!==v&&o!==v&&function(i,s){const o=i[9];s[16]!==s[3][3][16]&&(i[2]=!0),null===o?i[9]=[s]:o.push(s)}(v,s);const w=s[19];null!==w&&w.insertView(i),s[2]|=128}(d,l,v,f);const w=cp(f,v),N=l[11],P=Cu(N,v[7]);return null!==P&&function(i,s,o,l,d,f){l[0]=d,l[6]=s,Ba(i,l,o,1,d,f)}(d,v[6],N,l,P,w),s.attachToViewContainerRef(),yu(Uv(v),f,s),s}move(s,o){return this.insert(s,o)}indexOf(s){const o=J0(this._lContainer);return null!==o?o.indexOf(s):-1}remove(s){const o=this._adjustIndex(s,-1),l=zc(this._lContainer,o);l&&(eo(Uv(this._lContainer),o),xh(l[1],l))}detach(s){const o=this._adjustIndex(s,-1),l=zc(this._lContainer,o);return l&&null!=eo(Uv(this._lContainer),o)?new Hg(l):null}_adjustIndex(s,o=0){return null==s?this.length+o:s}};function J0(i){return i[8]}function Uv(i){return i[8]||(i[8]=[])}function X0(i,s){let o;const l=s[i.index];if(mr(l))o=l;else{let d;if(8&i.type)d=Yt(l);else{const f=s[11];d=f.createComment("");const v=Mn(i,s);sc(f,Cu(f,v),d,function(i,s){return Pe(i)?i.nextSibling(s):s.nextSibling}(f,v),!1)}s[i.index]=o=qm(l,s,d,i),tf(s,o)}return new Q0(o,i,s)}const Vf={};class vw extends sh{constructor(s){super(),this.ngModule=s}resolveComponentFactory(s){const o=qt(s);return new ww(o,this.ngModule)}}function Ew(i){const s=[];for(let o in i)i.hasOwnProperty(o)&&s.push({propName:i[o],templateName:o});return s}const VD=new Gn("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>xo});class ww extends U0{constructor(s,o){super(),this.componentDef=s,this.ngModule=o,this.componentType=s.type,this.selector=s.selectors.map(qc).join(","),this.ngContentSelectors=s.ngContentSelectors?s.ngContentSelectors:[],this.isBoundToModule=!!o}get inputs(){return Ew(this.componentDef.inputs)}get outputs(){return Ew(this.componentDef.outputs)}create(s,o,l,d){const f=(d=d||this.ngModule)?function(i,s){return{get:(o,l,d)=>{const f=i.get(o,Vf,d);return f!==Vf||l===Vf?f:s.get(o,l,d)}}}(s,d.injector):s,v=f.get(Qy,kt),w=f.get(Lv,null),N=v.createRenderer(null,this.componentDef),P=this.componentDef.selectors[0][0]||"div",G=l?function(i,s,o){if(Pe(i))return i.selectRootElement(s,o===jn.ShadowDom);let l="string"==typeof s?i.querySelector(s):s;return l.textContent="",l}(N,l,this.componentDef.encapsulation):Oh(v.createRenderer(null,this.componentDef),P,function(i){const s=i.toLowerCase();return"svg"===s?"http://www.w3.org/2000/svg":"math"===s?"http://www.w3.org/1998/MathML/":null}(P)),J=this.componentDef.onPush?576:528,te=function(i,s){return{components:[],scheduler:i||xo,clean:Lp,playerHandler:s||null,flags:0}}(),ge=Pd(0,null,null,1,0,null,null,null,null,null),De=cc(null,ge,te,J,null,null,v,N,w,f);let Ze,Ve;Ps(De);try{const _t=function(i,s,o,l,d,f){const v=o[1];o[20]=i;const N=Yc(v,20,2,"#host",null),P=N.mergedAttrs=s.hostAttrs;null!==P&&(il(N,P,!0),null!==i&&(Pi(d,i,P),null!==N.classes&&uc(d,i,N.classes),null!==N.styles&&Lh(d,i,N.styles)));const G=l.createRenderer(i,s),J=cc(o,Pm(s),null,s.onPush?64:16,o[20],N,l,G,f||null,null);return v.firstCreatePass&&(Na(la(N,o),v,s.type),Hm(v,N),Xh(N,o.length,1)),tf(o,J),o[20]=J}(G,this.componentDef,De,v,N);if(G)if(l)Pi(N,G,["ng-version",Vv.full]);else{const{attrs:ot,classes:sn}=function(i){const s=[],o=[];let l=1,d=2;for(;l<i.length;){let f=i[l];if("string"==typeof f)2===d?""!==f&&s.push(f,i[++l]):8===d&&o.push(f);else{if(!ja(d))break;d=f}l++}return{attrs:s,classes:o}}(this.componentDef.selectors[0]);ot&&Pi(N,G,ot),sn&&sn.length>0&&uc(N,G,sn.join(" "))}if(Ve=$r(ge,20),void 0!==o){const ot=Ve.projection=[];for(let sn=0;sn<this.ngContentSelectors.length;sn++){const Dn=o[sn];ot.push(null!=Dn?Array.from(Dn):null)}}Ze=function(i,s,o,l,d){const f=o[1],v=function(i,s,o){const l=Er();i.firstCreatePass&&(o.providersResolver&&o.providersResolver(o),$m(i,l,s,Qc(i,s,1,null),o));const d=Z(s,i,l.directiveStart,l);_r(d,s);const f=Mn(l,s);return f&&_r(f,s),d}(f,o,s);if(l.components.push(v),i[8]=v,d&&d.forEach(N=>N(v,s)),s.contentQueries){const N=Er();s.contentQueries(1,v,N.directiveStart)}const w=Er();return!f.firstCreatePass||null===s.hostBindings&&null===s.hostAttrs||(ci(w.index),jm(o[1],w,0,w.directiveStart,w.directiveEnd,s),Jh(s,v)),v}(_t,this.componentDef,De,te,[Hd]),dc(ge,De,null)}finally{na()}return new jD(this.componentType,Ze,Pf(Ve,De),De,Ve)}}class jD extends class{}{constructor(s,o,l,d,f){super(),this.location=l,this._rootLView=d,this._tNode=f,this.instance=o,this.hostView=this.changeDetectorRef=new II(d),this.componentType=s}get injector(){return new Ot(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(s){this.hostView.onDestroy(s)}}const Uf=new Map;class GD extends oh{constructor(s,o){super(),this._parent=o,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new vw(this);const l=bn(s),d=s[gr]||null;d&&Nv(d),this._bootstrapComponents=Ss(l.bootstrap),this._r3Injector=Xm(s,o,[{provide:oh,useValue:this},{provide:sh,useValue:this.componentFactoryResolver}],de(s)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(s)}get(s,o=Tr.THROW_IF_NOT_FOUND,l=ee.Default){return s===Tr||s===oh||s===xl?this:this._r3Injector.get(s,o,l)}destroy(){const s=this._r3Injector;!s.destroyed&&s.destroy(),this.destroyCbs.forEach(o=>o()),this.destroyCbs=null}onDestroy(s){this.destroyCbs.push(s)}}class Jv extends Y0{constructor(s){super(),this.moduleType=s,null!==bn(s)&&function(i){const s=new Set;!function o(l){const d=bn(l,!0),f=d.id;null!==f&&(function(i,s,o){if(s&&s!==o)throw new Error(`Duplicate module registered for ${i} - ${de(s)} vs ${de(s.name)}`)}(f,Uf.get(f),l),Uf.set(f,l));const v=Ss(d.imports);for(const w of v)s.has(w)||(s.add(w),o(w))}(i)}(s)}create(s){return new GD(this.moduleType,s)}}function Xv(i){return s=>{setTimeout(i,void 0,s)}}const jl=class extends D.xQ{constructor(s=!1){super(),this.__isAsync=s}emit(s){super.next(s)}subscribe(s,o,l){var d,f,v;let w=s,N=o||(()=>null),P=l;if(s&&"object"==typeof s){const J=s;w=null===(d=J.next)||void 0===d?void 0:d.bind(J),N=null===(f=J.error)||void 0===f?void 0:f.bind(J),P=null===(v=J.complete)||void 0===v?void 0:v.bind(J)}this.__isAsync&&(N=Xv(N),w&&(w=Xv(w)),P&&(P=Xv(P)));const G=super.subscribe({next:w,error:N,complete:P});return s instanceof U.w&&s.add(G),G}};function lT(){return this._results[nd()]()}class a_{constructor(s=!1){this._emitDistinctChangesOnly=s,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const o=nd(),l=a_.prototype;l[o]||(l[o]=lT)}get changes(){return this._changes||(this._changes=new jl)}get(s){return this._results[s]}map(s){return this._results.map(s)}filter(s){return this._results.filter(s)}find(s){return this._results.find(s)}reduce(s,o){return this._results.reduce(s,o)}forEach(s){this._results.forEach(s)}some(s){return this._results.some(s)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(s,o){const l=this;l.dirty=!1;const d=Vs(s);(this._changesDetected=!function(i,s,o){if(i.length!==s.length)return!1;for(let l=0;l<i.length;l++){let d=i[l],f=s[l];if(o&&(d=o(d),f=o(f)),f!==d)return!1}return!0}(l._results,d,o))&&(l._results=d,l.length=d.length,l.last=d[this.length-1],l.first=d[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;class eE{constructor(s){this.queryList=s,this.matches=null}clone(){return new eE(this.queryList)}setDirty(){this.queryList.setDirty()}}class tE{constructor(s=[]){this.queries=s}createEmbeddedView(s){const o=s.queries;if(null!==o){const l=null!==s.contentQueries?s.contentQueries[0]:o.length,d=[];for(let f=0;f<l;f++){const v=o.getByIndex(f);d.push(this.queries[v.indexInDeclarationView].clone())}return new tE(d)}return null}insertView(s){this.dirtyQueriesWithMatches(s)}detachView(s){this.dirtyQueriesWithMatches(s)}dirtyQueriesWithMatches(s){for(let o=0;o<this.queries.length;o++)null!==Fw(s,o).matches&&this.queries[o].setDirty()}}class Nw{constructor(s,o,l=null){this.predicate=s,this.flags=o,this.read=l}}class nE{constructor(s=[]){this.queries=s}elementStart(s,o){for(let l=0;l<this.queries.length;l++)this.queries[l].elementStart(s,o)}elementEnd(s){for(let o=0;o<this.queries.length;o++)this.queries[o].elementEnd(s)}embeddedTView(s){let o=null;for(let l=0;l<this.length;l++){const d=null!==o?o.length:0,f=this.getByIndex(l).embeddedTView(s,d);f&&(f.indexInDeclarationView=l,null!==o?o.push(f):o=[f])}return null!==o?new nE(o):null}template(s,o){for(let l=0;l<this.queries.length;l++)this.queries[l].template(s,o)}getByIndex(s){return this.queries[s]}get length(){return this.queries.length}track(s){this.queries.push(s)}}class rE{constructor(s,o=-1){this.metadata=s,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=o}elementStart(s,o){this.isApplyingToNode(o)&&this.matchTNode(s,o)}elementEnd(s){this._declarationNodeIndex===s.index&&(this._appliesToNextNode=!1)}template(s,o){this.elementStart(s,o)}embeddedTView(s,o){return this.isApplyingToNode(s)?(this.crossesNgTemplate=!0,this.addMatch(-s.index,o),new rE(this.metadata)):null}isApplyingToNode(s){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const o=this._declarationNodeIndex;let l=s.parent;for(;null!==l&&8&l.type&&l.index!==o;)l=l.parent;return o===(null!==l?l.index:-1)}return this._appliesToNextNode}matchTNode(s,o){const l=this.metadata.predicate;if(Array.isArray(l))for(let d=0;d<l.length;d++){const f=l[d];this.matchTNodeWithReadOption(s,o,hT(o,f)),this.matchTNodeWithReadOption(s,o,H(o,s,f,!1,!1))}else l===$g?4&o.type&&this.matchTNodeWithReadOption(s,o,-1):this.matchTNodeWithReadOption(s,o,H(o,s,l,!1,!1))}matchTNodeWithReadOption(s,o,l){if(null!==l){const d=this.metadata.read;if(null!==d)if(d===Bl||d===n_||d===$g&&4&o.type)this.addMatch(o.index,-2);else{const f=H(o,s,d,!1,!1);null!==f&&this.addMatch(o.index,f)}else this.addMatch(o.index,l)}}addMatch(s,o){null===this.matches?this.matches=[s,o]:this.matches.push(s,o)}}function hT(i,s){const o=i.localNames;if(null!==o)for(let l=0;l<o.length;l+=2)if(o[l]===s)return o[l+1];return null}function pT(i,s,o,l){return-1===o?function(i,s){return 11&i.type?Pf(i,s):4&i.type?t_(i,s):null}(s,i):-2===o?function(i,s,o){return o===Bl?Pf(s,i):o===$g?t_(s,i):o===n_?X0(s,i):void 0}(i,s,l):Z(i,i[1],o,s)}function Rw(i,s,o,l){const d=s[19].queries[l];if(null===d.matches){const f=i.data,v=o.matches,w=[];for(let N=0;N<v.length;N+=2){const P=v[N];w.push(P<0?null:pT(s,f[P],v[N+1],o.metadata.read))}d.matches=w}return d.matches}function iE(i,s,o,l){const d=i.queries.getByIndex(o),f=d.matches;if(null!==f){const v=Rw(i,s,d,o);for(let w=0;w<f.length;w+=2){const N=f[w];if(N>0)l.push(v[w/2]);else{const P=f[w+1],G=s[-N];for(let J=10;J<G.length;J++){const te=G[J];te[17]===te[3]&&iE(te[1],te,P,l)}if(null!==G[9]){const J=G[9];for(let te=0;te<J.length;te++){const ge=J[te];iE(ge[1],ge,P,l)}}}}}return l}function Mw(i){const s=ht(),o=An(),l=Ya();Vu(l+1);const d=Fw(o,l);if(i.dirty&&wi(s)===(2==(2&d.metadata.flags))){if(null===d.matches)i.reset([]);else{const f=d.crossesNgTemplate?iE(o,s,l,[]):Rw(o,s,d,l);i.reset(f,H0),i.notifyOnChanges()}return!0}return!1}function Ow(i,s,o,l){const d=An();if(d.firstCreatePass){const f=Er();(function(i,s,o){null===i.queries&&(i.queries=new nE),i.queries.track(new rE(s,o))})(d,new Nw(s,o,l),f.index),function(i,s){const o=i.contentQueries||(i.contentQueries=[]);s!==(o.length?o[o.length-1]:-1)&&o.push(i.queries.length-1,s)}(d,i),2==(2&o)&&(d.staticContentQueries=!0)}!function(i,s,o){const l=new a_(4==(4&o));Yh(i,s,l,l.destroy),null===s[19]&&(s[19]=new tE),s[19].queries.push(new eE(l))}(d,ht(),o)}function xw(){return i=ht(),s=Ya(),i[19].queries[s].queryList;var i,s}function Fw(i,s){return i.queries.getByIndex(s)}const cE=new Gn("Application Initializer");let jf=(()=>{class i{constructor(o){this.appInits=o,this.resolve=Yy,this.reject=Yy,this.initialized=!1,this.done=!1,this.donePromise=new Promise((l,d)=>{this.resolve=l,this.reject=d})}runInitializers(){if(this.initialized)return;const o=[],l=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let d=0;d<this.appInits.length;d++){const f=this.appInits[d]();if(Ag(f))o.push(f);else if(Ng(f)){const v=new Promise((w,N)=>{f.subscribe({complete:w,error:N})});o.push(v)}}Promise.all(o).then(()=>{l()}).catch(d=>{this.reject(d)}),0===o.length&&l(),this.initialized=!0}}return i.\u0275fac=function(o){return new(o||i)(Yn(cE,8))},i.\u0275prov=wn({token:i,factory:i.\u0275fac}),i})();const eC=new Gn("AppId"),WT={provide:eC,useFactory:function(){return`${dE()}${dE()}${dE()}`},deps:[]};function dE(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const tC=new Gn("Platform Initializer"),nC=new Gn("Platform ID"),rC=new Gn("appBootstrapListener");let iC=(()=>{class i{log(o){console.log(o)}warn(o){console.warn(o)}}return i.\u0275fac=function(o){return new(o||i)},i.\u0275prov=wn({token:i,factory:i.\u0275fac}),i})();const c_=new Gn("LocaleId"),sC=new Gn("DefaultCurrencyCode");class KT{constructor(s,o){this.ngModuleFactory=s,this.componentFactories=o}}const hE=function(i){return new Jv(i)},ZT=hE,YT=function(i){return Promise.resolve(hE(i))},oC=function(i){const s=hE(i),l=Ss(bn(i).declarations).reduce((d,f)=>{const v=qt(f);return v&&d.push(new ww(v)),d},[]);return new KT(s,l)},QT=oC,JT=function(i){return Promise.resolve(oC(i))};let tm=(()=>{class i{constructor(){this.compileModuleSync=ZT,this.compileModuleAsync=YT,this.compileModuleAndAllComponentsSync=QT,this.compileModuleAndAllComponentsAsync=JT}clearCache(){}clearCacheFor(o){}getModuleId(o){}}return i.\u0275fac=function(o){return new(o||i)},i.\u0275prov=wn({token:i,factory:i.\u0275fac}),i})();const tS=(()=>Promise.resolve(0))();function fE(i){"undefined"==typeof Zone?tS.then(()=>{i&&i.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",i)}class ou{constructor({enableLongStackTrace:s=!1,shouldCoalesceEventChangeDetection:o=!1,shouldCoalesceRunChangeDetection:l=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new jl(!1),this.onMicrotaskEmpty=new jl(!1),this.onStable=new jl(!1),this.onError=new jl(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const d=this;d._nesting=0,d._outer=d._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(d._inner=d._inner.fork(new Zone.TaskTrackingZoneSpec)),s&&Zone.longStackTraceZoneSpec&&(d._inner=d._inner.fork(Zone.longStackTraceZoneSpec)),d.shouldCoalesceEventChangeDetection=!l&&o,d.shouldCoalesceRunChangeDetection=l,d.lastRequestAnimationFrameId=-1,d.nativeRequestAnimationFrame=function(){let i=se.requestAnimationFrame,s=se.cancelAnimationFrame;if("undefined"!=typeof Zone&&i&&s){const o=i[Zone.__symbol__("OriginalDelegate")];o&&(i=o);const l=s[Zone.__symbol__("OriginalDelegate")];l&&(s=l)}return{nativeRequestAnimationFrame:i,nativeCancelAnimationFrame:s}}().nativeRequestAnimationFrame,function(i){const s=()=>{!function(i){i.isCheckStableRunning||-1!==i.lastRequestAnimationFrameId||(i.lastRequestAnimationFrameId=i.nativeRequestAnimationFrame.call(se,()=>{i.fakeTopEventTask||(i.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{i.lastRequestAnimationFrameId=-1,gE(i),i.isCheckStableRunning=!0,pE(i),i.isCheckStableRunning=!1},void 0,()=>{},()=>{})),i.fakeTopEventTask.invoke()}),gE(i))}(i)};i._inner=i._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(o,l,d,f,v,w)=>{try{return aC(i),o.invokeTask(d,f,v,w)}finally{(i.shouldCoalesceEventChangeDetection&&"eventTask"===f.type||i.shouldCoalesceRunChangeDetection)&&s(),uC(i)}},onInvoke:(o,l,d,f,v,w,N)=>{try{return aC(i),o.invoke(d,f,v,w,N)}finally{i.shouldCoalesceRunChangeDetection&&s(),uC(i)}},onHasTask:(o,l,d,f)=>{o.hasTask(d,f),l===d&&("microTask"==f.change?(i._hasPendingMicrotasks=f.microTask,gE(i),pE(i)):"macroTask"==f.change&&(i.hasPendingMacrotasks=f.macroTask))},onHandleError:(o,l,d,f)=>(o.handleError(d,f),i.runOutsideAngular(()=>i.onError.emit(f)),!1)})}(d)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!ou.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(ou.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(s,o,l){return this._inner.run(s,o,l)}runTask(s,o,l,d){const f=this._inner,v=f.scheduleEventTask("NgZoneEvent: "+d,s,rS,Yy,Yy);try{return f.runTask(v,o,l)}finally{f.cancelTask(v)}}runGuarded(s,o,l){return this._inner.runGuarded(s,o,l)}runOutsideAngular(s){return this._outer.run(s)}}const rS={};function pE(i){if(0==i._nesting&&!i.hasPendingMicrotasks&&!i.isStable)try{i._nesting++,i.onMicrotaskEmpty.emit(null)}finally{if(i._nesting--,!i.hasPendingMicrotasks)try{i.runOutsideAngular(()=>i.onStable.emit(null))}finally{i.isStable=!0}}}function gE(i){i.hasPendingMicrotasks=!!(i._hasPendingMicrotasks||(i.shouldCoalesceEventChangeDetection||i.shouldCoalesceRunChangeDetection)&&-1!==i.lastRequestAnimationFrameId)}function aC(i){i._nesting++,i.isStable&&(i.isStable=!1,i.onUnstable.emit(null))}function uC(i){i._nesting--,pE(i)}class oS{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new jl,this.onMicrotaskEmpty=new jl,this.onStable=new jl,this.onError=new jl}run(s,o,l){return s.apply(o,l)}runGuarded(s,o,l){return s.apply(o,l)}runOutsideAngular(s){return s()}runTask(s,o,l,d){return s.apply(o,l)}}let lC=(()=>{class i{constructor(o){this._ngZone=o,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),o.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{ou.assertNotInAngularZone(),fE(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())fE(()=>{for(;0!==this._callbacks.length;){let o=this._callbacks.pop();clearTimeout(o.timeoutId),o.doneCb(this._didWork)}this._didWork=!1});else{let o=this.getPendingTasks();this._callbacks=this._callbacks.filter(l=>!l.updateCb||!l.updateCb(o)||(clearTimeout(l.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(o=>({source:o.source,creationLocation:o.creationLocation,data:o.data})):[]}addCallback(o,l,d){let f=-1;l&&l>0&&(f=setTimeout(()=>{this._callbacks=this._callbacks.filter(v=>v.timeoutId!==f),o(this._didWork,this.getPendingTasks())},l)),this._callbacks.push({doneCb:o,timeoutId:f,updateCb:d})}whenStable(o,l,d){if(d&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(o,l,d),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(o,l,d){return[]}}return i.\u0275fac=function(o){return new(o||i)(Yn(ou))},i.\u0275prov=wn({token:i,factory:i.\u0275fac}),i})(),cC=(()=>{class i{constructor(){this._applications=new Map,mE.addToWindow(this)}registerApplication(o,l){this._applications.set(o,l)}unregisterApplication(o){this._applications.delete(o)}unregisterAllApplications(){this._applications.clear()}getTestability(o){return this._applications.get(o)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(o,l=!0){return mE.findTestabilityInTree(this,o,l)}}return i.\u0275fac=function(o){return new(o||i)},i.\u0275prov=wn({token:i,factory:i.\u0275fac}),i})();class aS{addToWindow(s){}findTestabilityInTree(s,o,l){return null}}function uS(i){mE=i}let mE=new aS,dC=!0,hC=!1;function yE(){return hC=!0,dC}function lS(){if(hC)throw new Error("Cannot enable prod mode after platform setup.");dC=!1}let ll;const fC=new Gn("AllowMultipleToken");class mS{constructor(s,o){this.name=s,this.token=o}}function pC(i,s,o=[]){const l=`Platform: ${s}`,d=new Gn(l);return(f=[])=>{let v=gC();if(!v||v.injector.get(fC,!1))if(i)i(o.concat(f).concat({provide:d,useValue:!0}));else{const w=o.concat(f).concat({provide:d,useValue:!0},{provide:gc,useValue:"platform"});!function(i){if(ll&&!ll.destroyed&&!ll.injector.get(fC,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");ll=i.get(mC);const s=i.get(tC,null);s&&s.forEach(o=>o())}(Tr.create({providers:w,name:l}))}return function(i){const s=gC();if(!s)throw new Error("No platform exists!");if(!s.injector.get(i,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return s}(d)}}function gC(){return ll&&!ll.destroyed?ll:null}let mC=(()=>{class i{constructor(o){this._injector=o,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(o,l){const w=function(i,s){let o;return o="noop"===i?new oS:("zone.js"===i?void 0:i)||new ou({enableLongStackTrace:yE(),shouldCoalesceEventChangeDetection:!!(null==s?void 0:s.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==s?void 0:s.ngZoneRunCoalescing)}),o}(l?l.ngZone:void 0,{ngZoneEventCoalescing:l&&l.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:l&&l.ngZoneRunCoalescing||!1}),N=[{provide:ou,useValue:w}];return w.run(()=>{const P=Tr.create({providers:N,parent:this.injector,name:o.moduleType.name}),G=o.create(P),J=G.injector.get(yt,null);if(!J)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return w.runOutsideAngular(()=>{const te=w.onError.subscribe({next:ge=>{J.handleError(ge)}});G.onDestroy(()=>{_E(this._modules,G),te.unsubscribe()})}),function(i,s,o){try{const l=o();return Ag(l)?l.catch(d=>{throw s.runOutsideAngular(()=>i.handleError(d)),d}):l}catch(l){throw s.runOutsideAngular(()=>i.handleError(l)),l}}(J,w,()=>{const te=G.injector.get(jf);return te.runInitializers(),te.donePromise.then(()=>(Nv(G.injector.get(c_,zy)||zy),this._moduleDoBootstrap(G),G))})})}bootstrapModule(o,l=[]){const d=yC({},l);return function(i,s,o){const l=new Jv(o);return Promise.resolve(l)}(0,0,o).then(f=>this.bootstrapModuleFactory(f,d))}_moduleDoBootstrap(o){const l=o.injector.get(nm);if(o._bootstrapComponents.length>0)o._bootstrapComponents.forEach(d=>l.bootstrap(d));else{if(!o.instance.ngDoBootstrap)throw new Error(`The module ${de(o.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);o.instance.ngDoBootstrap(l)}this._modules.push(o)}onDestroy(o){this._destroyListeners.push(o)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(o=>o.destroy()),this._destroyListeners.forEach(o=>o()),this._destroyed=!0}get destroyed(){return this._destroyed}}return i.\u0275fac=function(o){return new(o||i)(Yn(Tr))},i.\u0275prov=wn({token:i,factory:i.\u0275fac}),i})();function yC(i,s){return Array.isArray(s)?s.reduce(yC,i):Object.assign(Object.assign({},i),s)}let nm=(()=>{class i{constructor(o,l,d,f,v){this._zone=o,this._injector=l,this._exceptionHandler=d,this._componentFactoryResolver=f,this._initStatus=v,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const w=new oe.y(P=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{P.next(this._stable),P.complete()})}),N=new oe.y(P=>{let G;this._zone.runOutsideAngular(()=>{G=this._zone.onStable.subscribe(()=>{ou.assertNotInAngularZone(),fE(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,P.next(!0))})})});const J=this._zone.onUnstable.subscribe(()=>{ou.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{P.next(!1)}))});return()=>{G.unsubscribe(),J.unsubscribe()}});this.isStable=(0,Ie.T)(w,N.pipe(i=>(0,Ce.x)()(function(i,s){return function(l){let d;d="function"==typeof i?i:function(){return i};const f=Object.create(l,Re.N);return f.source=l,f.subjectFactory=d,f}}(fe)(i))))}bootstrap(o,l){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let d;d=o instanceof U0?o:this._componentFactoryResolver.resolveComponentFactory(o),this.componentTypes.push(d.componentType);const f=function(i){return i.isBoundToModule}(d)?void 0:this._injector.get(oh),w=d.create(Tr.NULL,[],l||d.selector,f),N=w.location.nativeElement,P=w.injector.get(lC,null),G=P&&w.injector.get(cC);return P&&G&&G.registerApplication(N,P),w.onDestroy(()=>{this.detachView(w.hostView),_E(this.components,w),G&&G.unregisterApplication(N)}),this._loadComponent(w),w}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let o of this._views)o.detectChanges()}catch(o){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(o))}finally{this._runningTick=!1}}attachView(o){const l=o;this._views.push(l),l.attachToAppRef(this)}detachView(o){const l=o;_E(this._views,l),l.detachFromAppRef()}_loadComponent(o){this.attachView(o.hostView),this.tick(),this.components.push(o),this._injector.get(rC,[]).concat(this._bootstrapListeners).forEach(d=>d(o))}ngOnDestroy(){this._views.slice().forEach(o=>o.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return i.\u0275fac=function(o){return new(o||i)(Yn(ou),Yn(Tr),Yn(yt),Yn(sh),Yn(jf))},i.\u0275prov=wn({token:i,factory:i.\u0275fac}),i})();function _E(i,s){const o=i.indexOf(s);o>-1&&i.splice(o,1)}class CS{}class IS{}const DS={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let TS=(()=>{class i{constructor(o,l){this._compiler=o,this._config=l||DS}load(o){return this.loadAndCompile(o)}loadAndCompile(o){let[l,d]=o.split("#");return void 0===d&&(d="default"),W(8255)(l).then(f=>f[d]).then(f=>wC(f,l,d)).then(f=>this._compiler.compileModuleAsync(f))}loadFactory(o){let[l,d]=o.split("#"),f="NgFactory";return void 0===d&&(d="default",f=""),W(8255)(this._config.factoryPathPrefix+l+this._config.factoryPathSuffix).then(v=>v[d+f]).then(v=>wC(v,l,d))}}return i.\u0275fac=function(o){return new(o||i)(Yn(tm),Yn(IS,8))},i.\u0275prov=wn({token:i,factory:i.\u0275fac}),i})();function wC(i,s,o){if(!i)throw new Error(`Cannot find '${o}' in '${s}'`);return i}const PS=function(i){return null},FS=pC(null,"core",[{provide:nC,useValue:"unknown"},{provide:mC,deps:[Tr]},{provide:cC,deps:[]},{provide:iC,deps:[]}]),jS=[{provide:nm,useClass:nm,deps:[ou,Tr,yt,sh,jf]},{provide:VD,deps:[ou],useFactory:function(i){let s=[];return i.onStable.subscribe(()=>{for(;s.length;)s.pop()()}),function(o){s.push(o)}}},{provide:jf,useClass:jf,deps:[[new nn,cE]]},{provide:tm,useClass:tm,deps:[]},WT,{provide:Jy,useFactory:function(){return OI},deps:[]},{provide:Xy,useFactory:function(){return xI},deps:[]},{provide:c_,useFactory:function(i){return Nv(i=i||"undefined"!=typeof $localize&&$localize.locale||zy),i},deps:[[new zt(c_),new nn,new fr]]},{provide:sC,useValue:"USD"}];let $S=(()=>{class i{constructor(o){}}return i.\u0275fac=function(o){return new(o||i)(Yn(nm))},i.\u0275mod=ui({type:i}),i.\u0275inj=ir({providers:jS}),i})()},8006:(Mt,Ke,W)=>{"use strict";W.d(Ke,{zQ:()=>at,ww:()=>ut,rT:()=>Be,f7:()=>He,L6:()=>Ae,_Q:()=>Le,lh:()=>ze,Qv:()=>Ct,nw:()=>ue});var D=W(3018),U=W(9765),oe=W(5917),Ie=W(7574),Re=W(4402),ve=W(6682),Ue=W(7771),Ce=W(5319),fe=W(309),ne=W(7971),ae=W(8858);class pe extends U.xQ{constructor(ft=Number.POSITIVE_INFINITY,It=Number.POSITIVE_INFINITY,en){super(),this.scheduler=en,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=ft<1?1:ft,this._windowTime=It<1?1:It,It===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(ft){if(!this.isStopped){const It=this._events;It.push(ft),It.length>this._bufferSize&&It.shift()}super.next(ft)}nextTimeWindow(ft){this.isStopped||(this._events.push(new de(this._getNow(),ft)),this._trimBufferThenGetEvents()),super.next(ft)}_subscribe(ft){const It=this._infiniteTimeWindow,en=It?this._events:this._trimBufferThenGetEvents(),tn=this.scheduler,Ln=en.length;let jt;if(this.closed)throw new ne.N;if(this.isStopped||this.hasError?jt=Ce.w.EMPTY:(this.observers.push(ft),jt=new ae.W(this,ft)),tn&&ft.add(ft=new fe.ht(ft,tn)),It)for(let Ht=0;Ht<Ln&&!ft.closed;Ht++)ft.next(en[Ht]);else for(let Ht=0;Ht<Ln&&!ft.closed;Ht++)ft.next(en[Ht].value);return this.hasError?ft.error(this.thrownError):this.isStopped&&ft.complete(),jt}_getNow(){return(this.scheduler||Ue.c).now()}_trimBufferThenGetEvents(){const ft=this._getNow(),It=this._bufferSize,en=this._windowTime,tn=this._events,Ln=tn.length;let jt=0;for(;jt<Ln&&!(ft-tn[jt].time<en);)jt++;return Ln>It&&(jt=Math.max(jt,Ln-It)),jt>0&&tn.splice(0,jt),tn}}class de{constructor(ft,It){this.time=ft,this.value=It}}function Te(St,ft,It){let en;return en=St&&"object"==typeof St?St:{bufferSize:St,windowTime:ft,refCount:!1,scheduler:It},tn=>tn.lift(function({bufferSize:St=Number.POSITIVE_INFINITY,windowTime:ft=Number.POSITIVE_INFINITY,refCount:It,scheduler:en}){let tn,jt,Ln=0,Ht=!1,mt=!1;return function(xn){let Tn;Ln++,!tn||Ht?(Ht=!1,tn=new pe(St,ft,en),Tn=tn.subscribe(this),jt=xn.subscribe({next(wn){tn.next(wn)},error(wn){Ht=!0,tn.error(wn)},complete(){mt=!0,jt=void 0,tn.complete()}}),mt&&(jt=void 0)):Tn=tn.subscribe(this),this.add(()=>{Ln--,Tn.unsubscribe(),Tn=void 0,jt&&!mt&&It&&0===Ln&&(jt.unsubscribe(),jt=void 0,tn=void 0)})}}(en))}var xe=W(3190);function ke(St,ft){return ft?(0,xe.w)(()=>St,ft):(0,xe.w)(()=>St)}var it=W(8002),Ye=W(8049),lt=W(3101),dt=W(5435),Qe=W(9126),we=W(9958),We=W(8583);const Ct=new D.OlP("angularfire2.auth.use-emulator"),Ae=new D.OlP("angularfire2.auth.settings"),Le=new D.OlP("angularfire2.auth.tenant-id"),Be=new D.OlP("angularfire2.auth.langugage-code"),ze=new D.OlP("angularfire2.auth.use-device-language"),He=new D.OlP("angularfire.auth.persistence"),ue=(St,ft,It,en,tn,Ln,jt,Ht)=>(0,Qe.cc)(`${St.name}.auth`,"AngularFireAuth",St.name,()=>{const mt=ft.runOutsideAngular(()=>St.auth());if(It&&mt.useEmulator(...It),en&&(mt.tenantId=en),mt.languageCode=tn,Ln&&mt.useDeviceLanguage(),jt)for(const[Vn,xn]of Object.entries(jt))mt.settings[Vn]=xn;return Ht&&mt.setPersistence(Ht),mt},[It,en,tn,Ln,jt,Ht]);let at=(()=>{class St{constructor(It,en,tn,Ln,jt,Ht,mt,Vn,xn,Tn,wn){const Vr=new U.xQ,ir=(0,oe.of)(void 0).pipe((0,fe.QV)(jt.outsideAngular),(0,xe.w)(()=>Ln.runOutsideAngular(()=>Promise.resolve().then(W.bind(W,9083)))),(0,it.U)(()=>(0,we.on)(It,Ln,en)),(0,it.U)(dn=>ue(dn,Ln,Ht,Vn,xn,Tn,mt,wn)),Te({bufferSize:1,refCount:!1}));if((0,We.PM)(tn))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,oe.of)(null);else{ir.pipe((0,Ye.P)()).subscribe();const Kn=ir.pipe((0,xe.w)(hn=>hn.getRedirectResult().then(Pn=>Pn,()=>null)),Qe.iC,Te({bufferSize:1,refCount:!1})),Qn=ir.pipe((0,xe.w)(hn=>new Ie.y(Pn=>({unsubscribe:Ln.runOutsideAngular(()=>hn.onAuthStateChanged(Cn=>Pn.next(Cn),Cn=>Pn.error(Cn),()=>Pn.complete()))})))),ur=ir.pipe((0,xe.w)(hn=>new Ie.y(Pn=>({unsubscribe:Ln.runOutsideAngular(()=>hn.onIdTokenChanged(Cn=>Pn.next(Cn),Cn=>Pn.error(Cn),()=>Pn.complete()))}))));this.authState=Kn.pipe(ke(Qn),(0,lt.R)(jt.outsideAngular),(0,fe.QV)(jt.insideAngular)),this.user=Kn.pipe(ke(ur),(0,lt.R)(jt.outsideAngular),(0,fe.QV)(jt.insideAngular)),this.idToken=this.user.pipe((0,xe.w)(hn=>hn?(0,Re.D)(hn.getIdToken()):(0,oe.of)(null))),this.idTokenResult=this.user.pipe((0,xe.w)(hn=>hn?(0,Re.D)(hn.getIdTokenResult()):(0,oe.of)(null))),this.credential=(0,ve.T)(Kn,Vr,this.authState.pipe((0,dt.h)(hn=>!hn))).pipe((0,it.U)(hn=>(null==hn?void 0:hn.user)?hn:null),(0,lt.R)(jt.outsideAngular),(0,fe.QV)(jt.insideAngular))}return(0,we.pX)(this,ir,Ln,{spy:{apply:(dn,Kn,Qn)=>{(dn.startsWith("signIn")||dn.startsWith("createUser"))&&Qn.then(ur=>Vr.next(ur))}}})}}return St.\u0275fac=function(It){return new(It||St)(D.LFG(we.Dh),D.LFG(we.xv,8),D.LFG(D.Lbi),D.LFG(D.R0b),D.LFG(Qe.HU),D.LFG(Ct,8),D.LFG(Ae,8),D.LFG(Le,8),D.LFG(Be,8),D.LFG(ze,8),D.LFG(He,8))},St.\u0275prov=D.Yz7({token:St,factory:St.\u0275fac,providedIn:"any"}),St})(),ut=(()=>{class St{}return St.\u0275fac=function(It){return new(It||St)},St.\u0275mod=D.oAB({type:St}),St.\u0275inj=D.cJS({providers:[at]}),St})()},5391:(Mt,Ke,W)=>{"use strict";W.d(Ke,{ST:()=>Gy,yb:()=>Tv});var D=W(3018),U=W(3637),oe=W(7574),Ie=W(4402),Re=W(5917),ve=W(9126),Ue=W(7393);function Ce(){return u=>u.lift(new fe)}class fe{call(r,a){return a.subscribe(new ne(r))}}class ne extends Ue.L{constructor(r){super(r),this.hasPrev=!1}_next(r){let a;this.hasPrev?a=[this.prev,r]:this.hasPrev=!0,this.prev=r,a&&this.destination.next(a)}}class pe{constructor(r,a){this.compare=r,this.keySelector=a}call(r,a){return a.subscribe(new de(r,this.compare,this.keySelector))}}class de extends Ue.L{constructor(r,a,c){super(r),this.keySelector=c,this.hasKey=!1,"function"==typeof a&&(this.compare=a)}compare(r,a){return r===a}_next(r){let a;try{const{keySelector:h}=this;a=h?h(r):r}catch(h){return this.destination.error(h)}let c=!1;if(this.hasKey)try{const{compare:h}=this;c=h(this.key,a)}catch(h){return this.destination.error(h)}else this.hasKey=!0;c||(this.key=a,this.destination.next(r))}}var Te=W(9761),Ge=W(8002),xe=W(2145),ke=W(5435),it=W(309),Ye=W(9958),lt=W(8583),Qe=(W(9083),W(4486)),we=W(8239),We=W(5452),Jt=W(6034),Ct=W(300),Ae=W(4685),Le=function(u,r){return(Le=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var h in c)Object.prototype.hasOwnProperty.call(c,h)&&(a[h]=c[h])})(u,r)};function ze(u){var r="function"==typeof Symbol&&Symbol.iterator,a=r&&u[r],c=0;if(a)return a.call(u);if(u&&"number"==typeof u.length)return{next:function(){return u&&c>=u.length&&(u=void 0),{value:u&&u[c++],done:!u}}};throw new TypeError(r?"Object is not iterable.":"Symbol.iterator is not defined.")}var ue,He="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},at=at||{},ut=He||self;function St(){}function ft(u){var r=typeof u;return"array"==(r="object"!=r?r:u?Array.isArray(u)?"array":r:"null")||"object"==r&&"number"==typeof u.length}function It(u){var r=typeof u;return"object"==r&&null!=u||"function"==r}var tn="closure_uid_"+(1e9*Math.random()>>>0),Ln=0;function jt(u,r,a){return u.call.apply(u.bind,arguments)}function Ht(u,r,a){if(!u)throw Error();if(2<arguments.length){var c=Array.prototype.slice.call(arguments,2);return function(){var h=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(h,c),u.apply(r,h)}}return function(){return u.apply(r,arguments)}}function mt(u,r,a){return(mt=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?jt:Ht).apply(null,arguments)}function Vn(u,r){var a=Array.prototype.slice.call(arguments,1);return function(){var c=a.slice();return c.push.apply(c,arguments),u.apply(this,c)}}function xn(u,r){function a(){}a.prototype=r.prototype,u.Z=r.prototype,u.prototype=new a,u.prototype.constructor=u,u.Vb=function(c,h,E){for(var A=Array(arguments.length-2),L=2;L<arguments.length;L++)A[L-2]=arguments[L];return r.prototype[h].apply(c,A)}}function Tn(){this.s=this.s,this.o=this.o}var Vr={};Tn.prototype.s=!1,Tn.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var u=function(u){return Object.prototype.hasOwnProperty.call(u,tn)&&u[tn]||(u[tn]=++Ln)}(this);delete Vr[u]}},Tn.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var ir=Array.prototype.indexOf?function(u,r){return Array.prototype.indexOf.call(u,r,void 0)}:function(u,r){if("string"==typeof u)return"string"!=typeof r||1!=r.length?-1:u.indexOf(r,0);for(var a=0;a<u.length;a++)if(a in u&&u[a]===r)return a;return-1},dn=Array.prototype.forEach?function(u,r,a){Array.prototype.forEach.call(u,r,a)}:function(u,r,a){for(var c=u.length,h="string"==typeof u?u.split(""):u,E=0;E<c;E++)E in h&&r.call(a,h[E],E,u)};function Qn(u){return Array.prototype.concat.apply([],arguments)}function ur(u){var r=u.length;if(0<r){for(var a=Array(r),c=0;c<r;c++)a[c]=u[c];return a}return[]}function hn(u){return/^[\s\xa0]*$/.test(u)}var Fe,Pn=String.prototype.trim?function(u){return u.trim()}:function(u){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(u)[1]};function Cn(u,r){return-1!=u.indexOf(r)}function Ur(u,r){return u<r?-1:u>r?1:0}e:{var ee=ut.navigator;if(ee){var ye=ee.userAgent;if(ye){Fe=ye;break e}}Fe=""}function tt(u,r,a){for(var c in u)r.call(a,u[c],c,u)}function Xe(u){var r={};for(var a in u)r[a]=u[a];return r}var bt="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function gt(u,r){for(var a,c,h=1;h<arguments.length;h++){for(a in c=arguments[h])u[a]=c[a];for(var E=0;E<bt.length;E++)a=bt[E],Object.prototype.hasOwnProperty.call(c,a)&&(u[a]=c[a])}}function Et(u){return Et[" "](u),u}Et[" "]=St;var se,u,lr=Cn(Fe,"Opera"),cr=Cn(Fe,"Trident")||Cn(Fe,"MSIE"),jn=Cn(Fe,"Edge"),tr=jn||cr,Nt=Cn(Fe,"Gecko")&&!(Cn(Fe.toLowerCase(),"webkit")&&!Cn(Fe,"Edge"))&&!(Cn(Fe,"Trident")||Cn(Fe,"MSIE"))&&!Cn(Fe,"Edge"),on=Cn(Fe.toLowerCase(),"webkit")&&!Cn(Fe,"Edge");function _e(){var u=ut.document;return u?u.documentMode:void 0}e:{var Se="",je=(u=Fe,Nt?/rv:([^\);]+)(\)|;)/.exec(u):jn?/Edge\/([\d\.]+)/.exec(u):cr?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(u):on?/WebKit\/(\S+)/.exec(u):lr?/(?:Version)[ \/]?(\S+)/.exec(u):void 0);if(je&&(Se=je?je[1]:""),cr){var Me=_e();if(null!=Me&&Me>parseFloat(Se)){se=String(Me);break e}}se=Se}var rt={};function xt(){return r=rt,Object.prototype.hasOwnProperty.call(r,9)?r[9]:r[9]=function(){for(var u=0,r=Pn(String(se)).split("."),a=Pn("9").split("."),c=Math.max(r.length,a.length),h=0;0==u&&h<c;h++){var E=r[h]||"",A=a[h]||"";do{if(E=/(\d*)(\D*)(.*)/.exec(E)||["","","",""],A=/(\d*)(\D*)(.*)/.exec(A)||["","","",""],0==E[0].length&&0==A[0].length)break;u=Ur(0==E[1].length?0:parseInt(E[1],10),0==A[1].length?0:parseInt(A[1],10))||Ur(0==E[2].length,0==A[2].length)||Ur(E[2],A[2]),E=E[3],A=A[3]}while(0==u)}return 0<=u}();var r}var fn=ut.document&&cr&&(_e()||parseInt(se,10))||void 0,gr=function(){if(!ut.addEventListener||!Object.defineProperty)return!1;var u=!1,r=Object.defineProperty({},"passive",{get:function(){u=!0}});try{ut.addEventListener("test",St,r),ut.removeEventListener("test",St,r)}catch(a){}return u}();function $t(u,r){this.type=u,this.g=this.target=r,this.defaultPrevented=!1}function Rn(u,r){if($t.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var a=this.type=u.type,c=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=r,r=u.relatedTarget){if(Nt){e:{try{Et(r.nodeName);var h=!0;break e}catch(E){}h=!1}h||(r=null)}}else"mouseover"==a?r=u.fromElement:"mouseout"==a&&(r=u.toElement);this.relatedTarget=r,c?(this.clientX=void 0!==c.clientX?c.clientX:c.pageX,this.clientY=void 0!==c.clientY?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0):(this.clientX=void 0!==u.clientX?u.clientX:u.pageX,this.clientY=void 0!==u.clientY?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType="string"==typeof u.pointerType?u.pointerType:hs[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&Rn.Z.h.call(this)}}$t.prototype.h=function(){this.defaultPrevented=!0},xn(Rn,$t);var hs={2:"touch",3:"pen",4:"mouse"};Rn.prototype.h=function(){Rn.Z.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var ei="closure_listenable_"+(1e6*Math.random()|0),Yo=0;function es(u,r,a,c,h){this.listener=u,this.proxy=null,this.src=r,this.type=a,this.capture=!!c,this.ia=h,this.key=++Yo,this.ca=this.fa=!1}function Ns(u){u.ca=!0,u.listener=null,u.proxy=null,u.src=null,u.ia=null}function fs(u){this.src=u,this.g={},this.h=0}function ui(u,r){var a=r.type;if(a in u.g){var E,c=u.g[a],h=ir(c,r);(E=0<=h)&&Array.prototype.splice.call(c,h,1),E&&(Ns(r),0==u.g[a].length&&(delete u.g[a],u.h--))}}function xr(u,r,a,c){for(var h=0;h<u.length;++h){var E=u[h];if(!E.ca&&E.listener==r&&E.capture==!!a&&E.ia==c)return h}return-1}fs.prototype.add=function(u,r,a,c,h){var E=u.toString();(u=this.g[E])||(u=this.g[E]=[],this.h++);var A=xr(u,r,c,h);return-1<A?(r=u[A],a||(r.fa=!1)):((r=new es(r,this.src,E,!!c,h)).fa=a,u.push(r)),r};var Di="closure_lm_"+(1e6*Math.random()|0),Rs={};function _i(u,r,a,c,h){if(c&&c.once)return Ui(u,r,a,c,h);if(Array.isArray(r)){for(var E=0;E<r.length;E++)_i(u,r[E],a,c,h);return null}return a=Sr(a),u&&u[ei]?u.N(r,a,It(c)?!!c.capture:!!c,h):qt(u,r,a,!1,c,h)}function qt(u,r,a,c,h,E){if(!r)throw Error("Invalid event type");var A=It(h)?!!h.capture:!!h,L=pn(u);if(L||(u[Di]=L=new fs(u)),(a=L.add(r,a,c,A,E)).proxy)return a;if(c=function(){var r=Dt;return function u(a){return r.call(u.src,u.listener,a)}}(),a.proxy=c,c.src=u,c.listener=a,u.addEventListener)gr||(h=A),void 0===h&&(h=!1),u.addEventListener(r.toString(),c,h);else if(u.attachEvent)u.attachEvent(ti(r.toString()),c);else{if(!u.addListener||!u.removeListener)throw Error("addEventListener and attachEvent are unavailable.");u.addListener(c)}return a}function Ui(u,r,a,c,h){if(Array.isArray(r)){for(var E=0;E<r.length;E++)Ui(u,r[E],a,c,h);return null}return a=Sr(a),u&&u[ei]?u.O(r,a,It(c)?!!c.capture:!!c,h):qt(u,r,a,!0,c,h)}function bn(u,r,a,c,h){if(Array.isArray(r))for(var E=0;E<r.length;E++)bn(u,r[E],a,c,h);else c=It(c)?!!c.capture:!!c,a=Sr(a),u&&u[ei]?(u=u.i,(r=String(r).toString())in u.g&&-1<(a=xr(E=u.g[r],a,c,h))&&(Ns(E[a]),Array.prototype.splice.call(E,a,1),0==E.length&&(delete u.g[r],u.h--))):u&&(u=pn(u))&&(r=u.g[r.toString()],u=-1,r&&(u=xr(r,a,c,h)),(a=-1<u?r[u]:null)&&Qo(a))}function Qo(u){if("number"!=typeof u&&u&&!u.ca){var r=u.src;if(r&&r[ei])ui(r.i,u);else{var a=u.type,c=u.proxy;r.removeEventListener?r.removeEventListener(a,c,u.capture):r.detachEvent?r.detachEvent(ti(a),c):r.addListener&&r.removeListener&&r.removeListener(c),(a=pn(r))?(ui(a,u),0==a.h&&(a.src=null,r[Di]=null)):Ns(u)}}}function ti(u){return u in Rs?Rs[u]:Rs[u]="on"+u}function Dt(u,r){if(u.ca)u=!0;else{r=new Rn(r,this);var a=u.listener,c=u.ia||u.src;u.fa&&Qo(u),u=a.call(c,r)}return u}function pn(u){return(u=u[Di])instanceof fs?u:null}var Wn="__closure_events_fn_"+(1e9*Math.random()>>>0);function Sr(u){return"function"==typeof u?u:(u[Wn]||(u[Wn]=function(r){return u.handleEvent(r)}),u[Wn])}function Hn(){Tn.call(this),this.i=new fs(this),this.P=this,this.I=null}function mn(u,r){var a,c=u.I;if(c)for(a=[];c;c=c.I)a.push(c);if(u=u.P,c=r.type||r,"string"==typeof r)r=new $t(r,u);else if(r instanceof $t)r.target=r.target||u;else{var h=r;gt(r=new $t(c,u),h)}if(h=!0,a)for(var E=a.length-1;0<=E;E--){var A=r.g=a[E];h=Qr(A,c,!0,r)&&h}if(h=Qr(A=r.g=u,c,!0,r)&&h,h=Qr(A,c,!1,r)&&h,a)for(E=0;E<a.length;E++)h=Qr(A=r.g=a[E],c,!1,r)&&h}function Qr(u,r,a,c){if(!(r=u.i.g[String(r)]))return!0;r=r.concat();for(var h=!0,E=0;E<r.length;++E){var A=r[E];if(A&&!A.ca&&A.capture==a){var L=A.listener,z=A.ia||A.src;A.fa&&ui(u.i,A),h=!1!==L.call(z,c)&&h}}return h&&!c.defaultPrevented}xn(Hn,Tn),Hn.prototype[ei]=!0,Hn.prototype.removeEventListener=function(u,r,a,c){bn(this,u,r,a,c)},Hn.prototype.M=function(){if(Hn.Z.M.call(this),this.i){var r,u=this.i;for(r in u.g){for(var a=u.g[r],c=0;c<a.length;c++)Ns(a[c]);delete u.g[r],u.h--}}this.I=null},Hn.prototype.N=function(u,r,a,c){return this.i.add(String(u),r,!1,a,c)},Hn.prototype.O=function(u,r,a,c){return this.i.add(String(u),r,!0,a,c)};var Un=ut.JSON.stringify;function ts(){var u=rs,r=null;return u.g&&(r=u.g,u.g=u.g.next,u.g||(u.h=null),r.next=null),r}var ni,ho=function(){function u(){this.h=this.g=null}return u.prototype.add=function(r,a){var c=an.get();c.set(r,a),this.h?this.h.next=c:this.g=c,this.h=c},u}(),an=new(function(){function u(r,a){this.i=r,this.j=a,this.h=0,this.g=null}return u.prototype.get=function(){var r;return 0<this.h?(this.h--,this.g=(r=this.g).next,r.next=null):r=this.i(),r},u}())(function(){return new Fo},function(u){return u.reset()}),Fo=function(){function u(){this.next=this.g=this.h=null}return u.prototype.set=function(r,a){this.h=r,this.g=a,this.next=null},u.prototype.reset=function(){this.next=this.g=this.h=null},u}();function ns(u){ut.setTimeout(function(){throw u},0)}function ps(u,r){ni||function(){var u=ut.Promise.resolve(void 0);ni=function(){u.then(ri)}}(),Bi||(ni(),Bi=!0),rs.add(u,r)}var Bi=!1,rs=new ho;function ri(){for(var u;u=ts();){try{u.h.call(u.g)}catch(a){ns(a)}var r=an;r.j(u),100>r.h&&(r.h++,u.next=r.g,r.g=u)}Bi=!1}function $n(u,r){Hn.call(this),this.h=u||1,this.g=r||ut,this.j=mt(this.kb,this),this.l=Date.now()}function Wr(u){u.da=!1,u.S&&(u.g.clearTimeout(u.S),u.S=null)}function gs(u,r,a){if("function"==typeof u)a&&(u=mt(u,a));else{if(!u||"function"!=typeof u.handleEvent)throw Error("Invalid listener argument");u=mt(u.handleEvent,u)}return 2147483647<Number(r)?-1:ut.setTimeout(u,r||0)}function ms(u){u.g=gs(function(){u.g=null,u.i&&(u.i=!1,ms(u))},u.j);var r=u.h;u.h=null,u.m.apply(null,r)}xn($n,Hn),(ue=$n.prototype).da=!1,ue.S=null,ue.kb=function(){if(this.da){var u=Date.now()-this.l;0<u&&u<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-u):(this.S&&(this.g.clearTimeout(this.S),this.S=null),mn(this,"tick"),this.da&&(Wr(this),this.start()))}},ue.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},ue.M=function(){$n.Z.M.call(this),Wr(this),delete this.g};var vi=function(u){function r(a,c){var h=u.call(this)||this;return h.m=a,h.j=c,h.h=null,h.i=!1,h.g=null,h}return function(u,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function a(){this.constructor=u}Le(u,r),u.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}(r,u),r.prototype.l=function(a){this.h=arguments,this.g?this.i=!0:ms(this)},r.prototype.M=function(){u.prototype.M.call(this),this.g&&(ut.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)},r}(Tn);function qr(u){Tn.call(this),this.h=u,this.g={}}xn(qr,Tn);var ys=[];function Ti(u,r,a,c){Array.isArray(a)||(a&&(ys[0]=a.toString()),a=ys);for(var h=0;h<a.length;h++){var E=_i(r,a[h],c||u.handleEvent,!1,u.h||u);if(!E)break;u.g[E.key]=E}}function br(u){tt(u.g,function(r,a){this.g.hasOwnProperty(a)&&Qo(r)},u),u.g={}}function Hr(){this.g=!0}function Ar(u,r,a,c){u.info(function(){return"XMLHTTP TEXT ("+r+"): "+function(u,r){if(!u.g)return r;if(!r)return null;try{var a=JSON.parse(r);if(a)for(u=0;u<a.length;u++)if(Array.isArray(a[u])){var c=a[u];if(!(2>c.length)){var h=c[1];if(Array.isArray(h)&&!(1>h.length)){var E=h[0];if("noop"!=E&&"stop"!=E&&"close"!=E)for(var A=1;A<h.length;A++)h[A]=""}}}return Un(a)}catch(L){return r}}(u,a)+(c?" "+c:"")})}qr.prototype.M=function(){qr.Z.M.call(this),br(this)},qr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Hr.prototype.Aa=function(){this.g=!1},Hr.prototype.info=function(){};var Nr={},ji=null;function vs(){return ji=ji||new Hn}function Gs(u){$t.call(this,Nr.Ma,u)}function Hi(u){var r=vs();mn(r,new Gs(r,u))}function fo(u,r){$t.call(this,Nr.STAT_EVENT,u),this.stat=r}function dr(u){var r=vs();mn(r,new fo(r,u))}function is(u,r){$t.call(this,Nr.Na,u),this.size=r}function zs(u,r){if("function"!=typeof u)throw Error("Fn must not be null and must be a function");return ut.setTimeout(function(){u()},r)}Nr.Ma="serverreachability",xn(Gs,$t),Nr.STAT_EVENT="statevent",xn(fo,$t),Nr.Na="timingevent",xn(is,$t);var ss={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},Ai={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function Jr(){}function li(){}Jr.prototype.h=null;var Ms,ws={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function Ei(){$t.call(this,"d")}function Ca(){$t.call(this,"c")}function po(){}function os(u,r,a,c){this.l=u,this.j=r,this.m=a,this.X=c||1,this.V=new qr(this),this.P=Os,this.W=new $n(u=tr?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new Ni}function Ni(){this.i=null,this.g="",this.h=!1}xn(Ei,$t),xn(Ca,$t),xn(po,Jr),po.prototype.g=function(){return new XMLHttpRequest},po.prototype.i=function(){return{}},Ms=new po;var Os=45e3,xs={},go={};function $i(u,r,a){u.K=1,u.v=sr(st(r)),u.s=a,u.U=!0,as(u,null)}function as(u,r){u.F=Date.now(),Ws(u),u.A=st(u.v);var a=u.A,c=u.X;Array.isArray(c)||(c=[String(c)]),zi(a.h,"t",c),u.C=0,a=u.l.H,u.h=new Ni,u.g=ks(u.l,a?r:null,!u.s),0<u.O&&(u.L=new vi(mt(u.Ia,u,u.g),u.O)),Ti(u.V,u.g,"readystatechange",u.gb),r=u.H?Xe(u.H):{},u.s?(u.u||(u.u="POST"),r["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.s,r)):(u.u="GET",u.g.ea(u.A,u.u,null,r)),Hi(1),function(u,r,a,c,h,E){u.info(function(){if(u.g)if(E)for(var A="",L=E.split("&"),z=0;z<L.length;z++){var ie=L[z].split("=");if(1<ie.length){var ce=ie[0];ie=ie[1];var be=ce.split("_");A=2<=be.length&&"type"==be[1]?A+(ce+"=")+ie+"&":A+(ce+"=redacted&")}}else A=null;else A=E;return"XMLHTTP REQ ("+c+") [attempt "+h+"]: "+r+"\n"+a+"\n"+A})}(u.j,u.u,u.A,u.m,u.X,u.s)}function Kr(u){return!!u.g&&"GET"==u.u&&2!=u.K&&u.l.Ba}function mo(u,r,a){for(var h,c=!0;!u.I&&u.C<a.length;){if((h=qa(u,a))==go){4==r&&(u.o=4,dr(14),c=!1),Ar(u.j,u.m,null,"[Incomplete Response]");break}if(h==xs){u.o=4,dr(15),Ar(u.j,u.m,a,"[Invalid Chunk]"),c=!1;break}Ar(u.j,u.m,h,null),Y(u,h)}Kr(u)&&h!=go&&h!=xs&&(u.h.g="",u.C=0),4!=r||0!=a.length||u.h.h||(u.o=1,dr(16),c=!1),u.i=u.i&&c,c?0<a.length&&!u.aa&&(u.aa=!0,(r=u.l).g==u&&r.$&&!r.L&&(r.h.info("Great, no buffering proxy detected. Bytes received: "+a.length),Eo(r),r.L=!0,dr(11))):(Ar(u.j,u.m,a,"[Invalid Chunked Response]"),O(u),F(u))}function qa(u,r){var a=u.C,c=r.indexOf("\n",a);return-1==c?go:(a=Number(r.substring(a,c)),isNaN(a)?xs:(c+=1)+a>r.length?go:(r=r.substr(c,a),u.C=c+a,r))}function Ws(u){u.Y=Date.now()+u.P,us(u,u.P)}function us(u,r){if(null!=u.B)throw Error("WatchDog timer not null");u.B=zs(mt(u.eb,u),r)}function j(u){u.B&&(ut.clearTimeout(u.B),u.B=null)}function F(u){0==u.l.G||u.I||di(u.l,u)}function O(u){j(u);var r=u.L;r&&"function"==typeof r.na&&r.na(),u.L=null,Wr(u.W),br(u.V),u.g&&(r=u.g,u.g=null,r.abort(),r.na())}function Y(u,r){try{var a=u.l;if(0!=a.G&&(a.g==u||Er(a.i,u)))if(a.I=u.N,!u.J&&Er(a.i,u)&&3==a.G){try{var c=a.Ca.g.parse(r)}catch(Nn){c=null}if(Array.isArray(c)&&3==c.length){var h=c;if(0==h[0])e:if(a.u)a.ta=h[1],0<a.ta-a.U&&37500>h[2]&&a.N&&0==a.A&&!a.v&&(a.v=zs(mt(a.ab,a),6e3));else{if(a.g){if(!(a.g.F+3e3<u.F))break e;Ja(a),ci(a)}vo(a),dr(18)}if(1>=ba(a.i)&&a.ka){try{a.ka()}catch(Nn){}a.ka=void 0}}else si(a,11)}else if((u.J||a.g==u)&&Ja(a),!hn(r))for(h=a.Ca.g.parse(r),r=0;r<h.length;r++){var E=h[r];if(a.U=E[0],E=E[1],2==a.G)if("c"==E[0]){a.J=E[1],a.la=E[2];var A=E[3];null!=A&&(a.ma=A,a.h.info("VER="+a.ma));var L=E[4];null!=L&&(a.za=L,a.h.info("SVER="+a.za));var z=E[5];null!=z&&"number"==typeof z&&0<z&&(a.K=c=1.5*z,a.h.info("backChannelRequestTimeoutMs_="+c)),c=a;var ie=u.g;if(ie){var ce=ie.g?ie.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ce){var be=c.i;!be.g&&(Cn(ce,"spdy")||Cn(ce,"quic")||Cn(ce,"h2"))&&(be.j=be.l,be.g=new Set,be.h&&(ea(be,be.h),be.h=null))}if(c.D){var Je=ie.g?ie.g.getResponseHeader("X-HTTP-Session-Id"):null;Je&&(c.sa=Je,Ft(c.F,c.D,Je))}}a.G=3,a.j&&a.j.xa(),a.$&&(a.O=Date.now()-u.F,a.h.info("Handshake RTT: "+a.O+"ms"));var ct=u;if((c=a).oa=Cs(c,c.H?c.la:null,c.W),ct.J){Zs(c.i,ct);var Tt=ct,rn=c.K;rn&&Tt.setTimeout(rn),Tt.B&&(j(Tt),Ws(Tt)),c.g=ct}else Qa(c);0<a.l.length&&ra(a)}else"stop"!=E[0]&&"close"!=E[0]||si(a,7);else 3==a.G&&("stop"==E[0]||"close"==E[0]?"stop"==E[0]?si(a,7):ii(a):"noop"!=E[0]&&a.j&&a.j.wa(E),a.A=0)}Hi(4)}catch(Nn){}}function Vt(u,r){if(u.forEach&&"function"==typeof u.forEach)u.forEach(r,void 0);else if(ft(u)||"string"==typeof u)dn(u,r,void 0);else{if(u.T&&"function"==typeof u.T)var a=u.T();else if(u.R&&"function"==typeof u.R)a=void 0;else if(ft(u)||"string"==typeof u){a=[];for(var c=u.length,h=0;h<c;h++)a.push(h)}else for(h in a=[],c=0,u)a[c++]=h;h=(c=function(u){if(u.R&&"function"==typeof u.R)return u.R();if("string"==typeof u)return u.split("");if(ft(u)){for(var r=[],a=u.length,c=0;c<a;c++)r.push(u[c]);return r}for(c in r=[],a=0,u)r[a++]=u[c];return r}(u)).length;for(var E=0;E<h;E++)r.call(void 0,c[E],a&&a[E],u)}}function k(u,r){this.h={},this.g=[],this.i=0;var a=arguments.length;if(1<a){if(a%2)throw Error("Uneven number of arguments");for(var c=0;c<a;c+=2)this.set(arguments[c],arguments[c+1])}else if(u)if(u instanceof k)for(a=u.T(),c=0;c<a.length;c++)this.set(a[c],u.get(a[c]));else for(c in u)this.set(c,u[c])}function q(u){if(u.i!=u.g.length){for(var r=0,a=0;r<u.g.length;){var c=u.g[r];V(u.h,c)&&(u.g[a++]=c),r++}u.g.length=a}if(u.i!=u.g.length){var h={};for(a=r=0;r<u.g.length;)V(h,c=u.g[r])||(u.g[a++]=c,h[c]=1),r++;u.g.length=a}}function V(u,r){return Object.prototype.hasOwnProperty.call(u,r)}(ue=os.prototype).setTimeout=function(u){this.P=u},ue.gb=function(u){u=u.target;var r=this.L;r&&3==Qs(u)?r.l():this.Ia(u)},ue.Ia=function(u){try{if(u==this.g)e:{var r=Qs(this.g),a=this.g.Da(),c=this.g.ba();if(!(3>r)&&(3!=r||tr||this.g&&(this.h.h||this.g.ga()||hl(this.g)))){this.I||4!=r||7==a||Hi(8==a||0>=c?3:2),j(this);var h=this.g.ba();this.N=h;t:if(Kr(this)){var E=hl(this.g);u="";var A=E.length,L=4==Qs(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){O(this),F(this);var z="";break t}this.h.i=new ut.TextDecoder}for(a=0;a<A;a++)this.h.h=!0,u+=this.h.i.decode(E[a],{stream:L&&a==A-1});E.splice(0,A),this.h.g+=u,this.C=0,z=this.h.g}else z=this.g.ga();if(this.i=200==h,function(u,r,a,c,h,E,A){u.info(function(){return"XMLHTTP RESP ("+c+") [ attempt "+h+"]: "+r+"\n"+a+"\n"+E+" "+A})}(this.j,this.u,this.A,this.m,this.X,r,h),this.i){if(this.$&&!this.J){t:{if(this.g){var ie,ce=this.g;if((ie=ce.g?ce.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!hn(ie)){var be=ie;break t}}be=null}if(!(h=be)){this.i=!1,this.o=3,dr(12),O(this),F(this);break e}Ar(this.j,this.m,h,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Y(this,h)}this.U?(mo(this,r,z),tr&&this.i&&3==r&&(Ti(this.V,this.W,"tick",this.fb),this.W.start())):(Ar(this.j,this.m,z,null),Y(this,z)),4==r&&O(this),this.i&&!this.I&&(4==r?di(this.l,this):(this.i=!1,Ws(this)))}else 400==h&&0<z.indexOf("Unknown SID")?(this.o=3,dr(12)):(this.o=0,dr(13)),O(this),F(this)}}}catch(Je){}},ue.fb=function(){if(this.g){var u=Qs(this.g),r=this.g.ga();this.C<r.length&&(j(this),mo(this,u,r),this.i&&4!=u&&Ws(this))}},ue.cancel=function(){this.I=!0,O(this)},ue.eb=function(){this.B=null;var u=Date.now();0<=u-this.Y?(function(u,r){u.info(function(){return"TIMEOUT: "+r})}(this.j,this.A),2!=this.K&&(Hi(3),dr(17)),O(this),this.o=2,F(this)):us(this,this.Y-u)},(ue=k.prototype).R=function(){q(this);for(var u=[],r=0;r<this.g.length;r++)u.push(this.h[this.g[r]]);return u},ue.T=function(){return q(this),this.g.concat()},ue.get=function(u,r){return V(this.h,u)?this.h[u]:r},ue.set=function(u,r){V(this.h,u)||(this.i++,this.g.push(u)),this.h[u]=r},ue.forEach=function(u,r){for(var a=this.T(),c=0;c<a.length;c++){var h=a[c],E=this.get(h);u.call(r,E,h,this)}};var Q=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Pe(u,r){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,u instanceof Pe){this.g=void 0!==r?r:u.g,kt(this,u.j),this.s=u.s,gn(this,u.i),Yt(this,u.m),this.l=u.l,r=u.h;var a=new qs;a.i=r.i,r.g&&(a.g=new k(r.g),a.h=r.h),Jn(this,a),this.o=u.o}else u&&(a=String(u).match(Q))?(this.g=!!r,kt(this,a[1]||"",!0),this.s=$r(a[2]||""),gn(this,a[3]||"",!0),Yt(this,a[4]),this.l=$r(a[5]||"",!0),Jn(this,a[6]||"",!0),this.o=$r(a[7]||"")):(this.g=!!r,this.h=new qs(null,this.g))}function st(u){return new Pe(u)}function kt(u,r,a){u.j=a?$r(r,!0):r,u.j&&(u.j=u.j.replace(/:$/,""))}function gn(u,r,a){u.i=a?$r(r,!0):r}function Yt(u,r){if(r){if(r=Number(r),isNaN(r)||0>r)throw Error("Bad port number "+r);u.m=r}else u.m=null}function Jn(u,r,a){r instanceof qs?(u.h=r,function(u,r){r&&!u.j&&(Qt(u),u.i=null,u.g.forEach(function(a,c){var h=c.toLowerCase();c!=h&&(Pu(this,c),zi(this,h,a))},u)),u.j=r}(u.h,u.g)):(a||(r=vr(r,Ri)),u.h=new qs(r,u.g))}function Ft(u,r,a){u.h.set(r,a)}function sr(u){return Ft(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function $r(u,r){return u?r?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function vr(u,r,a){return"string"==typeof u?(u=encodeURI(u).replace(r,Rr),a&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function Rr(u){return"%"+((u=u.charCodeAt(0))>>4&15).toString(16)+(15&u).toString(16)}Pe.prototype.toString=function(){var u=[],r=this.j;r&&u.push(vr(r,wi,!0),":");var a=this.i;return(a||"file"==r)&&(u.push("//"),(r=this.s)&&u.push(vr(r,wi,!0),"@"),u.push(encodeURIComponent(String(a)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(a=this.m)&&u.push(":",String(a))),(a=this.l)&&(this.i&&"/"!=a.charAt(0)&&u.push("/"),u.push(vr(a,"/"==a.charAt(0)?Gi:Vo,!0))),(a=this.h.toString())&&u.push("?",a),(a=this.o)&&u.push("#",vr(a,Jo)),u.join("")};var wi=/[#\/\?@]/g,Vo=/[#\?:]/g,Gi=/[#\?]/g,Ri=/[#\?@]/g,Jo=/#/g;function qs(u,r){this.h=this.g=null,this.i=u||null,this.j=!!r}function Qt(u){u.g||(u.g=new k,u.h=0,u.i&&function(u,r){if(u){u=u.split("&");for(var a=0;a<u.length;a++){var c=u[a].indexOf("="),h=null;if(0<=c){var E=u[a].substring(0,c);h=u[a].substring(c+1)}else E=u[a];r(E,h?decodeURIComponent(h.replace(/\+/g," ")):"")}}}(u.i,function(r,a){u.add(decodeURIComponent(r.replace(/\+/g," ")),a)}))}function Pu(u,r){Qt(u),r=Ks(u,r),V(u.g.h,r)&&(u.i=null,u.h-=u.g.get(r).length,V((u=u.g).h,r)&&(delete u.h[r],u.i--,u.g.length>2*u.i&&q(u)))}function Ka(u,r){return Qt(u),r=Ks(u,r),V(u.g.h,r)}function zi(u,r,a){Pu(u,r),0<a.length&&(u.i=null,u.g.set(Ks(u,r),ur(a)),u.h+=a.length)}function Ks(u,r){return r=String(r),u.j&&(r=r.toLowerCase()),r}(ue=qs.prototype).add=function(u,r){Qt(this),this.i=null,u=Ks(this,u);var a=this.g.get(u);return a||this.g.set(u,a=[]),a.push(r),this.h+=1,this},ue.forEach=function(u,r){Qt(this),this.g.forEach(function(a,c){dn(a,function(h){u.call(r,h,c,this)},this)},this)},ue.T=function(){Qt(this);for(var u=this.g.R(),r=this.g.T(),a=[],c=0;c<r.length;c++)for(var h=u[c],E=0;E<h.length;E++)a.push(r[c]);return a},ue.R=function(u){Qt(this);var r=[];if("string"==typeof u)Ka(this,u)&&(r=Qn(r,this.g.get(Ks(this,u))));else{u=this.g.R();for(var a=0;a<u.length;a++)r=Qn(r,u[a])}return r},ue.set=function(u,r){return Qt(this),this.i=null,Ka(this,u=Ks(this,u))&&(this.h-=this.g.get(u).length),this.g.set(u,[r]),this.h+=1,this},ue.get=function(u,r){return u&&0<(u=this.R(u)).length?String(u[0]):r},ue.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var u=[],r=this.g.T(),a=0;a<r.length;a++){var c=r[a],h=encodeURIComponent(String(c));c=this.R(c);for(var E=0;E<c.length;E++){var A=h;""!==c[E]&&(A+="="+encodeURIComponent(String(c[E]))),u.push(A)}}return this.i=u.join("&")};var ku=function(r,a){this.h=r,this.g=a};function Fu(u){this.l=u||ht,u=ut.PerformanceNavigationTiming?0<(u=ut.performance.getEntriesByType("navigation")).length&&("hq"==u[0].nextHopProtocol||"h2"==u[0].nextHopProtocol):!!(ut.g&&ut.g.Ea&&ut.g.Ea()&&ut.g.Ea().Zb),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var ht=10;function An(u){return!!u.h||!!u.g&&u.g.size>=u.j}function ba(u){return u.h?1:u.g?u.g.size:0}function Er(u,r){return u.h?u.h==r:!!u.g&&u.g.has(r)}function ea(u,r){u.g?u.g.add(r):u.h=r}function Zs(u,r){u.h&&u.h==r?u.h=null:u.g&&u.g.has(r)&&u.g.delete(r)}function Mi(u){var r,a;if(null!=u.h)return u.i.concat(u.h.D);if(null!=u.g&&0!==u.g.size){var c=u.i;try{for(var h=ze(u.g.values()),E=h.next();!E.done;E=h.next())c=c.concat(E.value.D)}catch(L){r={error:L}}finally{try{E&&!E.done&&(a=h.return)&&a.call(h)}finally{if(r)throw r.error}}return c}return ur(u.i)}function Ia(){}function yo(){this.g=new Ia}function Tc(u,r,a){var c=a||"";try{Vt(u,function(h,E){var A=h;It(h)&&(A=Un(h)),r.push(c+E+"="+encodeURIComponent(A))})}catch(h){throw r.push(c+"type="+encodeURIComponent("_badmap")),h}}function ta(u,r,a,c,h){try{r.onload=null,r.onerror=null,r.onabort=null,r.ontimeout=null,h(c)}catch(E){}}function Ys(u){this.l=u.$b||null,this.j=u.ib||!1}function Gr(u,r){Hn.call(this),this.D=u,this.u=r,this.m=void 0,this.readyState=Wi,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Fu.prototype.cancel=function(){var u,r;if(this.i=Mi(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){try{for(var a=ze(this.g.values()),c=a.next();!c.done;c=a.next())c.value.cancel()}catch(E){u={error:E}}finally{try{c&&!c.done&&(r=a.return)&&r.call(a)}finally{if(u)throw u.error}}this.g.clear()}},Ia.prototype.stringify=function(u){return ut.JSON.stringify(u,void 0)},Ia.prototype.parse=function(u){return ut.JSON.parse(u,void 0)},xn(Ys,Jr),Ys.prototype.g=function(){return new Gr(this.l,this.j)},Ys.prototype.i=function(u){return function(){return u}}({}),xn(Gr,Hn);var Wi=0;function _o(u){u.j.read().then(u.Sa.bind(u)).catch(u.ha.bind(u))}function qi(u){u.readyState=4,u.l=null,u.j=null,u.A=null,Oi(u)}function Oi(u){u.onreadystatechange&&u.onreadystatechange.call(u)}(ue=Gr.prototype).open=function(u,r){if(this.readyState!=Wi)throw this.abort(),Error("Error reopening a connection");this.C=u,this.B=r,this.readyState=1,Oi(this)},ue.send=function(u){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var r={headers:this.v,method:this.C,credentials:this.m,cache:void 0};u&&(r.body=u),(this.D||ut).fetch(new Request(this.B,r)).then(this.Va.bind(this),this.ha.bind(this))},ue.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,qi(this)),this.readyState=Wi},ue.Va=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Oi(this)),this.g&&(this.readyState=3,Oi(this),this.g)))if("arraybuffer"===this.responseType)u.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==ut.ReadableStream&&"body"in u){if(this.j=u.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;_o(this)}else u.text().then(this.Ua.bind(this),this.ha.bind(this))},ue.Sa=function(u){if(this.g){if(this.u&&u.value)this.response.push(u.value);else if(!this.u){var r=u.value?u.value:new Uint8Array(0);(r=this.A.decode(r,{stream:!u.done}))&&(this.response=this.responseText+=r)}u.done?qi(this):Oi(this),3==this.readyState&&_o(this)}},ue.Ua=function(u){this.g&&(this.response=this.responseText=u,qi(this))},ue.Ta=function(u){this.g&&(this.response=u,qi(this))},ue.ha=function(){this.g&&qi(this)},ue.setRequestHeader=function(u,r){this.v.append(u,r)},ue.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},ue.getAllResponseHeaders=function(){if(!this.h)return"";for(var u=[],r=this.h.entries(),a=r.next();!a.done;)u.push((a=a.value)[0]+": "+a[1]),a=r.next();return u.join("\r\n")},Object.defineProperty(Gr.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(u){this.m=u?"include":"same-origin"}});var Za=ut.JSON.parse;function Pr(u){Hn.call(this),this.headers=new k,this.u=u||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=au,this.K=this.L=!1}xn(Pr,Hn);var au="",Hl=/^https?$/i,Uo=["POST","PUT"];function Ya(u){return"content-type"==u.toLowerCase()}function Vu(u,r){u.h=!1,u.g&&(u.l=!0,u.g.abort(),u.l=!1),u.j=r,u.m=5,Da(u),Ps(u)}function Da(u){u.D||(u.D=!0,mn(u,"complete"),mn(u,"error"))}function Ta(u){if(u.h&&void 0!==at&&(!u.C[1]||4!=Qs(u)||2!=u.ba()))if(u.v&&4==Qs(u))gs(u.Fa,0,u);else if(mn(u,"readystatechange"),4==Qs(u)){u.h=!1;try{var c,r=u.ba();e:switch(r){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var a=!0;break e;default:a=!1}if(!(c=a)){var h;if(h=0===r){var E=String(u.H).match(Q)[1]||null;if(!E&&ut.self&&ut.self.location){var A=ut.self.location.protocol;E=A.substr(0,A.length-1)}h=!Hl.test(E?E.toLowerCase():"")}c=h}if(c)mn(u,"complete"),mn(u,"success");else{u.m=6;try{var L=2<Qs(u)?u.g.statusText:""}catch(z){L=""}u.j=L+" ["+u.ba()+"]",Da(u)}}finally{Ps(u)}}}function Ps(u,r){if(u.g){Uu(u);var a=u.g,c=u.C[0]?St:null;u.g=null,u.C=null,r||mn(u,"ready");try{a.onreadystatechange=c}catch(h){}}}function Uu(u){u.g&&u.K&&(u.g.ontimeout=null),u.A&&(ut.clearTimeout(u.A),u.A=null)}function Qs(u){return u.g?u.g.readyState:0}function hl(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.J){case au:case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch(r){return null}}function na(u,r,a){e:{for(c in a){var c=!1;break e}c=!0}c||(a=function(u){var r="";return tt(u,function(a,c){r+=c,r+=":",r+=a,r+="\r\n"}),r}(a),"string"==typeof u?null!=a&&encodeURIComponent(String(a)):Ft(u,r,a))}function Bu(u,r,a){return a&&a.internalChannelParams&&a.internalChannelParams[u]||r}function ju(u){this.za=0,this.l=[],this.h=new Hr,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Bu("failFast",!1,u),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Bu("baseRetryDelayMs",5e3,u),this.$a=Bu("retryDelaySeedMs",1e4,u),this.Ya=Bu("forwardChannelMaxRetries",2,u),this.ra=Bu("forwardChannelRequestTimeoutMs",2e4,u),this.qa=u&&u.xmlHttpFactory||void 0,this.Ba=u&&u.Yb||!1,this.K=void 0,this.H=u&&u.supportsCrossDomainXhr||!1,this.J="",this.i=new Fu(u&&u.concurrentRequestLimit),this.Ca=new yo,this.ja=u&&u.fastHandshake||!1,this.Ra=u&&u.Wb||!1,u&&u.Aa&&this.h.Aa(),u&&u.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&u&&u.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!u||!1!==u.Xb}function ii(u){if(wr(u),3==u.G){var r=u.V++,a=st(u.F);Ft(a,"SID",u.J),Ft(a,"RID",r),Ft(a,"TYPE","terminate"),sa(u,a),(r=new os(u,u.h,r,void 0)).K=2,r.v=sr(st(a)),a=!1,ut.navigator&&ut.navigator.sendBeacon&&(a=ut.navigator.sendBeacon(r.v.toString(),"")),!a&&ut.Image&&((new Image).src=r.v,a=!0),a||(r.g=ks(r.l,null),r.g.ea(r.v)),r.F=Date.now(),Ws(r)}du(u)}function ci(u){u.g&&(Eo(u),u.g.cancel(),u.g=null)}function wr(u){ci(u),u.u&&(ut.clearTimeout(u.u),u.u=null),Ja(u),u.i.cancel(),u.m&&("number"==typeof u.m&&ut.clearTimeout(u.m),u.m=null)}function Sa(u,r){u.l.push(new ku(u.Za++,r)),3==u.G&&ra(u)}function ra(u){An(u.i)||u.m||(u.m=!0,ps(u.Ha,u),u.C=0)}function ia(u,r){var a;a=r?r.m:u.V++;var c=st(u.F);Ft(c,"SID",u.J),Ft(c,"RID",a),Ft(c,"AID",u.U),sa(u,c),u.o&&u.s&&na(c,u.o,u.s),a=new os(u,u.h,a,u.C+1),null===u.o&&(a.H=u.s),r&&(u.l=r.D.concat(u.l)),r=lu(u,a,1e3),a.setTimeout(Math.round(.5*u.ra)+Math.round(.5*u.ra*Math.random())),ea(u.i,a),$i(a,c,r)}function sa(u,r){u.j&&Vt({},function(a,c){Ft(r,c,a)})}function lu(u,r,a){a=Math.min(u.l.length,a);var c=u.j?mt(u.j.Oa,u.j,u):null;e:for(var h=u.l,E=-1;;){var A=["count="+a];-1==E?0<a?A.push("ofs="+(E=h[0].h)):E=0:A.push("ofs="+E);for(var L=!0,z=0;z<a;z++){var ie=h[z].h,ce=h[z].g;if(0>(ie-=E))E=Math.max(0,h[z].h-100),L=!1;else try{Tc(ce,A,"req"+ie+"_")}catch(be){c&&c(ce)}}if(L){c=A.join("&");break e}}return u=u.l.splice(0,a),r.D=u,c}function Qa(u){u.g||u.u||(u.Y=1,ps(u.Ga,u),u.A=0)}function vo(u){return!(u.g||u.u||3<=u.A||(u.Y++,u.u=zs(mt(u.Ga,u),Bo(u,u.A)),u.A++,0))}function Eo(u){null!=u.B&&(ut.clearTimeout(u.B),u.B=null)}function cu(u){u.g=new os(u,u.h,"rpc",u.Y),null===u.o&&(u.g.H=u.s),u.g.O=0;var r=st(u.oa);Ft(r,"RID","rpc"),Ft(r,"SID",u.J),Ft(r,"CI",u.N?"0":"1"),Ft(r,"AID",u.U),sa(u,r),Ft(r,"TYPE","xmlhttp"),u.o&&u.s&&na(r,u.o,u.s),u.K&&u.g.setTimeout(u.K);var a=u.g;u=u.la,a.K=1,a.v=sr(st(r)),a.s=null,a.U=!0,as(a,u)}function Ja(u){null!=u.v&&(ut.clearTimeout(u.v),u.v=null)}function di(u,r){var a=null;if(u.g==r){Ja(u),Eo(u),u.g=null;var c=2}else{if(!Er(u.i,r))return;a=r.D,Zs(u.i,r),c=1}if(u.I=r.N,0!=u.G)if(r.i)if(1==c){a=r.s?r.s.length:0,r=Date.now()-r.F;var h=u.C;mn(c=vs(),new is(c,a,r,h)),ra(u)}else Qa(u);else if(3==(h=r.o)||0==h&&0<u.I||!(1==c&&function(u,r){return!(ba(u.i)>=u.i.j-(u.m?1:0)||(u.m?(u.l=r.D.concat(u.l),0):1==u.G||2==u.G||u.C>=(u.Xa?0:u.Ya)||(u.m=zs(mt(u.Ha,u,r),Bo(u,u.C)),u.C++,0)))}(u,r)||2==c&&vo(u)))switch(a&&0<a.length&&(r=u.i,r.i=r.i.concat(a)),h){case 1:si(u,5);break;case 4:si(u,10);break;case 3:si(u,6);break;default:si(u,2)}}function Bo(u,r){var a=u.Pa+Math.floor(Math.random()*u.$a);return u.j||(a*=2),a*r}function si(u,r){if(u.h.info("Error code "+r),2==r){var a=null;u.j&&(a=null);var c=mt(u.jb,u);a||(a=new Pe("//www.google.com/images/cleardot.gif"),ut.location&&"http"==ut.location.protocol||kt(a,"https"),sr(a)),function(u,r){var a=new Hr;if(ut.Image){var c=new Image;c.onload=Vn(ta,a,c,"TestLoadImage: loaded",!0,r),c.onerror=Vn(ta,a,c,"TestLoadImage: error",!1,r),c.onabort=Vn(ta,a,c,"TestLoadImage: abort",!1,r),c.ontimeout=Vn(ta,a,c,"TestLoadImage: timeout",!1,r),ut.setTimeout(function(){c.ontimeout&&c.ontimeout()},1e4),c.src=u}else r(!1)}(a.toString(),c)}else dr(2);u.G=0,u.j&&u.j.va(r),du(u),wr(u)}function du(u){u.G=0,u.I=-1,u.j&&((0!=Mi(u.i).length||0!=u.l.length)&&(u.i.i.length=0,ur(u.l),u.l.length=0),u.j.ua())}function Cs(u,r,a){var c=function(u){return u instanceof Pe?st(u):new Pe(u,void 0)}(a);if(""!=c.i)r&&gn(c,r+"."+c.i),Yt(c,c.m);else{var h=ut.location;c=function(u,r,a,c){var h=new Pe(null,void 0);return u&&kt(h,u),r&&gn(h,r),a&&Yt(h,a),c&&(h.l=c),h}(h.protocol,r?r+"."+h.hostname:h.hostname,+h.port,a)}return u.aa&&tt(u.aa,function(E,A){Ft(c,A,E)}),a=u.sa,(r=u.D)&&a&&Ft(c,r,a),Ft(c,"VER",u.ma),sa(u,c),c}function ks(u,r,a){if(r&&!u.H)throw Error("Can't create secondary domain capable XhrIo object.");return(r=new Pr(a&&u.Ba&&!u.qa?new Ys({ib:!0}):u.qa)).L=u.H,r}function hu(){}function wo(){if(cr&&!(10<=Number(fn)))throw Error("Environmental error: no available transport.")}function xi(u,r){Hn.call(this),this.g=new ju(r),this.l=u,this.h=r&&r.messageUrlParams||null,u=r&&r.messageHeaders||null,r&&r.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.s=u,u=r&&r.initMessageHeaders||null,r&&r.messageContentType&&(u?u["X-WebChannel-Content-Type"]=r.messageContentType:u={"X-WebChannel-Content-Type":r.messageContentType}),r&&r.ya&&(u?u["X-WebChannel-Client-Profile"]=r.ya:u={"X-WebChannel-Client-Profile":r.ya}),this.g.P=u,(u=r&&r.httpHeadersOverwriteParam)&&!hn(u)&&(this.g.o=u),this.A=r&&r.supportsCrossDomainXhr||!1,this.v=r&&r.sendRawJson||!1,(r=r&&r.httpSessionIdParam)&&!hn(r)&&(this.g.D=r,null!==(u=this.h)&&r in u&&r in(u=this.h)&&delete u[r]),this.j=new Pi(this)}function Xn(u){Ei.call(this);var r=u.__sm__;if(r){e:{for(var a in r){u=a;break e}u=void 0}(this.i=u)&&(u=this.i,r=null!==r&&u in r?r[u]:void 0),this.data=r}else this.data=u}function fu(){Ca.call(this),this.status=1}function Pi(u){this.g=u}(ue=Pr.prototype).ea=function(u,r,a,c){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+u);r=r?r.toUpperCase():"GET",this.H=u,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Ms.g(),this.C=function(u){return u.h||(u.h=u.i())}(this.u?this.u:Ms),this.g.onreadystatechange=mt(this.Fa,this);try{this.F=!0,this.g.open(r,String(u),!0),this.F=!1}catch(E){return void Vu(this,E)}u=a||"";var h=new k(this.headers);c&&Vt(c,function(E,A){h.set(A,E)}),c=function(u){e:{for(var r=Ya,a=u.length,c="string"==typeof u?u.split(""):u,h=0;h<a;h++)if(h in c&&r.call(void 0,c[h],h,u)){r=h;break e}r=-1}return 0>r?null:"string"==typeof u?u.charAt(r):u[r]}(h.T()),a=ut.FormData&&u instanceof ut.FormData,!(0<=ir(Uo,r))||c||a||h.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),h.forEach(function(E,A){this.g.setRequestHeader(A,E)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Uu(this),0<this.B&&((this.K=function(u){return cr&&xt()&&"number"==typeof u.timeout&&void 0!==u.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=mt(this.pa,this)):this.A=gs(this.pa,this.B,this)),this.v=!0,this.g.send(u),this.v=!1}catch(E){Vu(this,E)}},ue.pa=function(){void 0!==at&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,mn(this,"timeout"),this.abort(8))},ue.abort=function(u){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=u||7,mn(this,"complete"),mn(this,"abort"),Ps(this))},ue.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Ps(this,!0)),Pr.Z.M.call(this)},ue.Fa=function(){this.s||(this.F||this.v||this.l?Ta(this):this.cb())},ue.cb=function(){Ta(this)},ue.ba=function(){try{return 2<Qs(this)?this.g.status:-1}catch(u){return-1}},ue.ga=function(){try{return this.g?this.g.responseText:""}catch(u){return""}},ue.Qa=function(u){if(this.g){var r=this.g.responseText;return u&&0==r.indexOf(u)&&(r=r.substring(u.length)),Za(r)}},ue.Da=function(){return this.m},ue.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(ue=ju.prototype).ma=8,ue.G=1,ue.hb=function(u){try{this.h.info("Origin Trials invoked: "+u)}catch(r){}},ue.Ha=function(u){if(this.m)if(this.m=null,1==this.G){if(!u){this.V=Math.floor(1e5*Math.random()),u=this.V++;var r=new os(this,this.h,u,void 0),a=this.s;if(this.P&&(a?gt(a=Xe(a),this.P):a=this.P),null===this.o&&(r.H=a),this.ja)e:{for(var c=0,h=0;h<this.l.length;h++){var E=this.l[h];if(void 0===(E="__data__"in E.g&&"string"==typeof(E=E.g.__data__)?E.length:void 0))break;if(4096<(c+=E)){c=h;break e}if(4096===c||h===this.l.length-1){c=h+1;break e}}c=1e3}else c=1e3;c=lu(this,r,c),Ft(h=st(this.F),"RID",u),Ft(h,"CVER",22),this.D&&Ft(h,"X-HTTP-Session-Id",this.D),sa(this,h),this.o&&a&&na(h,this.o,a),ea(this.i,r),this.Ra&&Ft(h,"TYPE","init"),this.ja?(Ft(h,"$req",c),Ft(h,"SID","null"),r.$=!0,$i(r,h,null)):$i(r,h,c),this.G=2}}else 3==this.G&&(u?ia(this,u):0==this.l.length||An(this.i)||ia(this))},ue.Ga=function(){if(this.u=null,cu(this),this.$&&!(this.L||null==this.g||0>=this.O)){var u=2*this.O;this.h.info("BP detection timer enabled: "+u),this.B=zs(mt(this.bb,this),u)}},ue.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,dr(10),ci(this),cu(this))},ue.ab=function(){null!=this.v&&(this.v=null,ci(this),vo(this),dr(19))},ue.jb=function(u){u?(this.h.info("Successfully pinged google.com"),dr(2)):(this.h.info("Failed to ping google.com"),dr(1))},(ue=hu.prototype).xa=function(){},ue.wa=function(){},ue.va=function(){},ue.ua=function(){},ue.Oa=function(){},wo.prototype.g=function(u,r){return new xi(u,r)},xn(xi,Hn),xi.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var u=this.g,r=this.l,a=this.h||void 0;u.Wa&&(u.h.info("Origin Trials enabled."),ps(mt(u.hb,u,r))),dr(0),u.W=r,u.aa=a||{},u.N=u.X,u.F=Cs(u,null,u.W),ra(u)},xi.prototype.close=function(){ii(this.g)},xi.prototype.u=function(u){if("string"==typeof u){var r={};r.__data__=u,Sa(this.g,r)}else this.v?((r={}).__data__=Un(u),Sa(this.g,r)):Sa(this.g,u)},xi.prototype.M=function(){this.g.j=null,delete this.j,ii(this.g),delete this.g,xi.Z.M.call(this)},xn(Xn,Ei),xn(fu,Ca),xn(Pi,hu),Pi.prototype.xa=function(){mn(this.g,"a")},Pi.prototype.wa=function(u){mn(this.g,new Xn(u))},Pi.prototype.va=function(u){mn(this.g,new fu(u))},Pi.prototype.ua=function(){mn(this.g,"b")},wo.prototype.createWebChannel=wo.prototype.g,xi.prototype.send=xi.prototype.u,xi.prototype.open=xi.prototype.m,xi.prototype.close=xi.prototype.close,ss.NO_ERROR=0,ss.TIMEOUT=8,ss.HTTP_ERROR=6,Ai.COMPLETE="complete",li.EventType=ws,ws.OPEN="a",ws.CLOSE="b",ws.ERROR="c",ws.MESSAGE="d",Hn.prototype.listen=Hn.prototype.N,Pr.prototype.listenOnce=Pr.prototype.O,Pr.prototype.getLastError=Pr.prototype.La,Pr.prototype.getLastErrorCode=Pr.prototype.Da,Pr.prototype.getStatus=Pr.prototype.ba,Pr.prototype.getResponseJson=Pr.prototype.Qa,Pr.prototype.getResponseText=Pr.prototype.ga,Pr.prototype.send=Pr.prototype.ea;var Co=ss,pu=Ai,Js=Nr,bo_PROXY=10,bo_NOPROXY=11,jo=Ys,Fs=li,Io=Pr;class Mr{constructor(r){this.uid=r}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(r){return r.uid===this.uid}}Mr.UNAUTHENTICATED=new Mr(null),Mr.GOOGLE_CREDENTIALS=new Mr("google-credentials-uid"),Mr.FIRST_PARTY=new Mr("first-party-uid"),Mr.MOCK_USER=new Mr("mock-user");let ua="9.0.1";const kr=new Ct.Yd("@firebase/firestore");function Ho(){return kr.logLevel}function vt(u,...r){if(kr.logLevel<=Ct.in.DEBUG){const a=r.map(Na);kr.debug(`Firestore (${ua}): ${u}`,...a)}}function Cr(u,...r){if(kr.logLevel<=Ct.in.ERROR){const a=r.map(Na);kr.error(`Firestore (${ua}): ${u}`,...a)}}function $o(u,...r){if(kr.logLevel<=Ct.in.WARN){const a=r.map(Na);kr.warn(`Firestore (${ua}): ${u}`,...a)}}function Na(u){if("string"==typeof u)return u;try{return JSON.stringify(u)}catch(a){return u}}function Lt(u="Unexpected state"){const r=`FIRESTORE (${ua}) INTERNAL ASSERTION FAILED: `+u;throw Cr(r),new Error(r)}function un(u,r){u||Lt()}function R(u,r){return u}const b={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class C extends Error{constructor(r,a){super(a),this.code=r,this.message=a,this.name="FirebaseError",this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class x{constructor(){this.promise=new Promise((r,a)=>{this.resolve=r,this.reject=a})}}class H{constructor(r,a){this.user=a,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization=`Bearer ${r}`}}class Z{getToken(){return Promise.resolve(null)}invalidateToken(){}start(r,a){r.enqueueRetryable(()=>a(Mr.UNAUTHENTICATED))}shutdown(){}}class le{constructor(r){this.token=r,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(r,a){this.changeListener=a,r.enqueueRetryable(()=>a(this.token.user))}shutdown(){this.changeListener=null}}class Ee{constructor(r){this.t=r,this.currentUser=Mr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(r,a){var c=this;let h=this.i;const E=z=>this.i!==h?(h=this.i,a(z)):Promise.resolve();let A=new x;this.o=()=>{this.i++,this.currentUser=this.u(),A.resolve(),A=new x,r.enqueueRetryable(()=>E(this.currentUser))};const L=z=>{r.enqueueRetryable((0,we.Z)(function*(){vt("FirebaseCredentialsProvider","Auth detected"),c.auth=z,c.auth.addAuthTokenListener(c.o),yield A.promise,yield E(c.currentUser)}))};this.t.onInit(z=>L(z)),setTimeout(()=>{if(!this.auth){const z=this.t.getImmediate({optional:!0});z?L(z):(vt("FirebaseCredentialsProvider","Auth not yet detected"),A.resolve(),A=new x)}},0),r.enqueueRetryable((0,we.Z)(function*(){0===c.i&&(yield A.promise,yield E(c.currentUser))}))}getToken(){const r=this.i,a=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(a).then(c=>this.i!==r?(vt("FirebaseCredentialsProvider","getToken aborted due to token change."),this.getToken()):c?(un("string"==typeof c.accessToken),new H(c.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const r=this.auth&&this.auth.getUid();return un(null===r||"string"==typeof r),new Mr(r)}}class nt{constructor(r,a,c){this.h=r,this.l=a,this.m=c,this.type="FirstParty",this.user=Mr.FIRST_PARTY}get authHeaders(){const r={"X-Goog-AuthUser":this.l},a=this.h.auth.getAuthHeaderValueForFirstParty([]);return a&&(r.Authorization=a),this.m&&(r["X-Goog-Iam-Authorization-Token"]=this.m),r}}class Ot{constructor(r,a,c){this.h=r,this.l=a,this.m=c}getToken(){return Promise.resolve(new nt(this.h,this.l,this.m))}start(r,a){r.enqueueRetryable(()=>a(Mr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Ut{constructor(r,a){this.previousValue=r,a&&(a.sequenceNumberHandler=c=>this.g(c),this.p=c=>a.writeSequenceNumber(c))}g(r){return this.previousValue=Math.max(r,this.previousValue),this.previousValue}next(){const r=++this.previousValue;return this.p&&this.p(r),r}}function vn(u){const r="undefined"!=typeof self&&(self.crypto||self.msCrypto),a=new Uint8Array(u);if(r&&"function"==typeof r.getRandomValues)r.getRandomValues(a);else for(let c=0;c<u;c++)a[c]=Math.floor(256*Math.random());return a}Ut.T=-1;class or{static I(){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",a=Math.floor(256/r.length)*r.length;let c="";for(;c.length<20;){const h=vn(40);for(let E=0;E<h.length;++E)c.length<20&&h[E]<a&&(c+=r.charAt(h[E]%r.length))}return c}}function Rt(u,r){return u<r?-1:u>r?1:0}function Zr(u,r,a){return u.length===r.length&&u.every((c,h)=>a(c,r[h]))}function ki(u){return u+"\0"}class Zn{constructor(r,a){if(this.seconds=r,this.nanoseconds=a,a<0)throw new C(b.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+a);if(a>=1e9)throw new C(b.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+a);if(r<-62135596800)throw new C(b.INVALID_ARGUMENT,"Timestamp seconds out of range: "+r);if(r>=253402300800)throw new C(b.INVALID_ARGUMENT,"Timestamp seconds out of range: "+r)}static now(){return Zn.fromMillis(Date.now())}static fromDate(r){return Zn.fromMillis(r.getTime())}static fromMillis(r){const a=Math.floor(r/1e3),c=Math.floor(1e6*(r-1e3*a));return new Zn(a,c)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(r){return this.seconds===r.seconds?Rt(this.nanoseconds,r.nanoseconds):Rt(this.seconds,r.seconds)}isEqual(r){return r.seconds===this.seconds&&r.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class ln{constructor(r){this.timestamp=r}static fromTimestamp(r){return new ln(r)}static min(){return new ln(new Zn(0,0))}compareTo(r){return this.timestamp._compareTo(r.timestamp)}isEqual(r){return this.timestamp.isEqual(r.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function Ki(u){let r=0;for(const a in u)Object.prototype.hasOwnProperty.call(u,a)&&r++;return r}function ls(u,r){for(const a in u)Object.prototype.hasOwnProperty.call(u,a)&&r(a,u[a])}function Hu(u){for(const r in u)if(Object.prototype.hasOwnProperty.call(u,r))return!1;return!0}class Ma{constructor(r,a,c){void 0===a?a=0:a>r.length&&Lt(),void 0===c?c=r.length-a:c>r.length-a&&Lt(),this.segments=r,this.offset=a,this.len=c}get length(){return this.len}isEqual(r){return 0===Ma.comparator(this,r)}child(r){const a=this.segments.slice(this.offset,this.limit());return r instanceof Ma?r.forEach(c=>{a.push(c)}):a.push(r),this.construct(a)}limit(){return this.offset+this.length}popFirst(r){return this.construct(this.segments,this.offset+(r=void 0===r?1:r),this.length-r)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(r){return this.segments[this.offset+r]}isEmpty(){return 0===this.length}isPrefixOf(r){if(r.length<this.length)return!1;for(let a=0;a<this.length;a++)if(this.get(a)!==r.get(a))return!1;return!0}isImmediateParentOf(r){if(this.length+1!==r.length)return!1;for(let a=0;a<this.length;a++)if(this.get(a)!==r.get(a))return!1;return!0}forEach(r){for(let a=this.offset,c=this.limit();a<c;a++)r(this.segments[a])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(r,a){const c=Math.min(r.length,a.length);for(let h=0;h<c;h++){const E=r.get(h),A=a.get(h);if(E<A)return-1;if(E>A)return 1}return r.length<a.length?-1:r.length>a.length?1:0}}class er extends Ma{construct(r,a,c){return new er(r,a,c)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...r){const a=[];for(const c of r){if(c.indexOf("//")>=0)throw new C(b.INVALID_ARGUMENT,`Invalid segment (${c}). Paths must not contain // in them.`);a.push(...c.split("/").filter(h=>h.length>0))}return new er(a)}static emptyPath(){return new er([])}}const $l=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Gn extends Ma{construct(r,a,c){return new Gn(r,a,c)}static isValidIdentifier(r){return $l.test(r)}canonicalString(){return this.toArray().map(r=>(r=r.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Gn.isValidIdentifier(r)||(r="`"+r+"`"),r)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Gn(["__name__"])}static fromServerFormat(r){const a=[];let c="",h=0;const E=()=>{if(0===c.length)throw new C(b.INVALID_ARGUMENT,`Invalid field path (${r}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);a.push(c),c=""};let A=!1;for(;h<r.length;){const L=r[h];if("\\"===L){if(h+1===r.length)throw new C(b.INVALID_ARGUMENT,"Path has trailing escape character: "+r);const z=r[h+1];if("\\"!==z&&"."!==z&&"`"!==z)throw new C(b.INVALID_ARGUMENT,"Path has invalid escape sequence: "+r);c+=z,h+=2}else"`"===L?(A=!A,h++):"."!==L||A?(c+=L,h++):(E(),h++)}if(E(),A)throw new C(b.INVALID_ARGUMENT,"Unterminated ` in path: "+r);return new Gn(a)}static emptyPath(){return new Gn([])}}class Oa{constructor(r){this.fields=r,r.sort(Gn.comparator)}covers(r){for(const a of this.fields)if(a.isPrefixOf(r))return!0;return!1}isEqual(r){return Zr(this.fields,r.fields,(a,c)=>a.isEqual(c))}}class Ci{constructor(r){this.binaryString=r}static fromBase64String(r){const a=atob(r);return new Ci(a)}static fromUint8Array(r){const a=function(c){let h="";for(let E=0;E<c.length;++E)h+=String.fromCharCode(c[E]);return h}(r);return new Ci(a)}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(r){const a=new Uint8Array(r.length);for(let c=0;c<r.length;c++)a[c]=r.charCodeAt(c);return a}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(r){return Rt(this.binaryString,r.binaryString)}isEqual(r){return this.binaryString===r.binaryString}}Ci.EMPTY_BYTE_STRING=new Ci("");const pl=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ca(u){if(un(!!u),"string"==typeof u){let r=0;const a=pl.exec(u);if(un(!!a),a[1]){let h=a[1];h=(h+"000000000").substr(0,9),r=Number(h)}const c=new Date(u);return{seconds:Math.floor(c.getTime()/1e3),nanos:r}}return{seconds:hi(u.seconds),nanos:hi(u.nanos)}}function hi(u){return"number"==typeof u?u:"string"==typeof u?Number(u):0}function xa(u){return"string"==typeof u?Ci.fromBase64String(u):Ci.fromUint8Array(u)}function gu(u){var r,a;return"server_timestamp"===(null===(a=((null===(r=null==u?void 0:u.mapValue)||void 0===r?void 0:r.fields)||{}).__type__)||void 0===a?void 0:a.stringValue)}function Xa(u){const r=u.mapValue.fields.__previous_value__;return gu(r)?Xa(r):r}function mu(u){const r=ca(u.mapValue.fields.__local_write_time__.timestampValue);return new Zn(r.seconds,r.nanos)}function eu(u){return null==u}function Do(u){return 0===u&&1/u==-1/0}function Nc(u){return"number"==typeof u&&Number.isInteger(u)&&!Do(u)&&u<=Number.MAX_SAFE_INTEGER&&u>=Number.MIN_SAFE_INTEGER}class At{constructor(r){this.path=r}static fromPath(r){return new At(er.fromString(r))}static fromName(r){return new At(er.fromString(r).popFirst(5))}hasCollectionId(r){return this.path.length>=2&&this.path.get(this.path.length-2)===r}isEqual(r){return null!==r&&0===er.comparator(this.path,r.path)}toString(){return this.path.toString()}static comparator(r,a){return er.comparator(r.path,a.path)}static isDocumentKey(r){return r.length%2==0}static fromSegments(r){return new At(new er(r.slice()))}}function Xs(u){return"nullValue"in u?0:"booleanValue"in u?1:"integerValue"in u||"doubleValue"in u?2:"timestampValue"in u?3:"stringValue"in u?5:"bytesValue"in u?6:"referenceValue"in u?7:"geoPointValue"in u?8:"arrayValue"in u?9:"mapValue"in u?gu(u)?4:10:Lt()}function Ls(u,r){const a=Xs(u);if(a!==Xs(r))return!1;switch(a){case 0:return!0;case 1:return u.booleanValue===r.booleanValue;case 4:return mu(u).isEqual(mu(r));case 3:return function(c,h){if("string"==typeof c.timestampValue&&"string"==typeof h.timestampValue&&c.timestampValue.length===h.timestampValue.length)return c.timestampValue===h.timestampValue;const E=ca(c.timestampValue),A=ca(h.timestampValue);return E.seconds===A.seconds&&E.nanos===A.nanos}(u,r);case 5:return u.stringValue===r.stringValue;case 6:return h=r,xa(u.bytesValue).isEqual(xa(h.bytesValue));case 7:return u.referenceValue===r.referenceValue;case 8:return function(c,h){return hi(c.geoPointValue.latitude)===hi(h.geoPointValue.latitude)&&hi(c.geoPointValue.longitude)===hi(h.geoPointValue.longitude)}(u,r);case 2:return function(c,h){if("integerValue"in c&&"integerValue"in h)return hi(c.integerValue)===hi(h.integerValue);if("doubleValue"in c&&"doubleValue"in h){const E=hi(c.doubleValue),A=hi(h.doubleValue);return E===A?Do(E)===Do(A):isNaN(E)&&isNaN(A)}return!1}(u,r);case 9:return Zr(u.arrayValue.values||[],r.arrayValue.values||[],Ls);case 10:return function(c,h){const E=c.mapValue.fields||{},A=h.mapValue.fields||{};if(Ki(E)!==Ki(A))return!1;for(const L in E)if(E.hasOwnProperty(L)&&(void 0===A[L]||!Ls(E[L],A[L])))return!1;return!0}(u,r);default:return Lt()}var h}function gl(u,r){return void 0!==(u.values||[]).find(a=>Ls(a,r))}function Pa(u,r){const a=Xs(u),c=Xs(r);if(a!==c)return Rt(a,c);switch(a){case 0:return 0;case 1:return Rt(u.booleanValue,r.booleanValue);case 2:return function(h,E){const A=hi(h.integerValue||h.doubleValue),L=hi(E.integerValue||E.doubleValue);return A<L?-1:A>L?1:A===L?0:isNaN(A)?isNaN(L)?0:-1:1}(u,r);case 3:return Vs(u.timestampValue,r.timestampValue);case 4:return Vs(mu(u),mu(r));case 5:return Rt(u.stringValue,r.stringValue);case 6:return function(h,E){const A=xa(h),L=xa(E);return A.compareTo(L)}(u.bytesValue,r.bytesValue);case 7:return function(h,E){const A=h.split("/"),L=E.split("/");for(let z=0;z<A.length&&z<L.length;z++){const ie=Rt(A[z],L[z]);if(0!==ie)return ie}return Rt(A.length,L.length)}(u.referenceValue,r.referenceValue);case 8:return function(h,E){const A=Rt(hi(h.latitude),hi(E.latitude));return 0!==A?A:Rt(hi(h.longitude),hi(E.longitude))}(u.geoPointValue,r.geoPointValue);case 9:return function(h,E){const A=h.values||[],L=E.values||[];for(let z=0;z<A.length&&z<L.length;++z){const ie=Pa(A[z],L[z]);if(ie)return ie}return Rt(A.length,L.length)}(u.arrayValue,r.arrayValue);case 10:return function(h,E){const A=h.fields||{},L=Object.keys(A),z=E.fields||{},ie=Object.keys(z);L.sort(),ie.sort();for(let ce=0;ce<L.length&&ce<ie.length;++ce){const be=Rt(L[ce],ie[ce]);if(0!==be)return be;const Je=Pa(A[L[ce]],z[ie[ce]]);if(0!==Je)return Je}return Rt(L.length,ie.length)}(u.mapValue,r.mapValue);default:throw Lt()}}function Vs(u,r){if("string"==typeof u&&"string"==typeof r&&u.length===r.length)return Rt(u,r);const a=ca(u),c=ca(r),h=Rt(a.seconds,c.seconds);return 0!==h?h:Rt(a.nanos,c.nanos)}function bs(u){return yu(u)}function yu(u){return"nullValue"in u?"null":"booleanValue"in u?""+u.booleanValue:"integerValue"in u?""+u.integerValue:"doubleValue"in u?""+u.doubleValue:"timestampValue"in u?function(c){const h=ca(c);return`time(${h.seconds},${h.nanos})`}(u.timestampValue):"stringValue"in u?u.stringValue:"bytesValue"in u?xa(u.bytesValue).toBase64():"referenceValue"in u?At.fromName(u.referenceValue).toString():"geoPointValue"in u?`geo(${(r=u.geoPointValue).latitude},${r.longitude})`:"arrayValue"in u?function(c){let h="[",E=!0;for(const A of c.values||[])E?E=!1:h+=",",h+=yu(A);return h+"]"}(u.arrayValue):"mapValue"in u?function(c){const h=Object.keys(c.fields||{}).sort();let E="{",A=!0;for(const L of h)A?A=!1:E+=",",E+=`${L}:${yu(c.fields[L])}`;return E+"}"}(u.mapValue):Lt();var r}function eo(u,r){return{referenceValue:`projects/${u.projectId}/databases/${u.database}/documents/${r.path.canonicalString()}`}}function Us(u){return!!u&&"integerValue"in u}function $u(u){return!!u&&"arrayValue"in u}function Gu(u){return!!u&&"nullValue"in u}function zl(u){return!!u&&"doubleValue"in u&&isNaN(Number(u.doubleValue))}function Wl(u){return!!u&&"mapValue"in u}function zu(u){if(u.geoPointValue)return{geoPointValue:Object.assign({},u.geoPointValue)};if(u.timestampValue&&"object"==typeof u.timestampValue)return{timestampValue:Object.assign({},u.timestampValue)};if(u.mapValue){const r={mapValue:{fields:{}}};return ls(u.mapValue.fields,(a,c)=>r.mapValue.fields[a]=zu(c)),r}if(u.arrayValue){const r={arrayValue:{values:[]}};for(let a=0;a<(u.arrayValue.values||[]).length;++a)r.arrayValue.values[a]=zu(u.arrayValue.values[a]);return r}return Object.assign({},u)}class fi{constructor(r){this.value=r}static empty(){return new fi({mapValue:{}})}field(r){if(r.isEmpty())return this.value;{let a=this.value;for(let c=0;c<r.length-1;++c)if(a=(a.mapValue.fields||{})[r.get(c)],!Wl(a))return null;return a=(a.mapValue.fields||{})[r.lastSegment()],a||null}}set(r,a){this.getFieldsMap(r.popLast())[r.lastSegment()]=zu(a)}setAll(r){let a=Gn.emptyPath(),c={},h=[];r.forEach((A,L)=>{if(!a.isImmediateParentOf(L)){const z=this.getFieldsMap(a);this.applyChanges(z,c,h),c={},h=[],a=L.popLast()}A?c[L.lastSegment()]=zu(A):h.push(L.lastSegment())});const E=this.getFieldsMap(a);this.applyChanges(E,c,h)}delete(r){const a=this.field(r.popLast());Wl(a)&&a.mapValue.fields&&delete a.mapValue.fields[r.lastSegment()]}isEqual(r){return Ls(this.value,r.value)}getFieldsMap(r){let a=this.value;a.mapValue.fields||(a.mapValue={fields:{}});for(let c=0;c<r.length;++c){let h=a.mapValue.fields[r.get(c)];Wl(h)&&h.mapValue.fields||(h={mapValue:{fields:{}}},a.mapValue.fields[r.get(c)]=h),a=h}return a.mapValue.fields}applyChanges(r,a,c){ls(a,(h,E)=>r[h]=E);for(const h of c)delete r[h]}clone(){return new fi(zu(this.value))}}function Zi(u){const r=[];return ls(u.fields,(a,c)=>{const h=new Gn([a]);if(Wl(c)){const E=Zi(c.mapValue).fields;if(0===E.length)r.push(h);else for(const A of E)r.push(h.child(A))}else r.push(h)}),new Oa(r)}class Ir{constructor(r,a,c,h,E){this.key=r,this.documentType=a,this.version=c,this.data=h,this.documentState=E}static newInvalidDocument(r){return new Ir(r,0,ln.min(),fi.empty(),0)}static newFoundDocument(r,a,c){return new Ir(r,1,a,c,0)}static newNoDocument(r,a){return new Ir(r,2,a,fi.empty(),0)}static newUnknownDocument(r,a){return new Ir(r,3,a,fi.empty(),2)}convertToFoundDocument(r,a){return this.version=r,this.documentType=1,this.data=a,this.documentState=0,this}convertToNoDocument(r){return this.version=r,this.documentType=2,this.data=fi.empty(),this.documentState=0,this}convertToUnknownDocument(r){return this.version=r,this.documentType=3,this.data=fi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(r){return r instanceof Ir&&this.key.isEqual(r.key)&&this.version.isEqual(r.version)&&this.documentType===r.documentType&&this.documentState===r.documentState&&this.data.isEqual(r.data)}clone(){return new Ir(this.key,this.documentType,this.version,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class M{constructor(r,a=null,c=[],h=[],E=null,A=null,L=null){this.path=r,this.collectionGroup=a,this.orderBy=c,this.filters=h,this.limit=E,this.startAt=A,this.endAt=L,this.A=null}}function m(u,r=null,a=[],c=[],h=null,E=null,A=null){return new M(u,r,a,c,h,E,A)}function y(u){const r=R(u);if(null===r.A){let a=r.path.canonicalString();null!==r.collectionGroup&&(a+="|cg:"+r.collectionGroup),a+="|f:",a+=r.filters.map(c=>function(u){return u.field.canonicalString()+u.op.toString()+bs(u.value)}(c)).join(","),a+="|ob:",a+=r.orderBy.map(c=>{return(h=c).field.canonicalString()+h.dir;var h}).join(","),eu(r.limit)||(a+="|l:",a+=r.limit),r.startAt&&(a+="|lb:",a+=Or(r.startAt)),r.endAt&&(a+="|ub:",a+=Or(r.endAt)),r.A=a}return r.A}function B(u,r){if(u.limit!==r.limit||u.orderBy.length!==r.orderBy.length)return!1;for(let h=0;h<u.orderBy.length;h++)if(!cs(u.orderBy[h],r.orderBy[h]))return!1;if(u.filters.length!==r.filters.length)return!1;for(let h=0;h<u.filters.length;h++)if((a=u.filters[h]).op!==(c=r.filters[h]).op||!a.field.isEqual(c.field)||!Ls(a.value,c.value))return!1;var a,c;return u.collectionGroup===r.collectionGroup&&!!u.path.isEqual(r.path)&&!!To(u.startAt,r.startAt)&&To(u.endAt,r.endAt)}function K(u){return At.isDocumentKey(u.path)&&null===u.collectionGroup&&0===u.filters.length}class re extends class{}{constructor(r,a,c){super(),this.field=r,this.op=a,this.value=c}static create(r,a,c){return r.isKeyField()?"in"===a||"not-in"===a?this.R(r,a,c):new Oe(r,a,c):"array-contains"===a?new cn(r,c):"in"===a?new kn(r,c):"not-in"===a?new Kt(r,c):"array-contains-any"===a?new En(r,c):new re(r,a,c)}static R(r,a,c){return"in"===a?new et(r,c):new wt(r,c)}matches(r){const a=r.data.field(this.field);return"!="===this.op?null!==a&&this.P(Pa(a,this.value)):null!==a&&Xs(this.value)===Xs(a)&&this.P(Pa(a,this.value))}P(r){switch(this.op){case"<":return r<0;case"<=":return r<=0;case"==":return 0===r;case"!=":return 0!==r;case">":return r>0;case">=":return r>=0;default:return Lt()}}v(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class Oe extends re{constructor(r,a,c){super(r,a,c),this.key=At.fromName(c.referenceValue)}matches(r){const a=At.comparator(r.key,this.key);return this.P(a)}}class et extends re{constructor(r,a){super(r,"in",a),this.keys=Gt(0,a)}matches(r){return this.keys.some(a=>a.isEqual(r.key))}}class wt extends re{constructor(r,a){super(r,"not-in",a),this.keys=Gt(0,a)}matches(r){return!this.keys.some(a=>a.isEqual(r.key))}}function Gt(u,r){var a;return((null===(a=r.arrayValue)||void 0===a?void 0:a.values)||[]).map(c=>At.fromName(c.referenceValue))}class cn extends re{constructor(r,a){super(r,"array-contains",a)}matches(r){const a=r.data.field(this.field);return $u(a)&&gl(a.arrayValue,this.value)}}class kn extends re{constructor(r,a){super(r,"in",a)}matches(r){const a=r.data.field(this.field);return null!==a&&gl(this.value.arrayValue,a)}}class Kt extends re{constructor(r,a){super(r,"not-in",a)}matches(r){if(gl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const a=r.data.field(this.field);return null!==a&&!gl(this.value.arrayValue,a)}}class En extends re{constructor(r,a){super(r,"array-contains-any",a)}matches(r){const a=r.data.field(this.field);return!(!$u(a)||!a.arrayValue.values)&&a.arrayValue.values.some(c=>gl(this.value.arrayValue,c))}}class On{constructor(r,a){this.position=r,this.before=a}}function Or(u){return`${u.before?"b":"a"}:${u.position.map(r=>bs(r)).join(",")}`}class hr{constructor(r,a="asc"){this.field=r,this.dir=a}}function cs(u,r){return u.dir===r.dir&&u.field.isEqual(r.field)}function Xr(u,r,a){let c=0;for(let h=0;h<u.position.length;h++){const E=r[h],A=u.position[h];if(c=E.field.isKeyField()?At.comparator(At.fromName(A.referenceValue),a.key):Pa(A,a.data.field(E.field)),"desc"===E.dir&&(c*=-1),0!==c)break}return u.before?c<=0:c<0}function To(u,r){if(null===u)return null===r;if(null===r||u.before!==r.before||u.position.length!==r.position.length)return!1;for(let a=0;a<u.position.length;a++)if(!Ls(u.position[a],r.position[a]))return!1;return!0}class Fr{constructor(r,a=null,c=[],h=[],E=null,A="F",L=null,z=null){this.path=r,this.collectionGroup=a,this.explicitOrderBy=c,this.filters=h,this.limit=E,this.limitType=A,this.startAt=L,this.endAt=z,this.V=null,this.S=null}}function bi(u,r,a,c,h,E,A,L){return new Fr(u,r,a,c,h,E,A,L)}function Yn(u){return new Fr(u)}function Bs(u){return!eu(u.limit)&&"F"===u.limitType}function So(u){return!eu(u.limit)&&"L"===u.limitType}function to(u){return u.explicitOrderBy.length>0?u.explicitOrderBy[0].field:null}function Ao(u){for(const r of u.filters)if(r.v())return r.field;return null}function da(u){return null!==u.collectionGroup}function ha(u){const r=R(u);if(null===r.V){r.V=[];const a=Ao(r),c=to(r);if(null!==a&&null===c)a.isKeyField()||r.V.push(new hr(a)),r.V.push(new hr(Gn.keyField(),"asc"));else{let h=!1;for(const E of r.explicitOrderBy)r.V.push(E),E.field.isKeyField()&&(h=!0);if(!h){const E=r.explicitOrderBy.length>0?r.explicitOrderBy[r.explicitOrderBy.length-1].dir:"asc";r.V.push(new hr(Gn.keyField(),E))}}}return r.V}function Is(u){const r=R(u);if(!r.S)if("F"===r.limitType)r.S=m(r.path,r.collectionGroup,ha(r),r.filters,r.limit,r.startAt,r.endAt);else{const a=[];for(const E of ha(r))a.push(new hr(E.field,"desc"===E.dir?"asc":"desc"));const c=r.endAt?new On(r.endAt.position,!r.endAt.before):null,h=r.startAt?new On(r.startAt.position,!r.startAt.before):null;r.S=m(r.path,r.collectionGroup,a,r.filters,r.limit,c,h)}return r.S}function Bt(u,r,a){return new Fr(u.path,u.collectionGroup,u.explicitOrderBy.slice(),u.filters.slice(),r,a,u.startAt,u.endAt)}function zt(u,r){return B(Is(u),Is(r))&&u.limitType===r.limitType}function nn(u){return`${y(Is(u))}|lt:${u.limitType}`}function zn(u){return`Query(target=${function(u){let r=u.path.canonicalString();return null!==u.collectionGroup&&(r+=" collectionGroup="+u.collectionGroup),u.filters.length>0&&(r+=`, filters: [${u.filters.map(a=>{return`${(c=a).field.canonicalString()} ${c.op} ${bs(c.value)}`;var c}).join(", ")}]`),eu(u.limit)||(r+=", limit: "+u.limit),u.orderBy.length>0&&(r+=`, orderBy: [${u.orderBy.map(a=>{return`${(c=a).field.canonicalString()} (${c.dir})`;var c}).join(", ")}]`),u.startAt&&(r+=", startAt: "+Or(u.startAt)),u.endAt&&(r+=", endAt: "+Or(u.endAt)),`Target(${r})`}(Is(u))}; limitType=${u.limitType})`}function fr(u,r){return r.isFoundDocument()&&function(a,c){const h=c.key.path;return null!==a.collectionGroup?c.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(h):At.isDocumentKey(a.path)?a.path.isEqual(h):a.path.isImmediateParentOf(h)}(u,r)&&function(a,c){for(const h of a.explicitOrderBy)if(!h.field.isKeyField()&&null===c.data.field(h.field))return!1;return!0}(u,r)&&function(a,c){for(const h of a.filters)if(!h.matches(c))return!1;return!0}(u,r)&&(c=r,!((a=u).startAt&&!Xr(a.startAt,ha(a),c)||a.endAt&&Xr(a.endAt,ha(a),c)));var a,c}function No(u){return(r,a)=>{let c=!1;for(const h of ha(u)){const E=Ds(h,r,a);if(0!==E)return E;c=c||h.field.isKeyField()}return 0}}function Ds(u,r,a){const c=u.field.isKeyField()?At.comparator(r.key,a.key):function(h,E,A){const L=E.data.field(h),z=A.data.field(h);return null!==L&&null!==z?Pa(L,z):Lt()}(u.field,r,a);switch(u.dir){case"asc":return c;case"desc":return-1*c;default:return Lt()}}function Ro(u,r){if(u.D){if(isNaN(r))return{doubleValue:"NaN"};if(r===1/0)return{doubleValue:"Infinity"};if(r===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Do(r)?"-0":r}}function Dr(u){return{integerValue:""+u}}function Wu(u,r){return Nc(r)?Dr(r):Ro(u,r)}class js{constructor(){this._=void 0}}function qu(u,r,a){return u instanceof ka?function(c,h){const E={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:c.seconds,nanos:c.nanoseconds}}}};return h&&(E.fields.__previous_value__=h),{mapValue:E}}(a,r):u instanceof Ku?hd(u,r):u instanceof Zu?qf(u,r):function(c,h){const E=no(c,h),A=Rc(E)+Rc(c.C);return Us(E)&&Us(c.C)?Dr(A):Ro(c.N,A)}(u,r)}function fa(u,r,a){return u instanceof Ku?hd(u,r):u instanceof Zu?qf(u,r):a}function no(u,r){return u instanceof ml?Us(a=r)||(c=a)&&"doubleValue"in c?r:{integerValue:0}:null;var c,a}class ka extends js{}class Ku extends js{constructor(r){super(),this.elements=r}}function hd(u,r){const a=dh(r);for(const c of u.elements)a.some(h=>Ls(h,c))||a.push(c);return{arrayValue:{values:a}}}class Zu extends js{constructor(r){super(),this.elements=r}}function qf(u,r){let a=dh(r);for(const c of u.elements)a=a.filter(h=>!Ls(h,c));return{arrayValue:{values:a}}}class ml extends js{constructor(r,a){super(),this.N=r,this.C=a}}function Rc(u){return hi(u.integerValue||u.doubleValue)}function dh(u){return $u(u)&&u.arrayValue.values?u.arrayValue.values.slice():[]}class Fa{constructor(r,a){this.field=r,this.transform=a}}class Yu{constructor(r,a){this.version=r,this.transformResults=a}}class Ii{constructor(r,a){this.updateTime=r,this.exists=a}static none(){return new Ii}static exists(r){return new Ii(void 0,r)}static updateTime(r){return new Ii(r)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(r){return this.exists===r.exists&&(this.updateTime?!!r.updateTime&&this.updateTime.isEqual(r.updateTime):!r.updateTime)}}function yl(u,r){return void 0!==u.updateTime?r.isFoundDocument()&&r.version.isEqual(u.updateTime):void 0===u.exists||u.exists===r.isFoundDocument()}class pd{}function Mc(u,r,a){u instanceof La?function(c,h,E){const A=c.value.clone(),L=ph(c.fieldTransforms,h,E.transformResults);A.setAll(L),h.convertToFoundDocument(E.version,A).setHasCommittedMutations()}(u,r,a):u instanceof ro?function(c,h,E){if(!yl(c.precondition,h))return void h.convertToUnknownDocument(E.version);const A=ph(c.fieldTransforms,h,E.transformResults),L=h.data;L.setAll(fh(c)),L.setAll(A),h.convertToFoundDocument(E.version,L).setHasCommittedMutations()}(u,r,a):r.convertToNoDocument(a.version).setHasCommittedMutations()}function ql(u,r,a){var h;u instanceof La?function(c,h,E){if(!yl(c.precondition,h))return;const A=c.value.clone(),L=Oc(c.fieldTransforms,E,h);A.setAll(L),h.convertToFoundDocument(md(h),A).setHasLocalMutations()}(u,r,a):u instanceof ro?function(c,h,E){if(!yl(c.precondition,h))return;const A=Oc(c.fieldTransforms,E,h),L=h.data;L.setAll(fh(c)),L.setAll(A),h.convertToFoundDocument(md(h),L).setHasLocalMutations()}(u,r,a):yl(u.precondition,h=r)&&h.convertToNoDocument(ln.min())}function hh(u,r){let a=null;for(const c of u.fieldTransforms){const h=r.data.field(c.field),E=no(c.transform,h||null);null!=E&&(null==a&&(a=fi.empty()),a.set(c.field,E))}return a||null}function gd(u,r){return u.type===r.type&&!!u.key.isEqual(r.key)&&!!u.precondition.isEqual(r.precondition)&&(c=r.fieldTransforms,!!(void 0===(a=u.fieldTransforms)&&void 0===c||a&&c&&Zr(a,c,(h,E)=>function(u,r){return u.field.isEqual(r.field)&&(c=r.transform,(a=u.transform)instanceof Ku&&c instanceof Ku||a instanceof Zu&&c instanceof Zu?Zr(a.elements,c.elements,Ls):a instanceof ml&&c instanceof ml?Ls(a.C,c.C):a instanceof ka&&c instanceof ka);var a,c}(h,E))))&&(0===u.type?u.value.isEqual(r.value):1!==u.type||u.data.isEqual(r.data)&&u.fieldMask.isEqual(r.fieldMask));var a,c}function md(u){return u.isFoundDocument()?u.version:ln.min()}class La extends pd{constructor(r,a,c,h=[]){super(),this.key=r,this.value=a,this.precondition=c,this.fieldTransforms=h,this.type=0}}class ro extends pd{constructor(r,a,c,h,E=[]){super(),this.key=r,this.data=a,this.fieldMask=c,this.precondition=h,this.fieldTransforms=E,this.type=1}}function fh(u){const r=new Map;return u.fieldMask.fields.forEach(a=>{if(!a.isEmpty()){const c=u.data.field(a);r.set(a,c)}}),r}function ph(u,r,a){const c=new Map;un(u.length===a.length);for(let h=0;h<a.length;h++){const E=u[h],A=E.transform,L=r.data.field(E.field);c.set(E.field,fa(A,L,a[h]))}return c}function Oc(u,r,a){const c=new Map;for(const h of u){const E=h.transform,A=a.data.field(h.field);c.set(h.field,qu(E,A,r))}return c}class Kl extends pd{constructor(r,a){super(),this.key=r,this.precondition=a,this.type=2,this.fieldTransforms=[]}}class Mo extends pd{constructor(r,a){super(),this.key=r,this.precondition=a,this.type=3,this.fieldTransforms=[]}}class _l{constructor(r){this.count=r}}var pi,qn;function gh(u){switch(u){case b.OK:return Lt();case b.CANCELLED:case b.UNKNOWN:case b.DEADLINE_EXCEEDED:case b.RESOURCE_EXHAUSTED:case b.INTERNAL:case b.UNAVAILABLE:case b.UNAUTHENTICATED:return!1;case b.INVALID_ARGUMENT:case b.NOT_FOUND:case b.ALREADY_EXISTS:case b.PERMISSION_DENIED:case b.FAILED_PRECONDITION:case b.ABORTED:case b.OUT_OF_RANGE:case b.UNIMPLEMENTED:case b.DATA_LOSS:return!0;default:return Lt()}}function mh(u){if(void 0===u)return Cr("GRPC error has no .code"),b.UNKNOWN;switch(u){case pi.OK:return b.OK;case pi.CANCELLED:return b.CANCELLED;case pi.UNKNOWN:return b.UNKNOWN;case pi.DEADLINE_EXCEEDED:return b.DEADLINE_EXCEEDED;case pi.RESOURCE_EXHAUSTED:return b.RESOURCE_EXHAUSTED;case pi.INTERNAL:return b.INTERNAL;case pi.UNAVAILABLE:return b.UNAVAILABLE;case pi.UNAUTHENTICATED:return b.UNAUTHENTICATED;case pi.INVALID_ARGUMENT:return b.INVALID_ARGUMENT;case pi.NOT_FOUND:return b.NOT_FOUND;case pi.ALREADY_EXISTS:return b.ALREADY_EXISTS;case pi.PERMISSION_DENIED:return b.PERMISSION_DENIED;case pi.FAILED_PRECONDITION:return b.FAILED_PRECONDITION;case pi.ABORTED:return b.ABORTED;case pi.OUT_OF_RANGE:return b.OUT_OF_RANGE;case pi.UNIMPLEMENTED:return b.UNIMPLEMENTED;case pi.DATA_LOSS:return b.DATA_LOSS;default:return Lt()}}(qn=pi||(pi={}))[qn.OK=0]="OK",qn[qn.CANCELLED=1]="CANCELLED",qn[qn.UNKNOWN=2]="UNKNOWN",qn[qn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",qn[qn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",qn[qn.NOT_FOUND=5]="NOT_FOUND",qn[qn.ALREADY_EXISTS=6]="ALREADY_EXISTS",qn[qn.PERMISSION_DENIED=7]="PERMISSION_DENIED",qn[qn.UNAUTHENTICATED=16]="UNAUTHENTICATED",qn[qn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",qn[qn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",qn[qn.ABORTED=10]="ABORTED",qn[qn.OUT_OF_RANGE=11]="OUT_OF_RANGE",qn[qn.UNIMPLEMENTED=12]="UNIMPLEMENTED",qn[qn.INTERNAL=13]="INTERNAL",qn[qn.UNAVAILABLE=14]="UNAVAILABLE",qn[qn.DATA_LOSS=15]="DATA_LOSS";class gi{constructor(r,a){this.comparator=r,this.root=a||Yi.EMPTY}insert(r,a){return new gi(this.comparator,this.root.insert(r,a,this.comparator).copy(null,null,Yi.BLACK,null,null))}remove(r){return new gi(this.comparator,this.root.remove(r,this.comparator).copy(null,null,Yi.BLACK,null,null))}get(r){let a=this.root;for(;!a.isEmpty();){const c=this.comparator(r,a.key);if(0===c)return a.value;c<0?a=a.left:c>0&&(a=a.right)}return null}indexOf(r){let a=0,c=this.root;for(;!c.isEmpty();){const h=this.comparator(r,c.key);if(0===h)return a+c.left.size;h<0?c=c.left:(a+=c.left.size+1,c=c.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(r){return this.root.inorderTraversal(r)}forEach(r){this.inorderTraversal((a,c)=>(r(a,c),!1))}toString(){const r=[];return this.inorderTraversal((a,c)=>(r.push(`${a}:${c}`),!1)),`{${r.join(", ")}}`}reverseTraversal(r){return this.root.reverseTraversal(r)}getIterator(){return new xc(this.root,null,this.comparator,!1)}getIteratorFrom(r){return new xc(this.root,r,this.comparator,!1)}getReverseIterator(){return new xc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(r){return new xc(this.root,r,this.comparator,!0)}}class xc{constructor(r,a,c,h){this.isReverse=h,this.nodeStack=[];let E=1;for(;!r.isEmpty();)if(E=a?c(r.key,a):1,h&&(E*=-1),E<0)r=this.isReverse?r.left:r.right;else{if(0===E){this.nodeStack.push(r);break}this.nodeStack.push(r),r=this.isReverse?r.right:r.left}}getNext(){let r=this.nodeStack.pop();const a={key:r.key,value:r.value};if(this.isReverse)for(r=r.left;!r.isEmpty();)this.nodeStack.push(r),r=r.right;else for(r=r.right;!r.isEmpty();)this.nodeStack.push(r),r=r.left;return a}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const r=this.nodeStack[this.nodeStack.length-1];return{key:r.key,value:r.value}}}class Yi{constructor(r,a,c,h,E){this.key=r,this.value=a,this.color=null!=c?c:Yi.RED,this.left=null!=h?h:Yi.EMPTY,this.right=null!=E?E:Yi.EMPTY,this.size=this.left.size+1+this.right.size}copy(r,a,c,h,E){return new Yi(null!=r?r:this.key,null!=a?a:this.value,null!=c?c:this.color,null!=h?h:this.left,null!=E?E:this.right)}isEmpty(){return!1}inorderTraversal(r){return this.left.inorderTraversal(r)||r(this.key,this.value)||this.right.inorderTraversal(r)}reverseTraversal(r){return this.right.reverseTraversal(r)||r(this.key,this.value)||this.left.reverseTraversal(r)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(r,a,c){let h=this;const E=c(r,h.key);return h=E<0?h.copy(null,null,null,h.left.insert(r,a,c),null):0===E?h.copy(null,a,null,null,null):h.copy(null,null,null,null,h.right.insert(r,a,c)),h.fixUp()}removeMin(){if(this.left.isEmpty())return Yi.EMPTY;let r=this;return r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.removeMin(),null),r.fixUp()}remove(r,a){let c,h=this;if(a(r,h.key)<0)h.left.isEmpty()||h.left.isRed()||h.left.left.isRed()||(h=h.moveRedLeft()),h=h.copy(null,null,null,h.left.remove(r,a),null);else{if(h.left.isRed()&&(h=h.rotateRight()),h.right.isEmpty()||h.right.isRed()||h.right.left.isRed()||(h=h.moveRedRight()),0===a(r,h.key)){if(h.right.isEmpty())return Yi.EMPTY;c=h.right.min(),h=h.copy(c.key,c.value,null,null,h.right.removeMin())}h=h.copy(null,null,null,null,h.right.remove(r,a))}return h.fixUp()}isRed(){return this.color}fixUp(){let r=this;return r.right.isRed()&&!r.left.isRed()&&(r=r.rotateLeft()),r.left.isRed()&&r.left.left.isRed()&&(r=r.rotateRight()),r.left.isRed()&&r.right.isRed()&&(r=r.colorFlip()),r}moveRedLeft(){let r=this.colorFlip();return r.right.left.isRed()&&(r=r.copy(null,null,null,null,r.right.rotateRight()),r=r.rotateLeft(),r=r.colorFlip()),r}moveRedRight(){let r=this.colorFlip();return r.left.left.isRed()&&(r=r.rotateRight(),r=r.colorFlip()),r}rotateLeft(){const r=this.copy(null,null,Yi.RED,null,this.right.left);return this.right.copy(null,null,this.color,r,null)}rotateRight(){const r=this.copy(null,null,Yi.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,r)}colorFlip(){const r=this.left.copy(null,null,!this.left.color,null,null),a=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,r,a)}checkMaxDepth(){const r=this.check();return Math.pow(2,r)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Lt();const r=this.left.check();if(r!==this.right.check())throw Lt();return r+(this.isRed()?0:1)}}Yi.EMPTY=null,Yi.RED=!0,Yi.BLACK=!1,Yi.EMPTY=new class{constructor(){this.size=0}get key(){throw Lt()}get value(){throw Lt()}get color(){throw Lt()}get left(){throw Lt()}get right(){throw Lt()}copy(u,r,a,c,h){return this}insert(u,r,a){return new Yi(u,r)}remove(u,r){return this}isEmpty(){return!0}inorderTraversal(u){return!1}reverseTraversal(u){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class oi{constructor(r){this.comparator=r,this.data=new gi(this.comparator)}has(r){return null!==this.data.get(r)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(r){return this.data.indexOf(r)}forEach(r){this.data.inorderTraversal((a,c)=>(r(a),!1))}forEachInRange(r,a){const c=this.data.getIteratorFrom(r[0]);for(;c.hasNext();){const h=c.getNext();if(this.comparator(h.key,r[1])>=0)return;a(h.key)}}forEachWhile(r,a){let c;for(c=void 0!==a?this.data.getIteratorFrom(a):this.data.getIterator();c.hasNext();)if(!r(c.getNext().key))return}firstAfterOrEqual(r){const a=this.data.getIteratorFrom(r);return a.hasNext()?a.getNext().key:null}getIterator(){return new yh(this.data.getIterator())}getIteratorFrom(r){return new yh(this.data.getIteratorFrom(r))}add(r){return this.copy(this.data.remove(r).insert(r,!0))}delete(r){return this.has(r)?this.copy(this.data.remove(r)):this}isEmpty(){return this.data.isEmpty()}unionWith(r){let a=this;return a.size<r.size&&(a=r,r=this),r.forEach(c=>{a=a.add(c)}),a}isEqual(r){if(!(r instanceof oi)||this.size!==r.size)return!1;const a=this.data.getIterator(),c=r.data.getIterator();for(;a.hasNext();){const h=a.getNext().key,E=c.getNext().key;if(0!==this.comparator(h,E))return!1}return!0}toArray(){const r=[];return this.forEach(a=>{r.push(a)}),r}toString(){const r=[];return this.forEach(a=>r.push(a)),"SortedSet("+r.toString()+")"}copy(r){const a=new oi(this.comparator);return a.data=r,a}}class yh{constructor(r){this.iter=r}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}const Kf=new gi(At.comparator);function Oo(){return Kf}const _h=new gi(At.comparator);function yd(){return _h}const Zl=new gi(At.comparator);function Yl(){return Zl}const Go=new oi(At.comparator);function nr(...u){let r=Go;for(const a of u)r=r.add(a);return r}const vh=new oi(Rt);function _u(){return vh}class vl{constructor(r,a,c,h,E){this.snapshotVersion=r,this.targetChanges=a,this.targetMismatches=c,this.documentUpdates=h,this.resolvedLimboDocuments=E}static createSynthesizedRemoteEventForCurrentChange(r,a){const c=new Map;return c.set(r,Pc.createSynthesizedTargetChangeForCurrentChange(r,a)),new vl(ln.min(),c,_u(),Oo(),nr())}}class Pc{constructor(r,a,c,h,E){this.resumeToken=r,this.current=a,this.addedDocuments=c,this.modifiedDocuments=h,this.removedDocuments=E}static createSynthesizedTargetChangeForCurrentChange(r,a){return new Pc(Ci.EMPTY_BYTE_STRING,a,nr(),nr(),nr())}}class _d{constructor(r,a,c,h){this.k=r,this.removedTargetIds=a,this.key=c,this.$=h}}class Eh{constructor(r,a){this.targetId=r,this.O=a}}class kc{constructor(r,a,c=Ci.EMPTY_BYTE_STRING,h=null){this.state=r,this.targetIds=a,this.resumeToken=c,this.cause=h}}class Fc{constructor(){this.F=0,this.M=Lc(),this.L=Ci.EMPTY_BYTE_STRING,this.B=!1,this.U=!0}get current(){return this.B}get resumeToken(){return this.L}get q(){return 0!==this.F}get K(){return this.U}j(r){r.approximateByteSize()>0&&(this.U=!0,this.L=r)}W(){let r=nr(),a=nr(),c=nr();return this.M.forEach((h,E)=>{switch(E){case 0:r=r.add(h);break;case 2:a=a.add(h);break;case 1:c=c.add(h);break;default:Lt()}}),new Pc(this.L,this.B,r,a,c)}G(){this.U=!1,this.M=Lc()}H(r,a){this.U=!0,this.M=this.M.insert(r,a)}J(r){this.U=!0,this.M=this.M.remove(r)}Y(){this.F+=1}X(){this.F-=1}Z(){this.U=!0,this.B=!0}}class vd{constructor(r){this.tt=r,this.et=new Map,this.nt=Oo(),this.st=Zf(),this.it=new oi(Rt)}rt(r){for(const a of r.k)r.$&&r.$.isFoundDocument()?this.ot(a,r.$):this.at(a,r.key,r.$);for(const a of r.removedTargetIds)this.at(a,r.key,r.$)}ct(r){this.forEachTarget(r,a=>{const c=this.ut(a);switch(r.state){case 0:this.ht(a)&&c.j(r.resumeToken);break;case 1:c.X(),c.q||c.G(),c.j(r.resumeToken);break;case 2:c.X(),c.q||this.removeTarget(a);break;case 3:this.ht(a)&&(c.Z(),c.j(r.resumeToken));break;case 4:this.ht(a)&&(this.lt(a),c.j(r.resumeToken));break;default:Lt()}})}forEachTarget(r,a){r.targetIds.length>0?r.targetIds.forEach(a):this.et.forEach((c,h)=>{this.ht(h)&&a(h)})}ft(r){const a=r.targetId,c=r.O.count,h=this.dt(a);if(h){const E=h.target;if(K(E))if(0===c){const A=new At(E.path);this.at(a,A,Ir.newNoDocument(A,ln.min()))}else un(1===c);else this.wt(a)!==c&&(this.lt(a),this.it=this.it.add(a))}}_t(r){const a=new Map;this.et.forEach((E,A)=>{const L=this.dt(A);if(L){if(E.current&&K(L.target)){const z=new At(L.target.path);null!==this.nt.get(z)||this.gt(A,z)||this.at(A,z,Ir.newNoDocument(z,r))}E.K&&(a.set(A,E.W()),E.G())}});let c=nr();this.st.forEach((E,A)=>{let L=!0;A.forEachWhile(z=>{const ie=this.dt(z);return!ie||2===ie.purpose||(L=!1,!1)}),L&&(c=c.add(E))});const h=new vl(r,a,this.it,this.nt,c);return this.nt=Oo(),this.st=Zf(),this.it=new oi(Rt),h}ot(r,a){if(!this.ht(r))return;const c=this.gt(r,a.key)?2:0;this.ut(r).H(a.key,c),this.nt=this.nt.insert(a.key,a),this.st=this.st.insert(a.key,this.yt(a.key).add(r))}at(r,a,c){if(!this.ht(r))return;const h=this.ut(r);this.gt(r,a)?h.H(a,1):h.J(a),this.st=this.st.insert(a,this.yt(a).delete(r)),c&&(this.nt=this.nt.insert(a,c))}removeTarget(r){this.et.delete(r)}wt(r){const a=this.ut(r).W();return this.tt.getRemoteKeysForTarget(r).size+a.addedDocuments.size-a.removedDocuments.size}Y(r){this.ut(r).Y()}ut(r){let a=this.et.get(r);return a||(a=new Fc,this.et.set(r,a)),a}yt(r){let a=this.st.get(r);return a||(a=new oi(Rt),this.st=this.st.insert(r,a)),a}ht(r){const a=null!==this.dt(r);return a||vt("WatchChangeAggregator","Detected inactive target",r),a}dt(r){const a=this.et.get(r);return a&&a.q?null:this.tt.Et(r)}lt(r){this.et.set(r,new Fc),this.tt.getRemoteKeysForTarget(r).forEach(a=>{this.at(r,a,null)})}gt(r,a){return this.tt.getRemoteKeysForTarget(r).has(a)}}function Zf(){return new gi(At.comparator)}function Lc(){return new gi(At.comparator)}const wh={asc:"ASCENDING",desc:"DESCENDING"},Ch={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class Yf{constructor(r,a){this.databaseId=r,this.D=a}}function Ql(u,r){return u.D?`${new Date(1e3*r.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+r.nanoseconds).slice(-9)}Z`:{seconds:""+r.seconds,nanos:r.nanoseconds}}function bh(u,r){return u.D?r.toBase64():r.toUint8Array()}function Ih(u,r){return Ql(u,r.toTimestamp())}function ai(u){return un(!!u),ln.fromTimestamp(function(r){const a=ca(r);return new Zn(a.seconds,a.nanos)}(u))}function El(u,r){return(a=u,new er(["projects",a.projectId,"databases",a.database])).child("documents").child(r).canonicalString();var a}function wl(u){const r=er.fromString(u);return un(nc(r)),r}function Cl(u,r){return El(u.databaseId,r.path)}function pr(u,r){const a=wl(r);if(a.get(1)!==u.databaseId.projectId)throw new C(b.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+a.get(1)+" vs "+u.databaseId.projectId);if(a.get(3)!==u.databaseId.database)throw new C(b.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+a.get(3)+" vs "+u.databaseId.database);return new At(Vc(a))}function Jl(u,r){return El(u.databaseId,r)}function io(u){const r=wl(u);return 4===r.length?er.emptyPath():Vc(r)}function pa(u){return new er(["projects",u.databaseId.projectId,"databases",u.databaseId.database]).canonicalString()}function Vc(u){return un(u.length>4&&"documents"===u.get(4)),u.popFirst(5)}function Dh(u,r,a){return{name:Cl(u,r),fields:a.value.mapValue.fields}}function Uc(u,r,a){const c=pr(u,r.name),h=ai(r.updateTime),E=new fi({mapValue:{fields:r.fields}}),A=Ir.newFoundDocument(c,h,E);return a&&A.setHasCommittedMutations(),a?A.setHasCommittedMutations():A}function Xl(u,r){let a;if(r instanceof La)a={update:Dh(u,r.key,r.value)};else if(r instanceof Kl)a={delete:Cl(u,r.key)};else if(r instanceof ro)a={update:Dh(u,r.key,r.data),updateMask:Sh(r.fieldMask)};else{if(!(r instanceof Mo))return Lt();a={verify:Cl(u,r.key)}}return r.fieldTransforms.length>0&&(a.updateTransforms=r.fieldTransforms.map(c=>function(h,E){const A=E.transform;if(A instanceof ka)return{fieldPath:E.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(A instanceof Ku)return{fieldPath:E.field.canonicalString(),appendMissingElements:{values:A.elements}};if(A instanceof Zu)return{fieldPath:E.field.canonicalString(),removeAllFromArray:{values:A.elements}};if(A instanceof ml)return{fieldPath:E.field.canonicalString(),increment:A.C};throw Lt()}(0,c))),r.precondition.isNone||(a.currentDocument=void 0!==(h=r.precondition).updateTime?{updateTime:Ih(u,h.updateTime)}:void 0!==h.exists?{exists:h.exists}:Lt()),a;var h}function Jf(u,r){const a=r.currentDocument?void 0!==(h=r.currentDocument).updateTime?Ii.updateTime(ai(h.updateTime)):void 0!==h.exists?Ii.exists(h.exists):Ii.none():Ii.none(),c=r.updateTransforms?r.updateTransforms.map(h=>function(E,A){let L=null;"setToServerValue"in A?(un("REQUEST_TIME"===A.setToServerValue),L=new ka):"appendMissingElements"in A?L=new Ku(A.appendMissingElements.values||[]):"removeAllFromArray"in A?L=new Zu(A.removeAllFromArray.values||[]):"increment"in A?L=new ml(E,A.increment):Lt();const z=Gn.fromServerFormat(A.fieldPath);return new Fa(z,L)}(u,h)):[];var h;if(r.update){const h=pr(u,r.update.name),E=new fi({mapValue:{fields:r.update.fields}});if(r.updateMask){const A=new Oa((r.updateMask.fieldPaths||[]).map(ie=>Gn.fromServerFormat(ie)));return new ro(h,E,A,a,c)}return new La(h,E,a,c)}if(r.delete){const h=pr(u,r.delete);return new Kl(h,a)}if(r.verify){const h=pr(u,r.verify);return new Mo(h,a)}return Lt()}function Ju(u,r){return{documents:[Jl(u,r.path)]}}function Ts(u,r){const a={structuredQuery:{}},c=r.path;null!==r.collectionGroup?(a.parent=Jl(u,c),a.structuredQuery.from=[{collectionId:r.collectionGroup,allDescendants:!0}]):(a.parent=Jl(u,c.popLast()),a.structuredQuery.from=[{collectionId:c.lastSegment()}]);const h=function(L){if(0===L.length)return;const z=L.map(ie=>function(ce){if("=="===ce.op){if(zl(ce.value))return{unaryFilter:{field:bl(ce.field),op:"IS_NAN"}};if(Gu(ce.value))return{unaryFilter:{field:bl(ce.field),op:"IS_NULL"}}}else if("!="===ce.op){if(zl(ce.value))return{unaryFilter:{field:bl(ce.field),op:"IS_NOT_NAN"}};if(Gu(ce.value))return{unaryFilter:{field:bl(ce.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:bl(ce.field),op:wd(ce.op),value:ce.value}}}(ie));return 1===z.length?z[0]:{compositeFilter:{op:"AND",filters:z}}}(r.filters);h&&(a.structuredQuery.where=h);const E=function(L){if(0!==L.length)return L.map(z=>{return{field:bl((ie=z).field),direction:ec(ie.dir)};var ie})}(r.orderBy);E&&(a.structuredQuery.orderBy=E);const A=(z=r.limit,u.D||eu(z)?z:{value:z});var z;return null!==A&&(a.structuredQuery.limit=A),r.startAt&&(a.structuredQuery.startAt=_r(r.startAt)),r.endAt&&(a.structuredQuery.endAt=_r(r.endAt)),a}function Bc(u){let r=io(u.parent);const a=u.structuredQuery,c=a.from?a.from.length:0;let h=null;if(c>0){un(1===c);const ce=a.from[0];ce.allDescendants?h=ce.collectionId:r=r.child(ce.collectionId)}let E=[];a.where&&(E=jc(a.where));let A=[];a.orderBy&&(A=a.orderBy.map(ce=>{return new hr(Hs((be=ce).field),function(Je){switch(Je){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(be.direction));var be}));let L=null;a.limit&&(L=function(ce){let be;return be="object"==typeof ce?ce.value:ce,eu(be)?null:be}(a.limit));let z=null;a.startAt&&(z=vu(a.startAt));let ie=null;return a.endAt&&(ie=vu(a.endAt)),bi(r,h,A,E,L,"F",z,ie)}function jc(u){return u?void 0!==u.unaryFilter?[Cd(u)]:void 0!==u.fieldFilter?[tc(u)]:void 0!==u.compositeFilter?u.compositeFilter.filters.map(r=>jc(r)).reduce((r,a)=>r.concat(a)):Lt():[]}function _r(u){return{before:u.before,values:u.position}}function vu(u){return new On(u.values||[],!!u.before)}function ec(u){return wh[u]}function wd(u){return Ch[u]}function bl(u){return{fieldPath:u.canonicalString()}}function Hs(u){return Gn.fromServerFormat(u.fieldPath)}function tc(u){return re.create(Hs(u.fieldFilter.field),function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return Lt()}}(u.fieldFilter.op),u.fieldFilter.value)}function Cd(u){switch(u.unaryFilter.op){case"IS_NAN":const r=Hs(u.unaryFilter.field);return re.create(r,"==",{doubleValue:NaN});case"IS_NULL":const a=Hs(u.unaryFilter.field);return re.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Hs(u.unaryFilter.field);return re.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=Hs(u.unaryFilter.field);return re.create(h,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return Lt()}}function Sh(u){const r=[];return u.fields.forEach(a=>r.push(a.canonicalString())),{fieldPaths:r}}function nc(u){return u.length>=4&&"projects"===u.get(0)&&"databases"===u.get(2)}function ga(u){let r="";for(let a=0;a<u.length;a++)r.length>0&&(r=Ah(r)),r=Xf(u.get(a),r);return Ah(r)}function Xf(u,r){let a=r;const c=u.length;for(let h=0;h<c;h++){const E=u.charAt(h);switch(E){case"\0":a+="\x01\x10";break;case"\x01":a+="\x01\x11";break;default:a+=E}}return a}function Ah(u){return u+"\x01\x01"}function Va(u){const r=u.length;if(un(r>=2),2===r)return un("\x01"===u.charAt(0)&&"\x01"===u.charAt(1)),er.emptyPath();const a=r-2,c=[];let h="";for(let E=0;E<r;){const A=u.indexOf("\x01",E);switch((A<0||A>a)&&Lt(),u.charAt(A+1)){case"\x01":const L=u.substring(E,A);let z;0===h.length?z=L:(h+=L,z=h,h=""),c.push(z);break;case"\x10":h+=u.substring(E,A),h+="\0";break;case"\x11":h+=u.substring(E,A+1);break;default:Lt()}E=A+2}return new er(c)}class I{constructor(r,a){this.seconds=r,this.nanoseconds=a}}class g{constructor(r,a,c){this.ownerId=r,this.allowTabSynchronization=a,this.leaseTimestampMs=c}}g.store="owner",g.key="owner";class _{constructor(r,a,c){this.userId=r,this.lastAcknowledgedBatchId=a,this.lastStreamToken=c}}_.store="mutationQueues",_.keyPath="userId";class S{constructor(r,a,c,h,E){this.userId=r,this.batchId=a,this.localWriteTimeMs=c,this.baseMutations=h,this.mutations=E}}S.store="mutations",S.keyPath="batchId",S.userMutationsIndex="userMutationsIndex",S.userMutationsKeyPath=["userId","batchId"];class ${constructor(){}static prefixForUser(r){return[r]}static prefixForPath(r,a){return[r,ga(a)]}static key(r,a,c){return[r,ga(a),c]}}$.store="documentMutations",$.PLACEHOLDER=new $;class X{constructor(r,a){this.path=r,this.readTime=a}}class Ne{constructor(r,a){this.path=r,this.version=a}}class qe{constructor(r,a,c,h,E,A){this.unknownDocument=r,this.noDocument=a,this.document=c,this.hasCommittedMutations=h,this.readTime=E,this.parentPath=A}}qe.store="remoteDocuments",qe.readTimeIndex="readTimeIndex",qe.readTimeIndexPath="readTime",qe.collectionReadTimeIndex="collectionReadTimeIndex",qe.collectionReadTimeIndexPath=["parentPath","readTime"];class yt{constructor(r){this.byteSize=r}}yt.store="remoteDocumentGlobal",yt.key="remoteDocumentGlobalKey";class Pt{constructor(r,a,c,h,E,A,L){this.targetId=r,this.canonicalId=a,this.readTime=c,this.resumeToken=h,this.lastListenSequenceNumber=E,this.lastLimboFreeSnapshotVersion=A,this.query=L}}Pt.store="targets",Pt.keyPath="targetId",Pt.queryTargetsIndexName="queryTargetsIndex",Pt.queryTargetsKeyPath=["canonicalId","targetId"];class Zt{constructor(r,a,c){this.targetId=r,this.path=a,this.sequenceNumber=c}}Zt.store="targetDocuments",Zt.keyPath=["targetId","path"],Zt.documentTargetsIndex="documentTargetsIndex",Zt.documentTargetsKeyPath=["path","targetId"];class Wt{constructor(r,a,c,h){this.highestTargetId=r,this.highestListenSequenceNumber=a,this.lastRemoteSnapshotVersion=c,this.targetCount=h}}Wt.key="targetGlobalKey",Wt.store="targetGlobal";class zr{constructor(r,a){this.collectionId=r,this.parent=a}}zr.store="collectionParents",zr.keyPath=["collectionId","parent"];class Fi{constructor(r,a,c,h){this.clientId=r,this.updateTimeMs=a,this.networkEnabled=c,this.inForeground=h}}Fi.store="clientMetadata",Fi.keyPath="clientId";class zo{constructor(r,a,c){this.bundleId=r,this.createTime=a,this.version=c}}zo.store="bundles",zo.keyPath="bundleId";class Qi{constructor(r,a,c){this.name=r,this.readTime=a,this.bundledQuery=c}}Qi.store="namedQueries",Qi.keyPath="name";const Hc=[_.store,S.store,$.store,qe.store,Pt.store,g.store,Wt.store,Zt.store,Fi.store,yt.store,zr.store,zo.store,Qi.store],bd="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Id{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(r){this.onCommittedListeners.push(r)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(r=>r())}}class pt{constructor(r){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,r(a=>{this.isDone=!0,this.result=a,this.nextCallback&&this.nextCallback(a)},a=>{this.isDone=!0,this.error=a,this.catchCallback&&this.catchCallback(a)})}catch(r){return this.next(void 0,r)}next(r,a){return this.callbackAttached&&Lt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(a,this.error):this.wrapSuccess(r,this.result):new pt((c,h)=>{this.nextCallback=E=>{this.wrapSuccess(r,E).next(c,h)},this.catchCallback=E=>{this.wrapFailure(a,E).next(c,h)}})}toPromise(){return new Promise((r,a)=>{this.next(r,a)})}wrapUserFunction(r){try{const a=r();return a instanceof pt?a:pt.resolve(a)}catch(a){return pt.reject(a)}}wrapSuccess(r,a){return r?this.wrapUserFunction(()=>r(a)):pt.resolve(a)}wrapFailure(r,a){return r?this.wrapUserFunction(()=>r(a)):pt.reject(a)}static resolve(r){return new pt((a,c)=>{a(r)})}static reject(r){return new pt((a,c)=>{c(r)})}static waitFor(r){return new pt((a,c)=>{let h=0,E=0,A=!1;r.forEach(L=>{++h,L.next(()=>{++E,A&&E===h&&a()},z=>c(z))}),A=!0,E===h&&a()})}static or(r){let a=pt.resolve(!1);for(const c of r)a=a.next(h=>h?pt.resolve(h):c());return a}static forEach(r,a){const c=[];return r.forEach((h,E)=>{c.push(a.call(this,h,E))}),this.waitFor(c)}}class $c{constructor(r,a){this.action=r,this.transaction=a,this.aborted=!1,this.Tt=new x,this.transaction.oncomplete=()=>{this.Tt.resolve()},this.transaction.onabort=()=>{a.error?this.Tt.reject(new Il(r,a.error)):this.Tt.resolve()},this.transaction.onerror=c=>{const h=um(c.target.error);this.Tt.reject(new Il(r,h))}}static open(r,a,c,h){try{return new $c(a,r.transaction(h,c))}catch(E){throw new Il(a,E)}}get It(){return this.Tt.promise}abort(r){r&&this.Tt.reject(r),this.aborted||(vt("SimpleDb","Aborting transaction:",r?r.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}store(r){const a=this.transaction.objectStore(r);return new Eu(a)}}class xo{constructor(r,a,c){this.name=r,this.version=a,this.At=c,12.2===xo.Rt((0,Ae.z$)())&&Cr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(r){return vt("SimpleDb","Removing database:",r),Ss(window.indexedDB.deleteDatabase(r)).toPromise()}static Pt(){if("undefined"==typeof indexedDB)return!1;if(xo.bt())return!0;const r=(0,Ae.z$)(),a=xo.Rt(r),c=0<a&&a<10,h=xo.vt(r),E=0<h&&h<4.5;return!(r.indexOf("MSIE ")>0||r.indexOf("Trident/")>0||r.indexOf("Edge/")>0||c||E)}static bt(){var r;return"undefined"!=typeof process&&"YES"===(null===(r=process.env)||void 0===r?void 0:r.Vt)}static St(r,a){return r.store(a)}static Rt(r){const a=r.match(/i(?:phone|pad|pod) os ([\d_]+)/i),c=a?a[1].split("_").slice(0,2).join("."):"-1";return Number(c)}static vt(r){const a=r.match(/Android ([\d.]+)/i),c=a?a[1].split(".").slice(0,2).join("."):"-1";return Number(c)}Dt(r){var a=this;return(0,we.Z)(function*(){return a.db||(vt("SimpleDb","Opening database:",a.name),a.db=yield new Promise((c,h)=>{const E=indexedDB.open(a.name,a.version);E.onsuccess=A=>{c(A.target.result)},E.onblocked=()=>{h(new Il(r,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},E.onerror=A=>{const L=A.target.error;h("VersionError"===L.name?new C(b.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):new Il(r,L))},E.onupgradeneeded=A=>{vt("SimpleDb",'Database "'+a.name+'" requires upgrade from version:',A.oldVersion),a.At.Ct(A.target.result,E.transaction,A.oldVersion,a.version).next(()=>{vt("SimpleDb","Database upgrade to version "+a.version+" complete")})}})),a.Nt&&(a.db.onversionchange=c=>a.Nt(c)),a.db})()}xt(r){this.Nt=r,this.db&&(this.db.onversionchange=a=>r(a))}runTransaction(r,a,c,h){var E=this;return(0,we.Z)(function*(){const A="readonly"===a;let L=0;for(;;){++L;try{E.db=yield E.Dt(r);const z=$c.open(E.db,r,A?"readonly":"readwrite",c),ie=h(z).catch(ce=>(z.abort(ce),pt.reject(ce))).toPromise();return ie.catch(()=>{}),yield z.It,ie}catch(z){const ie="FirebaseError"!==z.name&&L<3;if(vt("SimpleDb","Transaction failed with error:",z.message,"Retrying:",ie),E.close(),!ie)return Promise.reject(z)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class Dd{constructor(r){this.kt=r,this.$t=!1,this.Ot=null}get isDone(){return this.$t}get Ft(){return this.Ot}set cursor(r){this.kt=r}done(){this.$t=!0}Mt(r){this.Ot=r}delete(){return Ss(this.kt.delete())}}class Il extends C{constructor(r,a){super(b.UNAVAILABLE,`IndexedDB transaction '${r}' failed: ${a}`),this.name="IndexedDbTransactionError"}}function Xu(u){return"IndexedDbTransactionError"===u.name}class Eu{constructor(r){this.store=r}put(r,a){let c;return void 0!==a?(vt("SimpleDb","PUT",this.store.name,r,a),c=this.store.put(a,r)):(vt("SimpleDb","PUT",this.store.name,"<auto-key>",r),c=this.store.put(r)),Ss(c)}add(r){return vt("SimpleDb","ADD",this.store.name,r,r),Ss(this.store.add(r))}get(r){return Ss(this.store.get(r)).next(a=>(void 0===a&&(a=null),vt("SimpleDb","GET",this.store.name,r,a),a))}delete(r){return vt("SimpleDb","DELETE",this.store.name,r),Ss(this.store.delete(r))}count(){return vt("SimpleDb","COUNT",this.store.name),Ss(this.store.count())}Lt(r,a){const c=this.cursor(this.options(r,a)),h=[];return this.Bt(c,(E,A)=>{h.push(A)}).next(()=>h)}Ut(r,a){vt("SimpleDb","DELETE ALL",this.store.name);const c=this.options(r,a);c.qt=!1;const h=this.cursor(c);return this.Bt(h,(E,A,L)=>L.delete())}Kt(r,a){let c;a?c=r:(c={},a=r);const h=this.cursor(c);return this.Bt(h,a)}jt(r){const a=this.cursor({});return new pt((c,h)=>{a.onerror=E=>{const A=um(E.target.error);h(A)},a.onsuccess=E=>{const A=E.target.result;A?r(A.primaryKey,A.value).next(L=>{L?A.continue():c()}):c()}})}Bt(r,a){const c=[];return new pt((h,E)=>{r.onerror=A=>{E(A.target.error)},r.onsuccess=A=>{const L=A.target.result;if(!L)return void h();const z=new Dd(L),ie=a(L.primaryKey,L.value,z);if(ie instanceof pt){const ce=ie.catch(be=>(z.done(),pt.reject(be)));c.push(ce)}z.isDone?h():null===z.Ft?L.continue():L.continue(z.Ft)}}).next(()=>pt.waitFor(c))}options(r,a){let c;return void 0!==r&&("string"==typeof r?c=r:a=r),{index:c,range:a}}cursor(r){let a="next";if(r.reverse&&(a="prev"),r.index){const c=this.store.index(r.index);return r.qt?c.openKeyCursor(r.range,a):c.openCursor(r.range,a)}return this.store.openCursor(r.range,a)}}function Ss(u){return new pt((r,a)=>{u.onsuccess=c=>{r(c.target.result)},u.onerror=c=>{const h=um(c.target.error);a(h)}})}let w_=!1;function um(u){const r=xo.Rt((0,Ae.z$)());if(r>=12.2&&r<13){const a="An internal error was encountered in the Indexed Database server";if(u.message.indexOf(a)>=0){const c=new C("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${a}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return w_||(w_=!0,setTimeout(()=>{throw c},0)),c}}return u}class ep extends Id{constructor(r,a){super(),this.Qt=r,this.currentSequenceNumber=a}}function ma(u,r){const a=R(u);return xo.St(a.Qt,r)}class Ua{constructor(r,a,c,h){this.batchId=r,this.localWriteTime=a,this.baseMutations=c,this.mutations=h}applyToRemoteDocument(r,a){const c=a.mutationResults;for(let h=0;h<this.mutations.length;h++){const E=this.mutations[h];E.key.isEqual(r.key)&&Mc(E,r,c[h])}}applyToLocalView(r){for(const a of this.baseMutations)a.key.isEqual(r.key)&&ql(a,r,this.localWriteTime);for(const a of this.mutations)a.key.isEqual(r.key)&&ql(a,r,this.localWriteTime)}applyToLocalDocumentSet(r){this.mutations.forEach(a=>{const c=r.get(a.key),h=c;this.applyToLocalView(h),c.isValidDocument()||h.convertToNoDocument(ln.min())})}keys(){return this.mutations.reduce((r,a)=>r.add(a.key),nr())}isEqual(r){return this.batchId===r.batchId&&Zr(this.mutations,r.mutations,(a,c)=>gd(a,c))&&Zr(this.baseMutations,r.baseMutations,(a,c)=>gd(a,c))}}class Td{constructor(r,a,c,h){this.batch=r,this.commitVersion=a,this.mutationResults=c,this.docVersions=h}static from(r,a,c){un(r.mutations.length===c.length);let h=Yl();const E=r.mutations;for(let A=0;A<E.length;A++)h=h.insert(E[A].key,c[A].version);return new Td(r,a,c,h)}}class wu{constructor(r,a,c,h,E=ln.min(),A=ln.min(),L=Ci.EMPTY_BYTE_STRING){this.target=r,this.targetId=a,this.purpose=c,this.sequenceNumber=h,this.snapshotVersion=E,this.lastLimboFreeSnapshotVersion=A,this.resumeToken=L}withSequenceNumber(r){return new wu(this.target,this.targetId,this.purpose,r,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(r,a){return new wu(this.target,this.targetId,this.purpose,this.sequenceNumber,a,this.lastLimboFreeSnapshotVersion,r)}withLastLimboFreeSnapshotVersion(r){return new wu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,r,this.resumeToken)}}class lm{constructor(r){this.Wt=r}}function Nh(u,r){if(r.document)return Uc(u.Wt,r.document,!!r.hasCommittedMutations);if(r.noDocument){const a=At.fromSegments(r.noDocument.path),c=Tl(r.noDocument.readTime),h=Ir.newNoDocument(a,c);return r.hasCommittedMutations?h.setHasCommittedMutations():h}if(r.unknownDocument){const a=At.fromSegments(r.unknownDocument.path),c=Tl(r.unknownDocument.version);return Ir.newUnknownDocument(a,c)}return Lt()}function Gc(u,r,a){const c=Rh(a),h=r.key.path.popLast().toArray();if(r.isFoundDocument()){const E={name:Cl(L=u.Wt,(z=r).key),fields:z.data.value.mapValue.fields,updateTime:Ql(L,z.version.toTimestamp())};return new qe(null,null,E,r.hasCommittedMutations,c,h)}var L,z;if(r.isNoDocument()){const E=r.key.path.toArray(),A=Dl(r.version),L=r.hasCommittedMutations;return new qe(null,new X(E,A),null,L,c,h)}if(r.isUnknownDocument()){const E=r.key.path.toArray(),A=Dl(r.version);return new qe(new Ne(E,A),null,null,!0,c,h)}return Lt()}function Rh(u){const r=u.toTimestamp();return[r.seconds,r.nanoseconds]}function tp(u){const r=new Zn(u[0],u[1]);return ln.fromTimestamp(r)}function Dl(u){const r=u.toTimestamp();return new I(r.seconds,r.nanoseconds)}function Tl(u){const r=new Zn(u.seconds,u.nanoseconds);return ln.fromTimestamp(r)}function rc(u,r){const a=(r.baseMutations||[]).map(E=>Jf(u.Wt,E));for(let E=0;E<r.mutations.length-1;++E){const A=r.mutations[E];E+1<r.mutations.length&&void 0!==r.mutations[E+1].transform&&(A.updateTransforms=r.mutations[E+1].transform.fieldTransforms,r.mutations.splice(E+1,1),++E)}const c=r.mutations.map(E=>Jf(u.Wt,E)),h=Zn.fromMillis(r.localWriteTimeMs);return new Ua(r.batchId,h,a,c)}function Mh(u){const r=Tl(u.readTime),a=void 0!==u.lastLimboFreeSnapshotVersion?Tl(u.lastLimboFreeSnapshotVersion):ln.min();let c;var h;return void 0!==u.query.documents?(un(1===(h=u.query).documents.length),c=Is(Yn(io(h.documents[0])))):c=Is(Bc(u.query)),new wu(c,u.targetId,0,u.lastListenSequenceNumber,r,a,Ci.fromBase64String(u.resumeToken))}function ic(u,r){const a=Dl(r.snapshotVersion),c=Dl(r.lastLimboFreeSnapshotVersion);let h;h=K(r.target)?Ju(u.Wt,r.target):Ts(u.Wt,r.target);const E=r.resumeToken.toBase64();return new Pt(r.targetId,y(r.target),a,E,r.sequenceNumber,c,h)}function Sd(u){const r=Bc({parent:u.parent,structuredQuery:u.structuredQuery});return"LAST"===u.limitType?Bt(r,r.limit,"L"):r}class cm{getBundleMetadata(r,a){return dm(r).get(a).next(c=>{if(c)return{id:(h=c).bundleId,createTime:Tl(h.createTime),version:h.version};var h})}saveBundleMetadata(r,a){return dm(r).put({bundleId:(c=a).id,createTime:Dl(ai(c.createTime)),version:c.version});var c}getNamedQuery(r,a){return Oh(r).get(a).next(c=>{if(c)return{name:(h=c).name,query:Sd(h.bundledQuery),readTime:Tl(h.readTime)};var h})}saveNamedQuery(r,a){return Oh(r).put({name:(c=a).name,readTime:Dl(ai(c.readTime)),bundledQuery:c.bundledQuery});var c}}function dm(u){return ma(u,zo.store)}function Oh(u){return ma(u,Qi.store)}class C_{constructor(){this.Gt=new np}addToCollectionParentIndex(r,a){return this.Gt.add(a),pt.resolve()}getCollectionParents(r,a){return pt.resolve(this.Gt.getEntries(a))}}class np{constructor(){this.index={}}add(r){const a=r.lastSegment(),c=r.popLast(),h=this.index[a]||new oi(er.comparator),E=!h.has(c);return this.index[a]=h.add(c),E}has(r){const a=r.lastSegment(),c=r.popLast(),h=this.index[a];return h&&h.has(c)}getEntries(r){return(this.index[r]||new oi(er.comparator)).toArray()}}class b_{constructor(){this.zt=new np}addToCollectionParentIndex(r,a){if(!this.zt.has(a)){const c=a.lastSegment(),h=a.popLast();r.addOnCommittedListener(()=>{this.zt.add(a)});const E={collectionId:c,parent:ga(h)};return hm(r).put(E)}return pt.resolve()}getCollectionParents(r,a){const c=[],h=IDBKeyRange.bound([a,""],[ki(a),""],!1,!0);return hm(r).Lt(h).next(E=>{for(const A of E){if(A.collectionId!==a)break;c.push(Va(A.parent))}return c})}}function hm(u){return ma(u,zr.store)}const fm={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Wo{constructor(r,a,c){this.cacheSizeCollectionThreshold=r,this.percentileToCollect=a,this.maximumSequenceNumbersToCollect=c}static withCacheSize(r){return new Wo(r,Wo.DEFAULT_COLLECTION_PERCENTILE,Wo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function rp(u,r,a){const c=u.store(S.store),h=u.store($.store),E=[],A=IDBKeyRange.only(a.batchId);let L=0;const z=c.Kt({range:A},(ce,be,Je)=>(L++,Je.delete()));E.push(z.next(()=>{un(1===L)}));const ie=[];for(const ce of a.mutations){const be=$.key(r,ce.key.path,a.batchId);E.push(h.delete(be)),ie.push(ce.key)}return pt.waitFor(E).next(()=>ie)}function zc(u){if(!u)return 0;let r;if(u.document)r=u.document;else if(u.unknownDocument)r=u.unknownDocument;else{if(!u.noDocument)throw Lt();r=u.noDocument}return JSON.stringify(r).length}Wo.DEFAULT_COLLECTION_PERCENTILE=10,Wo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Wo.DEFAULT=new Wo(41943040,Wo.DEFAULT_COLLECTION_PERCENTILE,Wo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Wo.DISABLED=new Wo(-1,0,0);class xh{constructor(r,a,c,h){this.userId=r,this.N=a,this.Ht=c,this.referenceDelegate=h,this.Jt={}}static Yt(r,a,c,h){un(""!==r.uid);const E=r.isAuthenticated()?r.uid:"";return new xh(E,a,c,h)}checkEmpty(r){let a=!0;const c=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Sl(r).Kt({index:S.userMutationsIndex,range:c},(h,E,A)=>{a=!1,A.done()}).next(()=>a)}addMutationBatch(r,a,c,h){const E=Wc(r),A=Sl(r);return A.add({}).next(L=>{un("number"==typeof L);const z=new Ua(L,a,c,h),ie=function(Je,ct,Tt){const rn=Tt.baseMutations.map(yi=>Xl(Je.Wt,yi)),Nn=Tt.mutations.map(yi=>Xl(Je.Wt,yi));return new S(ct,Tt.batchId,Tt.localWriteTime.toMillis(),rn,Nn)}(this.N,this.userId,z),ce=[];let be=new oi((Je,ct)=>Rt(Je.canonicalString(),ct.canonicalString()));for(const Je of h){const ct=$.key(this.userId,Je.key.path,L);be=be.add(Je.key.path.popLast()),ce.push(A.put(ie)),ce.push(E.put(ct,$.PLACEHOLDER))}return be.forEach(Je=>{ce.push(this.Ht.addToCollectionParentIndex(r,Je))}),r.addOnCommittedListener(()=>{this.Jt[L]=z.keys()}),pt.waitFor(ce).next(()=>z)})}lookupMutationBatch(r,a){return Sl(r).get(a).next(c=>c?(un(c.userId===this.userId),rc(this.N,c)):null)}Xt(r,a){return this.Jt[a]?pt.resolve(this.Jt[a]):this.lookupMutationBatch(r,a).next(c=>{if(c){const h=c.keys();return this.Jt[a]=h,h}return null})}getNextMutationBatchAfterBatchId(r,a){const c=a+1,h=IDBKeyRange.lowerBound([this.userId,c]);let E=null;return Sl(r).Kt({index:S.userMutationsIndex,range:h},(A,L,z)=>{L.userId===this.userId&&(un(L.batchId>=c),E=rc(this.N,L)),z.done()}).next(()=>E)}getHighestUnacknowledgedBatchId(r){const a=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let c=-1;return Sl(r).Kt({index:S.userMutationsIndex,range:a,reverse:!0},(h,E,A)=>{c=E.batchId,A.done()}).next(()=>c)}getAllMutationBatches(r){const a=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Sl(r).Lt(S.userMutationsIndex,a).next(c=>c.map(h=>rc(this.N,h)))}getAllMutationBatchesAffectingDocumentKey(r,a){const c=$.prefixForPath(this.userId,a.path),h=IDBKeyRange.lowerBound(c),E=[];return Wc(r).Kt({range:h},(A,L,z)=>{const[ie,ce,be]=A,Je=Va(ce);if(ie===this.userId&&a.path.isEqual(Je))return Sl(r).get(be).next(ct=>{if(!ct)throw Lt();un(ct.userId===this.userId),E.push(rc(this.N,ct))});z.done()}).next(()=>E)}getAllMutationBatchesAffectingDocumentKeys(r,a){let c=new oi(Rt);const h=[];return a.forEach(E=>{const A=$.prefixForPath(this.userId,E.path),L=IDBKeyRange.lowerBound(A),z=Wc(r).Kt({range:L},(ie,ce,be)=>{const[Je,ct,Tt]=ie,rn=Va(ct);Je===this.userId&&E.path.isEqual(rn)?c=c.add(Tt):be.done()});h.push(z)}),pt.waitFor(h).next(()=>this.Zt(r,c))}getAllMutationBatchesAffectingQuery(r,a){const c=a.path,h=c.length+1,E=$.prefixForPath(this.userId,c),A=IDBKeyRange.lowerBound(E);let L=new oi(Rt);return Wc(r).Kt({range:A},(z,ie,ce)=>{const[be,Je,ct]=z,Tt=Va(Je);be===this.userId&&c.isPrefixOf(Tt)?Tt.length===h&&(L=L.add(ct)):ce.done()}).next(()=>this.Zt(r,L))}Zt(r,a){const c=[],h=[];return a.forEach(E=>{h.push(Sl(r).get(E).next(A=>{if(null===A)throw Lt();un(A.userId===this.userId),c.push(rc(this.N,A))}))}),pt.waitFor(h).next(()=>c)}removeMutationBatch(r,a){return rp(r.Qt,this.userId,a).next(c=>(r.addOnCommittedListener(()=>{this.te(a.batchId)}),pt.forEach(c,h=>this.referenceDelegate.markPotentiallyOrphaned(r,h))))}te(r){delete this.Jt[r]}performConsistencyCheck(r){return this.checkEmpty(r).next(a=>{if(!a)return pt.resolve();const c=IDBKeyRange.lowerBound($.prefixForUser(this.userId)),h=[];return Wc(r).Kt({range:c},(E,A,L)=>{if(E[0]===this.userId){const z=Va(E[1]);h.push(z)}else L.done()}).next(()=>{un(0===h.length)})})}containsKey(r,a){return Ph(r,this.userId,a)}ee(r){return ip(r).get(this.userId).next(a=>a||new _(this.userId,-1,""))}}function Ph(u,r,a){const c=$.prefixForPath(r,a.path),h=c[1],E=IDBKeyRange.lowerBound(c);let A=!1;return Wc(u).Kt({range:E,qt:!0},(L,z,ie)=>{const[ce,be,Je]=L;ce===r&&be===h&&(A=!0),ie.done()}).next(()=>A)}function Sl(u){return ma(u,S.store)}function Wc(u){return ma(u,$.store)}function ip(u){return ma(u,_.store)}class Al{constructor(r){this.ne=r}next(){return this.ne+=2,this.ne}static se(){return new Al(0)}static ie(){return new Al(-1)}}class sc{constructor(r,a){this.referenceDelegate=r,this.N=a}allocateTargetId(r){return this.re(r).next(a=>{const c=new Al(a.highestTargetId);return a.highestTargetId=c.next(),this.oe(r,a).next(()=>a.highestTargetId)})}getLastRemoteSnapshotVersion(r){return this.re(r).next(a=>ln.fromTimestamp(new Zn(a.lastRemoteSnapshotVersion.seconds,a.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(r){return this.re(r).next(a=>a.highestListenSequenceNumber)}setTargetsMetadata(r,a,c){return this.re(r).next(h=>(h.highestListenSequenceNumber=a,c&&(h.lastRemoteSnapshotVersion=c.toTimestamp()),a>h.highestListenSequenceNumber&&(h.highestListenSequenceNumber=a),this.oe(r,h)))}addTargetData(r,a){return this.ae(r,a).next(()=>this.re(r).next(c=>(c.targetCount+=1,this.ce(a,c),this.oe(r,c))))}updateTargetData(r,a){return this.ae(r,a)}removeTargetData(r,a){return this.removeMatchingKeysForTargetId(r,a.targetId).next(()=>oc(r).delete(a.targetId)).next(()=>this.re(r)).next(c=>(un(c.targetCount>0),c.targetCount-=1,this.oe(r,c)))}removeTargets(r,a,c){let h=0;const E=[];return oc(r).Kt((A,L)=>{const z=Mh(L);z.sequenceNumber<=a&&null===c.get(z.targetId)&&(h++,E.push(this.removeTargetData(r,z)))}).next(()=>pt.waitFor(E)).next(()=>h)}forEachTarget(r,a){return oc(r).Kt((c,h)=>{const E=Mh(h);a(E)})}re(r){return sp(r).get(Wt.key).next(a=>(un(null!==a),a))}oe(r,a){return sp(r).put(Wt.key,a)}ae(r,a){return oc(r).put(ic(this.N,a))}ce(r,a){let c=!1;return r.targetId>a.highestTargetId&&(a.highestTargetId=r.targetId,c=!0),r.sequenceNumber>a.highestListenSequenceNumber&&(a.highestListenSequenceNumber=r.sequenceNumber,c=!0),c}getTargetCount(r){return this.re(r).next(a=>a.targetCount)}getTargetData(r,a){const c=y(a),h=IDBKeyRange.bound([c,Number.NEGATIVE_INFINITY],[c,Number.POSITIVE_INFINITY]);let E=null;return oc(r).Kt({range:h,index:Pt.queryTargetsIndexName},(A,L,z)=>{const ie=Mh(L);B(a,ie.target)&&(E=ie,z.done())}).next(()=>E)}addMatchingKeys(r,a,c){const h=[],E=Nl(r);return a.forEach(A=>{const L=ga(A.path);h.push(E.put(new Zt(c,L))),h.push(this.referenceDelegate.addReference(r,c,A))}),pt.waitFor(h)}removeMatchingKeys(r,a,c){const h=Nl(r);return pt.forEach(a,E=>{const A=ga(E.path);return pt.waitFor([h.delete([c,A]),this.referenceDelegate.removeReference(r,c,E)])})}removeMatchingKeysForTargetId(r,a){const c=Nl(r),h=IDBKeyRange.bound([a],[a+1],!1,!0);return c.delete(h)}getMatchingKeysForTargetId(r,a){const c=IDBKeyRange.bound([a],[a+1],!1,!0),h=Nl(r);let E=nr();return h.Kt({range:c,qt:!0},(A,L,z)=>{const ie=Va(A[1]),ce=new At(ie);E=E.add(ce)}).next(()=>E)}containsKey(r,a){const c=ga(a.path),h=IDBKeyRange.bound([c],[ki(c)],!1,!0);let E=0;return Nl(r).Kt({index:Zt.documentTargetsIndex,qt:!0,range:h},([A,L],z,ie)=>{0!==A&&(E++,ie.done())}).next(()=>E>0)}Et(r,a){return oc(r).get(a).next(c=>c?Mh(c):null)}}function oc(u){return ma(u,Pt.store)}function sp(u){return ma(u,Wt.store)}function Nl(u){return ma(u,Zt.store)}function Cu(u){return op.apply(this,arguments)}function op(){return(op=(0,we.Z)(function*(u){if(u.code!==b.FAILED_PRECONDITION||u.message!==bd)throw u;vt("LocalStore","Unexpectedly lost primary lease")})).apply(this,arguments)}function ap([u,r],[a,c]){const h=Rt(u,a);return 0===h?Rt(r,c):h}class pm{constructor(r){this.ue=r,this.buffer=new oi(ap),this.he=0}le(){return++this.he}fe(r){const a=[r,this.le()];if(this.buffer.size<this.ue)this.buffer=this.buffer.add(a);else{const c=this.buffer.last();ap(a,c)<0&&(this.buffer=this.buffer.delete(c).add(a))}}get maxValue(){return this.buffer.last()[0]}}class gm{constructor(r,a){this.garbageCollector=r,this.asyncQueue=a,this.de=!1,this.we=null}start(r){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this._e(r)}stop(){this.we&&(this.we.cancel(),this.we=null)}get started(){return null!==this.we}_e(r){var a=this;const c=this.de?3e5:6e4;vt("LruGarbageCollector",`Garbage collection scheduled in ${c}ms`),this.we=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",c,(0,we.Z)(function*(){a.we=null,a.de=!0;try{yield r.collectGarbage(a.garbageCollector)}catch(h){Xu(h)?vt("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",h):yield Cu(h)}yield a._e(r)}))}}class up{constructor(r,a){this.me=r,this.params=a}calculateTargetCount(r,a){return this.me.ge(r).next(c=>Math.floor(a/100*c))}nthSequenceNumber(r,a){if(0===a)return pt.resolve(Ut.T);const c=new pm(a);return this.me.forEachTarget(r,h=>c.fe(h.sequenceNumber)).next(()=>this.me.ye(r,h=>c.fe(h))).next(()=>c.maxValue)}removeTargets(r,a,c){return this.me.removeTargets(r,a,c)}removeOrphanedDocuments(r,a){return this.me.removeOrphanedDocuments(r,a)}collect(r,a){return-1===this.params.cacheSizeCollectionThreshold?(vt("LruGarbageCollector","Garbage collection skipped; disabled"),pt.resolve(fm)):this.getCacheSize(r).next(c=>c<this.params.cacheSizeCollectionThreshold?(vt("LruGarbageCollector",`Garbage collection skipped; Cache size ${c} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),fm):this.pe(r,a))}getCacheSize(r){return this.me.getCacheSize(r)}pe(r,a){let c,h,E,A,L,z,ie;const ce=Date.now();return this.calculateTargetCount(r,this.params.percentileToCollect).next(be=>(be>this.params.maximumSequenceNumbersToCollect?(vt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${be}`),h=this.params.maximumSequenceNumbersToCollect):h=be,A=Date.now(),this.nthSequenceNumber(r,h))).next(be=>(c=be,L=Date.now(),this.removeTargets(r,c,a))).next(be=>(E=be,z=Date.now(),this.removeOrphanedDocuments(r,c))).next(be=>(ie=Date.now(),Ho()<=Ct.in.DEBUG&&vt("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${A-ce}ms\n\tDetermined least recently used ${h} in `+(L-A)+`ms\n\tRemoved ${E} targets in `+(z-L)+`ms\n\tRemoved ${be} documents in `+(ie-z)+`ms\nTotal Duration: ${ie-ce}ms`),pt.resolve({didRun:!0,sequenceNumbersCollected:h,targetsRemoved:E,documentsRemoved:be})))}}class mm{constructor(r,a){this.db=r,this.garbageCollector=new up(this,a)}ge(r){const a=this.Ee(r);return this.db.getTargetCache().getTargetCount(r).next(c=>a.next(h=>c+h))}Ee(r){let a=0;return this.ye(r,c=>{a++}).next(()=>a)}forEachTarget(r,a){return this.db.getTargetCache().forEachTarget(r,a)}ye(r,a){return this.Te(r,(c,h)=>a(h))}addReference(r,a,c){return ac(r,c)}removeReference(r,a,c){return ac(r,c)}removeTargets(r,a,c){return this.db.getTargetCache().removeTargets(r,a,c)}markPotentiallyOrphaned(r,a){return ac(r,a)}Ie(r,a){return function(c,h){let E=!1;return ip(c).jt(A=>Ph(c,A,h).next(L=>(L&&(E=!0),pt.resolve(!L)))).next(()=>E)}(r,a)}removeOrphanedDocuments(r,a){const c=this.db.getRemoteDocumentCache().newChangeBuffer(),h=[];let E=0;return this.Te(r,(A,L)=>{if(L<=a){const z=this.Ie(r,A).next(ie=>{if(!ie)return E++,c.getEntry(r,A).next(()=>(c.removeEntry(A),Nl(r).delete([0,ga(A.path)])))});h.push(z)}}).next(()=>pt.waitFor(h)).next(()=>c.apply(r)).next(()=>E)}removeTarget(r,a){const c=a.withSequenceNumber(r.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(r,c)}updateLimboDocument(r,a){return ac(r,a)}Te(r,a){const c=Nl(r);let h,E=Ut.T;return c.Kt({index:Zt.documentTargetsIndex},([A,L],{path:z,sequenceNumber:ie})=>{0===A?(E!==Ut.T&&a(new At(Va(h)),E),E=ie,h=z):E=Ut.T}).next(()=>{E!==Ut.T&&a(new At(Va(h)),E)})}getCacheSize(r){return this.db.getRemoteDocumentCache().getSize(r)}}function ac(u,r){return Nl(u).put((c=u.currentSequenceNumber,new Zt(0,ga(r.path),c)));var c}class el{constructor(r,a){this.mapKeyFn=r,this.equalsFn=a,this.inner={}}get(r){const a=this.mapKeyFn(r),c=this.inner[a];if(void 0!==c)for(const[h,E]of c)if(this.equalsFn(h,r))return E}has(r){return void 0!==this.get(r)}set(r,a){const c=this.mapKeyFn(r),h=this.inner[c];if(void 0!==h){for(let E=0;E<h.length;E++)if(this.equalsFn(h[E][0],r))return void(h[E]=[r,a]);h.push([r,a])}else this.inner[c]=[[r,a]]}delete(r){const a=this.mapKeyFn(r),c=this.inner[a];if(void 0===c)return!1;for(let h=0;h<c.length;h++)if(this.equalsFn(c[h][0],r))return 1===c.length?delete this.inner[a]:c.splice(h,1),!0;return!1}forEach(r){ls(this.inner,(a,c)=>{for(const[h,E]of c)r(h,E)})}isEmpty(){return Hu(this.inner)}}class lp{constructor(){this.changes=new el(r=>r.toString(),(r,a)=>r.isEqual(a)),this.changesApplied=!1}getReadTime(r){const a=this.changes.get(r);return a?a.readTime:ln.min()}addEntry(r,a){this.assertNotApplied(),this.changes.set(r.key,{document:r,readTime:a})}removeEntry(r,a=null){this.assertNotApplied(),this.changes.set(r,{document:Ir.newInvalidDocument(r),readTime:a})}getEntry(r,a){this.assertNotApplied();const c=this.changes.get(a);return void 0!==c?pt.resolve(c.document):this.getFromCache(r,a)}getEntries(r,a){return this.getAllFromCache(r,a)}apply(r){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(r)}assertNotApplied(){}}class cp{constructor(r,a){this.N=r,this.Ht=a}addEntry(r,a,c){return Ba(r).put(Fh(a),c)}removeEntry(r,a){const c=Ba(r),h=Fh(a);return c.delete(h)}updateMetadata(r,a){return this.getMetadata(r).next(c=>(c.byteSize+=a,this.Ae(r,c)))}getEntry(r,a){return Ba(r).get(Fh(a)).next(c=>this.Re(a,c))}Pe(r,a){return Ba(r).get(Fh(a)).next(c=>({document:this.Re(a,c),size:zc(c)}))}getEntries(r,a){let c=Oo();return this.be(r,a,(h,E)=>{const A=this.Re(h,E);c=c.insert(h,A)}).next(()=>c)}ve(r,a){let c=Oo(),h=new gi(At.comparator);return this.be(r,a,(E,A)=>{const L=this.Re(E,A);c=c.insert(E,L),h=h.insert(E,zc(A))}).next(()=>({documents:c,Ve:h}))}be(r,a,c){if(a.isEmpty())return pt.resolve();const h=IDBKeyRange.bound(a.first().path.toArray(),a.last().path.toArray()),E=a.getIterator();let A=E.getNext();return Ba(r).Kt({range:h},(L,z,ie)=>{const ce=At.fromSegments(L);for(;A&&At.comparator(A,ce)<0;)c(A,null),A=E.getNext();A&&A.isEqual(ce)&&(c(A,z),A=E.hasNext()?E.getNext():null),A?ie.Mt(A.path.toArray()):ie.done()}).next(()=>{for(;A;)c(A,null),A=E.hasNext()?E.getNext():null})}getDocumentsMatchingQuery(r,a,c){let h=Oo();const E=a.path.length+1,A={};if(c.isEqual(ln.min())){const L=a.path.toArray();A.range=IDBKeyRange.lowerBound(L)}else{const L=a.path.toArray(),z=Rh(c);A.range=IDBKeyRange.lowerBound([L,z],!0),A.index=qe.collectionReadTimeIndex}return Ba(r).Kt(A,(L,z,ie)=>{if(L.length!==E)return;const ce=Nh(this.N,z);a.path.isPrefixOf(ce.key.path)?fr(a,ce)&&(h=h.insert(ce.key,ce)):ie.done()}).next(()=>h)}newChangeBuffer(r){return new ym(this,!!r&&r.trackRemovals)}getSize(r){return this.getMetadata(r).next(a=>a.byteSize)}getMetadata(r){return kh(r).get(yt.key).next(a=>(un(!!a),a))}Ae(r,a){return kh(r).put(yt.key,a)}Re(r,a){if(a){const c=Nh(this.N,a);if(!c.isNoDocument()||!c.version.isEqual(ln.min()))return c}return Ir.newInvalidDocument(r)}}class ym extends lp{constructor(r,a){super(),this.Se=r,this.trackRemovals=a,this.De=new el(c=>c.toString(),(c,h)=>c.isEqual(h))}applyChanges(r){const a=[];let c=0,h=new oi((E,A)=>Rt(E.canonicalString(),A.canonicalString()));return this.changes.forEach((E,A)=>{const L=this.De.get(E);if(A.document.isValidDocument()){const z=Gc(this.Se.N,A.document,this.getReadTime(E));h=h.add(E.path.popLast()),c+=zc(z)-L,a.push(this.Se.addEntry(r,E,z))}else if(c-=L,this.trackRemovals){const z=Gc(this.Se.N,Ir.newNoDocument(E,ln.min()),this.getReadTime(E));a.push(this.Se.addEntry(r,E,z))}else a.push(this.Se.removeEntry(r,E))}),h.forEach(E=>{a.push(this.Se.Ht.addToCollectionParentIndex(r,E))}),a.push(this.Se.updateMetadata(r,c)),pt.waitFor(a)}getFromCache(r,a){return this.Se.Pe(r,a).next(c=>(this.De.set(a,c.size),c.document))}getAllFromCache(r,a){return this.Se.ve(r,a).next(({documents:c,Ve:h})=>(h.forEach((E,A)=>{this.De.set(E,A)}),c))}}function kh(u){return ma(u,yt.store)}function Ba(u){return ma(u,qe.store)}function Fh(u){return u.path.toArray()}class _m{constructor(r){this.N=r}Ct(r,a,c,h){un(c<h&&c>=0&&h<=11);const E=new $c("createOrUpgrade",a);var L;c<1&&h>=1&&(r.createObjectStore(g.store),(L=r).createObjectStore(_.store,{keyPath:_.keyPath}),L.createObjectStore(S.store,{keyPath:S.keyPath,autoIncrement:!0}).createIndex(S.userMutationsIndex,S.userMutationsKeyPath,{unique:!0}),L.createObjectStore($.store),vm(r),function(L){L.createObjectStore(qe.store)}(r));let A=pt.resolve();return c<3&&h>=3&&(0!==c&&(function(L){L.deleteObjectStore(Zt.store),L.deleteObjectStore(Pt.store),L.deleteObjectStore(Wt.store)}(r),vm(r)),A=A.next(()=>function(L){const z=L.store(Wt.store),ie=new Wt(0,0,ln.min().toTimestamp(),0);return z.put(Wt.key,ie)}(E))),c<4&&h>=4&&(0!==c&&(A=A.next(()=>function(L,z){return z.store(S.store).Lt().next(ie=>{L.deleteObjectStore(S.store),L.createObjectStore(S.store,{keyPath:S.keyPath,autoIncrement:!0}).createIndex(S.userMutationsIndex,S.userMutationsKeyPath,{unique:!0});const ce=z.store(S.store),be=ie.map(Je=>ce.put(Je));return pt.waitFor(be)})}(r,E))),A=A.next(()=>{!function(L){L.createObjectStore(Fi.store,{keyPath:Fi.keyPath})}(r)})),c<5&&h>=5&&(A=A.next(()=>this.Ce(E))),c<6&&h>=6&&(A=A.next(()=>(function(L){L.createObjectStore(yt.store)}(r),this.Ne(E)))),c<7&&h>=7&&(A=A.next(()=>this.xe(E))),c<8&&h>=8&&(A=A.next(()=>this.ke(r,E))),c<9&&h>=9&&(A=A.next(()=>{(function(L){L.objectStoreNames.contains("remoteDocumentChanges")&&L.deleteObjectStore("remoteDocumentChanges")})(r),function(L){const z=L.objectStore(qe.store);z.createIndex(qe.readTimeIndex,qe.readTimeIndexPath,{unique:!1}),z.createIndex(qe.collectionReadTimeIndex,qe.collectionReadTimeIndexPath,{unique:!1})}(a)})),c<10&&h>=10&&(A=A.next(()=>this.$e(E))),c<11&&h>=11&&(A=A.next(()=>{(function(L){L.createObjectStore(zo.store,{keyPath:zo.keyPath})})(r),function(L){L.createObjectStore(Qi.store,{keyPath:Qi.keyPath})}(r)})),A}Ne(r){let a=0;return r.store(qe.store).Kt((c,h)=>{a+=zc(h)}).next(()=>{const c=new yt(a);return r.store(yt.store).put(yt.key,c)})}Ce(r){const a=r.store(_.store),c=r.store(S.store);return a.Lt().next(h=>pt.forEach(h,E=>{const A=IDBKeyRange.bound([E.userId,-1],[E.userId,E.lastAcknowledgedBatchId]);return c.Lt(S.userMutationsIndex,A).next(L=>pt.forEach(L,z=>{un(z.userId===E.userId);const ie=rc(this.N,z);return rp(r,E.userId,ie).next(()=>{})}))}))}xe(r){const a=r.store(Zt.store),c=r.store(qe.store);return r.store(Wt.store).get(Wt.key).next(h=>{const E=[];return c.Kt((A,L)=>{const z=new er(A),ie=[0,ga(z)];E.push(a.get(ie).next(ce=>ce?pt.resolve():a.put(new Zt(0,ga(z),h.highestListenSequenceNumber))))}).next(()=>pt.waitFor(E))})}ke(r,a){r.createObjectStore(zr.store,{keyPath:zr.keyPath});const c=a.store(zr.store),h=new np,E=A=>{if(h.add(A)){const L=A.lastSegment(),z=A.popLast();return c.put({collectionId:L,parent:ga(z)})}};return a.store(qe.store).Kt({qt:!0},(A,L)=>{const z=new er(A);return E(z.popLast())}).next(()=>a.store($.store).Kt({qt:!0},([A,L,z],ie)=>{const ce=Va(L);return E(ce.popLast())}))}$e(r){const a=r.store(Pt.store);return a.Kt((c,h)=>{const E=Mh(h),A=ic(this.N,E);return a.put(A)})}}function vm(u){u.createObjectStore(Zt.store,{keyPath:Zt.keyPath}).createIndex(Zt.documentTargetsIndex,Zt.documentTargetsKeyPath,{unique:!0}),u.createObjectStore(Pt.store,{keyPath:Pt.keyPath}).createIndex(Pt.queryTargetsIndexName,Pt.queryTargetsKeyPath,{unique:!0}),u.createObjectStore(Wt.store)}const dp="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class Lh{constructor(r,a,c,h,E,A,L,z,ie,ce){if(this.allowTabSynchronization=r,this.persistenceKey=a,this.clientId=c,this.Oe=E,this.window=A,this.document=L,this.Fe=ie,this.Me=ce,this.Le=null,this.Be=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Ue=null,this.inForeground=!1,this.qe=null,this.Ke=null,this.je=Number.NEGATIVE_INFINITY,this.Qe=be=>Promise.resolve(),!Lh.Pt())throw new C(b.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new mm(this,h),this.We=a+"main",this.N=new lm(z),this.Ge=new xo(this.We,11,new _m(this.N)),this.ze=new sc(this.referenceDelegate,this.N),this.Ht=new b_,this.He=new cp(this.N,this.Ht),this.Je=new cm,this.window&&this.window.localStorage?this.Ye=this.window.localStorage:(this.Ye=null,!1===ce&&Cr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Xe().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new C(b.FAILED_PRECONDITION,dp);return this.Ze(),this.tn(),this.en(),this.runTransaction("getHighestListenSequenceNumber","readonly",r=>this.ze.getHighestSequenceNumber(r))}).then(r=>{this.Le=new Ut(r,this.Fe)}).then(()=>{this.Be=!0}).catch(r=>(this.Ge&&this.Ge.close(),Promise.reject(r)))}nn(r){var a=this;return this.Qe=function(){var c=(0,we.Z)(function*(h){if(a.started)return r(h)});return function(h){return c.apply(this,arguments)}}(),r(this.isPrimary)}setDatabaseDeletedListener(r){this.Ge.xt(function(){var a=(0,we.Z)(function*(c){null===c.newVersion&&(yield r())});return function(c){return a.apply(this,arguments)}}())}setNetworkEnabled(r){var a=this;this.networkEnabled!==r&&(this.networkEnabled=r,this.Oe.enqueueAndForget((0,we.Z)(function*(){a.started&&(yield a.Xe())})))}Xe(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",r=>Ad(r).put(new Fi(this.clientId,Date.now(),this.networkEnabled,this.inForeground)).next(()=>{if(this.isPrimary)return this.sn(r).next(a=>{a||(this.isPrimary=!1,this.Oe.enqueueRetryable(()=>this.Qe(!1)))})}).next(()=>this.rn(r)).next(a=>this.isPrimary&&!a?this.on(r).next(()=>!1):!!a&&this.an(r).next(()=>!0))).catch(r=>{if(Xu(r))return vt("IndexedDbPersistence","Failed to extend owner lease: ",r),this.isPrimary;if(!this.allowTabSynchronization)throw r;return vt("IndexedDbPersistence","Releasing owner lease after error during lease refresh",r),!1}).then(r=>{this.isPrimary!==r&&this.Oe.enqueueRetryable(()=>this.Qe(r)),this.isPrimary=r})}sn(r){return uc(r).get(g.key).next(a=>pt.resolve(this.cn(a)))}un(r){return Ad(r).delete(this.clientId)}hn(){var r=this;return(0,we.Z)(function*(){if(r.isPrimary&&!r.ln(r.je,18e5)){r.je=Date.now();const a=yield r.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",c=>{const h=ma(c,Fi.store);return h.Lt().next(E=>{const A=r.fn(E,18e5),L=E.filter(z=>-1===A.indexOf(z));return pt.forEach(L,z=>h.delete(z.clientId)).next(()=>L)})}).catch(()=>[]);if(r.Ye)for(const c of a)r.Ye.removeItem(r.dn(c.clientId))}})()}en(){this.Ke=this.Oe.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.Xe().then(()=>this.hn()).then(()=>this.en()))}cn(r){return!!r&&r.ownerId===this.clientId}rn(r){return this.Me?pt.resolve(!0):uc(r).get(g.key).next(a=>{if(null!==a&&this.ln(a.leaseTimestampMs,5e3)&&!this.wn(a.ownerId)){if(this.cn(a)&&this.networkEnabled)return!0;if(!this.cn(a)){if(!a.allowTabSynchronization)throw new C(b.FAILED_PRECONDITION,dp);return!1}}return!(!this.networkEnabled||!this.inForeground)||Ad(r).Lt().next(c=>void 0===this.fn(c,5e3).find(h=>{if(this.clientId!==h.clientId){const A=!this.inForeground&&h.inForeground,L=this.networkEnabled===h.networkEnabled;if(!this.networkEnabled&&h.networkEnabled||A&&L)return!0}return!1}))}).next(a=>(this.isPrimary!==a&&vt("IndexedDbPersistence",`Client ${a?"is":"is not"} eligible for a primary lease.`),a))}shutdown(){var r=this;return(0,we.Z)(function*(){r.Be=!1,r._n(),r.Ke&&(r.Ke.cancel(),r.Ke=null),r.mn(),r.gn(),yield r.Ge.runTransaction("shutdown","readwrite",[g.store,Fi.store],a=>{const c=new ep(a,Ut.T);return r.on(c).next(()=>r.un(c))}),r.Ge.close(),r.yn()})()}fn(r,a){return r.filter(c=>this.ln(c.updateTimeMs,a)&&!this.wn(c.clientId))}pn(){return this.runTransaction("getActiveClients","readonly",r=>Ad(r).Lt().next(a=>this.fn(a,18e5).map(c=>c.clientId)))}get started(){return this.Be}getMutationQueue(r){return xh.Yt(r,this.N,this.Ht,this.referenceDelegate)}getTargetCache(){return this.ze}getRemoteDocumentCache(){return this.He}getIndexManager(){return this.Ht}getBundleCache(){return this.Je}runTransaction(r,a,c){let E;return vt("IndexedDbPersistence","Starting transaction:",r),this.Ge.runTransaction(r,"readonly"===a?"readonly":"readwrite",Hc,A=>(E=new ep(A,this.Le?this.Le.next():Ut.T),"readwrite-primary"===a?this.sn(E).next(L=>!!L||this.rn(E)).next(L=>{if(!L)throw Cr(`Failed to obtain primary lease for action '${r}'.`),this.isPrimary=!1,this.Oe.enqueueRetryable(()=>this.Qe(!1)),new C(b.FAILED_PRECONDITION,bd);return c(E)}).next(L=>this.an(E).next(()=>L)):this.En(E).next(()=>c(E)))).then(A=>(E.raiseOnCommittedEvent(),A))}En(r){return uc(r).get(g.key).next(a=>{if(null!==a&&this.ln(a.leaseTimestampMs,5e3)&&!this.wn(a.ownerId)&&!this.cn(a)&&!(this.Me||this.allowTabSynchronization&&a.allowTabSynchronization))throw new C(b.FAILED_PRECONDITION,dp)})}an(r){const a=new g(this.clientId,this.allowTabSynchronization,Date.now());return uc(r).put(g.key,a)}static Pt(){return xo.Pt()}on(r){const a=uc(r);return a.get(g.key).next(c=>this.cn(c)?(vt("IndexedDbPersistence","Releasing primary lease."),a.delete(g.key)):pt.resolve())}ln(r,a){const c=Date.now();return!(r<c-a||r>c&&(Cr(`Detected an update time that is in the future: ${r} > ${c}`),1))}Ze(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.qe=()=>{this.Oe.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.Xe()))},this.document.addEventListener("visibilitychange",this.qe),this.inForeground="visible"===this.document.visibilityState)}mn(){this.qe&&(this.document.removeEventListener("visibilitychange",this.qe),this.qe=null)}tn(){var r;"function"==typeof(null===(r=this.window)||void 0===r?void 0:r.addEventListener)&&(this.Ue=()=>{this._n(),(0,Ae.G6)()&&navigator.appVersion.match("Version/14")&&this.Oe.enterRestrictedMode(!0),this.Oe.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Ue))}gn(){this.Ue&&(this.window.removeEventListener("pagehide",this.Ue),this.Ue=null)}wn(r){var a;try{const c=null!==(null===(a=this.Ye)||void 0===a?void 0:a.getItem(this.dn(r)));return vt("IndexedDbPersistence",`Client '${r}' ${c?"is":"is not"} zombied in LocalStorage`),c}catch(c){return Cr("IndexedDbPersistence","Failed to get zombied client id.",c),!1}}_n(){if(this.Ye)try{this.Ye.setItem(this.dn(this.clientId),String(Date.now()))}catch(r){Cr("Failed to set zombie client id.",r)}}yn(){if(this.Ye)try{this.Ye.removeItem(this.dn(this.clientId))}catch(r){}}dn(r){return`firestore_zombie_${this.persistenceKey}_${r}`}}function uc(u){return ma(u,g.store)}function Ad(u){return ma(u,Fi.store)}function Em(u,r){let a=u.projectId;return u.isDefaultDatabase||(a+="."+u.database),"firestore/"+r+"/"+a+"/"}class wm{constructor(r,a){this.progress=r,this.Tn=a}}class Cm{constructor(r,a,c){this.He=r,this.In=a,this.Ht=c}An(r,a){return this.In.getAllMutationBatchesAffectingDocumentKey(r,a).next(c=>this.Rn(r,a,c))}Rn(r,a,c){return this.He.getEntry(r,a).next(h=>{for(const E of c)E.applyToLocalView(h);return h})}Pn(r,a){r.forEach((c,h)=>{for(const E of a)E.applyToLocalView(h)})}bn(r,a){return this.He.getEntries(r,a).next(c=>this.vn(r,c).next(()=>c))}vn(r,a){return this.In.getAllMutationBatchesAffectingDocumentKeys(r,a).next(c=>this.Pn(a,c))}getDocumentsMatchingQuery(r,a,c){return At.isDocumentKey((h=a).path)&&null===h.collectionGroup&&0===h.filters.length?this.Vn(r,a.path):da(a)?this.Sn(r,a,c):this.Dn(r,a,c);var h}Vn(r,a){return this.An(r,new At(a)).next(c=>{let h=yd();return c.isFoundDocument()&&(h=h.insert(c.key,c)),h})}Sn(r,a,c){const h=a.collectionGroup;let E=yd();return this.Ht.getCollectionParents(r,h).next(A=>pt.forEach(A,L=>{const z=(ie=a,ce=L.child(h),new Fr(ce,null,ie.explicitOrderBy.slice(),ie.filters.slice(),ie.limit,ie.limitType,ie.startAt,ie.endAt));var ie,ce;return this.Dn(r,z,c).next(ie=>{ie.forEach((ce,be)=>{E=E.insert(ce,be)})})}).next(()=>E))}Dn(r,a,c){let h,E;return this.He.getDocumentsMatchingQuery(r,a,c).next(A=>(h=A,this.In.getAllMutationBatchesAffectingQuery(r,a))).next(A=>(E=A,this.Cn(r,E,h).next(L=>{h=L;for(const z of E)for(const ie of z.mutations){const ce=ie.key;let be=h.get(ce);null==be&&(be=Ir.newInvalidDocument(ce),h=h.insert(ce,be)),ql(ie,be,z.localWriteTime),be.isFoundDocument()||(h=h.remove(ce))}}))).next(()=>(h.forEach((A,L)=>{fr(a,L)||(h=h.remove(A))}),h))}Cn(r,a,c){let h=nr();for(const A of a)for(const L of A.mutations)L instanceof ro&&null===c.get(L.key)&&(h=h.add(L.key));let E=c;return this.He.getEntries(r,h).next(A=>(A.forEach((L,z)=>{z.isFoundDocument()&&(E=E.insert(L,z))}),E))}}class Vh{constructor(r,a,c,h){this.targetId=r,this.fromCache=a,this.Nn=c,this.xn=h}static kn(r,a){let c=nr(),h=nr();for(const E of a.docChanges)switch(E.type){case 0:c=c.add(E.doc.key);break;case 1:h=h.add(E.doc.key)}return new Vh(r,a.fromCache,c,h)}}class bm{$n(r){this.On=r}getDocumentsMatchingQuery(r,a,c,h){return 0===(E=a).filters.length&&null===E.limit&&null==E.startAt&&null==E.endAt&&(0===E.explicitOrderBy.length||1===E.explicitOrderBy.length&&E.explicitOrderBy[0].field.isKeyField())||c.isEqual(ln.min())?this.Fn(r,a):this.On.bn(r,h).next(E=>{const A=this.Mn(a,E);return(Bs(a)||So(a))&&this.Ln(a.limitType,A,h,c)?this.Fn(r,a):(Ho()<=Ct.in.DEBUG&&vt("QueryEngine","Re-using previous result from %s to execute query: %s",c.toString(),zn(a)),this.On.getDocumentsMatchingQuery(r,a,c).next(L=>(A.forEach(z=>{L=L.insert(z.key,z)}),L)))});var E}Mn(r,a){let c=new oi(No(r));return a.forEach((h,E)=>{fr(r,E)&&(c=c.add(E))}),c}Ln(r,a,c,h){if(c.size!==a.size)return!0;const E="F"===r?a.last():a.first();return!!E&&(E.hasPendingWrites||E.version.compareTo(h)>0)}Fn(r,a){return Ho()<=Ct.in.DEBUG&&vt("QueryEngine","Using full collection scan to execute query:",zn(a)),this.On.getDocumentsMatchingQuery(r,a,ln.min())}}class I_{constructor(r,a,c,h){this.persistence=r,this.Bn=a,this.N=h,this.Un=new gi(Rt),this.qn=new el(E=>y(E),B),this.Kn=ln.min(),this.In=r.getMutationQueue(c),this.jn=r.getRemoteDocumentCache(),this.ze=r.getTargetCache(),this.Qn=new Cm(this.jn,this.In,this.persistence.getIndexManager()),this.Je=r.getBundleCache(),this.Bn.$n(this.Qn)}collectGarbage(r){return this.persistence.runTransaction("Collect garbage","readwrite-primary",a=>r.collect(a,this.Un))}}function ja(u,r,a,c){return new I_(u,r,a,c)}function Im(u,r){return Uh.apply(this,arguments)}function Uh(){return(Uh=(0,we.Z)(function*(u,r){const a=R(u);let c=a.In,h=a.Qn;const E=yield a.persistence.runTransaction("Handle user change","readonly",A=>{let L;return a.In.getAllMutationBatches(A).next(z=>(L=z,c=a.persistence.getMutationQueue(r),h=new Cm(a.jn,c,a.persistence.getIndexManager()),c.getAllMutationBatches(A))).next(z=>{const ie=[],ce=[];let be=nr();for(const Je of L){ie.push(Je.batchId);for(const ct of Je.mutations)be=be.add(ct.key)}for(const Je of z){ce.push(Je.batchId);for(const ct of Je.mutations)be=be.add(ct.key)}return h.bn(A,be).next(Je=>({Wn:Je,removedBatchIds:ie,addedBatchIds:ce}))})});return a.In=c,a.Qn=h,a.Bn.$n(a.Qn),E})).apply(this,arguments)}function D_(u,r){const a=R(u);return a.persistence.runTransaction("Acknowledge batch","readwrite-primary",c=>{const h=r.batch.keys(),E=a.jn.newChangeBuffer({trackRemovals:!0});return function(A,L,z,ie){const ce=z.batch,be=ce.keys();let Je=pt.resolve();return be.forEach(ct=>{Je=Je.next(()=>ie.getEntry(L,ct)).next(Tt=>{const rn=z.docVersions.get(ct);un(null!==rn),Tt.version.compareTo(rn)<0&&(ce.applyToRemoteDocument(Tt,z),Tt.isValidDocument()&&ie.addEntry(Tt,z.commitVersion))})}),Je.next(()=>A.In.removeMutationBatch(L,ce))}(a,c,r,E).next(()=>E.apply(c)).next(()=>a.In.performConsistencyCheck(c)).next(()=>a.Qn.bn(c,h))})}function Dm(u){const r=R(u);return r.persistence.runTransaction("Get last remote snapshot version","readonly",a=>r.ze.getLastRemoteSnapshotVersion(a))}function T_(u,r){const a=R(u),c=r.snapshotVersion;let h=a.Un;return a.persistence.runTransaction("Apply remote event","readwrite-primary",E=>{const A=a.jn.newChangeBuffer({trackRemovals:!0});h=a.Un;const L=[];r.targetChanges.forEach((ie,ce)=>{const be=h.get(ce);if(!be)return;L.push(a.ze.removeMatchingKeys(E,ie.removedDocuments,ce).next(()=>a.ze.addMatchingKeys(E,ie.addedDocuments,ce)));const Je=ie.resumeToken;if(Je.approximateByteSize()>0){const ct=be.withResumeToken(Je,c).withSequenceNumber(E.currentSequenceNumber);h=h.insert(ce,ct),Tt=be,Nn=ie,un((rn=ct).resumeToken.approximateByteSize()>0),(0===Tt.resumeToken.approximateByteSize()||rn.snapshotVersion.toMicroseconds()-Tt.snapshotVersion.toMicroseconds()>=3e8||Nn.addedDocuments.size+Nn.modifiedDocuments.size+Nn.removedDocuments.size>0)&&L.push(a.ze.updateTargetData(E,ct))}var Tt,rn,Nn});let z=Oo();if(r.documentUpdates.forEach((ie,ce)=>{r.resolvedLimboDocuments.has(ie)&&L.push(a.persistence.referenceDelegate.updateLimboDocument(E,ie))}),L.push(Tm(E,A,r.documentUpdates,c,void 0).next(ie=>{z=ie})),!c.isEqual(ln.min())){const ie=a.ze.getLastRemoteSnapshotVersion(E).next(ce=>a.ze.setTargetsMetadata(E,E.currentSequenceNumber,c));L.push(ie)}return pt.waitFor(L).next(()=>A.apply(E)).next(()=>a.Qn.vn(E,z)).next(()=>z)}).then(E=>(a.Un=h,E))}function Tm(u,r,a,c,h){let E=nr();return a.forEach(A=>E=E.add(A)),r.getEntries(u,E).next(A=>{let L=Oo();return a.forEach((z,ie)=>{const ce=A.get(z),be=(null==h?void 0:h.get(z))||c;ie.isNoDocument()&&ie.version.isEqual(ln.min())?(r.removeEntry(z,be),L=L.insert(z,ie)):!ce.isValidDocument()||ie.version.compareTo(ce.version)>0||0===ie.version.compareTo(ce.version)&&ce.hasPendingWrites?(r.addEntry(ie,be),L=L.insert(z,ie)):vt("LocalStore","Ignoring outdated watch update for ",z,". Current version:",ce.version," Watch version:",ie.version)}),L})}function Sm(u,r){const a=R(u);return a.persistence.runTransaction("Get next mutation batch","readonly",c=>(void 0===r&&(r=-1),a.In.getNextMutationBatchAfterBatchId(c,r)))}function qc(u,r){const a=R(u);return a.persistence.runTransaction("Allocate target","readwrite",c=>{let h;return a.ze.getTargetData(c,r).next(E=>E?(h=E,pt.resolve(h)):a.ze.allocateTargetId(c).next(A=>(h=new wu(r,A,0,c.currentSequenceNumber),a.ze.addTargetData(c,h).next(()=>h))))}).then(c=>{const h=a.Un.get(c.targetId);return(null===h||c.snapshotVersion.compareTo(h.snapshotVersion)>0)&&(a.Un=a.Un.insert(c.targetId,c),a.qn.set(r,c.targetId)),c})}function Kc(u,r,a){return hp.apply(this,arguments)}function hp(){return(hp=(0,we.Z)(function*(u,r,a){const c=R(u),h=c.Un.get(r),E=a?"readwrite":"readwrite-primary";try{a||(yield c.persistence.runTransaction("Release target",E,A=>c.persistence.referenceDelegate.removeTarget(A,h)))}catch(A){if(!Xu(A))throw A;vt("LocalStore",`Failed to update sequence numbers for target ${r}: ${A}`)}c.Un=c.Un.remove(r),c.qn.delete(h.target)})).apply(this,arguments)}function In(u,r,a){const c=R(u);let h=ln.min(),E=nr();return c.persistence.runTransaction("Execute query","readonly",A=>function(L,z,ie){const ce=R(L),be=ce.qn.get(ie);return void 0!==be?pt.resolve(ce.Un.get(be)):ce.ze.getTargetData(z,ie)}(c,A,Is(r)).next(L=>{if(L)return h=L.lastLimboFreeSnapshotVersion,c.ze.getMatchingKeysForTargetId(A,L.targetId).next(z=>{E=z})}).next(()=>c.Bn.getDocumentsMatchingQuery(A,r,a?h:ln.min(),a?E:nr())).next(L=>({documents:L,Gn:E})))}function fp(u,r){const a=R(u),c=R(a.ze),h=a.Un.get(r);return h?Promise.resolve(h.target):a.persistence.runTransaction("Get target data","readonly",E=>c.Et(E,r).next(A=>A?A.target:null))}function pp(u){const r=R(u);return r.persistence.runTransaction("Get new document changes","readonly",a=>function(c,h,E){const A=R(c);let L=Oo(),z=Rh(E);const ie=Ba(h),ce=IDBKeyRange.lowerBound(z,!0);return ie.Kt({index:qe.readTimeIndex,range:ce},(be,Je)=>{const ct=Nh(A.N,Je);L=L.insert(ct.key,ct),z=Je.readTime}).next(()=>({Tn:L,readTime:tp(z)}))}(r.jn,a,r.Kn)).then(({Tn:a,readTime:c})=>(r.Kn=c,a))}function ya(){return(ya=(0,we.Z)(function*(u){const r=R(u);return r.persistence.runTransaction("Synchronize last document change read time","readonly",a=>function(c){const h=Ba(c);let E=ln.min();return h.Kt({index:qe.readTimeIndex,reverse:!0},(A,L,z)=>{L.readTime&&(E=tp(L.readTime)),z.done()}).next(()=>E)}(a)).then(a=>{r.Kn=a})})).apply(this,arguments)}function gp(){return(gp=(0,we.Z)(function*(u,r,a,c){const h=R(u);let E=nr(),A=Oo(),L=Yl();for(const ce of a){const be=r.zn(ce.metadata.name);ce.document&&(E=E.add(be)),A=A.insert(be,r.Hn(ce)),L=L.insert(be,r.Jn(ce.metadata.readTime))}const z=h.jn.newChangeBuffer({trackRemovals:!0}),ie=yield qc(h,(ce=c,Is(Yn(er.fromString(`__bundle__/docs/${ce}`)))));var ce;return h.persistence.runTransaction("Apply bundle documents","readwrite",ce=>Tm(ce,z,A,ln.min(),L).next(be=>(z.apply(ce),be)).next(be=>h.ze.removeMatchingKeysForTargetId(ce,ie.targetId).next(()=>h.ze.addMatchingKeys(ce,E,ie.targetId)).next(()=>h.Qn.vn(ce,be)).next(()=>be)))})).apply(this,arguments)}function mp(u,r){return tu.apply(this,arguments)}function tu(){return(tu=(0,we.Z)(function*(u,r,a=nr()){const c=yield qc(u,Is(Sd(r.bundledQuery))),h=R(u);return h.persistence.runTransaction("Save named query","readwrite",E=>{const A=ai(r.readTime);if(c.snapshotVersion.compareTo(A)>=0)return h.Je.saveNamedQuery(E,r);const L=c.withResumeToken(Ci.EMPTY_BYTE_STRING,A);return h.Un=h.Un.insert(L.targetId,L),h.ze.updateTargetData(E,L).next(()=>h.ze.removeMatchingKeysForTargetId(E,c.targetId)).next(()=>h.ze.addMatchingKeys(E,a,c.targetId)).next(()=>h.Je.saveNamedQuery(E,r))})})).apply(this,arguments)}class yp{constructor(r){this.N=r,this.Yn=new Map,this.Xn=new Map}getBundleMetadata(r,a){return pt.resolve(this.Yn.get(a))}saveBundleMetadata(r,a){var c;return this.Yn.set(a.id,{id:(c=a).id,version:c.version,createTime:ai(c.createTime)}),pt.resolve()}getNamedQuery(r,a){return pt.resolve(this.Xn.get(a))}saveNamedQuery(r,a){return this.Xn.set(a.name,{name:(c=a).name,query:Sd(c.bundledQuery),readTime:ai(c.readTime)}),pt.resolve();var c}}class jh{constructor(){this.Zn=new oi(Ji.ts),this.es=new oi(Ji.ns)}isEmpty(){return this.Zn.isEmpty()}addReference(r,a){const c=new Ji(r,a);this.Zn=this.Zn.add(c),this.es=this.es.add(c)}ss(r,a){r.forEach(c=>this.addReference(c,a))}removeReference(r,a){this.rs(new Ji(r,a))}os(r,a){r.forEach(c=>this.removeReference(c,a))}cs(r){const a=new At(new er([])),c=new Ji(a,r),h=new Ji(a,r+1),E=[];return this.es.forEachInRange([c,h],A=>{this.rs(A),E.push(A.key)}),E}us(){this.Zn.forEach(r=>this.rs(r))}rs(r){this.Zn=this.Zn.delete(r),this.es=this.es.delete(r)}hs(r){const a=new At(new er([])),c=new Ji(a,r),h=new Ji(a,r+1);let E=nr();return this.es.forEachInRange([c,h],A=>{E=E.add(A.key)}),E}containsKey(r){const a=new Ji(r,0),c=this.Zn.firstAfterOrEqual(a);return null!==c&&r.isEqual(c.key)}}class Ji{constructor(r,a){this.key=r,this.ls=a}static ts(r,a){return At.comparator(r.key,a.key)||Rt(r.ls,a.ls)}static ns(r,a){return Rt(r.ls,a.ls)||At.comparator(r.key,a.key)}}class VE{constructor(r,a){this.Ht=r,this.referenceDelegate=a,this.In=[],this.fs=1,this.ds=new oi(Ji.ts)}checkEmpty(r){return pt.resolve(0===this.In.length)}addMutationBatch(r,a,c,h){const E=this.fs;this.fs++;const A=new Ua(E,a,c,h);this.In.push(A);for(const L of h)this.ds=this.ds.add(new Ji(L.key,E)),this.Ht.addToCollectionParentIndex(r,L.key.path.popLast());return pt.resolve(A)}lookupMutationBatch(r,a){return pt.resolve(this.ws(a))}getNextMutationBatchAfterBatchId(r,a){const h=this._s(a+1),E=h<0?0:h;return pt.resolve(this.In.length>E?this.In[E]:null)}getHighestUnacknowledgedBatchId(){return pt.resolve(0===this.In.length?-1:this.fs-1)}getAllMutationBatches(r){return pt.resolve(this.In.slice())}getAllMutationBatchesAffectingDocumentKey(r,a){const c=new Ji(a,0),h=new Ji(a,Number.POSITIVE_INFINITY),E=[];return this.ds.forEachInRange([c,h],A=>{const L=this.ws(A.ls);E.push(L)}),pt.resolve(E)}getAllMutationBatchesAffectingDocumentKeys(r,a){let c=new oi(Rt);return a.forEach(h=>{const E=new Ji(h,0),A=new Ji(h,Number.POSITIVE_INFINITY);this.ds.forEachInRange([E,A],L=>{c=c.add(L.ls)})}),pt.resolve(this.gs(c))}getAllMutationBatchesAffectingQuery(r,a){const c=a.path,h=c.length+1;let E=c;At.isDocumentKey(E)||(E=E.child(""));const A=new Ji(new At(E),0);let L=new oi(Rt);return this.ds.forEachWhile(z=>{const ie=z.key.path;return!!c.isPrefixOf(ie)&&(ie.length===h&&(L=L.add(z.ls)),!0)},A),pt.resolve(this.gs(L))}gs(r){const a=[];return r.forEach(c=>{const h=this.ws(c);null!==h&&a.push(h)}),a}removeMutationBatch(r,a){un(0===this.ys(a.batchId,"removed")),this.In.shift();let c=this.ds;return pt.forEach(a.mutations,h=>{const E=new Ji(h.key,a.batchId);return c=c.delete(E),this.referenceDelegate.markPotentiallyOrphaned(r,h.key)}).next(()=>{this.ds=c})}te(r){}containsKey(r,a){const c=new Ji(a,0),h=this.ds.firstAfterOrEqual(c);return pt.resolve(a.isEqual(h&&h.key))}performConsistencyCheck(r){return pt.resolve()}ys(r,a){return this._s(r)}_s(r){return 0===this.In.length?0:r-this.In[0].batchId}ws(r){const a=this._s(r);return a<0||a>=this.In.length?null:this.In[a]}}class Nm{constructor(r,a){this.Ht=r,this.ps=a,this.docs=new gi(At.comparator),this.size=0}addEntry(r,a,c){const h=a.key,E=this.docs.get(h),A=E?E.size:0,L=this.ps(a);return this.docs=this.docs.insert(h,{document:a.clone(),size:L,readTime:c}),this.size+=L-A,this.Ht.addToCollectionParentIndex(r,h.path.popLast())}removeEntry(r){const a=this.docs.get(r);a&&(this.docs=this.docs.remove(r),this.size-=a.size)}getEntry(r,a){const c=this.docs.get(a);return pt.resolve(c?c.document.clone():Ir.newInvalidDocument(a))}getEntries(r,a){let c=Oo();return a.forEach(h=>{const E=this.docs.get(h);c=c.insert(h,E?E.document.clone():Ir.newInvalidDocument(h))}),pt.resolve(c)}getDocumentsMatchingQuery(r,a,c){let h=Oo();const E=new At(a.path.child("")),A=this.docs.getIteratorFrom(E);for(;A.hasNext();){const{key:L,value:{document:z,readTime:ie}}=A.getNext();if(!a.path.isPrefixOf(L.path))break;ie.compareTo(c)<=0||fr(a,z)&&(h=h.insert(z.key,z.clone()))}return pt.resolve(h)}Es(r,a){return pt.forEach(this.docs,c=>a(c))}newChangeBuffer(r){return new UE(this)}getSize(r){return pt.resolve(this.size)}}class UE extends lp{constructor(r){super(),this.Se=r}applyChanges(r){const a=[];return this.changes.forEach((c,h)=>{h.document.isValidDocument()?a.push(this.Se.addEntry(r,h.document,this.getReadTime(c))):this.Se.removeEntry(c)}),pt.waitFor(a)}getFromCache(r,a){return this.Se.getEntry(r,a)}getAllFromCache(r,a){return this.Se.getEntries(r,a)}}class tl{constructor(r){this.persistence=r,this.Ts=new el(a=>y(a),B),this.lastRemoteSnapshotVersion=ln.min(),this.highestTargetId=0,this.Is=0,this.As=new jh,this.targetCount=0,this.Rs=Al.se()}forEachTarget(r,a){return this.Ts.forEach((c,h)=>a(h)),pt.resolve()}getLastRemoteSnapshotVersion(r){return pt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(r){return pt.resolve(this.Is)}allocateTargetId(r){return this.highestTargetId=this.Rs.next(),pt.resolve(this.highestTargetId)}setTargetsMetadata(r,a,c){return c&&(this.lastRemoteSnapshotVersion=c),a>this.Is&&(this.Is=a),pt.resolve()}ae(r){this.Ts.set(r.target,r);const a=r.targetId;a>this.highestTargetId&&(this.Rs=new Al(a),this.highestTargetId=a),r.sequenceNumber>this.Is&&(this.Is=r.sequenceNumber)}addTargetData(r,a){return this.ae(a),this.targetCount+=1,pt.resolve()}updateTargetData(r,a){return this.ae(a),pt.resolve()}removeTargetData(r,a){return this.Ts.delete(a.target),this.As.cs(a.targetId),this.targetCount-=1,pt.resolve()}removeTargets(r,a,c){let h=0;const E=[];return this.Ts.forEach((A,L)=>{L.sequenceNumber<=a&&null===c.get(L.targetId)&&(this.Ts.delete(A),E.push(this.removeMatchingKeysForTargetId(r,L.targetId)),h++)}),pt.waitFor(E).next(()=>h)}getTargetCount(r){return pt.resolve(this.targetCount)}getTargetData(r,a){const c=this.Ts.get(a)||null;return pt.resolve(c)}addMatchingKeys(r,a,c){return this.As.ss(a,c),pt.resolve()}removeMatchingKeys(r,a,c){this.As.os(a,c);const h=this.persistence.referenceDelegate,E=[];return h&&a.forEach(A=>{E.push(h.markPotentiallyOrphaned(r,A))}),pt.waitFor(E)}removeMatchingKeysForTargetId(r,a){return this.As.cs(a),pt.resolve()}getMatchingKeysForTargetId(r,a){const c=this.As.hs(a);return pt.resolve(c)}containsKey(r,a){return pt.resolve(this.As.containsKey(a))}}class Hh{constructor(r,a){this.Ps={},this.Le=new Ut(0),this.Be=!1,this.Be=!0,this.referenceDelegate=r(this),this.ze=new tl(this),this.Ht=new C_,this.He=new Nm(this.Ht,c=>this.referenceDelegate.bs(c)),this.N=new lm(a),this.Je=new yp(this.N)}start(){return Promise.resolve()}shutdown(){return this.Be=!1,Promise.resolve()}get started(){return this.Be}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(){return this.Ht}getMutationQueue(r){let a=this.Ps[r.toKey()];return a||(a=new VE(this.Ht,this.referenceDelegate),this.Ps[r.toKey()]=a),a}getTargetCache(){return this.ze}getRemoteDocumentCache(){return this.He}getBundleCache(){return this.Je}runTransaction(r,a,c){vt("MemoryPersistence","Starting transaction:",r);const h=new $h(this.Le.next());return this.referenceDelegate.vs(),c(h).next(E=>this.referenceDelegate.Vs(h).next(()=>E)).toPromise().then(E=>(h.raiseOnCommittedEvent(),E))}Ss(r,a){return pt.or(Object.values(this.Ps).map(c=>()=>c.containsKey(r,a)))}}class $h extends Id{constructor(r){super(),this.currentSequenceNumber=r}}class Nd{constructor(r){this.persistence=r,this.Ds=new jh,this.Cs=null}static Ns(r){return new Nd(r)}get xs(){if(this.Cs)return this.Cs;throw Lt()}addReference(r,a,c){return this.Ds.addReference(c,a),this.xs.delete(c.toString()),pt.resolve()}removeReference(r,a,c){return this.Ds.removeReference(c,a),this.xs.add(c.toString()),pt.resolve()}markPotentiallyOrphaned(r,a){return this.xs.add(a.toString()),pt.resolve()}removeTarget(r,a){this.Ds.cs(a.targetId).forEach(h=>this.xs.add(h.toString()));const c=this.persistence.getTargetCache();return c.getMatchingKeysForTargetId(r,a.targetId).next(h=>{h.forEach(E=>this.xs.add(E.toString()))}).next(()=>c.removeTargetData(r,a))}vs(){this.Cs=new Set}Vs(r){const a=this.persistence.getRemoteDocumentCache().newChangeBuffer();return pt.forEach(this.xs,c=>{const h=At.fromPath(c);return this.ks(r,h).next(E=>{E||a.removeEntry(h)})}).next(()=>(this.Cs=null,a.apply(r)))}updateLimboDocument(r,a){return this.ks(r,a).next(c=>{c?this.xs.delete(a.toString()):this.xs.add(a.toString())})}bs(r){return 0}ks(r,a){return pt.or([()=>pt.resolve(this.Ds.containsKey(a)),()=>this.persistence.getTargetCache().containsKey(r,a),()=>this.persistence.Ss(r,a)])}}function S_(u,r){return`firestore_clients_${u}_${r}`}function Rm(u,r,a){let c=`firestore_mutations_${u}_${a}`;return r.isAuthenticated()&&(c+=`_${r.uid}`),c}function Gh(u,r){return`firestore_targets_${u}_${r}`}class _p{constructor(r,a,c,h){this.user=r,this.batchId=a,this.state=c,this.error=h}static $s(r,a,c){const h=JSON.parse(c);let E,A="object"==typeof h&&-1!==["pending","acknowledged","rejected"].indexOf(h.state)&&(void 0===h.error||"object"==typeof h.error);return A&&h.error&&(A="string"==typeof h.error.message&&"string"==typeof h.error.code,A&&(E=new C(h.error.code,h.error.message))),A?new _p(r,a,h.state,E):(Cr("SharedClientState",`Failed to parse mutation state for ID '${a}': ${c}`),null)}Os(){const r={state:this.state,updateTimeMs:Date.now()};return this.error&&(r.error={code:this.error.code,message:this.error.message}),JSON.stringify(r)}}class Rd{constructor(r,a,c){this.targetId=r,this.state=a,this.error=c}static $s(r,a){const c=JSON.parse(a);let h,E="object"==typeof c&&-1!==["not-current","current","rejected"].indexOf(c.state)&&(void 0===c.error||"object"==typeof c.error);return E&&c.error&&(E="string"==typeof c.error.message&&"string"==typeof c.error.code,E&&(h=new C(c.error.code,c.error.message))),E?new Rd(r,c.state,h):(Cr("SharedClientState",`Failed to parse target state for ID '${r}': ${a}`),null)}Os(){const r={state:this.state,updateTimeMs:Date.now()};return this.error&&(r.error={code:this.error.code,message:this.error.message}),JSON.stringify(r)}}class vp{constructor(r,a){this.clientId=r,this.activeTargetIds=a}static $s(r,a){const c=JSON.parse(a);let h="object"==typeof c&&c.activeTargetIds instanceof Array,E=_u();for(let A=0;h&&A<c.activeTargetIds.length;++A)h=Nc(c.activeTargetIds[A]),E=E.add(c.activeTargetIds[A]);return h?new vp(r,E):(Cr("SharedClientState",`Failed to parse client data for instance '${r}': ${a}`),null)}}class zh{constructor(r,a){this.clientId=r,this.onlineState=a}static $s(r){const a=JSON.parse(r);return"object"==typeof a&&-1!==["Unknown","Online","Offline"].indexOf(a.onlineState)&&"string"==typeof a.clientId?new zh(a.clientId,a.onlineState):(Cr("SharedClientState",`Failed to parse online state: ${r}`),null)}}class Wh{constructor(){this.activeTargetIds=_u()}Fs(r){this.activeTargetIds=this.activeTargetIds.add(r)}Ms(r){this.activeTargetIds=this.activeTargetIds.delete(r)}Os(){const r={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(r)}}class Ep{constructor(r,a,c,h,E){this.window=r,this.Oe=a,this.persistenceKey=c,this.Ls=h,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Bs=this.Us.bind(this),this.qs=new gi(Rt),this.started=!1,this.Ks=[];const A=c.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=E,this.js=S_(this.persistenceKey,this.Ls),this.Qs=`firestore_sequence_number_${this.persistenceKey}`,this.qs=this.qs.insert(this.Ls,new Wh),this.Ws=new RegExp(`^firestore_clients_${A}_([^_]*)$`),this.Gs=new RegExp(`^firestore_mutations_${A}_(\\d+)(?:_(.*))?$`),this.zs=new RegExp(`^firestore_targets_${A}_(\\d+)$`),this.Hs=`firestore_online_state_${this.persistenceKey}`,this.Js=function(L){return`firestore_bundle_loaded_${L}`}(this.persistenceKey),this.window.addEventListener("storage",this.Bs)}static Pt(r){return!(!r||!r.localStorage)}start(){var r=this;return(0,we.Z)(function*(){const a=yield r.syncEngine.pn();for(const h of a){if(h===r.Ls)continue;const E=r.getItem(S_(r.persistenceKey,h));if(E){const A=vp.$s(h,E);A&&(r.qs=r.qs.insert(A.clientId,A))}}r.Ys();const c=r.storage.getItem(r.Hs);if(c){const h=r.Xs(c);h&&r.Zs(h)}for(const h of r.Ks)r.Us(h);r.Ks=[],r.window.addEventListener("pagehide",()=>r.shutdown()),r.started=!0})()}writeSequenceNumber(r){this.setItem(this.Qs,JSON.stringify(r))}getAllActiveQueryTargets(){return this.ti(this.qs)}isActiveQueryTarget(r){let a=!1;return this.qs.forEach((c,h)=>{h.activeTargetIds.has(r)&&(a=!0)}),a}addPendingMutation(r){this.ei(r,"pending")}updateMutationState(r,a,c){this.ei(r,a,c),this.ni(r)}addLocalQueryTarget(r){let a="not-current";if(this.isActiveQueryTarget(r)){const c=this.storage.getItem(Gh(this.persistenceKey,r));if(c){const h=Rd.$s(r,c);h&&(a=h.state)}}return this.si.Fs(r),this.Ys(),a}removeLocalQueryTarget(r){this.si.Ms(r),this.Ys()}isLocalQueryTarget(r){return this.si.activeTargetIds.has(r)}clearQueryState(r){this.removeItem(Gh(this.persistenceKey,r))}updateQueryState(r,a,c){this.ii(r,a,c)}handleUserChange(r,a,c){a.forEach(h=>{this.ni(h)}),this.currentUser=r,c.forEach(h=>{this.addPendingMutation(h)})}setOnlineState(r){this.ri(r)}notifyBundleLoaded(){this.oi()}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Bs),this.removeItem(this.js),this.started=!1)}getItem(r){const a=this.storage.getItem(r);return vt("SharedClientState","READ",r,a),a}setItem(r,a){vt("SharedClientState","SET",r,a),this.storage.setItem(r,a)}removeItem(r){vt("SharedClientState","REMOVE",r),this.storage.removeItem(r)}Us(r){var a=this;const c=r;if(c.storageArea===this.storage){if(vt("SharedClientState","EVENT",c.key,c.newValue),c.key===this.js)return void Cr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Oe.enqueueRetryable((0,we.Z)(function*(){if(a.started){if(null!==c.key)if(a.Ws.test(c.key)){if(null==c.newValue){const h=a.ai(c.key);return a.ci(h,null)}{const h=a.ui(c.key,c.newValue);if(h)return a.ci(h.clientId,h)}}else if(a.Gs.test(c.key)){if(null!==c.newValue){const h=a.hi(c.key,c.newValue);if(h)return a.li(h)}}else if(a.zs.test(c.key)){if(null!==c.newValue){const h=a.fi(c.key,c.newValue);if(h)return a.di(h)}}else if(c.key===a.Hs){if(null!==c.newValue){const h=a.Xs(c.newValue);if(h)return a.Zs(h)}}else if(c.key===a.Qs){const h=function(E){let A=Ut.T;if(null!=E)try{const L=JSON.parse(E);un("number"==typeof L),A=L}catch(L){Cr("SharedClientState","Failed to read sequence number from WebStorage",L)}return A}(c.newValue);h!==Ut.T&&a.sequenceNumberHandler(h)}else if(c.key===a.Js)return a.syncEngine.wi()}else a.Ks.push(c)}))}}get si(){return this.qs.get(this.Ls)}Ys(){this.setItem(this.js,this.si.Os())}ei(r,a,c){const h=new _p(this.currentUser,r,a,c),E=Rm(this.persistenceKey,this.currentUser,r);this.setItem(E,h.Os())}ni(r){const a=Rm(this.persistenceKey,this.currentUser,r);this.removeItem(a)}ri(r){this.storage.setItem(this.Hs,JSON.stringify({clientId:this.Ls,onlineState:r}))}ii(r,a,c){const h=Gh(this.persistenceKey,r),E=new Rd(r,a,c);this.setItem(h,E.Os())}oi(){this.setItem(this.Js,"value-not-used")}ai(r){const a=this.Ws.exec(r);return a?a[1]:null}ui(r,a){const c=this.ai(r);return vp.$s(c,a)}hi(r,a){const c=this.Gs.exec(r),h=Number(c[1]);return _p.$s(new Mr(void 0!==c[2]?c[2]:null),h,a)}fi(r,a){const c=this.zs.exec(r),h=Number(c[1]);return Rd.$s(h,a)}Xs(r){return zh.$s(r)}li(r){var a=this;return(0,we.Z)(function*(){if(r.user.uid===a.currentUser.uid)return a.syncEngine._i(r.batchId,r.state,r.error);vt("SharedClientState",`Ignoring mutation for non-active user ${r.user.uid}`)})()}di(r){return this.syncEngine.mi(r.targetId,r.state,r.error)}ci(r,a){const c=a?this.qs.insert(r,a):this.qs.remove(r),h=this.ti(this.qs),E=this.ti(c),A=[],L=[];return E.forEach(z=>{h.has(z)||A.push(z)}),h.forEach(z=>{E.has(z)||L.push(z)}),this.syncEngine.gi(A,L).then(()=>{this.qs=c})}Zs(r){this.qs.get(r.clientId)&&this.onlineStateHandler(r.onlineState)}ti(r){let a=_u();return r.forEach((c,h)=>{a=a.unionWith(h.activeTargetIds)}),a}}class qh{constructor(){this.yi=new Wh,this.pi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(r){}updateMutationState(r,a,c){}addLocalQueryTarget(r){return this.yi.Fs(r),this.pi[r]||"not-current"}updateQueryState(r,a,c){this.pi[r]=a}removeLocalQueryTarget(r){this.yi.Ms(r)}isLocalQueryTarget(r){return this.yi.activeTargetIds.has(r)}clearQueryState(r){delete this.pi[r]}getAllActiveQueryTargets(){return this.yi.activeTargetIds}isActiveQueryTarget(r){return this.yi.activeTargetIds.has(r)}start(){return this.yi=new Wh,Promise.resolve()}handleUserChange(r,a,c){}setOnlineState(r){}shutdown(){}writeSequenceNumber(r){}notifyBundleLoaded(){}}class BE{Ei(r){}shutdown(){}}class A_{constructor(){this.Ti=()=>this.Ii(),this.Ai=()=>this.Ri(),this.Pi=[],this.bi()}Ei(r){this.Pi.push(r)}shutdown(){window.removeEventListener("online",this.Ti),window.removeEventListener("offline",this.Ai)}bi(){window.addEventListener("online",this.Ti),window.addEventListener("offline",this.Ai)}Ii(){vt("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const r of this.Pi)r(0)}Ri(){vt("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const r of this.Pi)r(1)}static Pt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const jE={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class HE{constructor(r){this.vi=r.vi,this.Vi=r.Vi}Si(r){this.Di=r}Ci(r){this.Ni=r}onMessage(r){this.xi=r}close(){this.Vi()}send(r){this.vi(r)}ki(){this.Di()}$i(r){this.Ni(r)}Oi(r){this.xi(r)}}class $E extends class{constructor(r){this.databaseInfo=r,this.databaseId=r.databaseId,this.Fi=(r.ssl?"https":"http")+"://"+r.host,this.Mi="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}Li(r,a,c,h){const E=this.Bi(r,a);vt("RestConnection","Sending: ",E,c);const A={};return this.Ui(A,h),this.qi(r,E,A,c).then(L=>(vt("RestConnection","Received: ",L),L),L=>{throw $o("RestConnection",`${r} failed with error: `,L,"url: ",E,"request:",c),L})}Ki(r,a,c,h){return this.Li(r,a,c,h)}Ui(r,a){if(r["X-Goog-Api-Client"]="gl-js/ fire/"+ua,r["Content-Type"]="text/plain",this.databaseInfo.appId&&(r["X-Firebase-GMPID"]=this.databaseInfo.appId),a)for(const c in a.authHeaders)a.authHeaders.hasOwnProperty(c)&&(r[c]=a.authHeaders[c])}Bi(r,a){return`${this.Fi}/v1/${a}:${jE[r]}`}}{constructor(r){super(r),this.forceLongPolling=r.forceLongPolling,this.autoDetectLongPolling=r.autoDetectLongPolling,this.useFetchStreams=r.useFetchStreams}qi(r,a,c,h){return new Promise((E,A)=>{const L=new Io;L.listenOnce(pu.COMPLETE,()=>{try{switch(L.getLastErrorCode()){case Co.NO_ERROR:const ie=L.getResponseJson();vt("Connection","XHR received:",JSON.stringify(ie)),E(ie);break;case Co.TIMEOUT:vt("Connection",'RPC "'+r+'" timed out'),A(new C(b.DEADLINE_EXCEEDED,"Request time out"));break;case Co.HTTP_ERROR:const ce=L.getStatus();if(vt("Connection",'RPC "'+r+'" failed with status:',ce,"response text:",L.getResponseText()),ce>0){const be=L.getResponseJson().error;if(be&&be.status&&be.message){const Je=function(ct){const Tt=ct.toLowerCase().replace(/_/g,"-");return Object.values(b).indexOf(Tt)>=0?Tt:b.UNKNOWN}(be.status);A(new C(Je,be.message))}else A(new C(b.UNKNOWN,"Server responded with status "+L.getStatus()))}else A(new C(b.UNAVAILABLE,"Connection failed."));break;default:Lt()}}finally{vt("Connection",'RPC "'+r+'" completed.')}});const z=JSON.stringify(h);L.send(a,"POST",z,c,15)})}ji(r,a){const c=[this.Fi,"/","google.firestore.v1.Firestore","/",r,"/channel"],h=new wo,E=vs(),A={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(A.xmlHttpFactory=new jo({})),this.Ui(A.initMessageHeaders,a),(0,Ae.uI)()||(0,Ae.b$)()||(0,Ae.d)()||(0,Ae.w1)()||(0,Ae.Mn)()||(0,Ae.ru)()||(A.httpHeadersOverwriteParam="$httpHeaders");const L=c.join("");vt("Connection","Creating WebChannel: "+L,A);const z=h.createWebChannel(L,A);let ie=!1,ce=!1;const be=new HE({vi:ct=>{ce?vt("Connection","Not sending because WebChannel is closed:",ct):(ie||(vt("Connection","Opening WebChannel transport."),z.open(),ie=!0),vt("Connection","WebChannel sending:",ct),z.send(ct))},Vi:()=>z.close()}),Je=(ct,Tt,rn)=>{ct.listen(Tt,Nn=>{try{rn(Nn)}catch(yi){setTimeout(()=>{throw yi},0)}})};return Je(z,Fs.EventType.OPEN,()=>{ce||vt("Connection","WebChannel transport opened.")}),Je(z,Fs.EventType.CLOSE,()=>{ce||(ce=!0,vt("Connection","WebChannel transport closed"),be.$i())}),Je(z,Fs.EventType.ERROR,ct=>{ce||(ce=!0,$o("Connection","WebChannel transport errored:",ct),be.$i(new C(b.UNAVAILABLE,"The operation could not be completed")))}),Je(z,Fs.EventType.MESSAGE,ct=>{var Tt;if(!ce){const rn=ct.data[0];un(!!rn);const Nn=rn,yi=Nn.error||(null===(Tt=Nn[0])||void 0===Tt?void 0:Tt.error);if(yi){vt("Connection","WebChannel received error:",yi);const uo=yi.status;let Ru=function(rh){const Mf=pi[rh];if(void 0!==Mf)return mh(Mf)}(uo),Wa=yi.message;void 0===Ru&&(Ru=b.INTERNAL,Wa="Unknown error status: "+uo+" with message "+yi.message),ce=!0,be.$i(new C(Ru,Wa)),z.close()}else vt("Connection","WebChannel received:",rn),be.Oi(rn)}}),Je(E,Js.STAT_EVENT,ct=>{ct.stat===bo_PROXY?vt("Connection","Detected buffering proxy"):ct.stat===bo_NOPROXY&&vt("Connection","Detected no buffering proxy")}),setTimeout(()=>{be.ki()},0),be}}function N_(){return"undefined"!=typeof window?window:null}function wp(){return"undefined"!=typeof document?document:null}function Kh(u){return new Yf(u,!0)}class Mm{constructor(r,a,c=1e3,h=1.5,E=6e4){this.Oe=r,this.timerId=a,this.Qi=c,this.Wi=h,this.Gi=E,this.zi=0,this.Hi=null,this.Ji=Date.now(),this.reset()}reset(){this.zi=0}Yi(){this.zi=this.Gi}Xi(r){this.cancel();const a=Math.floor(this.zi+this.Zi()),c=Math.max(0,Date.now()-this.Ji),h=Math.max(0,a-c);h>0&&vt("ExponentialBackoff",`Backing off for ${h} ms (base delay: ${this.zi} ms, delay with jitter: ${a} ms, last attempt: ${c} ms ago)`),this.Hi=this.Oe.enqueueAfterDelay(this.timerId,h,()=>(this.Ji=Date.now(),r())),this.zi*=this.Wi,this.zi<this.Qi&&(this.zi=this.Qi),this.zi>this.Gi&&(this.zi=this.Gi)}tr(){null!==this.Hi&&(this.Hi.skipDelay(),this.Hi=null)}cancel(){null!==this.Hi&&(this.Hi.cancel(),this.Hi=null)}Zi(){return(Math.random()-.5)*this.zi}}class R_{constructor(r,a,c,h,E,A){this.Oe=r,this.er=c,this.nr=h,this.credentialsProvider=E,this.listener=A,this.state=0,this.sr=0,this.ir=null,this.stream=null,this.rr=new Mm(r,a)}ar(){return 1===this.state||2===this.state||4===this.state}cr(){return 2===this.state}start(){3!==this.state?this.auth():this.ur()}stop(){var r=this;return(0,we.Z)(function*(){r.ar()&&(yield r.close(0))})()}hr(){this.state=0,this.rr.reset()}lr(){this.cr()&&null===this.ir&&(this.ir=this.Oe.enqueueAfterDelay(this.er,6e4,()=>this.dr()))}wr(r){this._r(),this.stream.send(r)}dr(){var r=this;return(0,we.Z)(function*(){if(r.cr())return r.close(0)})()}_r(){this.ir&&(this.ir.cancel(),this.ir=null)}close(r,a){var c=this;return(0,we.Z)(function*(){c._r(),c.rr.cancel(),c.sr++,3!==r?c.rr.reset():a&&a.code===b.RESOURCE_EXHAUSTED?(Cr(a.toString()),Cr("Using maximum backoff delay to prevent overloading the backend."),c.rr.Yi()):a&&a.code===b.UNAUTHENTICATED&&c.credentialsProvider.invalidateToken(),null!==c.stream&&(c.mr(),c.stream.close(),c.stream=null),c.state=r,yield c.listener.Ci(a)})()}mr(){}auth(){this.state=1;const r=this.gr(this.sr),a=this.sr;this.credentialsProvider.getToken().then(c=>{this.sr===a&&this.yr(c)},c=>{r(()=>{const h=new C(b.UNKNOWN,"Fetching auth token failed: "+c.message);return this.pr(h)})})}yr(r){const a=this.gr(this.sr);this.stream=this.Er(r),this.stream.Si(()=>{a(()=>(this.state=2,this.listener.Si()))}),this.stream.Ci(c=>{a(()=>this.pr(c))}),this.stream.onMessage(c=>{a(()=>this.onMessage(c))})}ur(){var r=this;this.state=4,this.rr.Xi((0,we.Z)(function*(){r.state=0,r.start()}))}pr(r){return vt("PersistentStream",`close with error: ${r}`),this.stream=null,this.close(3,r)}gr(r){return a=>{this.Oe.enqueueAndForget(()=>this.sr===r?a():(vt("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class GE extends R_{constructor(r,a,c,h,E){super(r,"listen_stream_connection_backoff","listen_stream_idle",a,c,E),this.N=h}Er(r){return this.nr.ji("Listen",r)}onMessage(r){this.rr.reset();const a=function(u,r){let a;if("targetChange"in r){const c="NO_CHANGE"===(z=r.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===z?1:"REMOVE"===z?2:"CURRENT"===z?3:"RESET"===z?4:Lt(),h=r.targetChange.targetIds||[],E=function(z,ie){return z.D?(un(void 0===ie||"string"==typeof ie),Ci.fromBase64String(ie||"")):(un(void 0===ie||ie instanceof Uint8Array),Ci.fromUint8Array(ie||new Uint8Array))}(u,r.targetChange.resumeToken),A=r.targetChange.cause,L=A&&function(z){const ie=void 0===z.code?b.UNKNOWN:mh(z.code);return new C(ie,z.message||"")}(A);a=new kc(c,h,E,L||null)}else if("documentChange"in r){const c=r.documentChange,h=pr(u,c.document.name),E=ai(c.document.updateTime),A=new fi({mapValue:{fields:c.document.fields}}),L=Ir.newFoundDocument(h,E,A);a=new _d(c.targetIds||[],c.removedTargetIds||[],L.key,L)}else if("documentDelete"in r){const c=r.documentDelete,h=pr(u,c.document),E=c.readTime?ai(c.readTime):ln.min(),A=Ir.newNoDocument(h,E);a=new _d([],c.removedTargetIds||[],A.key,A)}else if("documentRemove"in r){const c=r.documentRemove,h=pr(u,c.document);a=new _d([],c.removedTargetIds||[],h,null)}else{if(!("filter"in r))return Lt();{const c=r.filter,E=new _l(c.count||0);a=new Eh(c.targetId,E)}}var z;return a}(this.N,r),c=function(h){if(!("targetChange"in h))return ln.min();const E=h.targetChange;return E.targetIds&&E.targetIds.length?ln.min():E.readTime?ai(E.readTime):ln.min()}(r);return this.listener.Tr(a,c)}Ir(r){const a={};a.database=pa(this.N),a.addTarget=function(h,E){let A;const L=E.target;return A=K(L)?{documents:Ju(h,L)}:{query:Ts(h,L)},A.targetId=E.targetId,E.resumeToken.approximateByteSize()>0?A.resumeToken=bh(h,E.resumeToken):E.snapshotVersion.compareTo(ln.min())>0&&(A.readTime=Ql(h,E.snapshotVersion.toTimestamp())),A}(this.N,r);const c=function(u,r){const a=function(c,h){switch(h){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Lt()}}(0,r.purpose);return null==a?null:{"goog-listen-tags":a}}(0,r);c&&(a.labels=c),this.wr(a)}Ar(r){const a={};a.database=pa(this.N),a.removeTarget=r,this.wr(a)}}class Rl extends R_{constructor(r,a,c,h,E){super(r,"write_stream_connection_backoff","write_stream_idle",a,c,E),this.N=h,this.Rr=!1}get Pr(){return this.Rr}start(){this.Rr=!1,this.lastStreamToken=void 0,super.start()}mr(){this.Rr&&this.br([])}Er(r){return this.nr.ji("Write",r)}onMessage(r){if(un(!!r.streamToken),this.lastStreamToken=r.streamToken,this.Rr){this.rr.reset();const a=function(u,r){return u&&u.length>0?(un(void 0!==r),u.map(a=>function(c,h){let E=ai(c.updateTime?c.updateTime:h);return E.isEqual(ln.min())&&(E=ai(h)),new Yu(E,c.transformResults||[])}(a,r))):[]}(r.writeResults,r.commitTime),c=ai(r.commitTime);return this.listener.vr(c,a)}return un(!r.writeResults||0===r.writeResults.length),this.Rr=!0,this.listener.Vr()}Sr(){const r={};r.database=pa(this.N),this.wr(r)}br(r){const a={streamToken:this.lastStreamToken,writes:r.map(c=>Xl(this.N,c))};this.wr(a)}}class Cp extends class{}{constructor(r,a,c){super(),this.credentials=r,this.nr=a,this.N=c,this.Dr=!1}Cr(){if(this.Dr)throw new C(b.FAILED_PRECONDITION,"The client has already been terminated.")}Li(r,a,c){return this.Cr(),this.credentials.getToken().then(h=>this.nr.Li(r,a,c,h)).catch(h=>{throw"FirebaseError"===h.name?(h.code===b.UNAUTHENTICATED&&this.credentials.invalidateToken(),h):new C(b.UNKNOWN,h.toString())})}Ki(r,a,c){return this.Cr(),this.credentials.getToken().then(h=>this.nr.Ki(r,a,c,h)).catch(h=>{throw"FirebaseError"===h.name?(h.code===b.UNAUTHENTICATED&&this.credentials.invalidateToken(),h):new C(b.UNKNOWN,h.toString())})}terminate(){this.Dr=!0}}class M_{constructor(r,a){this.asyncQueue=r,this.onlineStateHandler=a,this.state="Unknown",this.Nr=0,this.kr=null,this.$r=!0}Or(){0===this.Nr&&(this.Fr("Unknown"),this.kr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.kr=null,this.Mr("Backend didn't respond within 10 seconds."),this.Fr("Offline"),Promise.resolve())))}Lr(r){"Online"===this.state?this.Fr("Unknown"):(this.Nr++,this.Nr>=1&&(this.Br(),this.Mr(`Connection failed 1 times. Most recent error: ${r.toString()}`),this.Fr("Offline")))}set(r){this.Br(),this.Nr=0,"Online"===r&&(this.$r=!1),this.Fr(r)}Fr(r){r!==this.state&&(this.state=r,this.onlineStateHandler(r))}Mr(r){const a=`Could not reach Cloud Firestore backend. ${r}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.$r?(Cr(a),this.$r=!1):vt("OnlineStateTracker",a)}Br(){null!==this.kr&&(this.kr.cancel(),this.kr=null)}}class Om{constructor(r,a,c,h,E){var A=this;this.localStore=r,this.datastore=a,this.asyncQueue=c,this.remoteSyncer={},this.Ur=[],this.qr=new Map,this.Kr=new Set,this.jr=[],this.Qr=E,this.Qr.Ei(L=>{c.enqueueAndForget((0,we.Z)(function*(){var z;nl(A)&&(vt("RemoteStore","Restarting streams for network reachability change."),yield(z=(0,we.Z)(function*(ie){const ce=R(ie);ce.Kr.add(4),yield Ml(ce),ce.Wr.set("Unknown"),ce.Kr.delete(4),yield lc(ce)}),function(ie){return z.apply(this,arguments)})(A))}))}),this.Wr=new M_(c,h)}}function lc(u){return Zh.apply(this,arguments)}function Zh(){return(Zh=(0,we.Z)(function*(u){if(nl(u))for(const r of u.jr)yield r(!0)})).apply(this,arguments)}function Ml(u){return bp.apply(this,arguments)}function bp(){return(bp=(0,we.Z)(function*(u){for(const r of u.jr)yield r(!1)})).apply(this,arguments)}function nu(u,r){const a=R(u);a.qr.has(r.targetId)||(a.qr.set(r.targetId,r),Dp(a)?Md(a):Jc(a).cr()&&Ip(a,r))}function Zc(u,r){const a=R(u),c=Jc(a);a.qr.delete(r),c.cr()&&O_(a,r),0===a.qr.size&&(c.cr()?c.lr():nl(a)&&a.Wr.set("Unknown"))}function Ip(u,r){u.Gr.Y(r.targetId),Jc(u).Ir(r)}function O_(u,r){u.Gr.Y(r),Jc(u).Ar(r)}function Md(u){u.Gr=new vd({getRemoteKeysForTarget:r=>u.remoteSyncer.getRemoteKeysForTarget(r),Et:r=>u.qr.get(r)||null}),Jc(u).start(),u.Wr.Or()}function Dp(u){return nl(u)&&!Jc(u).ar()&&u.qr.size>0}function nl(u){return 0===R(u).Kr.size}function xm(u){u.Gr=void 0}function x_(u){return cc.apply(this,arguments)}function cc(){return(cc=(0,we.Z)(function*(u){u.qr.forEach((r,a)=>{Ip(u,r)})})).apply(this,arguments)}function Yc(u,r){return Od.apply(this,arguments)}function Od(){return(Od=(0,we.Z)(function*(u,r){xm(u),Dp(u)?(u.Wr.Lr(r),Md(u)):u.Wr.set("Unknown")})).apply(this,arguments)}function Qc(u,r,a){return dc.apply(this,arguments)}function dc(){return(dc=(0,we.Z)(function*(u,r,a){if(u.Wr.set("Online"),r instanceof kc&&2===r.state&&r.cause)try{yield(c=(0,we.Z)(function*(h,E){const A=E.cause;for(const L of E.targetIds)h.qr.has(L)&&(yield h.remoteSyncer.rejectListen(L,A),h.qr.delete(L),h.Gr.removeTarget(L))}),function(h,E){return c.apply(this,arguments)})(u,r)}catch(c){vt("RemoteStore","Failed to remove targets %s: %s ",r.targetIds.join(","),c),yield rl(u,c)}else if(r instanceof _d?u.Gr.rt(r):r instanceof Eh?u.Gr.ft(r):u.Gr.ct(r),!a.isEqual(ln.min()))try{const c=yield Dm(u.localStore);a.compareTo(c)>=0&&(yield function(h,E){const A=h.Gr._t(E);return A.targetChanges.forEach((L,z)=>{if(L.resumeToken.approximateByteSize()>0){const ie=h.qr.get(z);ie&&h.qr.set(z,ie.withResumeToken(L.resumeToken,E))}}),A.targetMismatches.forEach(L=>{const z=h.qr.get(L);if(!z)return;h.qr.set(L,z.withResumeToken(Ci.EMPTY_BYTE_STRING,z.snapshotVersion)),O_(h,L);const ie=new wu(z.target,L,1,z.sequenceNumber);Ip(h,ie)}),h.remoteSyncer.applyRemoteEvent(A)}(u,a))}catch(c){vt("RemoteStore","Failed to raise snapshot:",c),yield rl(u,c)}var c})).apply(this,arguments)}function rl(u,r,a){return Tp.apply(this,arguments)}function Tp(){return(Tp=(0,we.Z)(function*(u,r,a){if(!Xu(r))throw r;u.Kr.add(1),yield Ml(u),u.Wr.set("Offline"),a||(a=()=>Dm(u.localStore)),u.asyncQueue.enqueueRetryable((0,we.Z)(function*(){vt("RemoteStore","Retrying IndexedDB access"),yield a(),u.Kr.delete(1),yield lc(u)}))})).apply(this,arguments)}function Sp(u,r){return r().catch(a=>rl(u,a,r))}function hc(u){return xd.apply(this,arguments)}function xd(){return(xd=(0,we.Z)(function*(u){const r=R(u),a=fc(r);let c=r.Ur.length>0?r.Ur[r.Ur.length-1].batchId:-1;for(;Ap(r);)try{const h=yield Sm(r.localStore,c);if(null===h){0===r.Ur.length&&a.lr();break}c=h.batchId,Pm(r,h)}catch(h){yield rl(r,h)}Pd(r)&&km(r)})).apply(this,arguments)}function Ap(u){return nl(u)&&u.Ur.length<10}function Pm(u,r){u.Ur.push(r);const a=fc(u);a.cr()&&a.Pr&&a.br(r.mutations)}function Pd(u){return nl(u)&&!fc(u).ar()&&u.Ur.length>0}function km(u){fc(u).start()}function Fm(u){return Lm.apply(this,arguments)}function Lm(){return(Lm=(0,we.Z)(function*(u){fc(u).Sr()})).apply(this,arguments)}function Vm(u){return Yh.apply(this,arguments)}function Yh(){return(Yh=(0,we.Z)(function*(u){const r=fc(u);for(const a of u.Ur)r.br(a.mutations)})).apply(this,arguments)}function P_(u,r,a){return Qh.apply(this,arguments)}function Qh(){return(Qh=(0,we.Z)(function*(u,r,a){const c=u.Ur.shift(),h=Td.from(c,r,a);yield Sp(u,()=>u.remoteSyncer.applySuccessfulWrite(h)),yield hc(u)})).apply(this,arguments)}function k_(u,r){return Np.apply(this,arguments)}function Np(){return(Np=(0,we.Z)(function*(u,r){var a;r&&fc(u).Pr&&(yield(a=(0,we.Z)(function*(c,h){if(gh(E=h.code)&&E!==b.ABORTED){const A=c.Ur.shift();fc(c).hr(),yield Sp(c,()=>c.remoteSyncer.rejectFailedWrite(A.batchId,h)),yield hc(c)}var E}),function(c,h){return a.apply(this,arguments)})(u,r)),Pd(u)&&km(u)})).apply(this,arguments)}function Po(u,r){return Rp.apply(this,arguments)}function Rp(){return(Rp=(0,we.Z)(function*(u,r){const a=R(u);r?(a.Kr.delete(2),yield lc(a)):r||(a.Kr.add(2),yield Ml(a),a.Wr.set("Unknown"))})).apply(this,arguments)}function Jc(u){return u.zr||(u.zr=function(r,a,c){const h=R(r);return h.Cr(),new GE(a,h.nr,h.credentials,h.N,c)}(u.datastore,u.asyncQueue,{Si:x_.bind(null,u),Ci:Yc.bind(null,u),Tr:Qc.bind(null,u)}),u.jr.push(function(){var r=(0,we.Z)(function*(a){a?(u.zr.hr(),Dp(u)?Md(u):u.Wr.set("Unknown")):(yield u.zr.stop(),xm(u))});return function(a){return r.apply(this,arguments)}}())),u.zr}function fc(u){return u.Hr||(u.Hr=function(r,a,c){const h=R(r);return h.Cr(),new Rl(a,h.nr,h.credentials,h.N,c)}(u.datastore,u.asyncQueue,{Si:Fm.bind(null,u),Ci:k_.bind(null,u),Vr:Vm.bind(null,u),vr:P_.bind(null,u)}),u.jr.push(function(){var r=(0,we.Z)(function*(a){a?(u.Hr.hr(),yield hc(u)):(yield u.Hr.stop(),u.Ur.length>0&&(vt("RemoteStore",`Stopping write stream with ${u.Ur.length} pending writes`),u.Ur=[]))});return function(a){return r.apply(this,arguments)}}())),u.Hr}class Um{constructor(r,a,c,h,E){this.asyncQueue=r,this.timerId=a,this.targetTimeMs=c,this.op=h,this.removalCallback=E,this.deferred=new x,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(A=>{})}static createAndSchedule(r,a,c,h,E){const A=Date.now()+c,L=new Um(r,a,A,h,E);return L.start(c),L}start(r){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),r)}skipDelay(){return this.handleDelayElapsed()}cancel(r){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new C(b.CANCELLED,"Operation cancelled"+(r?": "+r:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(r=>this.deferred.resolve(r))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function pc(u,r){if(Cr("AsyncQueue",`${r}: ${u}`),Xu(u))return new C(b.UNAVAILABLE,`${r}: ${u}`);throw u}class kd{constructor(r){this.comparator=r?(a,c)=>r(a,c)||At.comparator(a.key,c.key):(a,c)=>At.comparator(a.key,c.key),this.keyedMap=yd(),this.sortedSet=new gi(this.comparator)}static emptySet(r){return new kd(r.comparator)}has(r){return null!=this.keyedMap.get(r)}get(r){return this.keyedMap.get(r)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(r){const a=this.keyedMap.get(r);return a?this.sortedSet.indexOf(a):-1}get size(){return this.sortedSet.size}forEach(r){this.sortedSet.inorderTraversal((a,c)=>(r(a),!1))}add(r){const a=this.delete(r.key);return a.copy(a.keyedMap.insert(r.key,r),a.sortedSet.insert(r,null))}delete(r){const a=this.get(r);return a?this.copy(this.keyedMap.remove(r),this.sortedSet.remove(a)):this}isEqual(r){if(!(r instanceof kd)||this.size!==r.size)return!1;const a=this.sortedSet.getIterator(),c=r.sortedSet.getIterator();for(;a.hasNext();){const h=a.getNext().key,E=c.getNext().key;if(!h.isEqual(E))return!1}return!0}toString(){const r=[];return this.forEach(a=>{r.push(a.toString())}),0===r.length?"DocumentSet ()":"DocumentSet (\n  "+r.join("  \n")+"\n)"}copy(r,a){const c=new kd;return c.comparator=this.comparator,c.keyedMap=r,c.sortedSet=a,c}}class Bm{constructor(){this.Jr=new gi(At.comparator)}track(r){const a=r.doc.key,c=this.Jr.get(a);c?0!==r.type&&3===c.type?this.Jr=this.Jr.insert(a,r):3===r.type&&1!==c.type?this.Jr=this.Jr.insert(a,{type:c.type,doc:r.doc}):2===r.type&&2===c.type?this.Jr=this.Jr.insert(a,{type:2,doc:r.doc}):2===r.type&&0===c.type?this.Jr=this.Jr.insert(a,{type:0,doc:r.doc}):1===r.type&&0===c.type?this.Jr=this.Jr.remove(a):1===r.type&&2===c.type?this.Jr=this.Jr.insert(a,{type:1,doc:c.doc}):0===r.type&&1===c.type?this.Jr=this.Jr.insert(a,{type:2,doc:r.doc}):Lt():this.Jr=this.Jr.insert(a,r)}Yr(){const r=[];return this.Jr.inorderTraversal((a,c)=>{r.push(c)}),r}}class Ol{constructor(r,a,c,h,E,A,L,z){this.query=r,this.docs=a,this.oldDocs=c,this.docChanges=h,this.mutatedKeys=E,this.fromCache=A,this.syncStateChanged=L,this.excludesMetadataChanges=z}static fromInitialDocuments(r,a,c,h){const E=[];return a.forEach(A=>{E.push({type:0,doc:A})}),new Ol(r,a,kd.emptySet(a),E,c,h,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(r){if(!(this.fromCache===r.fromCache&&this.syncStateChanged===r.syncStateChanged&&this.mutatedKeys.isEqual(r.mutatedKeys)&&zt(this.query,r.query)&&this.docs.isEqual(r.docs)&&this.oldDocs.isEqual(r.oldDocs)))return!1;const a=this.docChanges,c=r.docChanges;if(a.length!==c.length)return!1;for(let h=0;h<a.length;h++)if(a[h].type!==c[h].type||!a[h].doc.isEqual(c[h].doc))return!1;return!0}}class jm{constructor(){this.Xr=void 0,this.listeners=[]}}class F_{constructor(){this.queries=new el(r=>nn(r),zt),this.onlineState="Unknown",this.Zr=new Set}}function Mp(u,r){return Op.apply(this,arguments)}function Op(){return(Op=(0,we.Z)(function*(u,r){const a=R(u),c=r.query;let h=!1,E=a.queries.get(c);if(E||(h=!0,E=new jm),h)try{E.Xr=yield a.onListen(c)}catch(A){const L=pc(A,`Initialization of query '${zn(r.query)}' failed`);return void r.onError(L)}a.queries.set(c,E),E.listeners.push(r),r.eo(a.onlineState),E.Xr&&r.no(E.Xr)&&Pp(a)})).apply(this,arguments)}function Jh(u,r){return xp.apply(this,arguments)}function xp(){return(xp=(0,we.Z)(function*(u,r){const a=R(u),c=r.query;let h=!1;const E=a.queries.get(c);if(E){const A=E.listeners.indexOf(r);A>=0&&(E.listeners.splice(A,1),h=0===E.listeners.length)}if(h)return a.queries.delete(c),a.onUnlisten(c)})).apply(this,arguments)}function Hm(u,r){const a=R(u);let c=!1;for(const h of r){const A=a.queries.get(h.query);if(A){for(const L of A.listeners)L.no(h)&&(c=!0);A.Xr=h}}c&&Pp(a)}function L_(u,r,a){const c=R(u),h=c.queries.get(r);if(h)for(const E of h.listeners)E.onError(a);c.queries.delete(r)}function Pp(u){u.Zr.forEach(r=>{r.next()})}class Xh{constructor(r,a,c){this.query=r,this.so=a,this.io=!1,this.ro=null,this.onlineState="Unknown",this.options=c||{}}no(r){if(!this.options.includeMetadataChanges){const c=[];for(const h of r.docChanges)3!==h.type&&c.push(h);r=new Ol(r.query,r.docs,r.oldDocs,c,r.mutatedKeys,r.fromCache,r.syncStateChanged,!0)}let a=!1;return this.io?this.oo(r)&&(this.so.next(r),a=!0):this.ao(r,this.onlineState)&&(this.co(r),a=!0),this.ro=r,a}onError(r){this.so.error(r)}eo(r){this.onlineState=r;let a=!1;return this.ro&&!this.io&&this.ao(this.ro,r)&&(this.co(this.ro),a=!0),a}ao(r,a){return!r.fromCache||!(this.options.uo&&"Offline"!==a||r.docs.isEmpty()&&"Offline"!==a)}oo(r){return r.docChanges.length>0||!!(r.syncStateChanged||this.ro&&this.ro.hasPendingWrites!==r.hasPendingWrites)&&!0===this.options.includeMetadataChanges}co(r){r=Ol.fromInitialDocuments(r.query,r.docs,r.mutatedKeys,r.fromCache),this.io=!0,this.so.next(r)}}class $m{constructor(r,a){this.payload=r,this.byteLength=a}ho(){return"metadata"in this.payload}}class Gm{constructor(r){this.N=r}zn(r){return pr(this.N,r)}Hn(r){return r.metadata.exists?Uc(this.N,r.document,!1):Ir.newNoDocument(this.zn(r.metadata.name),this.Jn(r.metadata.readTime))}Jn(r){return ai(r)}}class bu{constructor(r,a,c){this.lo=r,this.localStore=a,this.N=c,this.queries=[],this.documents=[],this.progress=ef(r)}fo(r){this.progress.bytesLoaded+=r.byteLength;let a=this.progress.documentsLoaded;return r.payload.namedQuery?this.queries.push(r.payload.namedQuery):r.payload.documentMetadata?(this.documents.push({metadata:r.payload.documentMetadata}),r.payload.documentMetadata.exists||++a):r.payload.document&&(this.documents[this.documents.length-1].document=r.payload.document,++a),a!==this.progress.documentsLoaded?(this.progress.documentsLoaded=a,Object.assign({},this.progress)):null}wo(r){const a=new Map,c=new Gm(this.N);for(const h of r)if(h.metadata.queries){const E=c.zn(h.metadata.name);for(const A of h.metadata.queries){const L=(a.get(A)||nr()).add(E);a.set(A,L)}}return a}complete(){var r=this;return(0,we.Z)(function*(){const a=yield function(u,r,a,c){return gp.apply(this,arguments)}(r.localStore,new Gm(r.N),r.documents,r.lo.id),c=r.wo(r.documents);for(const h of r.queries)yield mp(r.localStore,h,c.get(h.name));return r.progress.taskState="Success",new wm(Object.assign({},r.progress),a)})()}}function ef(u){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:u.totalDocuments,totalBytes:u.totalBytes}}class zm{constructor(r){this.key=r}}class Wm{constructor(r){this.key=r}}class V_{constructor(r,a){this.query=r,this._o=a,this.mo=null,this.current=!1,this.yo=nr(),this.mutatedKeys=nr(),this.po=No(r),this.Eo=new kd(this.po)}get To(){return this._o}Io(r,a){const c=a?a.Ao:new Bm,h=a?a.Eo:this.Eo;let E=a?a.mutatedKeys:this.mutatedKeys,A=h,L=!1;const z=Bs(this.query)&&h.size===this.query.limit?h.last():null,ie=So(this.query)&&h.size===this.query.limit?h.first():null;if(r.inorderTraversal((ce,be)=>{const Je=h.get(ce),ct=fr(this.query,be)?be:null,Tt=!!Je&&this.mutatedKeys.has(Je.key),rn=!!ct&&(ct.hasLocalMutations||this.mutatedKeys.has(ct.key)&&ct.hasCommittedMutations);let Nn=!1;Je&&ct?Je.data.isEqual(ct.data)?Tt!==rn&&(c.track({type:3,doc:ct}),Nn=!0):this.Ro(Je,ct)||(c.track({type:2,doc:ct}),Nn=!0,(z&&this.po(ct,z)>0||ie&&this.po(ct,ie)<0)&&(L=!0)):!Je&&ct?(c.track({type:0,doc:ct}),Nn=!0):Je&&!ct&&(c.track({type:1,doc:Je}),Nn=!0,(z||ie)&&(L=!0)),Nn&&(ct?(A=A.add(ct),E=rn?E.add(ce):E.delete(ce)):(A=A.delete(ce),E=E.delete(ce)))}),Bs(this.query)||So(this.query))for(;A.size>this.query.limit;){const ce=Bs(this.query)?A.last():A.first();A=A.delete(ce.key),E=E.delete(ce.key),c.track({type:1,doc:ce})}return{Eo:A,Ao:c,Ln:L,mutatedKeys:E}}Ro(r,a){return r.hasLocalMutations&&a.hasCommittedMutations&&!a.hasLocalMutations}applyChanges(r,a,c){const h=this.Eo;this.Eo=r.Eo,this.mutatedKeys=r.mutatedKeys;const E=r.Ao.Yr();E.sort((ie,ce)=>function(be,Je){const ct=Tt=>{switch(Tt){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Lt()}};return ct(be)-ct(Je)}(ie.type,ce.type)||this.po(ie.doc,ce.doc)),this.Po(c);const A=a?this.bo():[],L=0===this.yo.size&&this.current?1:0,z=L!==this.mo;return this.mo=L,0!==E.length||z?{snapshot:new Ol(this.query,r.Eo,h,E,r.mutatedKeys,0===L,z,!1),vo:A}:{vo:A}}eo(r){return this.current&&"Offline"===r?(this.current=!1,this.applyChanges({Eo:this.Eo,Ao:new Bm,mutatedKeys:this.mutatedKeys,Ln:!1},!1)):{vo:[]}}Vo(r){return!this._o.has(r)&&!!this.Eo.has(r)&&!this.Eo.get(r).hasLocalMutations}Po(r){r&&(r.addedDocuments.forEach(a=>this._o=this._o.add(a)),r.modifiedDocuments.forEach(a=>{}),r.removedDocuments.forEach(a=>this._o=this._o.delete(a)),this.current=r.current)}bo(){if(!this.current)return[];const r=this.yo;this.yo=nr(),this.Eo.forEach(c=>{this.Vo(c.key)&&(this.yo=this.yo.add(c.key))});const a=[];return r.forEach(c=>{this.yo.has(c)||a.push(new Wm(c))}),this.yo.forEach(c=>{r.has(c)||a.push(new zm(c))}),a}So(r){this._o=r.Gn,this.yo=nr();const a=this.Io(r.documents);return this.applyChanges(a,!0)}Do(){return Ol.fromInitialDocuments(this.query,this.Eo,this.mutatedKeys,0===this.mo)}}class qm{constructor(r,a,c){this.query=r,this.targetId=a,this.view=c}}class U_{constructor(r){this.key=r,this.Co=!1}}class B_{constructor(r,a,c,h,E,A){this.localStore=r,this.remoteStore=a,this.eventManager=c,this.sharedClientState=h,this.currentUser=E,this.maxConcurrentLimboResolutions=A,this.No={},this.xo=new el(L=>nn(L),zt),this.ko=new Map,this.$o=new Set,this.Oo=new gi(At.comparator),this.Fo=new Map,this.Mo=new jh,this.Lo={},this.Bo=new Map,this.Uo=Al.ie(),this.onlineState="Unknown",this.qo=void 0}get isPrimaryClient(){return!0===this.qo}}function j_(u,r){return Fd.apply(this,arguments)}function Fd(){return(Fd=(0,we.Z)(function*(u,r){const a=qp(u);let c,h;const E=a.xo.get(r);if(E)c=E.targetId,a.sharedClientState.addLocalQueryTarget(c),h=E.view.Do();else{const A=yield qc(a.localStore,Is(r)),L=a.sharedClientState.addLocalQueryTarget(A.targetId);c=A.targetId,h=yield kp(a,r,c,"current"===L),a.isPrimaryClient&&nu(a.remoteStore,A)}return h})).apply(this,arguments)}function kp(u,r,a,c){return Fp.apply(this,arguments)}function Fp(){return(Fp=(0,we.Z)(function*(u,r,a,c){u.Ko=(ce,be,Je)=>{return(ct=(0,we.Z)(function*(Tt,rn,Nn,yi){let uo=rn.view.Io(Nn);uo.Ln&&(uo=yield In(Tt.localStore,rn.query,!1).then(({documents:rh})=>rn.view.Io(rh,uo)));const Ru=yi&&yi.targetChanges.get(rn.targetId),Wa=rn.view.applyChanges(uo,Tt.isPrimaryClient,Ru);return Vp(Tt,rn.targetId,Wa.vo),Wa.snapshot}),function(Tt,rn,Nn,yi){return ct.apply(this,arguments)})(u,ce,be,Je);var ct};const h=yield In(u.localStore,r,!0),E=new V_(r,h.Gn),A=E.Io(h.documents),L=Pc.createSynthesizedTargetChangeForCurrentChange(a,c&&"Offline"!==u.onlineState),z=E.applyChanges(A,u.isPrimaryClient,L);Vp(u,a,z.vo);const ie=new qm(r,a,E);return u.xo.set(r,ie),u.ko.has(a)?u.ko.get(a).push(r):u.ko.set(a,[r]),z.snapshot})).apply(this,arguments)}function tf(u,r){return Ld.apply(this,arguments)}function Ld(){return(Ld=(0,we.Z)(function*(u,r){const a=R(u),c=a.xo.get(r),h=a.ko.get(c.targetId);if(h.length>1)return a.ko.set(c.targetId,h.filter(E=>!zt(E,r))),void a.xo.delete(r);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(c.targetId),a.sharedClientState.isActiveQueryTarget(c.targetId)||(yield Kc(a.localStore,c.targetId,!1).then(()=>{a.sharedClientState.clearQueryState(c.targetId),Zc(a.remoteStore,c.targetId),il(a,c.targetId)}).catch(Cu))):(il(a,c.targetId),yield Kc(a.localStore,c.targetId,!0))})).apply(this,arguments)}function Vd(){return(Vd=(0,we.Z)(function*(u,r,a){const c=ty(u);try{const h=yield function(E,A){const L=R(E),z=Zn.now(),ie=A.reduce((be,Je)=>be.add(Je.key),nr());let ce;return L.persistence.runTransaction("Locally write mutations","readwrite",be=>L.Qn.bn(be,ie).next(Je=>{ce=Je;const ct=[];for(const Tt of A){const rn=hh(Tt,ce.get(Tt.key));null!=rn&&ct.push(new ro(Tt.key,rn,Zi(rn.value.mapValue),Ii.exists(!0)))}return L.In.addMutationBatch(be,z,ct,A)})).then(be=>(be.applyToLocalDocumentSet(ce),{batchId:be.batchId,changes:ce}))}(c.localStore,r);c.sharedClientState.addPendingMutation(h.batchId),function(E,A,L){let z=E.Lo[E.currentUser.toKey()];z||(z=new gi(Rt)),z=z.insert(A,L),E.Lo[E.currentUser.toKey()]=z}(c,h.batchId,a),yield Iu(c,h.changes),yield hc(c.remoteStore)}catch(h){const E=pc(h,"Failed to persist write");a.reject(E)}})).apply(this,arguments)}function nf(u,r){return rf.apply(this,arguments)}function rf(){return(rf=(0,we.Z)(function*(u,r){const a=R(u);try{const c=yield T_(a.localStore,r);r.targetChanges.forEach((h,E)=>{const A=a.Fo.get(E);A&&(un(h.addedDocuments.size+h.modifiedDocuments.size+h.removedDocuments.size<=1),h.addedDocuments.size>0?A.Co=!0:h.modifiedDocuments.size>0?un(A.Co):h.removedDocuments.size>0&&(un(A.Co),A.Co=!1))}),yield Iu(a,c,r)}catch(c){yield Cu(c)}})).apply(this,arguments)}function Km(u,r,a){const c=R(u);if(c.isPrimaryClient&&0===a||!c.isPrimaryClient&&1===a){const h=[];c.xo.forEach((E,A)=>{const L=A.view.eo(r);L.snapshot&&h.push(L.snapshot)}),function(E,A){const L=R(E);L.onlineState=A;let z=!1;L.queries.forEach((ie,ce)=>{for(const be of ce.listeners)be.eo(A)&&(z=!0)}),z&&Pp(L)}(c.eventManager,r),h.length&&c.No.Tr(h),c.onlineState=r,c.isPrimaryClient&&c.sharedClientState.setOnlineState(r)}}function $_(u,r,a){return Ud.apply(this,arguments)}function Ud(){return(Ud=(0,we.Z)(function*(u,r,a){const c=R(u);c.sharedClientState.updateQueryState(r,"rejected",a);const h=c.Fo.get(r),E=h&&h.key;if(E){let A=new gi(At.comparator);A=A.insert(E,Ir.newNoDocument(E,ln.min()));const L=nr().add(E),z=new vl(ln.min(),new Map,new oi(Rt),A,L);yield nf(c,z),c.Oo=c.Oo.remove(E),c.Fo.delete(r),xl(c)}else yield Kc(c.localStore,r,!1).then(()=>il(c,r,a)).catch(Cu)})).apply(this,arguments)}function zE(u,r){return Lp.apply(this,arguments)}function Lp(){return(Lp=(0,we.Z)(function*(u,r){const a=R(u),c=r.batch.batchId;try{const h=yield D_(a.localStore,r);ru(a,c,null),af(a,c),a.sharedClientState.updateMutationState(c,"acknowledged"),yield Iu(a,h)}catch(h){yield Cu(h)}})).apply(this,arguments)}function Zm(u,r,a){return sf.apply(this,arguments)}function sf(){return(sf=(0,we.Z)(function*(u,r,a){const c=R(u);try{const h=yield function(E,A){const L=R(E);return L.persistence.runTransaction("Reject batch","readwrite-primary",z=>{let ie;return L.In.lookupMutationBatch(z,A).next(ce=>(un(null!==ce),ie=ce.keys(),L.In.removeMutationBatch(z,ce))).next(()=>L.In.performConsistencyCheck(z)).next(()=>L.Qn.bn(z,ie))})}(c.localStore,r);ru(c,r,a),af(c,r),c.sharedClientState.updateMutationState(r,"rejected",a),yield Iu(c,h)}catch(h){yield Cu(h)}})).apply(this,arguments)}function of(){return(of=(0,we.Z)(function*(u,r){const a=R(u);nl(a.remoteStore)||vt("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const c=yield function(E){const A=R(E);return A.persistence.runTransaction("Get highest unacknowledged batch id","readonly",L=>A.In.getHighestUnacknowledgedBatchId(L))}(a.localStore);if(-1===c)return void r.resolve();const h=a.Bo.get(c)||[];h.push(r),a.Bo.set(c,h)}catch(c){const h=pc(c,"Initialization of waitForPendingWrites() operation failed");r.reject(h)}})).apply(this,arguments)}function af(u,r){(u.Bo.get(r)||[]).forEach(a=>{a.resolve()}),u.Bo.delete(r)}function ru(u,r,a){const c=R(u);let h=c.Lo[c.currentUser.toKey()];if(h){const E=h.get(r);E&&(a?E.reject(a):E.resolve(),h=h.remove(r)),c.Lo[c.currentUser.toKey()]=h}}function il(u,r,a=null){u.sharedClientState.removeLocalQueryTarget(r);for(const c of u.ko.get(r))u.xo.delete(c),a&&u.No.jo(c,a);u.ko.delete(r),u.isPrimaryClient&&u.Mo.cs(r).forEach(c=>{u.Mo.containsKey(c)||Qm(u,c)})}function Qm(u,r){u.$o.delete(r.path.canonicalString());const a=u.Oo.get(r);null!==a&&(Zc(u.remoteStore,a),u.Oo=u.Oo.remove(r),u.Fo.delete(a),xl(u))}function Vp(u,r,a){for(const c of a)c instanceof zm?(u.Mo.addReference(c.key,r),WE(u,c)):c instanceof Wm?(vt("SyncEngine","Document no longer in limbo: "+c.key),u.Mo.removeReference(c.key,r),u.Mo.containsKey(c.key)||Qm(u,c.key)):Lt()}function WE(u,r){const a=r.key,c=a.path.canonicalString();u.Oo.get(a)||u.$o.has(c)||(vt("SyncEngine","New document in limbo: "+a),u.$o.add(c),xl(u))}function xl(u){for(;u.$o.size>0&&u.Oo.size<u.maxConcurrentLimboResolutions;){const r=u.$o.values().next().value;u.$o.delete(r);const a=new At(er.fromString(r)),c=u.Uo.next();u.Fo.set(c,new U_(a)),u.Oo=u.Oo.insert(a,c),nu(u.remoteStore,new wu(Is(Yn(a.path)),c,2,Ut.T))}}function Iu(u,r,a){return gc.apply(this,arguments)}function gc(){return(gc=(0,we.Z)(function*(u,r,a){const c=R(u),h=[],E=[],A=[];var L;c.xo.isEmpty()||(c.xo.forEach((L,z)=>{A.push(c.Ko(z,r,a).then(ie=>{if(ie){c.isPrimaryClient&&c.sharedClientState.updateQueryState(z.targetId,ie.fromCache?"not-current":"current"),h.push(ie);const ce=Vh.kn(z.targetId,ie);E.push(ce)}}))}),yield Promise.all(A),c.No.Tr(h),yield(L=(0,we.Z)(function*(z,ie){const ce=R(z);try{yield ce.persistence.runTransaction("notifyLocalViewChanges","readwrite",be=>pt.forEach(ie,Je=>pt.forEach(Je.Nn,ct=>ce.persistence.referenceDelegate.addReference(be,Je.targetId,ct)).next(()=>pt.forEach(Je.xn,ct=>ce.persistence.referenceDelegate.removeReference(be,Je.targetId,ct)))))}catch(be){if(!Xu(be))throw be;vt("LocalStore","Failed to update sequence numbers: "+be)}for(const be of ie){const Je=be.targetId;if(!be.fromCache){const ct=ce.Un.get(Je),rn=ct.withLastLimboFreeSnapshotVersion(ct.snapshotVersion);ce.Un=ce.Un.insert(Je,rn)}}}),function(z,ie){return L.apply(this,arguments)})(c.localStore,E))})).apply(this,arguments)}function Bd(u,r){return Up.apply(this,arguments)}function Up(){return(Up=(0,we.Z)(function*(u,r){const a=R(u);if(!a.currentUser.isEqual(r)){vt("SyncEngine","User change. New user:",r.toKey());const c=yield Im(a.localStore,r);a.currentUser=r,(h=a).Bo.forEach(A=>{A.forEach(L=>{L.reject(new C(b.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),h.Bo.clear(),a.sharedClientState.handleUserChange(r,c.removedBatchIds,c.addedBatchIds),yield Iu(a,c.Wn)}var h})).apply(this,arguments)}function Bp(u,r){const a=R(u),c=a.Fo.get(r);if(c&&c.Co)return nr().add(c.key);{let h=nr();const E=a.ko.get(r);if(!E)return h;for(const A of E){const L=a.xo.get(A);h=h.unionWith(L.view.To)}return h}}function Jm(u,r){return jp.apply(this,arguments)}function jp(){return(jp=(0,we.Z)(function*(u,r){const a=R(u),c=yield In(a.localStore,r.query,!0),h=r.view.So(c);return a.isPrimaryClient&&Vp(a,r.targetId,h.vo),h})).apply(this,arguments)}function Xm(u){return Hp.apply(this,arguments)}function Hp(){return(Hp=(0,we.Z)(function*(u){const r=R(u);return pp(r.localStore).then(a=>Iu(r,a))})).apply(this,arguments)}function $p(u,r,a,c){return Gp.apply(this,arguments)}function Gp(){return(Gp=(0,we.Z)(function*(u,r,a,c){const h=R(u),E=yield function(A,L){const z=R(A),ie=R(z.In);return z.persistence.runTransaction("Lookup mutation documents","readonly",ce=>ie.Xt(ce,L).next(be=>be?z.Qn.bn(ce,be):pt.resolve(null)))}(h.localStore,r);var L;null!==E?("pending"===a?yield hc(h.remoteStore):"acknowledged"===a||"rejected"===a?(ru(h,r,c||null),af(h,r),L=r,R(R(h.localStore).In).te(L)):Lt(),yield Iu(h,E)):vt("SyncEngine","Cannot apply mutation batch with id: "+r)})).apply(this,arguments)}function uf(){return(uf=(0,we.Z)(function*(u,r){const a=R(u);if(qp(a),ty(a),!0===r&&!0!==a.qo){const c=a.sharedClientState.getAllActiveQueryTargets(),h=yield mc(a,c.toArray());a.qo=!0,yield Po(a.remoteStore,!0);for(const E of h)nu(a.remoteStore,E)}else if(!1===r&&!1!==a.qo){const c=[];let h=Promise.resolve();a.ko.forEach((E,A)=>{a.sharedClientState.isLocalQueryTarget(A)?c.push(A):h=h.then(()=>(il(a,A),Kc(a.localStore,A,!0))),Zc(a.remoteStore,A)}),yield h,yield mc(a,c),function(E){const A=R(E);A.Fo.forEach((L,z)=>{Zc(A.remoteStore,z)}),A.Mo.us(),A.Fo=new Map,A.Oo=new gi(At.comparator)}(a),a.qo=!1,yield Po(a.remoteStore,!1)}})).apply(this,arguments)}function mc(u,r,a){return lf.apply(this,arguments)}function lf(){return(lf=(0,we.Z)(function*(u,r,a){const c=R(u),h=[],E=[];for(const A of r){let L;const z=c.ko.get(A);if(z&&0!==z.length){L=yield qc(c.localStore,Is(z[0]));for(const ie of z){const ce=c.xo.get(ie),be=yield Jm(c,ce);be.snapshot&&E.push(be.snapshot)}}else{const ie=yield fp(c.localStore,A);L=yield qc(c.localStore,ie),yield kp(c,ey(ie),A,!1)}h.push(L)}return c.No.Tr(E),h})).apply(this,arguments)}function ey(u){return bi(u.path,u.collectionGroup,u.orderBy,u.filters,u.limit,"F",u.startAt,u.endAt)}function z_(u){const r=R(u);return R(R(r.localStore).persistence).pn()}function Xc(u,r,a,c){return zp.apply(this,arguments)}function zp(){return(zp=(0,we.Z)(function*(u,r,a,c){const h=R(u);if(h.qo)vt("SyncEngine","Ignoring unexpected query state notification.");else if(h.ko.has(r))switch(a){case"current":case"not-current":{const E=yield pp(h.localStore),A=vl.createSynthesizedRemoteEventForCurrentChange(r,"current"===a);yield Iu(h,E,A);break}case"rejected":yield Kc(h.localStore,r,!0),il(h,r,c);break;default:Lt()}})).apply(this,arguments)}function W_(u,r,a){return Wp.apply(this,arguments)}function Wp(){return(Wp=(0,we.Z)(function*(u,r,a){const c=qp(u);if(c.qo){for(const h of r){if(c.ko.has(h)){vt("SyncEngine","Adding an already active target "+h);continue}const E=yield fp(c.localStore,h),A=yield qc(c.localStore,E);yield kp(c,ey(E),A.targetId,!1),nu(c.remoteStore,A)}for(const h of a)c.ko.has(h)&&(yield Kc(c.localStore,h,!1).then(()=>{Zc(c.remoteStore,h),il(c,h)}).catch(Cu))}})).apply(this,arguments)}function qp(u){const r=R(u);return r.remoteStore.remoteSyncer.applyRemoteEvent=nf.bind(null,r),r.remoteStore.remoteSyncer.getRemoteKeysForTarget=Bp.bind(null,r),r.remoteStore.remoteSyncer.rejectListen=$_.bind(null,r),r.No.Tr=Hm.bind(null,r.eventManager),r.No.jo=L_.bind(null,r.eventManager),r}function ty(u){const r=R(u);return r.remoteStore.remoteSyncer.applySuccessfulWrite=zE.bind(null,r),r.remoteStore.remoteSyncer.rejectFailedWrite=Zm.bind(null,r),r}class Kp{constructor(){this.synchronizeTabs=!1}initialize(r){var a=this;return(0,we.Z)(function*(){a.N=Kh(r.databaseInfo.databaseId),a.sharedClientState=a.Wo(r),a.persistence=a.Go(r),yield a.persistence.start(),a.gcScheduler=a.zo(r),a.localStore=a.Ho(r)})()}zo(r){return null}Ho(r){return ja(this.persistence,new bm,r.initialUser,this.N)}Go(r){return new Hh(Nd.Ns,this.N)}Wo(r){return new qh}terminate(){var r=this;return(0,we.Z)(function*(){r.gcScheduler&&r.gcScheduler.stop(),yield r.sharedClientState.shutdown(),yield r.persistence.shutdown()})()}}class Tr extends Kp{constructor(r,a,c){super(),this.Jo=r,this.cacheSizeBytes=a,this.forceOwnership=c,this.synchronizeTabs=!1}initialize(r){var a=()=>super.initialize,c=this;return(0,we.Z)(function*(){yield a().call(c,r),yield function(u){return ya.apply(this,arguments)}(c.localStore),yield c.Jo.initialize(c,r),yield ty(c.Jo.syncEngine),yield hc(c.Jo.remoteStore),yield c.persistence.nn(()=>(c.gcScheduler&&!c.gcScheduler.started&&c.gcScheduler.start(c.localStore),Promise.resolve()))})()}Ho(r){return ja(this.persistence,new bm,r.initialUser,this.N)}zo(r){return new gm(this.persistence.referenceDelegate.garbageCollector,r.asyncQueue)}Go(r){const a=Em(r.databaseInfo.databaseId,r.databaseInfo.persistenceKey),c=void 0!==this.cacheSizeBytes?Wo.withCacheSize(this.cacheSizeBytes):Wo.DEFAULT;return new Lh(this.synchronizeTabs,a,r.clientId,c,r.asyncQueue,N_(),wp(),this.N,this.sharedClientState,!!this.forceOwnership)}Wo(r){return new qh}}class Zp extends Tr{constructor(r,a){super(r,a,!1),this.Jo=r,this.cacheSizeBytes=a,this.synchronizeTabs=!0}initialize(r){var a=()=>super.initialize,c=this;return(0,we.Z)(function*(){yield a().call(c,r);const h=c.Jo.syncEngine;c.sharedClientState instanceof Ep&&(c.sharedClientState.syncEngine={_i:$p.bind(null,h),mi:Xc.bind(null,h),gi:W_.bind(null,h),pn:z_.bind(null,h),wi:Xm.bind(null,h)},yield c.sharedClientState.start()),yield c.persistence.nn(function(){var E=(0,we.Z)(function*(A){yield function(u,r){return uf.apply(this,arguments)}(c.Jo.syncEngine,A),c.gcScheduler&&(A&&!c.gcScheduler.started?c.gcScheduler.start(c.localStore):A||c.gcScheduler.stop())});return function(A){return E.apply(this,arguments)}}())})()}Wo(r){const a=N_();if(!Ep.Pt(a))throw new C(b.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const c=Em(r.databaseInfo.databaseId,r.databaseInfo.persistenceKey);return new Ep(a,r.asyncQueue,c,r.clientId,r.initialUser)}}class ny{initialize(r,a){var c=this;return(0,we.Z)(function*(){c.localStore||(c.localStore=r.localStore,c.sharedClientState=r.sharedClientState,c.datastore=c.createDatastore(a),c.remoteStore=c.createRemoteStore(a),c.eventManager=c.createEventManager(a),c.syncEngine=c.createSyncEngine(a,!r.synchronizeTabs),c.sharedClientState.onlineStateHandler=h=>Km(c.syncEngine,h,1),c.remoteStore.remoteSyncer.handleCredentialChange=Bd.bind(null,c.syncEngine),yield Po(c.remoteStore,c.syncEngine.isPrimaryClient))})()}createEventManager(r){return new F_}createDatastore(r){const a=Kh(r.databaseInfo.databaseId),c=new $E(r.databaseInfo);return new Cp(r.credentials,c,a)}createRemoteStore(r){return a=this.localStore,c=this.datastore,h=r.asyncQueue,E=L=>Km(this.syncEngine,L,0),A=A_.Pt()?new A_:new BE,new Om(a,c,h,E,A);var a,c,h,E,A}createSyncEngine(r,a){return function(c,h,E,A,L,z,ie){const ce=new B_(c,h,E,A,L,z);return ie&&(ce.qo=!0),ce}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,r.initialUser,r.maxConcurrentLimboResolutions,a)}terminate(){return(r=(0,we.Z)(function*(a){const c=R(a);vt("RemoteStore","RemoteStore shutting down."),c.Kr.add(5),yield Ml(c),c.Qr.shutdown(),c.Wr.set("Unknown")}),function(a){return r.apply(this,arguments)})(this.remoteStore);var r}}function Du(u,r=10240){let a=0;return{read:()=>(0,we.Z)(function*(){if(a<u.byteLength){const c={value:u.slice(a,a+r),done:!1};return a+=r,c}return{done:!0}})(),cancel:()=>(0,we.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class ed{constructor(r){this.observer=r,this.muted=!1}next(r){this.observer.next&&this.Yo(this.observer.next,r)}error(r){this.observer.error?this.Yo(this.observer.error,r):console.error("Uncaught Error in snapshot listener:",r)}Xo(){this.muted=!0}Yo(r,a){this.muted||setTimeout(()=>{this.muted||r(a)},0)}}class Yp{constructor(r,a){this.Zo=r,this.N=a,this.metadata=new x,this.buffer=new Uint8Array,this.ta=new TextDecoder("utf-8"),this.ea().then(c=>{c&&c.ho()?this.metadata.resolve(c.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==c?void 0:c.payload)}`))},c=>this.metadata.reject(c))}close(){return this.Zo.cancel()}getMetadata(){var r=this;return(0,we.Z)(function*(){return r.metadata.promise})()}Qo(){var r=this;return(0,we.Z)(function*(){return yield r.getMetadata(),r.ea()})()}ea(){var r=this;return(0,we.Z)(function*(){const a=yield r.na();if(null===a)return null;const c=r.ta.decode(a),h=Number(c);isNaN(h)&&r.sa(`length string (${c}) is not valid number`);const E=yield r.ia(h);return new $m(JSON.parse(E),a.length+h)})()}ra(){return this.buffer.findIndex(r=>r==="{".charCodeAt(0))}na(){var r=this;return(0,we.Z)(function*(){for(;r.ra()<0&&!(yield r.oa()););if(0===r.buffer.length)return null;const a=r.ra();a<0&&r.sa("Reached the end of bundle when a length string is expected.");const c=r.buffer.slice(0,a);return r.buffer=r.buffer.slice(a),c})()}ia(r){var a=this;return(0,we.Z)(function*(){for(;a.buffer.length<r;)(yield a.oa())&&a.sa("Reached the end of bundle when more is expected.");const c=a.ta.decode(a.buffer.slice(0,r));return a.buffer=a.buffer.slice(r),c})()}sa(r){throw this.Zo.cancel(),new Error(`Invalid bundle format: ${r}`)}oa(){var r=this;return(0,we.Z)(function*(){const a=yield r.Zo.read();if(!a.done){const c=new Uint8Array(r.buffer.length+a.value.length);c.set(r.buffer),c.set(a.value,r.buffer.length),r.buffer=c}return a.done})()}}class qE{constructor(r){this.datastore=r,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(r){var a=this;return(0,we.Z)(function*(){if(a.ensureCommitNotCalled(),a.mutations.length>0)throw new C(b.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const c=yield(h=(0,we.Z)(function*(E,A){const L=R(E),z=pa(L.N)+"/documents",ie={documents:A.map(ct=>Cl(L.N,ct))},ce=yield L.Ki("BatchGetDocuments",z,ie),be=new Map;ce.forEach(ct=>{const Tt=function(u,r){return"found"in r?function(a,c){un(!!c.found);const h=pr(a,c.found.name),E=ai(c.found.updateTime),A=new fi({mapValue:{fields:c.found.fields}});return Ir.newFoundDocument(h,E,A)}(u,r):"missing"in r?function(a,c){un(!!c.missing),un(!!c.readTime);const h=pr(a,c.missing),E=ai(c.readTime);return Ir.newNoDocument(h,E)}(u,r):Lt()}(L.N,ct);be.set(Tt.key.toString(),Tt)});const Je=[];return A.forEach(ct=>{const Tt=be.get(ct.toString());un(!!Tt),Je.push(Tt)}),Je}),function(E,A){return h.apply(this,arguments)})(a.datastore,r);var h;return c.forEach(h=>a.recordVersion(h)),c})()}set(r,a){this.write(a.toMutation(r,this.precondition(r))),this.writtenDocs.add(r.toString())}update(r,a){try{this.write(a.toMutation(r,this.preconditionForUpdate(r)))}catch(c){this.lastWriteError=c}this.writtenDocs.add(r.toString())}delete(r){this.write(new Kl(r,this.precondition(r))),this.writtenDocs.add(r.toString())}commit(){var r=this;return(0,we.Z)(function*(){if(r.ensureCommitNotCalled(),r.lastWriteError)throw r.lastWriteError;const a=r.readVersions;var c;r.mutations.forEach(c=>{a.delete(c.key.toString())}),a.forEach((c,h)=>{const E=At.fromPath(h);r.mutations.push(new Mo(E,r.precondition(E)))}),yield(c=(0,we.Z)(function*(h,E){const A=R(h),L=pa(A.N)+"/documents",z={writes:E.map(ie=>Xl(A.N,ie))};yield A.Li("Commit",L,z)}),function(h,E){return c.apply(this,arguments)})(r.datastore,r.mutations),r.committed=!0})()}recordVersion(r){let a;if(r.isFoundDocument())a=r.version;else{if(!r.isNoDocument())throw Lt();a=ln.min()}const c=this.readVersions.get(r.key.toString());if(c){if(!a.isEqual(c))throw new C(b.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(r.key.toString(),a)}precondition(r){const a=this.readVersions.get(r.toString());return!this.writtenDocs.has(r.toString())&&a?Ii.updateTime(a):Ii.none()}preconditionForUpdate(r){const a=this.readVersions.get(r.toString());if(!this.writtenDocs.has(r.toString())&&a){if(a.isEqual(ln.min()))throw new C(b.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Ii.updateTime(a)}return Ii.exists(!0)}write(r){this.ensureCommitNotCalled(),this.mutations.push(r)}ensureCommitNotCalled(){}}class K_{constructor(r,a,c,h){this.asyncQueue=r,this.datastore=a,this.updateFunction=c,this.deferred=h,this.aa=5,this.rr=new Mm(this.asyncQueue,"transaction_retry")}run(){this.aa-=1,this.ca()}ca(){var r=this;this.rr.Xi((0,we.Z)(function*(){const a=new qE(r.datastore),c=r.ua(a);c&&c.then(h=>{r.asyncQueue.enqueueAndForget(()=>a.commit().then(()=>{r.deferred.resolve(h)}).catch(E=>{r.ha(E)}))}).catch(h=>{r.ha(h)})}))}ua(r){try{const a=this.updateFunction(r);return!eu(a)&&a.catch&&a.then?a:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(a){return this.deferred.reject(a),null}}ha(r){this.aa>0&&this.la(r)?(this.aa-=1,this.asyncQueue.enqueueAndForget(()=>(this.ca(),Promise.resolve()))):this.deferred.reject(r)}la(r){if("FirebaseError"===r.name){const a=r.code;return"aborted"===a||"failed-precondition"===a||!gh(a)}return!1}}class Z_{constructor(r,a,c){var h=this;this.credentials=r,this.asyncQueue=a,this.databaseInfo=c,this.user=Mr.UNAUTHENTICATED,this.clientId=or.I(),this.credentialListener=()=>Promise.resolve(),this.credentials.start(a,function(){var E=(0,we.Z)(function*(A){vt("FirestoreClient","Received user=",A.uid),yield h.credentialListener(A),h.user=A});return function(A){return E.apply(this,arguments)}}())}getConfiguration(){var r=this;return(0,we.Z)(function*(){return{asyncQueue:r.asyncQueue,databaseInfo:r.databaseInfo,clientId:r.clientId,credentials:r.credentials,initialUser:r.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(r){this.credentialListener=r}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new C(b.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var r=this;this.asyncQueue.enterRestrictedMode();const a=new x;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,we.Z)(function*(){try{r.onlineComponents&&(yield r.onlineComponents.terminate()),r.offlineComponents&&(yield r.offlineComponents.terminate()),r.credentials.shutdown(),a.resolve()}catch(c){const h=pc(c,"Failed to shutdown persistence");a.reject(h)}})),a.promise}}function Qp(u,r){return cf.apply(this,arguments)}function cf(){return(cf=(0,we.Z)(function*(u,r){u.asyncQueue.verifyOperationInProgress(),vt("FirestoreClient","Initializing OfflineComponentProvider");const a=yield u.getConfiguration();yield r.initialize(a);let c=a.initialUser;u.setCredentialChangeListener(function(){var h=(0,we.Z)(function*(E){c.isEqual(E)||(yield Im(r.localStore,E),c=E)});return function(E){return h.apply(this,arguments)}}()),r.persistence.setDatabaseDeletedListener(()=>u.terminate()),u.offlineComponents=r})).apply(this,arguments)}function Jp(u,r){return df.apply(this,arguments)}function df(){return(df=(0,we.Z)(function*(u,r){u.asyncQueue.verifyOperationInProgress();const a=yield Xp(u);vt("FirestoreClient","Initializing OnlineComponentProvider");const c=yield u.getConfiguration();yield r.initialize(a,c),u.setCredentialChangeListener(h=>{return(E=(0,we.Z)(function*(A,L){const z=R(A);z.asyncQueue.verifyOperationInProgress(),vt("RemoteStore","RemoteStore received new credentials");const ie=nl(z);z.Kr.add(3),yield Ml(z),ie&&z.Wr.set("Unknown"),yield z.remoteSyncer.handleCredentialChange(L),z.Kr.delete(3),yield lc(z)}),function(A,L){return E.apply(this,arguments)})(r.remoteStore,h);var E}),u.onlineComponents=r})).apply(this,arguments)}function Xp(u){return eg.apply(this,arguments)}function eg(){return(eg=(0,we.Z)(function*(u){return u.offlineComponents||(vt("FirestoreClient","Using default OfflineComponentProvider"),yield Qp(u,new Kp)),u.offlineComponents})).apply(this,arguments)}function Pl(u){return jd.apply(this,arguments)}function jd(){return(jd=(0,we.Z)(function*(u){return u.onlineComponents||(vt("FirestoreClient","Using default OnlineComponentProvider"),yield Jp(u,new ny)),u.onlineComponents})).apply(this,arguments)}function tg(u){return Xp(u).then(r=>r.persistence)}function hf(u){return Xp(u).then(r=>r.localStore)}function ng(u){return Pl(u).then(r=>r.remoteStore)}function ff(u){return Pl(u).then(r=>r.syncEngine)}function td(u){return rg.apply(this,arguments)}function rg(){return(rg=(0,we.Z)(function*(u){const r=yield Pl(u),a=r.eventManager;return a.onListen=j_.bind(null,r.syncEngine),a.onUnlisten=tf.bind(null,r.syncEngine),a})).apply(this,arguments)}function J_(u,r,a={}){const c=new x;return u.asyncQueue.enqueueAndForget((0,we.Z)(function*(){return function(h,E,A,L,z){const ie=new ed({next:be=>{E.enqueueAndForget(()=>Jh(h,ce));const Je=be.docs.has(A);!Je&&be.fromCache?z.reject(new C(b.UNAVAILABLE,"Failed to get document because the client is offline.")):Je&&be.fromCache&&L&&"server"===L.source?z.reject(new C(b.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):z.resolve(be)},error:be=>z.reject(be)}),ce=new Xh(Yn(A.path),ie,{includeMetadataChanges:!0,uo:!0});return Mp(h,ce)}(yield td(u),u.asyncQueue,r,a,c)})),c.promise}function sy(u,r,a={}){const c=new x;return u.asyncQueue.enqueueAndForget((0,we.Z)(function*(){return function(h,E,A,L,z){const ie=new ed({next:be=>{E.enqueueAndForget(()=>Jh(h,ce)),be.fromCache&&"server"===L.source?z.reject(new C(b.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):z.resolve(be)},error:be=>z.reject(be)}),ce=new Xh(A,ie,{includeMetadataChanges:!0,uo:!0});return Mp(h,ce)}(yield td(u),u.asyncQueue,r,a,c)})),c.promise}class ev{constructor(r,a,c,h,E,A,L,z){this.databaseId=r,this.appId=a,this.persistenceKey=c,this.host=h,this.ssl=E,this.forceLongPolling=A,this.autoDetectLongPolling=L,this.useFetchStreams=z}}class yc{constructor(r,a){this.projectId=r,this.database=a||"(default)"}get isDefaultDatabase(){return"(default)"===this.database}isEqual(r){return r instanceof yc&&r.projectId===this.projectId&&r.database===this.database}}const sg=new Map;function oy(u,r,a){if(!a)throw new C(b.INVALID_ARGUMENT,`Function ${u}() cannot be called with an empty ${r}.`)}function Ha(u,r,a,c){if(!0===r&&!0===c)throw new C(b.INVALID_ARGUMENT,`${u} and ${a} cannot be used together.`)}function tv(u){if(!At.isDocumentKey(u))throw new C(b.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${u} has ${u.length}.`)}function nv(u){if(At.isDocumentKey(u))throw new C(b.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${u} has ${u.length}.`)}function og(u){if(void 0===u)return"undefined";if(null===u)return"null";if("string"==typeof u)return u.length>20&&(u=`${u.substring(0,20)}...`),JSON.stringify(u);if("number"==typeof u||"boolean"==typeof u)return""+u;if("object"==typeof u){if(u instanceof Array)return"an array";{const r=function(a){if(a.constructor){const c=/function\s+([^\s(]+)\s*\(/.exec(a.constructor.toString());if(c&&c.length>1)return c[1]}return null}(u);return r?`a custom ${r} object`:"an object"}}return"function"==typeof u?"a function":Lt()}function ar(u,r){if("_delegate"in u&&(u=u._delegate),!(u instanceof r)){if(r.name===u.constructor.name)throw new C(b.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const a=og(u);throw new C(b.INVALID_ARGUMENT,`Expected type '${r.name}', but it was: ${a}`)}}return u}function ag(u,r){if(r<=0)throw new C(b.INVALID_ARGUMENT,`Function ${u}() requires a positive number, but it was: ${r}.`)}class ug{constructor(r){var a;if(void 0===r.host){if(void 0!==r.ssl)throw new C(b.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=r.host,this.ssl=null===(a=r.ssl)||void 0===a||a;if(this.credentials=r.credentials,this.ignoreUndefinedProperties=!!r.ignoreUndefinedProperties,void 0===r.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==r.cacheSizeBytes&&r.cacheSizeBytes<1048576)throw new C(b.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=r.cacheSizeBytes}this.experimentalForceLongPolling=!!r.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!r.experimentalAutoDetectLongPolling,this.useFetchStreams=!!r.useFetchStreams,Ha("experimentalForceLongPolling",r.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",r.experimentalAutoDetectLongPolling)}isEqual(r){return this.host===r.host&&this.ssl===r.ssl&&this.credentials===r.credentials&&this.cacheSizeBytes===r.cacheSizeBytes&&this.experimentalForceLongPolling===r.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===r.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===r.ignoreUndefinedProperties&&this.useFetchStreams===r.useFetchStreams}}class Hd{constructor(r,a){this._credentials=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new ug({}),this._settingsFrozen=!1,r instanceof yc?this._databaseId=r:(this._app=r,this._databaseId=function(c){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new C(b.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new yc(c.options.projectId)}(r))}get app(){if(!this._app)throw new C(b.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(r){if(this._settingsFrozen)throw new C(b.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new ug(r),void 0!==r.credentials&&(this._credentials=function(a){if(!a)return new Z;switch(a.type){case"gapi":const c=a.client;return un(!("object"!=typeof c||null===c||!c.auth||!c.auth.getAuthHeaderValueForFirstParty)),new Ot(c,a.sessionIndex||"0",a.iamToken||null);case"provider":return a.client;default:throw new C(b.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(r.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(r){const a=sg.get(r);a&&(vt("ComponentProvider","Removing Datastore"),sg.delete(r),a.terminate())}(this),Promise.resolve()}}class Yr{constructor(r,a,c){this.converter=a,this._key=c,this.type="document",this.firestore=r}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Tu(this.firestore,this.converter,this._key.path.popLast())}withConverter(r){return new Yr(this.firestore,r,this._key)}}class As{constructor(r,a,c){this.converter=a,this._query=c,this.type="query",this.firestore=r}withConverter(r){return new As(this.firestore,r,this._query)}}class Tu extends As{constructor(r,a,c){super(r,a,Yn(c)),this._path=c,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const r=this._path.popLast();return r.isEmpty()?null:new Yr(this.firestore,null,new At(r))}withConverter(r){return new Tu(this.firestore,r,this._path)}}function pf(u,r,...a){if(u=(0,Ae.m9)(u),oy("collection","path",r),u instanceof Hd){const c=er.fromString(r,...a);return nv(c),new Tu(u,null,c)}{if(!(u instanceof Yr||u instanceof Tu))throw new C(b.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const c=er.fromString(u.path,...a).child(er.fromString(r));return nv(c),new Tu(u.firestore,null,c)}}function gf(u,r,...a){if(u=(0,Ae.m9)(u),1===arguments.length&&(r=or.I()),oy("doc","path",r),u instanceof Hd){const c=er.fromString(r,...a);return tv(c),new Yr(u,null,new At(c))}{if(!(u instanceof Yr||u instanceof Tu))throw new C(b.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const c=u._path.child(er.fromString(r,...a));return tv(c),new Yr(u.firestore,u instanceof Tu?u.converter:null,new At(c))}}function ay(u,r){return u=(0,Ae.m9)(u),r=(0,Ae.m9)(r),(u instanceof Yr||u instanceof Tu)&&(r instanceof Yr||r instanceof Tu)&&u.firestore===r.firestore&&u.path===r.path&&u.converter===r.converter}function uy(u,r){return u=(0,Ae.m9)(u),r=(0,Ae.m9)(r),u instanceof As&&r instanceof As&&u.firestore===r.firestore&&zt(u._query,r._query)&&u.converter===r.converter}class iv{constructor(){this.fa=Promise.resolve(),this.da=[],this.wa=!1,this._a=[],this.ma=null,this.ga=!1,this.ya=!1,this.pa=[],this.rr=new Mm(this,"async_queue_retry"),this.Ea=()=>{const a=wp();a&&vt("AsyncQueue","Visibility state changed to "+a.visibilityState),this.rr.tr()};const r=wp();r&&"function"==typeof r.addEventListener&&r.addEventListener("visibilitychange",this.Ea)}get isShuttingDown(){return this.wa}enqueueAndForget(r){this.enqueue(r)}enqueueAndForgetEvenWhileRestricted(r){this.Ta(),this.Ia(r)}enterRestrictedMode(r){if(!this.wa){this.wa=!0,this.ya=r||!1;const a=wp();a&&"function"==typeof a.removeEventListener&&a.removeEventListener("visibilitychange",this.Ea)}}enqueue(r){if(this.Ta(),this.wa)return new Promise(()=>{});const a=new x;return this.Ia(()=>this.wa&&this.ya?Promise.resolve():(r().then(a.resolve,a.reject),a.promise)).then(()=>a.promise)}enqueueRetryable(r){this.enqueueAndForget(()=>(this.da.push(r),this.Aa()))}Aa(){var r=this;return(0,we.Z)(function*(){if(0!==r.da.length){try{yield r.da[0](),r.da.shift(),r.rr.reset()}catch(a){if(!Xu(a))throw a;vt("AsyncQueue","Operation failed with retryable error: "+a)}r.da.length>0&&r.rr.Xi(()=>r.Aa())}})()}Ia(r){const a=this.fa.then(()=>(this.ga=!0,r().catch(c=>{throw this.ma=c,this.ga=!1,Cr("INTERNAL UNHANDLED ERROR: ",function(h){let E=h.message||"";return h.stack&&(E=h.stack.includes(h.message)?h.stack:h.message+"\n"+h.stack),E}(c)),c}).then(c=>(this.ga=!1,c))));return this.fa=a,a}enqueueAfterDelay(r,a,c){this.Ta(),this.pa.indexOf(r)>-1&&(a=0);const h=Um.createAndSchedule(this,r,a,c,E=>this.Ra(E));return this._a.push(h),h}Ta(){this.ma&&Lt()}verifyOperationInProgress(){}Pa(){var r=this;return(0,we.Z)(function*(){let a;do{a=r.fa,yield a}while(a!==r.fa)})()}ba(r){for(const a of this._a)if(a.timerId===r)return!0;return!1}va(r){return this.Pa().then(()=>{this._a.sort((a,c)=>a.targetTimeMs-c.targetTimeMs);for(const a of this._a)if(a.skipDelay(),"all"!==r&&a.timerId===r)break;return this.Pa()})}Va(r){this.pa.push(r)}Ra(r){const a=this._a.indexOf(r);this._a.splice(a,1)}}function lg(u){return function(r,a){if("object"!=typeof r||null===r)return!1;const c=r;for(const h of["next","error","complete"])if(h in c&&"function"==typeof c[h])return!0;return!1}(u)}class mf{constructor(){this._progressObserver={},this._taskCompletionResolver=new x,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(r,a,c){this._progressObserver={next:r,error:a,complete:c}}catch(r){return this._taskCompletionResolver.promise.catch(r)}then(r,a){return this._taskCompletionResolver.promise.then(r,a)}_completeWith(r){this._updateProgress(r),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(r)}_failWith(r){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(r),this._taskCompletionResolver.reject(r)}_updateProgress(r){this._lastProgress=r,this._progressObserver.next&&this._progressObserver.next(r)}}class mi extends Hd{constructor(r,a){super(r,a),this.type="firestore",this._queue=new iv,this._persistenceKey="name"in r?r.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||ly(this),this._firestoreClient.terminate()}}function ds(u){return u._firestoreClient||ly(u),u._firestoreClient.verifyNotTerminated(),u._firestoreClient}function ly(u){var r;const a=u._freezeSettings(),c=(E=(null===(r=u._app)||void 0===r?void 0:r.options.appId)||"",new ev(u._databaseId,E,u._persistenceKey,(L=a).host,L.ssl,L.experimentalForceLongPolling,L.experimentalAutoDetectLongPolling,L.useFetchStreams));var E,L;u._firestoreClient=new Z_(u._credentials,u._queue,c)}function rd(u,r,a){const c=new x;return u.asyncQueue.enqueue((0,we.Z)(function*(){try{yield Qp(u,a),yield Jp(u,r),c.resolve()}catch(h){if(!("FirebaseError"===(E=h).name?E.code===b.FAILED_PRECONDITION||E.code===b.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&E instanceof DOMException)||22===E.code||20===E.code||11===E.code))throw h;console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+h),c.reject(h)}var E})).then(()=>c.promise)}function vc(u){if(u._initialized||u._terminated)throw new C(b.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class qo{constructor(...r){for(let a=0;a<r.length;++a)if(0===r[a].length)throw new C(b.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Gn(r)}isEqual(r){return this._internalPath.isEqual(r._internalPath)}}class ko{constructor(r){this._byteString=r}static fromBase64String(r){try{return new ko(Ci.fromBase64String(r))}catch(a){throw new C(b.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+a)}}static fromUint8Array(r){return new ko(Ci.fromUint8Array(r))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(r){return this._byteString.isEqual(r._byteString)}}class Ga{constructor(r){this._methodName=r}}class sl{constructor(r,a){if(!isFinite(r)||r<-90||r>90)throw new C(b.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+r);if(!isFinite(a)||a<-180||a>180)throw new C(b.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+a);this._lat=r,this._long=a}get latitude(){return this._lat}get longitude(){return this._long}isEqual(r){return this._lat===r._lat&&this._long===r._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(r){return Rt(this._lat,r._lat)||Rt(this._long,r._long)}}const od=/^__.*__$/;class dy{constructor(r,a,c){this.data=r,this.fieldMask=a,this.fieldTransforms=c}toMutation(r,a){return null!==this.fieldMask?new ro(r,this.data,this.fieldMask,a,this.fieldTransforms):new La(r,this.data,a,this.fieldTransforms)}}class dg{constructor(r,a,c){this.data=r,this.fieldMask=a,this.fieldTransforms=c}toMutation(r,a){return new ro(r,this.data,this.fieldMask,a,this.fieldTransforms)}}function hg(u){switch(u){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Lt()}}class Gd{constructor(r,a,c,h,E,A){this.settings=r,this.databaseId=a,this.N=c,this.ignoreUndefinedProperties=h,void 0===E&&this.Sa(),this.fieldTransforms=E||[],this.fieldMask=A||[]}get path(){return this.settings.path}get Da(){return this.settings.Da}Ca(r){return new Gd(Object.assign(Object.assign({},this.settings),r),this.databaseId,this.N,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Na(r){var a;const c=null===(a=this.path)||void 0===a?void 0:a.child(r),h=this.Ca({path:c,xa:!1});return h.ka(r),h}$a(r){var a;const c=null===(a=this.path)||void 0===a?void 0:a.child(r),h=this.Ca({path:c,xa:!1});return h.Sa(),h}Oa(r){return this.Ca({path:void 0,xa:!0})}Fa(r){return wf(r,this.settings.methodName,this.settings.Ma||!1,this.path,this.settings.La)}contains(r){return void 0!==this.fieldMask.find(a=>r.isPrefixOf(a))||void 0!==this.fieldTransforms.find(a=>r.isPrefixOf(a.field))}Sa(){if(this.path)for(let r=0;r<this.path.length;r++)this.ka(this.path.get(r))}ka(r){if(0===r.length)throw this.Fa("Document fields must not be empty");if(hg(this.Da)&&od.test(r))throw this.Fa('Document fields cannot begin and end with "__"')}}class hy{constructor(r,a,c){this.databaseId=r,this.ignoreUndefinedProperties=a,this.N=c||Kh(r)}Ba(r,a,c,h=!1){return new Gd({Da:r,methodName:a,La:c,path:Gn.emptyPath(),xa:!1,Ma:h},this.databaseId,this.N,this.ignoreUndefinedProperties)}}function kl(u){const r=u._freezeSettings(),a=Kh(u._databaseId);return new hy(u._databaseId,!!r.ignoreUndefinedProperties,a)}function zd(u,r,a,c,h,E={}){const A=u.Ba(E.merge||E.mergeFields?2:0,r,a,h);Ef("Data must be an object, but it was:",A,c);const L=mg(c,A);let z,ie;if(E.merge)z=new Oa(A.fieldMask),ie=A.fieldTransforms;else if(E.mergeFields){const ce=[];for(const be of E.mergeFields){const Je=yg(r,be,a);if(!A.contains(Je))throw new C(b.INVALID_ARGUMENT,`Field '${Je}' is specified in your field mask but missing from your input data.`);_g(ce,Je)||ce.push(Je)}z=new Oa(ce),ie=A.fieldTransforms.filter(be=>z.covers(be.field))}else z=null,ie=A.fieldTransforms;return new dy(new fi(L),z,ie)}class ad extends Ga{_toFieldTransform(r){if(2!==r.Da)throw r.Fa(1===r.Da?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return r.fieldMask.push(r.path),null}isEqual(r){return r instanceof ad}}function fg(u,r,a){return new Gd({Da:3,La:r.settings.La,methodName:u._methodName,xa:a},r.databaseId,r.N,r.ignoreUndefinedProperties)}class pg extends Ga{_toFieldTransform(r){return new Fa(r.path,new ka)}isEqual(r){return r instanceof pg}}class fy extends Ga{constructor(r,a){super(r),this.Ua=a}_toFieldTransform(r){const a=fg(this,r,!0),c=this.Ua.map(E=>Ec(E,a)),h=new Ku(c);return new Fa(r.path,h)}isEqual(r){return this===r}}class sv extends Ga{constructor(r,a){super(r),this.Ua=a}_toFieldTransform(r){const a=fg(this,r,!0),c=this.Ua.map(E=>Ec(E,a)),h=new Zu(c);return new Fa(r.path,h)}isEqual(r){return this===r}}class ov extends Ga{constructor(r,a){super(r),this.qa=a}_toFieldTransform(r){const a=new ml(r.N,Wu(r.N,this.qa));return new Fa(r.path,a)}isEqual(r){return this===r}}function vf(u,r,a,c){const h=u.Ba(1,r,a);Ef("Data must be an object, but it was:",h,c);const E=[],A=fi.empty();ls(c,(z,ie)=>{const ce=gy(r,z,a);ie=(0,Ae.m9)(ie);const be=h.$a(ce);if(ie instanceof ad)E.push(ce);else{const Je=Ec(ie,be);null!=Je&&(E.push(ce),A.set(ce,Je))}});const L=new Oa(E);return new dg(A,L,h.fieldTransforms)}function gg(u,r,a,c,h,E){const A=u.Ba(1,r,a),L=[yg(r,c,a)],z=[h];if(E.length%2!=0)throw new C(b.INVALID_ARGUMENT,`Function ${r}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let Je=0;Je<E.length;Je+=2)L.push(yg(r,E[Je])),z.push(E[Je+1]);const ie=[],ce=fi.empty();for(let Je=L.length-1;Je>=0;--Je)if(!_g(ie,L[Je])){const ct=L[Je];let Tt=z[Je];Tt=(0,Ae.m9)(Tt);const rn=A.$a(ct);if(Tt instanceof ad)ie.push(ct);else{const Nn=Ec(Tt,rn);null!=Nn&&(ie.push(ct),ce.set(ct,Nn))}}const be=new Oa(ie);return new dg(ce,be,A.fieldTransforms)}function av(u,r,a,c=!1){return Ec(a,u.Ba(c?4:3,r))}function Ec(u,r){if(py(u=(0,Ae.m9)(u)))return Ef("Unsupported field value:",r,u),mg(u,r);if(u instanceof Ga)return function(a,c){if(!hg(c.Da))throw c.Fa(`${a._methodName}() can only be used with update() and set()`);if(!c.path)throw c.Fa(`${a._methodName}() is not currently supported inside arrays`);const h=a._toFieldTransform(c);h&&c.fieldTransforms.push(h)}(u,r),null;if(void 0===u&&r.ignoreUndefinedProperties)return null;if(r.path&&r.fieldMask.push(r.path),u instanceof Array){if(r.settings.xa&&4!==r.Da)throw r.Fa("Nested arrays are not supported");return function(a,c){const h=[];let E=0;for(const A of a){let L=Ec(A,c.Oa(E));null==L&&(L={nullValue:"NULL_VALUE"}),h.push(L),E++}return{arrayValue:{values:h}}}(u,r)}return function(a,c){if(null===(a=(0,Ae.m9)(a)))return{nullValue:"NULL_VALUE"};if("number"==typeof a)return Wu(c.N,a);if("boolean"==typeof a)return{booleanValue:a};if("string"==typeof a)return{stringValue:a};if(a instanceof Date){const h=Zn.fromDate(a);return{timestampValue:Ql(c.N,h)}}if(a instanceof Zn){const h=new Zn(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:Ql(c.N,h)}}if(a instanceof sl)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof ko)return{bytesValue:bh(c.N,a._byteString)};if(a instanceof Yr){const h=c.databaseId,E=a.firestore._databaseId;if(!E.isEqual(h))throw c.Fa(`Document reference is for database ${E.projectId}/${E.database} but should be for database ${h.projectId}/${h.database}`);return{referenceValue:El(a.firestore._databaseId||c.databaseId,a._key.path)}}throw c.Fa(`Unsupported field value: ${og(a)}`)}(u,r)}function mg(u,r){const a={};return Hu(u)?r.path&&r.path.length>0&&r.fieldMask.push(r.path):ls(u,(c,h)=>{const E=Ec(h,r.Na(c));null!=E&&(a[c]=E)}),{mapValue:{fields:a}}}function py(u){return!("object"!=typeof u||null===u||u instanceof Array||u instanceof Date||u instanceof Zn||u instanceof sl||u instanceof ko||u instanceof Yr||u instanceof Ga)}function Ef(u,r,a){if(!py(a)||"object"!=typeof(c=a)||null===c||Object.getPrototypeOf(c)!==Object.prototype&&null!==Object.getPrototypeOf(c)){const c=og(a);throw r.Fa("an object"===c?u+" a custom object":u+" "+c)}var c}function yg(u,r,a){if((r=(0,Ae.m9)(r))instanceof qo)return r._internalPath;if("string"==typeof r)return gy(u,r);throw wf("Field path arguments must be of type string or FieldPath.",u,!1,void 0,a)}const uv=new RegExp("[~\\*/\\[\\]]");function gy(u,r,a){if(r.search(uv)>=0)throw wf(`Invalid field path (${r}). Paths must not contain '~', '*', '/', '[', or ']'`,u,!1,void 0,a);try{return new qo(...r.split("."))._internalPath}catch(c){throw wf(`Invalid field path (${r}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,u,!1,void 0,a)}}function wf(u,r,a,c,h){const E=c&&!c.isEmpty(),A=void 0!==h;let L=`Function ${r}() called with invalid data`;a&&(L+=" (via `toFirestore()`)"),L+=". ";let z="";return(E||A)&&(z+=" (found",E&&(z+=` in field ${c}`),A&&(z+=` in document ${h}`),z+=")"),new C(b.INVALID_ARGUMENT,L+u+z)}function _g(u,r){return u.some(a=>a.isEqual(r))}class Cf{constructor(r,a,c,h,E){this._firestore=r,this._userDataWriter=a,this._key=c,this._document=h,this._converter=E}get id(){return this._key.path.lastSegment()}get ref(){return new Yr(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const r=new QE(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(r)}return this._userDataWriter.convertValue(this._document.data.value)}}get(r){if(this._document){const a=this._document.data.field(vg("DocumentSnapshot.get",r));if(null!==a)return this._userDataWriter.convertValue(a)}}}class QE extends Cf{data(){return super.data()}}function vg(u,r){return"string"==typeof r?gy(u,r):r instanceof qo?r._internalPath:r._delegate._internalPath}class wc{constructor(r,a){this.hasPendingWrites=r,this.fromCache=a}isEqual(r){return this.hasPendingWrites===r.hasPendingWrites&&this.fromCache===r.fromCache}}class Fl extends Cf{constructor(r,a,c,h,E,A){super(r,a,c,h,A),this._firestore=r,this._firestoreImpl=r,this.metadata=E}exists(){return super.exists()}data(r={}){if(this._document){if(this._converter){const a=new Wd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(a,r)}return this._userDataWriter.convertValue(this._document.data.value,r.serverTimestamps)}}get(r,a={}){if(this._document){const c=this._document.data.field(vg("DocumentSnapshot.get",r));if(null!==c)return this._userDataWriter.convertValue(c,a.serverTimestamps)}}}class Wd extends Fl{data(r={}){return super.data(r)}}class Ll{constructor(r,a,c,h){this._firestore=r,this._userDataWriter=a,this._snapshot=h,this.metadata=new wc(h.hasPendingWrites,h.fromCache),this.query=c}get docs(){const r=[];return this.forEach(a=>r.push(a)),r}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(r,a){this._snapshot.docs.forEach(c=>{r.call(a,new Wd(this._firestore,this._userDataWriter,c.key,c,new wc(this._snapshot.mutatedKeys.has(c.key),this._snapshot.fromCache),this.query.converter))})}docChanges(r={}){const a=!!r.includeMetadataChanges;if(a&&this._snapshot.excludesMetadataChanges)throw new C(b.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===a||(this._cachedChanges=function(c,h){if(c._snapshot.oldDocs.isEmpty()){let E=0;return c._snapshot.docChanges.map(A=>({type:"added",doc:new Wd(c._firestore,c._userDataWriter,A.doc.key,A.doc,new wc(c._snapshot.mutatedKeys.has(A.doc.key),c._snapshot.fromCache),c.query.converter),oldIndex:-1,newIndex:E++}))}{let E=c._snapshot.oldDocs;return c._snapshot.docChanges.filter(A=>h||3!==A.type).map(A=>{const L=new Wd(c._firestore,c._userDataWriter,A.doc.key,A.doc,new wc(c._snapshot.mutatedKeys.has(A.doc.key),c._snapshot.fromCache),c.query.converter);let z=-1,ie=-1;return 0!==A.type&&(z=E.indexOf(A.doc.key),E=E.delete(A.doc.key)),1!==A.type&&(E=E.add(A.doc),ie=E.indexOf(A.doc.key)),{type:Eg(A.type),doc:L,oldIndex:z,newIndex:ie}})}}(this,a),this._cachedChangesIncludeMetadataChanges=a),this._cachedChanges}}function Eg(u){switch(u){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Lt()}}function bf(u,r){return u instanceof Fl&&r instanceof Fl?u._firestore===r._firestore&&u._key.isEqual(r._key)&&(null===u._document?null===r._document:u._document.isEqual(r._document))&&u._converter===r._converter:u instanceof Ll&&r instanceof Ll&&u._firestore===r._firestore&&uy(u.query,r.query)&&u.metadata.isEqual(r.metadata)&&u._snapshot.isEqual(r._snapshot)}function my(u){if(So(u)&&0===u.explicitOrderBy.length)throw new C(b.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class If{}function Cc(u,...r){for(const a of r)u=a._apply(u);return u}class JE extends If{constructor(r,a,c){super(),this.Ka=r,this.ja=a,this.Qa=c,this.type="where"}_apply(r){const a=kl(r.firestore),c=function(h,E,A,L,z,ie,ce){let be;if(z.isKeyField()){if("array-contains"===ie||"array-contains-any"===ie)throw new C(b.INVALID_ARGUMENT,`Invalid Query. You can't perform '${ie}' queries on FieldPath.documentId().`);if("in"===ie||"not-in"===ie){by(ce,ie);const ct=[];for(const Tt of ce)ct.push(Cy(L,h,Tt));be={arrayValue:{values:ct}}}else be=Cy(L,h,ce)}else"in"!==ie&&"not-in"!==ie&&"array-contains-any"!==ie||by(ce,ie),be=av(A,"where",ce,"in"===ie||"not-in"===ie);const Je=re.create(z,ie,be);return function(ct,Tt){if(Tt.v()){const Nn=Ao(ct);if(null!==Nn&&!Nn.isEqual(Tt.field))throw new C(b.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${Nn.toString()}' and '${Tt.field.toString()}'`);const yi=to(ct);null!==yi&&Iy(0,Tt.field,yi)}const rn=function(Nn,yi){for(const uo of Nn.filters)if(yi.indexOf(uo.op)>=0)return uo.op;return null}(ct,function(Nn){switch(Nn){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(Tt.op));if(null!==rn)throw new C(b.INVALID_ARGUMENT,rn===Tt.op?`Invalid query. You cannot use more than one '${Tt.op.toString()}' filter.`:`Invalid query. You cannot use '${Tt.op.toString()}' filters with '${rn.toString()}' filters.`)}(h,Je),Je}(r._query,0,a,r.firestore._databaseId,this.Ka,this.ja,this.Qa);return new As(r.firestore,r.converter,function(h,E){const A=h.filters.concat([E]);return new Fr(h.path,h.collectionGroup,h.explicitOrderBy.slice(),A,h.limit,h.limitType,h.startAt,h.endAt)}(r._query,c))}}class yy extends If{constructor(r,a){super(),this.Ka=r,this.Wa=a,this.type="orderBy"}_apply(r){const a=function(c,h,E){if(null!==c.startAt)throw new C(b.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==c.endAt)throw new C(b.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const A=new hr(h,E);return function(L,z){if(null===to(L)){const ie=Ao(L);null!==ie&&Iy(0,ie,z.field)}}(c,A),A}(r._query,this.Ka,this.Wa);return new As(r.firestore,r.converter,function(c,h){const E=c.explicitOrderBy.concat([h]);return new Fr(c.path,c.collectionGroup,E,c.filters.slice(),c.limit,c.limitType,c.startAt,c.endAt)}(r._query,a))}}class _y extends If{constructor(r,a,c){super(),this.type=r,this.Ga=a,this.za=c}_apply(r){return new As(r.firestore,r.converter,Bt(r._query,this.Ga,this.za))}}class wg extends If{constructor(r,a,c){super(),this.type=r,this.Ha=a,this.Ja=c}_apply(r){const a=wy(r,this.type,this.Ha,this.Ja);return new As(r.firestore,r.converter,(h=a,new Fr((c=r._query).path,c.collectionGroup,c.explicitOrderBy.slice(),c.filters.slice(),c.limit,c.limitType,h,c.endAt)));var c,h}}class qd extends If{constructor(r,a,c){super(),this.type=r,this.Ha=a,this.Ja=c}_apply(r){const a=wy(r,this.type,this.Ha,this.Ja);return new As(r.firestore,r.converter,(h=a,new Fr((c=r._query).path,c.collectionGroup,c.explicitOrderBy.slice(),c.filters.slice(),c.limit,c.limitType,c.startAt,h)));var c,h}}function wy(u,r,a,c){if(a[0]=(0,Ae.m9)(a[0]),a[0]instanceof Cf)return function(h,E,A,L,z){if(!L)throw new C(b.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${A}().`);const ie=[];for(const ce of ha(h))if(ce.field.isKeyField())ie.push(eo(E,L.key));else{const be=L.data.field(ce.field);if(gu(be))throw new C(b.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+ce.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===be){const Je=ce.field.canonicalString();throw new C(b.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${Je}' (used as the orderBy) does not exist.`)}ie.push(be)}return new On(ie,z)}(u._query,u.firestore._databaseId,r,a[0]._document,c);{const h=kl(u.firestore);return function(E,A,L,z,ie,ce){const be=E.explicitOrderBy;if(ie.length>be.length)throw new C(b.INVALID_ARGUMENT,`Too many arguments provided to ${z}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const Je=[];for(let ct=0;ct<ie.length;ct++){const Tt=ie[ct];if(be[ct].field.isKeyField()){if("string"!=typeof Tt)throw new C(b.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${z}(), but got a ${typeof Tt}`);if(!da(E)&&-1!==Tt.indexOf("/"))throw new C(b.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to ${z}() must be a plain document ID, but '${Tt}' contains a slash.`);const rn=E.path.child(er.fromString(Tt));if(!At.isDocumentKey(rn))throw new C(b.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to ${z}() must result in a valid document path, but '${rn}' is not because it contains an odd number of segments.`);const Nn=new At(rn);Je.push(eo(A,Nn))}else{const rn=av(L,z,Tt);Je.push(rn)}}return new On(Je,ce)}(u._query,u.firestore._databaseId,h,r,a,c)}}function Cy(u,r,a){if("string"==typeof(a=(0,Ae.m9)(a))){if(""===a)throw new C(b.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!da(r)&&-1!==a.indexOf("/"))throw new C(b.INVALID_ARGUMENT,`Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '${a}' contains a '/' character.`);const c=r.path.child(er.fromString(a));if(!At.isDocumentKey(c))throw new C(b.INVALID_ARGUMENT,`Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '${c}' is not because it has an odd number of segments (${c.length}).`);return eo(u,new At(c))}if(a instanceof Yr)return eo(u,a._key);throw new C(b.INVALID_ARGUMENT,`Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: ${og(a)}.`)}function by(u,r){if(!Array.isArray(u)||0===u.length)throw new C(b.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${r.toString()}' filters.`);if(u.length>10)throw new C(b.INVALID_ARGUMENT,`Invalid Query. '${r.toString()}' filters support a maximum of 10 elements in the value array.`)}function Iy(u,r,a){if(!a.isEqual(r))throw new C(b.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${r.toString()}' and so you must also use '${r.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${a.toString()}' instead.`)}class Cg{convertValue(r,a="none"){switch(Xs(r)){case 0:return null;case 1:return r.booleanValue;case 2:return hi(r.integerValue||r.doubleValue);case 3:return this.convertTimestamp(r.timestampValue);case 4:return this.convertServerTimestamp(r,a);case 5:return r.stringValue;case 6:return this.convertBytes(xa(r.bytesValue));case 7:return this.convertReference(r.referenceValue);case 8:return this.convertGeoPoint(r.geoPointValue);case 9:return this.convertArray(r.arrayValue,a);case 10:return this.convertObject(r.mapValue,a);default:throw Lt()}}convertObject(r,a){const c={};return ls(r.fields,(h,E)=>{c[h]=this.convertValue(E,a)}),c}convertGeoPoint(r){return new sl(hi(r.latitude),hi(r.longitude))}convertArray(r,a){return(r.values||[]).map(c=>this.convertValue(c,a))}convertServerTimestamp(r,a){switch(a){case"previous":const c=Xa(r);return null==c?null:this.convertValue(c,a);case"estimate":return this.convertTimestamp(mu(r));default:return null}}convertTimestamp(r){const a=ca(r);return new Zn(a.seconds,a.nanos)}convertDocumentKey(r,a){const c=er.fromString(r);un(nc(c));const h=new yc(c.get(1),c.get(3)),E=new At(c.popFirst(5));return h.isEqual(a)||Cr(`Document ${E} contains a document reference within a different database (${h.projectId}/${h.database}) which is not supported. It will be treated as a reference in the current database (${a.projectId}/${a.database}) instead.`),E}}function Kd(u,r,a){let c;return c=u?a&&(a.merge||a.mergeFields)?u.toFirestore(r,a):u.toFirestore(r):r,c}class fv extends Cg{constructor(r){super(),this.firestore=r}convertBytes(r){return new ko(r)}convertReference(r){const a=this.convertDocumentKey(r,this.firestore._databaseId);return new Yr(this.firestore,null,a)}}class bg{constructor(r,a){this._firestore=r,this._commitHandler=a,this._mutations=[],this._committed=!1,this._dataReader=kl(r)}set(r,a,c){this._verifyNotCommitted();const h=ol(r,this._firestore),E=Kd(h.converter,a,c),A=zd(this._dataReader,"WriteBatch.set",h._key,E,null!==h.converter,c);return this._mutations.push(A.toMutation(h._key,Ii.none())),this}update(r,a,c,...h){this._verifyNotCommitted();const E=ol(r,this._firestore);let A;return A="string"==typeof(a=(0,Ae.m9)(a))||a instanceof qo?gg(this._dataReader,"WriteBatch.update",E._key,a,c,h):vf(this._dataReader,"WriteBatch.update",E._key,a),this._mutations.push(A.toMutation(E._key,Ii.exists(!0))),this}delete(r){this._verifyNotCommitted();const a=ol(r,this._firestore);return this._mutations=this._mutations.concat(new Kl(a._key,Ii.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new C(b.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function ol(u,r){if((u=(0,Ae.m9)(u)).firestore!==r)throw new C(b.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return u}class ld extends Cg{constructor(r){super(),this.firestore=r}convertBytes(r){return new ko(r)}convertReference(r){const a=this.convertDocumentKey(r,this.firestore._databaseId);return new Yr(this.firestore,null,a)}}function Df(u,r,a){u=ar(u,Yr);const c=ar(u.firestore,mi),h=Kd(u.converter,r,a);return Yd(c,[zd(kl(c),"setDoc",u._key,h,null!==u.converter,a).toMutation(u._key,Ii.none())])}function Tf(u,r,a,...c){u=ar(u,Yr);const h=ar(u.firestore,mi),E=kl(h);let A;return A="string"==typeof(r=(0,Ae.m9)(r))||r instanceof qo?gg(E,"updateDoc",u._key,r,a,c):vf(E,"updateDoc",u._key,r),Yd(h,[A.toMutation(u._key,Ii.exists(!0))])}function Sf(u,...r){var a,c,h;u=(0,Ae.m9)(u);let E={includeMetadataChanges:!1},A=0;"object"!=typeof r[A]||lg(r[A])||(E=r[A],A++);const L={includeMetadataChanges:E.includeMetadataChanges};if(lg(r[A])){const be=r[A];r[A]=null===(a=be.next)||void 0===a?void 0:a.bind(be),r[A+1]=null===(c=be.error)||void 0===c?void 0:c.bind(be),r[A+2]=null===(h=be.complete)||void 0===h?void 0:h.bind(be)}let z,ie,ce;if(u instanceof Yr)ie=ar(u.firestore,mi),ce=Yn(u._key.path),z={next:be=>{r[A]&&r[A](Sg(ie,u,be))},error:r[A+1],complete:r[A+2]};else{const be=ar(u,As);ie=ar(be.firestore,mi),ce=be._query;const Je=new ld(ie);z={next:ct=>{r[A]&&r[A](new Ll(ie,Je,be,ct))},error:r[A+1],complete:r[A+2]},my(u._query)}return function(be,Je,ct,Tt){const rn=new ed(Tt),Nn=new Xh(Je,rn,ct);return be.asyncQueue.enqueueAndForget((0,we.Z)(function*(){return Mp(yield td(be),Nn)})),()=>{rn.Xo(),be.asyncQueue.enqueueAndForget((0,we.Z)(function*(){return Jh(yield td(be),Nn)}))}}(ds(ie),ce,L,z)}function Yd(u,r){return function(a,c){const h=new x;return a.asyncQueue.enqueueAndForget((0,we.Z)(function*(){return function(u,r,a){return Vd.apply(this,arguments)}(yield ff(a),c,h)})),h.promise}(ds(u),r)}function Sg(u,r,a){const c=a.docs.get(r._key),h=new ld(u);return new Fl(u,h,r._key,c,new wc(a.hasPendingWrites,a.fromCache),r.converter)}class Ty extends class{constructor(r,a){this._firestore=r,this._transaction=a,this._dataReader=kl(r)}get(r){const a=ol(r,this._firestore),c=new fv(this._firestore);return this._transaction.lookup([a._key]).then(h=>{if(!h||1!==h.length)return Lt();const E=h[0];if(E.isFoundDocument())return new Cf(this._firestore,c,E.key,E,a.converter);if(E.isNoDocument())return new Cf(this._firestore,c,a._key,null,a.converter);throw Lt()})}set(r,a,c){const h=ol(r,this._firestore),E=Kd(h.converter,a,c),A=zd(this._dataReader,"Transaction.set",h._key,E,null!==h.converter,c);return this._transaction.set(h._key,A),this}update(r,a,c,...h){const E=ol(r,this._firestore);let A;return A="string"==typeof(a=(0,Ae.m9)(a))||a instanceof qo?gg(this._dataReader,"Transaction.update",E._key,a,c,h):vf(this._dataReader,"Transaction.update",E._key,a),this._transaction.update(E._key,A),this}delete(r){const a=ol(r,this._firestore);return this._transaction.delete(a._key),this}}{constructor(r,a){super(r,a),this._firestore=r}get(r){const a=ol(r,this._firestore),c=new ld(this._firestore);return super.get(r).then(h=>new Fl(this._firestore,c,a._key,h._document,new wc(!1,!1),a.converter))}}function Af(u,r){if(void 0===r)return{merge:!1};if(void 0!==r.mergeFields&&void 0!==r.merge)throw new C("invalid-argument",`Invalid options passed to function ${u}(): You cannot specify both "merge" and "mergeFields".`);return r}function Nf(){if("undefined"==typeof Uint8Array)throw new C("unimplemented","Uint8Arrays are not available in this environment.")}function Rg(){if("undefined"==typeof atob)throw new C("unimplemented","Blobs are unavailable in Firestore in this environment.")}(function(u){ua=u})(We.SDK_VERSION),(0,We._registerComponent)(new Jt.wA("firestore",(u,{options:r})=>{const a=u.getProvider("app").getImmediate(),c=new mi(a,new Ee(u.getProvider("auth-internal")));return r=Object.assign({useFetchStreams:!0},r),c._setSettings(r),c},"PUBLIC")),(0,We.registerVersion)("@firebase/firestore","3.0.1",void 0);class Qd{constructor(r){this._delegate=r}static fromBase64String(r){return Rg(),new Qd(ko.fromBase64String(r))}static fromUint8Array(r){return Nf(),new Qd(ko.fromUint8Array(r))}toBase64(){return Rg(),this._delegate.toBase64()}toUint8Array(){return Nf(),this._delegate.toUint8Array()}isEqual(r){return this._delegate.isEqual(r._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function Mg(u){return function(u,r){if("object"!=typeof u||null===u)return!1;const a=u;for(const c of["next","error","complete"])if(c in a&&"function"==typeof a[c])return!0;return!1}(u)}class xy{enableIndexedDbPersistence(r,a){return function(u,r){vc(u=ar(u,mi));const a=ds(u),c=u._freezeSettings(),h=new ny;return rd(a,h,new Tr(h,c.cacheSizeBytes,null==r?void 0:r.forceOwnership))}(r._delegate,{forceOwnership:a})}enableMultiTabIndexedDbPersistence(r){return function(u){vc(u=ar(u,mi));const r=ds(u),a=u._freezeSettings(),c=new ny;return rd(r,c,new Zp(c,a.cacheSizeBytes))}(r._delegate)}clearIndexedDbPersistence(r){return function(u){if(u._initialized&&!u._terminated)throw new C(b.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const r=new x;return u._queue.enqueueAndForgetEvenWhileRestricted((0,we.Z)(function*(){try{yield(a=(0,we.Z)(function*(c){if(!xo.Pt())return Promise.resolve();const h=c+"main";yield xo.delete(h)}),function(c){return a.apply(this,arguments)})(Em(u._databaseId,u._persistenceKey)),r.resolve()}catch(a){r.reject(a)}var a})),r.promise}(r._delegate)}}class Rf{constructor(r,a,c){this._delegate=a,this._persistenceProvider=c,this.INTERNAL={delete:()=>this.terminate()},r instanceof yc||(this._appCompat=r)}get _databaseId(){return this._delegate._databaseId}settings(r){const a=this._delegate._getSettings();!r.merge&&a.host!==r.host&&$o("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),r.merge&&delete(r=Object.assign(Object.assign({},a),r)).merge,this._delegate._setSettings(r)}useEmulator(r,a,c={}){!function(u,r,a,c={}){var h;const E=(u=ar(u,Hd))._getSettings();if("firestore.googleapis.com"!==E.host&&E.host!==r&&$o("Host has been set in both settings() and useEmulator(), emulator host will be used"),u._setSettings(Object.assign(Object.assign({},E),{host:`${r}:${a}`,ssl:!1})),c.mockUserToken){let A,L;if("string"==typeof c.mockUserToken)A=c.mockUserToken,L=Mr.MOCK_USER;else{A=(0,Ae.Sg)(c.mockUserToken,null===(h=u._app)||void 0===h?void 0:h.options.projectId);const z=c.mockUserToken.sub||c.mockUserToken.user_id;if(!z)throw new C(b.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");L=new Mr(z)}u._credentials=new le(new H(A,L))}}(this._delegate,r,a,c)}enableNetwork(){return function(u){return function(u){return u.asyncQueue.enqueue((0,we.Z)(function*(){const r=yield tg(u),a=yield ng(u);return r.setNetworkEnabled(!0),function(c){const h=R(c);return h.Kr.delete(0),lc(h)}(a)}))}(ds(u=ar(u,mi)))}(this._delegate)}disableNetwork(){return function(u){return function(u){return u.asyncQueue.enqueue((0,we.Z)(function*(){const r=yield tg(u),a=yield ng(u);return r.setNetworkEnabled(!1),(c=(0,we.Z)(function*(h){const E=R(h);E.Kr.add(0),yield Ml(E),E.Wr.set("Offline")}),function(h){return c.apply(this,arguments)})(a);var c}))}(ds(u=ar(u,mi)))}(this._delegate)}enablePersistence(r){let a=!1,c=!1;return r&&(a=!!r.synchronizeTabs,c=!!r.experimentalForceOwningTab,Ha("synchronizeTabs",a,"experimentalForceOwningTab",c)),a?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,c)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function(u){return function(r){const a=new x;return r.asyncQueue.enqueueAndForget((0,we.Z)(function*(){return function(u,r){return of.apply(this,arguments)}(yield ff(r),a)})),a.promise}(ds(u=ar(u,mi)))}(this._delegate)}onSnapshotsInSync(r){return function(u,r){return function(u,r){const a=new ed(r);return u.asyncQueue.enqueueAndForget((0,we.Z)(function*(){return c=yield td(u),h=a,R(c).Zr.add(h),void h.next();var c,h})),()=>{a.Xo(),u.asyncQueue.enqueueAndForget((0,we.Z)(function*(){return c=yield td(u),h=a,void R(c).Zr.delete(h);var c,h}))}}(ds(u=ar(u,mi)),lg(r)?r:{next:r})}(this._delegate,r)}get app(){if(!this._appCompat)throw new C("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(r){try{return new bc(this,pf(this._delegate,r))}catch(a){throw oo(a,"collection()","Firestore.collection()")}}doc(r){try{return new _a(this,gf(this._delegate,r))}catch(a){throw oo(a,"doc()","Firestore.doc()")}}collectionGroup(r){try{return new ao(this,function(u,r){if(u=ar(u,Hd),oy("collectionGroup","collection id",r),r.indexOf("/")>=0)throw new C(b.INVALID_ARGUMENT,`Invalid collection ID '${r}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new As(u,null,(a=r,new Fr(er.emptyPath(),a)));var a}(this._delegate,r))}catch(a){throw oo(a,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(r){return function(u,r){return function(u,r){const a=new x;return u.asyncQueue.enqueueAndForget((0,we.Z)(function*(){const c=yield(h=u,Pl(h).then(E=>E.datastore));var h;new K_(u.asyncQueue,c,r,a).run()})),a.promise}(ds(u),a=>r(new Ty(u,a)))}(this._delegate,a=>r(new Og(this,a)))}batch(){return ds(this._delegate),new xg(new bg(this._delegate,r=>Yd(this._delegate,r)))}loadBundle(r){return function(u,r){const a=ds(u=ar(u,mi)),c=new mf;return function(u,r,a,c){const h=function(E,A){let L;return L="string"==typeof E?(new TextEncoder).encode(E):E,z=function(z,ie){if(z instanceof Uint8Array)return Du(z,void 0);if(z instanceof ArrayBuffer)return Du(new Uint8Array(z),void 0);if(z instanceof ReadableStream)return z.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(L),new Yp(z,A);var z}(a,Kh(r));u.asyncQueue.enqueueAndForget((0,we.Z)(function*(){!function(u,r,a){const c=R(u);var h;(h=(0,we.Z)(function*(E,A,L){try{const z=yield A.getMetadata();if(yield function(Je,ct){const Tt=R(Je),rn=ai(ct.createTime);return Tt.persistence.runTransaction("hasNewerBundle","readonly",Nn=>Tt.Je.getBundleMetadata(Nn,ct.id)).then(Nn=>!!Nn&&Nn.createTime.compareTo(rn)>=0)}(E.localStore,z))return yield A.close(),void L._completeWith((Je=z,{taskState:"Success",documentsLoaded:Je.totalDocuments,bytesLoaded:Je.totalBytes,totalDocuments:Je.totalDocuments,totalBytes:Je.totalBytes}));L._updateProgress(ef(z));const ie=new bu(z,E.localStore,A.N);let ce=yield A.Qo();for(;ce;){const Je=yield ie.fo(ce);Je&&L._updateProgress(Je),ce=yield A.Qo()}const be=yield ie.complete();yield Iu(E,be.Tn,void 0),yield function(Je,ct){const Tt=R(Je);return Tt.persistence.runTransaction("Save bundle","readwrite",rn=>Tt.Je.saveBundleMetadata(rn,ct))}(E.localStore,z),L._completeWith(be.progress)}catch(z){$o("SyncEngine",`Loading bundle failed with ${z}`),L._failWith(z)}var Je}),function(E,A,L){return h.apply(this,arguments)})(c,r,a).then(()=>{c.sharedClientState.notifyBundleLoaded()})}(yield ff(u),h,c)}))}(a,u._databaseId,r,c),c}(this._delegate,r)}namedQuery(r){return function(u,r){return function(u,r){return u.asyncQueue.enqueue((0,we.Z)(function*(){return function(a,c){const h=R(a);return h.persistence.runTransaction("Get named query","readonly",E=>h.Je.getNamedQuery(E,c))}(yield hf(u),r)}))}(ds(u=ar(u,mi)),r).then(a=>a?new As(u,null,a.query):null)}(this._delegate,r).then(a=>a?new ao(this,a):null)}}class Jd extends Cg{constructor(r){super(),this.firestore=r}convertBytes(r){return new Qd(new ko(r))}convertReference(r){const a=this.convertDocumentKey(r,this.firestore._databaseId);return _a.forKey(a,this.firestore,null)}}class Og{constructor(r,a){this._firestore=r,this._delegate=a,this._userDataWriter=new Jd(r)}get(r){const a=Ic(r);return this._delegate.get(a).then(c=>new Xd(this._firestore,new Fl(this._firestore._delegate,this._userDataWriter,c._key,c._document,c.metadata,a.converter)))}set(r,a,c){const h=Ic(r);return c?(Af("Transaction.set",c),this._delegate.set(h,a,c)):this._delegate.set(h,a),this}update(r,a,c,...h){const E=Ic(r);return 2===arguments.length?this._delegate.update(E,a):this._delegate.update(E,a,c,...h),this}delete(r){const a=Ic(r);return this._delegate.delete(a),this}}class xg{constructor(r){this._delegate=r}set(r,a,c){const h=Ic(r);return c?(Af("WriteBatch.set",c),this._delegate.set(h,a,c)):this._delegate.set(h,a),this}update(r,a,c,...h){const E=Ic(r);return 2===arguments.length?this._delegate.update(E,a):this._delegate.update(E,a,c,...h),this}delete(r){const a=Ic(r);return this._delegate.delete(a),this}commit(){return this._delegate.commit()}}class Vl{constructor(r,a,c){this._firestore=r,this._userDataWriter=a,this._delegate=c}fromFirestore(r,a){const c=new Wd(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,null);return this._delegate.fromFirestore(new eh(this._firestore,c),null!=a?a:{})}toFirestore(r,a){return a?this._delegate.toFirestore(r,a):this._delegate.toFirestore(r)}static getInstance(r,a){const c=Vl.INSTANCES;let h=c.get(r);h||(h=new WeakMap,c.set(r,h));let E=h.get(a);return E||(E=new Vl(r,new Jd(r),a),h.set(a,E)),E}}Vl.INSTANCES=new WeakMap;class _a{constructor(r,a){this.firestore=r,this._delegate=a,this._userDataWriter=new Jd(r)}static forPath(r,a,c){if(r.length%2!=0)throw new C("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${r.canonicalString()} has ${r.length}`);return new _a(a,new Yr(a._delegate,c,new At(r)))}static forKey(r,a,c){return new _a(a,new Yr(a._delegate,c,r))}get id(){return this._delegate.id}get parent(){return new bc(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(r){try{return new bc(this.firestore,pf(this._delegate,r))}catch(a){throw oo(a,"collection()","DocumentReference.collection()")}}isEqual(r){return(r=(0,Ae.m9)(r))instanceof Yr&&ay(this._delegate,r)}set(r,a){a=Af("DocumentReference.set",a);try{return a?Df(this._delegate,r,a):Df(this._delegate,r)}catch(c){throw oo(c,"setDoc()","DocumentReference.set()")}}update(r,a,...c){try{return 1===arguments.length?Tf(this._delegate,r):Tf(this._delegate,r,a,...c)}catch(h){throw oo(h,"updateDoc()","DocumentReference.update()")}}delete(){return function(u){return Yd(ar(u.firestore,mi),[new Kl(u._key,Ii.none())])}(this._delegate)}onSnapshot(...r){const a=Pg(r),c=Ev(r,h=>new Xd(this.firestore,new Fl(this.firestore._delegate,this._userDataWriter,h._key,h._document,h.metadata,this._delegate.converter)));return Sf(this._delegate,a,c)}get(r){let a;return a="cache"===(null==r?void 0:r.source)?function(u){u=ar(u,Yr);const r=ar(u.firestore,mi),a=ds(r),c=new ld(r);return function(u,r){const a=new x;return u.asyncQueue.enqueueAndForget((0,we.Z)(function*(){return(c=(0,we.Z)(function*(h,E,A){try{const L=yield function(z,ie){const ce=R(z);return ce.persistence.runTransaction("read document","readonly",be=>ce.Qn.An(be,ie))}(h,E);L.isFoundDocument()?A.resolve(L):L.isNoDocument()?A.resolve(null):A.reject(new C(b.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(L){const z=pc(L,`Failed to get document '${E} from cache`);A.reject(z)}}),function(h,E,A){return c.apply(this,arguments)})(yield hf(u),r,a);var c})),a.promise}(a,u._key).then(h=>new Fl(r,c,u._key,h,new wc(null!==h&&h.hasLocalMutations,!0),u.converter))}(this._delegate):"server"===(null==r?void 0:r.source)?function(u){u=ar(u,Yr);const r=ar(u.firestore,mi);return J_(ds(r),u._key,{source:"server"}).then(a=>Sg(r,u,a))}(this._delegate):function(u){u=ar(u,Yr);const r=ar(u.firestore,mi);return J_(ds(r),u._key).then(a=>Sg(r,u,a))}(this._delegate),a.then(c=>new Xd(this.firestore,new Fl(this.firestore._delegate,this._userDataWriter,c._key,c._document,c.metadata,this._delegate.converter)))}withConverter(r){return new _a(this.firestore,this._delegate.withConverter(r?Vl.getInstance(this.firestore,r):null))}}function oo(u,r,a){return u.message=u.message.replace(r,a),u}function Pg(u){for(const r of u)if("object"==typeof r&&!Mg(r))return r;return{}}function Ev(u,r){var a,c;let h;return h=Mg(u[0])?u[0]:Mg(u[1])?u[1]:"function"==typeof u[0]?{next:u[0],error:u[1],complete:u[2]}:{next:u[1],error:u[2],complete:u[3]},{next:E=>{h.next&&h.next(r(E))},error:null===(a=h.error)||void 0===a?void 0:a.bind(h),complete:null===(c=h.complete)||void 0===c?void 0:c.bind(h)}}class Xd{constructor(r,a){this._firestore=r,this._delegate=a}get ref(){return new _a(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(r){return this._delegate.data(r)}get(r,a){return this._delegate.get(r,a)}isEqual(r){return bf(this._delegate,r._delegate)}}class eh extends Xd{data(r){const a=this._delegate.data(r);return function(u,r){u||Lt()}(void 0!==a),a}}class ao{constructor(r,a){this.firestore=r,this._delegate=a,this._userDataWriter=new Jd(r)}where(r,a,c){try{return new ao(this.firestore,Cc(this._delegate,function(u,r,a){const c=r,h=vg("where",u);return new JE(h,c,a)}(r,a,c)))}catch(h){throw oo(h,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(r,a){try{return new ao(this.firestore,Cc(this._delegate,function(u,r="asc"){const a=r,c=vg("orderBy",u);return new yy(c,a)}(r,a)))}catch(c){throw oo(c,/(orderBy|where)\(\)/,"Query.$1()")}}limit(r){try{return new ao(this.firestore,Cc(this._delegate,function(u){return ag("limit",u),new _y("limit",u,"F")}(r)))}catch(a){throw oo(a,"limit()","Query.limit()")}}limitToLast(r){try{return new ao(this.firestore,Cc(this._delegate,function(u){return ag("limitToLast",u),new _y("limitToLast",u,"L")}(r)))}catch(a){throw oo(a,"limitToLast()","Query.limitToLast()")}}startAt(...r){try{return new ao(this.firestore,Cc(this._delegate,function(...u){return new wg("startAt",u,!0)}(...r)))}catch(a){throw oo(a,"startAt()","Query.startAt()")}}startAfter(...r){try{return new ao(this.firestore,Cc(this._delegate,function(...u){return new wg("startAfter",u,!1)}(...r)))}catch(a){throw oo(a,"startAfter()","Query.startAfter()")}}endBefore(...r){try{return new ao(this.firestore,Cc(this._delegate,function(...u){return new qd("endBefore",u,!0)}(...r)))}catch(a){throw oo(a,"endBefore()","Query.endBefore()")}}endAt(...r){try{return new ao(this.firestore,Cc(this._delegate,function(...u){return new qd("endAt",u,!1)}(...r)))}catch(a){throw oo(a,"endAt()","Query.endAt()")}}isEqual(r){return uy(this._delegate,r._delegate)}get(r){let a;return a="cache"===(null==r?void 0:r.source)?function(u){u=ar(u,As);const r=ar(u.firestore,mi),a=ds(r),c=new ld(r);return function(u,r){const a=new x;return u.asyncQueue.enqueueAndForget((0,we.Z)(function*(){return(c=(0,we.Z)(function*(h,E,A){try{const L=yield In(h,E,!0),z=new V_(E,L.Gn),ie=z.Io(L.documents),ce=z.applyChanges(ie,!1);A.resolve(ce.snapshot)}catch(L){const z=pc(L,`Failed to execute query '${E} against cache`);A.reject(z)}}),function(h,E,A){return c.apply(this,arguments)})(yield hf(u),r,a);var c})),a.promise}(a,u._query).then(h=>new Ll(r,c,u,h))}(this._delegate):"server"===(null==r?void 0:r.source)?function(u){u=ar(u,As);const r=ar(u.firestore,mi),a=ds(r),c=new ld(r);return sy(a,u._query,{source:"server"}).then(h=>new Ll(r,c,u,h))}(this._delegate):function(u){u=ar(u,As);const r=ar(u.firestore,mi),a=ds(r),c=new ld(r);return my(u._query),sy(a,u._query).then(h=>new Ll(r,c,u,h))}(this._delegate),a.then(c=>new Li(this.firestore,new Ll(this.firestore._delegate,this._userDataWriter,this._delegate,c._snapshot)))}onSnapshot(...r){const a=Pg(r),c=Ev(r,h=>new Li(this.firestore,new Ll(this.firestore._delegate,this._userDataWriter,this._delegate,h._snapshot)));return Sf(this._delegate,a,c)}withConverter(r){return new ao(this.firestore,this._delegate.withConverter(r?Vl.getInstance(this.firestore,r):null))}}class wv{constructor(r,a){this._firestore=r,this._delegate=a}get type(){return this._delegate.type}get doc(){return new eh(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class Li{constructor(r,a){this._firestore=r,this._delegate=a}get query(){return new ao(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(r=>new eh(this._firestore,r))}docChanges(r){return this._delegate.docChanges(r).map(a=>new wv(this._firestore,a))}forEach(r,a){this._delegate.forEach(c=>{r.call(a,new eh(this._firestore,c))})}isEqual(r){return bf(this._delegate,r._delegate)}}class bc extends ao{constructor(r,a){super(r,a),this.firestore=r,this._delegate=a}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const r=this._delegate.parent;return r?new _a(this.firestore,r):null}doc(r){try{return new _a(this.firestore,void 0===r?gf(this._delegate):gf(this._delegate,r))}catch(a){throw oo(a,"doc()","CollectionReference.doc()")}}add(r){return function(u,r){const a=ar(u.firestore,mi),c=gf(u),h=Kd(u.converter,r);return Yd(a,[zd(kl(u.firestore),"addDoc",c._key,h,null!==u.converter,{}).toMutation(c._key,Ii.exists(!1))]).then(()=>c)}(this._delegate,r).then(a=>new _a(this.firestore,a))}isEqual(r){return ay(this._delegate,r._delegate)}withConverter(r){return new bc(this.firestore,this._delegate.withConverter(r?Vl.getInstance(this.firestore,r):null))}}function Ic(u){return ar(u,Yr)}class kg{constructor(...r){this._delegate=new qo(...r)}static documentId(){return new kg(Gn.keyField().canonicalString())}isEqual(r){return(r=(0,Ae.m9)(r))instanceof qo&&this._delegate._internalPath.isEqual(r._internalPath)}}class Ul{constructor(r){this._delegate=r}static serverTimestamp(){const r=new pg("serverTimestamp");return r._methodName="FieldValue.serverTimestamp",new Ul(r)}static delete(){const r=new ad("deleteField");return r._methodName="FieldValue.delete",new Ul(r)}static arrayUnion(...r){const a=function(...u){return new fy("arrayUnion",u)}(...r);return a._methodName="FieldValue.arrayUnion",new Ul(a)}static arrayRemove(...r){const a=function(...u){return new sv("arrayRemove",u)}(...r);return a._methodName="FieldValue.arrayRemove",new Ul(a)}static increment(r){const a=function(u){return new ov("increment",u)}(r);return a._methodName="FieldValue.increment",new Ul(a)}isEqual(r){return this._delegate.isEqual(r._delegate)}}const Cv={Firestore:Rf,GeoPoint:sl,Timestamp:Zn,Blob:Qd,Transaction:Og,WriteBatch:xg,DocumentReference:_a,DocumentSnapshot:Xd,Query:ao,QueryDocumentSnapshot:eh,QuerySnapshot:Li,CollectionReference:bc,FieldPath:kg,FieldValue:Ul,setLogLevel:function(u){!function(u){kr.setLogLevel(u)}(u)},CACHE_SIZE_UNLIMITED:-1};!function(u){(function(u,r){u.INTERNAL.registerComponent(new Jt.wA("firestore-compat",a=>((r,a)=>new Rf(r,a,new xy))(a.getProvider("app-compat").getImmediate(),a.getProvider("firestore").getImmediate()),"PUBLIC").setServiceProps(Object.assign({},Cv)))})(u),u.registerVersion("@firebase/firestore-compat","0.1.1")}(Qe.Z);var va=W(8006);function Ly(u,r){return function(u,r=U.z){return new oe.y(a=>{let c;return null!=r?r.schedule(()=>{c=u.onSnapshot({includeMetadataChanges:!0},a)}):c=u.onSnapshot({includeMetadataChanges:!0},a),()=>{null!=c&&c()}})}(u,r)}function Fg(u,r){return Ly(u,r).pipe((0,Ge.U)(a=>({payload:a,type:"query"})))}function th(u,r){return Fg(u,r).pipe((0,Te.O)(void 0),Ce(),(0,Ge.U)(([a,c])=>{const h=c.payload.docChanges(),E=h.map(A=>({type:A.type,payload:A}));return a&&JSON.stringify(a.payload.metadata)!==JSON.stringify(c.payload.metadata)&&c.payload.docs.forEach((A,L)=>{const z=h.find(ce=>ce.doc.ref.isEqual(A.ref)),ie=null==a?void 0:a.payload.docs.find(ce=>ce.ref.isEqual(A.ref));z&&JSON.stringify(z.doc.metadata)===JSON.stringify(A.metadata)||!z&&ie&&JSON.stringify(ie.metadata)===JSON.stringify(A.metadata)||E.push({type:"modified",payload:{oldIndex:L,newIndex:L,type:"modified",doc:A}})}),E}))}function Iv(u,r,a){return th(u,a).pipe((0,xe.R)((c,h)=>function(u,r,a){return r.forEach(c=>{a.indexOf(c.type)>-1&&(u=function(u,r){switch(r.type){case"added":if(!u[r.newIndex]||!u[r.newIndex].doc.ref.isEqual(r.doc.ref))return nh(u,r.newIndex,0,r);break;case"modified":if(null==u[r.oldIndex]||u[r.oldIndex].doc.ref.isEqual(r.doc.ref)){if(r.oldIndex!==r.newIndex){const a=u.slice();return a.splice(r.oldIndex,1),a.splice(r.newIndex,0,r),a}return nh(u,r.newIndex,1,r)}break;case"removed":if(u[r.oldIndex]&&u[r.oldIndex].doc.ref.isEqual(r.doc.ref))return nh(u,r.oldIndex,1)}return u}(u,c))}),u}(c,h.map(E=>E.payload),r),[]),a=>a.lift(new pe(void 0,void 0)),(0,Ge.U)(c=>c.map(h=>({type:h.type,payload:h}))))}function nh(u,r,a,...c){const h=u.slice();return h.splice(r,a,...c),h}function By(u){return(!u||0===u.length)&&(u=["added","removed","modified"]),u}class jy{constructor(r,a,c){this.ref=r,this.query=a,this.afs=c}stateChanges(r){let a=th(this.query,this.afs.schedulers.outsideAngular);return r&&r.length>0&&(a=a.pipe((0,Ge.U)(c=>c.filter(h=>r.indexOf(h.type)>-1)))),a.pipe((0,Te.O)(void 0),Ce(),(0,ke.h)(([c,h])=>h.length>0||!c),(0,Ge.U)(([c,h])=>h),ve.iC)}auditTrail(r){return this.stateChanges(r).pipe((0,xe.R)((a,c)=>[...a,...c],[]))}snapshotChanges(r){const a=By(r);return Iv(this.query,a,this.afs.schedulers.outsideAngular).pipe(ve.iC)}valueChanges(r={}){return Fg(this.query,this.afs.schedulers.outsideAngular).pipe((0,Ge.U)(a=>a.payload.docs.map(c=>r.idField?Object.assign(Object.assign({},c.data()),{[r.idField]:c.id}):c.data())),ve.iC)}get(r){return(0,Ie.D)(this.query.get(r)).pipe(ve.f6)}add(r){return this.ref.add(r)}doc(r){return new iu(this.ref.doc(r),this.afs)}}class iu{constructor(r,a){this.ref=r,this.afs=a}set(r,a){return this.ref.set(r,a)}update(r){return this.ref.update(r)}delete(){return this.ref.delete()}collection(r,a){const c=this.ref.collection(r),{ref:h,query:E}=$y(c,a);return new jy(h,E,this.afs)}snapshotChanges(){return function(u,r){return Ly(u,r).pipe((0,Te.O)(void 0),Ce(),(0,Ge.U)(([a,c])=>c.exists?(null==a?void 0:a.exists)?{payload:c,type:"modified"}:{payload:c,type:"added"}:{payload:c,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(ve.iC)}valueChanges(r={}){return this.snapshotChanges().pipe((0,Ge.U)(({payload:a})=>r.idField?Object.assign(Object.assign({},a.data()),{[r.idField]:a.id}):a.data()))}get(r){return(0,Ie.D)(this.ref.get(r)).pipe((0,it.QV)(this.afs.schedulers.insideAngular))}}class su{constructor(r,a){this.query=r,this.afs=a}stateChanges(r){return r&&0!==r.length?th(this.query,this.afs.schedulers.outsideAngular).pipe((0,Ge.U)(a=>a.filter(c=>r.indexOf(c.type)>-1)),(0,ke.h)(a=>a.length>0),ve.iC):th(this.query,this.afs.schedulers.outsideAngular).pipe(ve.iC)}auditTrail(r){return this.stateChanges(r).pipe((0,xe.R)((a,c)=>[...a,...c],[]))}snapshotChanges(r){const a=By(r);return Iv(this.query,a,this.afs.schedulers.outsideAngular).pipe(ve.iC)}valueChanges(r={}){return Fg(this.query,this.afs.schedulers.outsideAngular).pipe((0,Ge.U)(c=>c.payload.docs.map(h=>r.idField?Object.assign({[r.idField]:h.id},h.data()):h.data())),ve.iC)}get(r){return(0,Ie.D)(this.query.get(r)).pipe(ve.f6)}}const za=new D.OlP("angularfire2.enableFirestorePersistence"),Lg=new D.OlP("angularfire2.firestore.persistenceSettings"),Hy=new D.OlP("angularfire2.firestore.settings"),Dv=new D.OlP("angularfire2.firestore.use-emulator");function $y(u,r=(a=>a)){return{query:r(u),ref:u}}let Gy=(()=>{class u{constructor(a,c,h,E,A,L,z,ie,ce,be,Je,ct,Tt,rn,Nn,yi){this.schedulers=z;const uo=(0,Ye.on)(a,L,c),Ru=ce;be&&(0,va.nw)(uo,L,Je,Tt,rn,Nn,ct,yi),[this.firestore,this.persistenceEnabled$]=(0,ve.cc)(`${uo.name}.firestore`,"AngularFirestore",uo.name,()=>{const Wa=L.runOutsideAngular(()=>uo.firestore());if(E&&Wa.settings(E),Ru&&Wa.useEmulator(...Ru),h&&!(0,lt.PM)(A)){const rh=()=>{try{return(0,Ie.D)(Wa.enablePersistence(ie||void 0).then(()=>!0,()=>!1))}catch(Mf){return"undefined"!=typeof console&&console.warn(Mf),(0,Re.of)(!1)}};return[Wa,L.runOutsideAngular(rh)]}return[Wa,(0,Re.of)(!1)]},[E,Ru,h])}collection(a,c){let h;h="string"==typeof a?this.firestore.collection(a):a;const{ref:E,query:A}=$y(h,c),L=this.schedulers.ngZone.run(()=>E);return new jy(L,A,this)}collectionGroup(a,c){const h=c||(A=>A),E=this.firestore.collectionGroup(a);return new su(h(E),this)}doc(a){let c;c="string"==typeof a?this.firestore.doc(a):a;const h=this.schedulers.ngZone.run(()=>c);return new iu(h,this)}createId(){return this.firestore.collection("_").doc().id}}return u.\u0275fac=function(a){return new(a||u)(D.LFG(Ye.Dh),D.LFG(Ye.xv,8),D.LFG(za,8),D.LFG(Hy,8),D.LFG(D.Lbi),D.LFG(D.R0b),D.LFG(ve.HU),D.LFG(Lg,8),D.LFG(Dv,8),D.LFG(va.zQ,8),D.LFG(va.Qv,8),D.LFG(va.L6,8),D.LFG(va._Q,8),D.LFG(va.rT,8),D.LFG(va.lh,8),D.LFG(va.f7,8))},u.\u0275prov=D.Yz7({token:u,factory:u.\u0275fac,providedIn:"any"}),u})(),Tv=(()=>{class u{static enablePersistence(a){return{ngModule:u,providers:[{provide:za,useValue:!0},{provide:Lg,useValue:a}]}}}return u.\u0275fac=function(a){return new(a||u)},u.\u0275mod=D.oAB({type:u}),u.\u0275inj=D.cJS({providers:[Gy]}),u})()},9958:(Mt,Ke,W)=>{"use strict";W.d(Ke,{hO:()=>Ge,xv:()=>ae,Dh:()=>ne,GT:()=>Ce,on:()=>pe,pX:()=>Ue});var D=W(3018),U=W(4486);U.Z.registerVersion("firebase","9.0.1","app-compat");var Re=W(9126);Mt=W.hmd(Mt);const ve=["ngOnDestroy"],Ue=(xe,ke,it,Ye={})=>new Proxy(xe,{get:(lt,dt)=>it.runOutsideAngular(()=>{var Qe;if(xe[dt])return(null===(Qe=null==Ye?void 0:Ye.spy)||void 0===Qe?void 0:Qe.get)&&Ye.spy.get(dt,xe[dt]),xe[dt];if(ve.indexOf(dt)>-1)return()=>{};const we=ke.toPromise().then(We=>{const Jt=We&&We[dt];return"function"==typeof Jt?Jt.bind(We):Jt&&Jt.then?Jt.then(Ct=>it.run(()=>Ct)):it.run(()=>Jt)});return new Proxy(()=>{},{get:(We,Jt)=>we[Jt],apply:(We,Jt,Ct)=>we.then(Ae=>{var Le;const Be=Ae&&Ae(...Ct);return(null===(Le=null==Ye?void 0:Ye.spy)||void 0===Le?void 0:Le.apply)&&Ye.spy.apply(dt,Ct,Be),Be})})})}),Ce=(xe,ke)=>{ke.forEach(it=>{Object.getOwnPropertyNames(it.prototype||it).forEach(Ye=>{Object.defineProperty(xe.prototype,Ye,Object.getOwnPropertyDescriptor(it.prototype||it,Ye))})})};class fe{constructor(ke){return ke}}const ne=new D.OlP("angularfire2.app.options"),ae=new D.OlP("angularfire2.app.name");function pe(xe,ke,it){const lt="object"==typeof it&&it||{};lt.name=lt.name||"string"==typeof it&&it||"[DEFAULT]";const Qe=U.Z.apps.filter(we=>we&&we.name===lt.name)[0]||ke.runOutsideAngular(()=>U.Z.initializeApp(xe,lt));try{JSON.stringify(xe)!==JSON.stringify(Qe.options)&&de("error",`${Qe.name} Firebase App already initialized with different options${Mt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(we){}return new fe(Qe)}const de=(xe,...ke)=>{(0,D.X6Q)()&&"undefined"!=typeof console&&console[xe](...ke)},Te={provide:fe,useFactory:pe,deps:[ne,D.R0b,[new D.FiY,ae]]};let Ge=(()=>{class xe{constructor(it){U.Z.registerVersion("angularfire",Re.q4.full,`compat-${it.toString()}`),U.Z.registerVersion("angular",D.q4F.full)}static initializeApp(it,Ye){return{ngModule:xe,providers:[{provide:ne,useValue:it},{provide:ae,useValue:Ye}]}}}return xe.\u0275fac=function(it){return new(it||xe)(D.LFG(D.Lbi))},xe.\u0275mod=D.oAB({type:xe}),xe.\u0275inj=D.cJS({providers:[Te]}),xe})()},9126:(Mt,Ke,W)=>{"use strict";W.d(Ke,{q4:()=>ne,iC:()=>Ae,f6:()=>Ct,HU:()=>dt,cc:()=>de});var D=W(3018);(0,W(5452).registerVersion)("firebase","9.0.1","app");var Re=W(7771),ve=W(3637),Ue=W(3342),Ce=W(309),fe=W(3101);Mt=W.hmd(Mt);const ne=new D.GfV("7.0.1"),ae=!!Mt.hot,pe=(He,...ue)=>{(0,D.X6Q)()&&"undefined"!=typeof console&&console[He](...ue)};function de(He,ue,at,ut,St){const[,ft,It]=globalThis.\u0275AngularfireInstanceCache.find(en=>en[0]===He)||[];if(ft)return function(He,ue){try{return He.toString()===ue.toString()}catch(at){return He===ue}}(St,It)||(pe("error",`${ue} was already initialized on the ${at} Firebase App with different settings.${ae?" You may need to reload as Firebase is not HMR aware.":""}`),pe("warn",{is:St,was:It})),ft;{const en=ut();return globalThis.\u0275AngularfireInstanceCache.push([He,en,St]),en}}function it(){}globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[]);class Ye{constructor(ue,at=Re.N){this.zone=ue,this.delegate=at}now(){return this.delegate.now()}schedule(ue,at,ut){const St=this.zone;return this.delegate.schedule(function(It){St.runGuarded(()=>{ue.apply(this,[It])})},at,ut)}}class lt{constructor(ue){this.zone=ue,this.task=null}call(ue,at){const ut=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",it,{},it,it)),at.pipe((0,Ue.b)({next:ut,complete:ut,error:ut})).subscribe(ue).add(ut)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let dt=(()=>{class He{constructor(at){this.ngZone=at,this.outsideAngular=at.runOutsideAngular(()=>new Ye(Zone.current)),this.insideAngular=at.run(()=>new Ye(Zone.current,ve.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return He.\u0275fac=function(at){return new(at||He)(D.LFG(D.R0b))},He.\u0275prov=D.Yz7({token:He,factory:He.\u0275fac,providedIn:"root"}),He})();function Qe(){const He=globalThis.\u0275AngularFireScheduler;if(!He)throw new Error("AngularFireModule has not been provided");return He}function Ct(He){return He.pipe((0,Ce.QV)(Qe().insideAngular))}function Ae(He){return Qe(),function(He){return function(at){return(at=at.lift(new lt(He.ngZone))).pipe((0,fe.R)(He.outsideAngular),(0,Ce.QV)(He.insideAngular))}}(Qe())(He)}},665:(Mt,Ke,W)=>{"use strict";W.d(Ke,{Fj:()=>it,u5:()=>Kr,JJ:()=>Ur,JL:()=>Fe,F:()=>Ui,On:()=>Hn,wV:()=>Un,Q7:()=>Es,_Y:()=>mn});var D=W(3018),U=W(8583),oe=W(7574),Ie=W(9796),Re=W(8002),ve=W(1555),Ue=W(4402);function fe(j,F){return new oe.y(O=>{const Y=j.length;if(0===Y)return void O.complete();const $e=new Array(Y);let Vt=0,k=0;for(let q=0;q<Y;q++){const V=(0,Ue.D)(j[q]);let Q=!1;O.add(V.subscribe({next:me=>{Q||(Q=!0,k++),$e[q]=me},error:me=>O.error(me),complete:()=>{Vt++,(Vt===Y||!Q)&&(k===Y&&O.next(F?F.reduce((me,Pe,st)=>(me[Pe]=$e[st],me),{}):$e),O.complete())}}))}})}let ne=(()=>{class j{constructor(O,Y){this._renderer=O,this._elementRef=Y,this.onChange=$e=>{},this.onTouched=()=>{}}setProperty(O,Y){this._renderer.setProperty(this._elementRef.nativeElement,O,Y)}registerOnTouched(O){this.onTouched=O}registerOnChange(O){this.onChange=O}setDisabledState(O){this.setProperty("disabled",O)}}return j.\u0275fac=function(O){return new(O||j)(D.Y36(D.Qsj),D.Y36(D.SBq))},j.\u0275dir=D.lG2({type:j}),j})(),ae=(()=>{class j extends ne{}return j.\u0275fac=function(){let F;return function(Y){return(F||(F=D.n5z(j)))(Y||j)}}(),j.\u0275dir=D.lG2({type:j,features:[D.qOj]}),j})();const pe=new D.OlP("NgValueAccessor"),Ge={provide:pe,useExisting:(0,D.Gpc)(()=>it),multi:!0},ke=new D.OlP("CompositionEventMode");let it=(()=>{class j extends ne{constructor(O,Y,$e){super(O,Y),this._compositionMode=$e,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const j=(0,U.q)()?(0,U.q)().getUserAgent():"";return/android (\d+)/.test(j.toLowerCase())}())}writeValue(O){this.setProperty("value",null==O?"":O)}_handleInput(O){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(O)}_compositionStart(){this._composing=!0}_compositionEnd(O){this._composing=!1,this._compositionMode&&this.onChange(O)}}return j.\u0275fac=function(O){return new(O||j)(D.Y36(D.Qsj),D.Y36(D.SBq),D.Y36(ke,8))},j.\u0275dir=D.lG2({type:j,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(O,Y){1&O&&D.NdJ("input",function(Vt){return Y._handleInput(Vt.target.value)})("blur",function(){return Y.onTouched()})("compositionstart",function(){return Y._compositionStart()})("compositionend",function(Vt){return Y._compositionEnd(Vt.target.value)})},features:[D._Bn([Ge]),D.qOj]}),j})();const dt=new D.OlP("NgValidators"),Qe=new D.OlP("NgAsyncValidators");function ut(j){return null!=j}function St(j){const F=(0,D.QGY)(j)?(0,Ue.D)(j):j;return(0,D.CqO)(F),F}function ft(j){let F={};return j.forEach(O=>{F=null!=O?Object.assign(Object.assign({},F),O):F}),0===Object.keys(F).length?null:F}function It(j,F){return F.map(O=>O(j))}function tn(j){return j.map(F=>function(j){return!j.validate}(F)?F:O=>F.validate(O))}function jt(j){return null!=j?function(j){if(!j)return null;const F=j.filter(ut);return 0==F.length?null:function(O){return ft(It(O,F))}}(tn(j)):null}function mt(j){return null!=j?function(j){if(!j)return null;const F=j.filter(ut);return 0==F.length?null:function(O){return function(...j){if(1===j.length){const F=j[0];if((0,Ie.k)(F))return fe(F,null);if((0,ve.K)(F)&&Object.getPrototypeOf(F)===Object.prototype){const O=Object.keys(F);return fe(O.map(Y=>F[Y]),O)}}if("function"==typeof j[j.length-1]){const F=j.pop();return fe(j=1===j.length&&(0,Ie.k)(j[0])?j[0]:j,null).pipe((0,Re.U)(O=>F(...O)))}return fe(j,null)}(It(O,F).map(St)).pipe((0,Re.U)(ft))}}(tn(j)):null}function Vn(j,F){return null===j?[F]:Array.isArray(j)?[...j,F]:[j,F]}function wn(j){return j?Array.isArray(j)?j:[j]:[]}function Vr(j,F){return Array.isArray(j)?j.includes(F):j===F}function ir(j,F){const O=wn(F);return wn(j).forEach($e=>{Vr(O,$e)||O.push($e)}),O}function dn(j,F){return wn(F).filter(O=>!Vr(j,O))}let Kn=(()=>{class j{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(O){this._rawValidators=O||[],this._composedValidatorFn=jt(this._rawValidators)}_setAsyncValidators(O){this._rawAsyncValidators=O||[],this._composedAsyncValidatorFn=mt(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(O){this._onDestroyCallbacks.push(O)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(O=>O()),this._onDestroyCallbacks=[]}reset(O){this.control&&this.control.reset(O)}hasError(O,Y){return!!this.control&&this.control.hasError(O,Y)}getError(O,Y){return this.control?this.control.getError(O,Y):null}}return j.\u0275fac=function(O){return new(O||j)},j.\u0275dir=D.lG2({type:j}),j})(),Qn=(()=>{class j extends Kn{get formDirective(){return null}get path(){return null}}return j.\u0275fac=function(){let F;return function(Y){return(F||(F=D.n5z(j)))(Y||j)}}(),j.\u0275dir=D.lG2({type:j,features:[D.qOj]}),j})();class ur extends Kn{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class hn{constructor(F){this._cd=F}is(F){var O,Y,$e;return"submitted"===F?!!(null===(O=this._cd)||void 0===O?void 0:O.submitted):!!(null===($e=null===(Y=this._cd)||void 0===Y?void 0:Y.control)||void 0===$e?void 0:$e[F])}}let Ur=(()=>{class j extends hn{constructor(O){super(O)}}return j.\u0275fac=function(O){return new(O||j)(D.Y36(ur,2))},j.\u0275dir=D.lG2({type:j,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(O,Y){2&O&&D.ekj("ng-untouched",Y.is("untouched"))("ng-touched",Y.is("touched"))("ng-pristine",Y.is("pristine"))("ng-dirty",Y.is("dirty"))("ng-valid",Y.is("valid"))("ng-invalid",Y.is("invalid"))("ng-pending",Y.is("pending"))},features:[D.qOj]}),j})(),Fe=(()=>{class j extends hn{constructor(O){super(O)}}return j.\u0275fac=function(O){return new(O||j)(D.Y36(Qn,10))},j.\u0275dir=D.lG2({type:j,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(O,Y){2&O&&D.ekj("ng-untouched",Y.is("untouched"))("ng-touched",Y.is("touched"))("ng-pristine",Y.is("pristine"))("ng-dirty",Y.is("dirty"))("ng-valid",Y.is("valid"))("ng-invalid",Y.is("invalid"))("ng-pending",Y.is("pending"))("ng-submitted",Y.is("submitted"))},features:[D.qOj]}),j})();function Xe(j,F){Xt(j,F),F.valueAccessor.writeValue(j.value),function(j,F){F.valueAccessor.registerOnChange(O=>{j._pendingValue=O,j._pendingChange=!0,j._pendingDirty=!0,"change"===j.updateOn&&tr(j,F)})}(j,F),function(j,F){const O=(Y,$e)=>{F.valueAccessor.writeValue(Y),$e&&F.viewToModelUpdate(Y)};j.registerOnChange(O),F._registerOnDestroy(()=>{j._unregisterOnChange(O)})}(j,F),function(j,F){F.valueAccessor.registerOnTouched(()=>{j._pendingTouched=!0,"blur"===j.updateOn&&j._pendingChange&&tr(j,F),"submit"!==j.updateOn&&j.markAsTouched()})}(j,F),function(j,F){if(F.valueAccessor.setDisabledState){const O=Y=>{F.valueAccessor.setDisabledState(Y)};j.registerOnDisabledChange(O),F._registerOnDestroy(()=>{j._unregisterOnDisabledChange(O)})}}(j,F)}function gt(j,F){j.forEach(O=>{O.registerOnValidatorChange&&O.registerOnValidatorChange(F)})}function Xt(j,F){const O=function(j){return j._rawValidators}(j);null!==F.validator?j.setValidators(Vn(O,F.validator)):"function"==typeof O&&j.setValidators([O]);const Y=function(j){return j._rawAsyncValidators}(j);null!==F.asyncValidator?j.setAsyncValidators(Vn(Y,F.asyncValidator)):"function"==typeof Y&&j.setAsyncValidators([Y]);const $e=()=>j.updateValueAndValidity();gt(F._rawValidators,$e),gt(F._rawAsyncValidators,$e)}function tr(j,F){j._pendingDirty&&j.markAsDirty(),j.setValue(j._pendingValue,{emitModelToViewChange:!1}),F.viewToModelUpdate(j._pendingValue),j._pendingChange=!1}function _n(j,F){const O=j.indexOf(F);O>-1&&j.splice(O,1)}const fn="VALID",gr="INVALID",$t="PENDING",Rn="DISABLED";function ei(j){return(fs(j)?j.validators:j)||null}function Yo(j){return Array.isArray(j)?jt(j):j||null}function es(j,F){return(fs(F)?F.asyncValidators:j)||null}function Ns(j){return Array.isArray(j)?mt(j):j||null}function fs(j){return null!=j&&!Array.isArray(j)&&"object"==typeof j}class ui{constructor(F,O){this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=F,this._rawAsyncValidators=O,this._composedValidatorFn=Yo(this._rawValidators),this._composedAsyncValidatorFn=Ns(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(F){this._rawValidators=this._composedValidatorFn=F}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(F){this._rawAsyncValidators=this._composedAsyncValidatorFn=F}get parent(){return this._parent}get valid(){return this.status===fn}get invalid(){return this.status===gr}get pending(){return this.status==$t}get disabled(){return this.status===Rn}get enabled(){return this.status!==Rn}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(F){this._rawValidators=F,this._composedValidatorFn=Yo(F)}setAsyncValidators(F){this._rawAsyncValidators=F,this._composedAsyncValidatorFn=Ns(F)}addValidators(F){this.setValidators(ir(F,this._rawValidators))}addAsyncValidators(F){this.setAsyncValidators(ir(F,this._rawAsyncValidators))}removeValidators(F){this.setValidators(dn(F,this._rawValidators))}removeAsyncValidators(F){this.setAsyncValidators(dn(F,this._rawAsyncValidators))}hasValidator(F){return Vr(this._rawValidators,F)}hasAsyncValidator(F){return Vr(this._rawAsyncValidators,F)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(F={}){this.touched=!0,this._parent&&!F.onlySelf&&this._parent.markAsTouched(F)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(F=>F.markAllAsTouched())}markAsUntouched(F={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(O=>{O.markAsUntouched({onlySelf:!0})}),this._parent&&!F.onlySelf&&this._parent._updateTouched(F)}markAsDirty(F={}){this.pristine=!1,this._parent&&!F.onlySelf&&this._parent.markAsDirty(F)}markAsPristine(F={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(O=>{O.markAsPristine({onlySelf:!0})}),this._parent&&!F.onlySelf&&this._parent._updatePristine(F)}markAsPending(F={}){this.status=$t,!1!==F.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!F.onlySelf&&this._parent.markAsPending(F)}disable(F={}){const O=this._parentMarkedDirty(F.onlySelf);this.status=Rn,this.errors=null,this._forEachChild(Y=>{Y.disable(Object.assign(Object.assign({},F),{onlySelf:!0}))}),this._updateValue(),!1!==F.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},F),{skipPristineCheck:O})),this._onDisabledChange.forEach(Y=>Y(!0))}enable(F={}){const O=this._parentMarkedDirty(F.onlySelf);this.status=fn,this._forEachChild(Y=>{Y.enable(Object.assign(Object.assign({},F),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:F.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},F),{skipPristineCheck:O})),this._onDisabledChange.forEach(Y=>Y(!1))}_updateAncestors(F){this._parent&&!F.onlySelf&&(this._parent.updateValueAndValidity(F),F.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(F){this._parent=F}updateValueAndValidity(F={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===fn||this.status===$t)&&this._runAsyncValidator(F.emitEvent)),!1!==F.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!F.onlySelf&&this._parent.updateValueAndValidity(F)}_updateTreeValidity(F={emitEvent:!0}){this._forEachChild(O=>O._updateTreeValidity(F)),this.updateValueAndValidity({onlySelf:!0,emitEvent:F.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Rn:fn}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(F){if(this.asyncValidator){this.status=$t,this._hasOwnPendingAsyncValidator=!0;const O=St(this.asyncValidator(this));this._asyncValidationSubscription=O.subscribe(Y=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(Y,{emitEvent:F})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(F,O={}){this.errors=F,this._updateControlsErrors(!1!==O.emitEvent)}get(F){return function(j,F,O){if(null==F||(Array.isArray(F)||(F=F.split(".")),Array.isArray(F)&&0===F.length))return null;let Y=j;return F.forEach($e=>{Y=Y instanceof Di?Y.controls.hasOwnProperty($e)?Y.controls[$e]:null:Y instanceof Rs&&Y.at($e)||null}),Y}(this,F)}getError(F,O){const Y=O?this.get(O):this;return Y&&Y.errors?Y.errors[F]:null}hasError(F,O){return!!this.getError(F,O)}get root(){let F=this;for(;F._parent;)F=F._parent;return F}_updateControlsErrors(F){this.status=this._calculateStatus(),F&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(F)}_initObservables(){this.valueChanges=new D.vpe,this.statusChanges=new D.vpe}_calculateStatus(){return this._allControlsDisabled()?Rn:this.errors?gr:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus($t)?$t:this._anyControlsHaveStatus(gr)?gr:fn}_anyControlsHaveStatus(F){return this._anyControls(O=>O.status===F)}_anyControlsDirty(){return this._anyControls(F=>F.dirty)}_anyControlsTouched(){return this._anyControls(F=>F.touched)}_updatePristine(F={}){this.pristine=!this._anyControlsDirty(),this._parent&&!F.onlySelf&&this._parent._updatePristine(F)}_updateTouched(F={}){this.touched=this._anyControlsTouched(),this._parent&&!F.onlySelf&&this._parent._updateTouched(F)}_isBoxedValue(F){return"object"==typeof F&&null!==F&&2===Object.keys(F).length&&"value"in F&&"disabled"in F}_registerOnCollectionChange(F){this._onCollectionChange=F}_setUpdateStrategy(F){fs(F)&&null!=F.updateOn&&(this._updateOn=F.updateOn)}_parentMarkedDirty(F){return!F&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class xr extends ui{constructor(F=null,O,Y){super(ei(O),es(Y,O)),this._onChange=[],this._applyFormState(F),this._setUpdateStrategy(O),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}setValue(F,O={}){this.value=this._pendingValue=F,this._onChange.length&&!1!==O.emitModelToViewChange&&this._onChange.forEach(Y=>Y(this.value,!1!==O.emitViewToModelChange)),this.updateValueAndValidity(O)}patchValue(F,O={}){this.setValue(F,O)}reset(F=null,O={}){this._applyFormState(F),this.markAsPristine(O),this.markAsUntouched(O),this.setValue(this.value,O),this._pendingChange=!1}_updateValue(){}_anyControls(F){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(F){this._onChange.push(F)}_unregisterOnChange(F){_n(this._onChange,F)}registerOnDisabledChange(F){this._onDisabledChange.push(F)}_unregisterOnDisabledChange(F){_n(this._onDisabledChange,F)}_forEachChild(F){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(F){this._isBoxedValue(F)?(this.value=this._pendingValue=F.value,F.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=F}}class Di extends ui{constructor(F,O,Y){super(ei(O),es(Y,O)),this.controls=F,this._initObservables(),this._setUpdateStrategy(O),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(F,O){return this.controls[F]?this.controls[F]:(this.controls[F]=O,O.setParent(this),O._registerOnCollectionChange(this._onCollectionChange),O)}addControl(F,O,Y={}){this.registerControl(F,O),this.updateValueAndValidity({emitEvent:Y.emitEvent}),this._onCollectionChange()}removeControl(F,O={}){this.controls[F]&&this.controls[F]._registerOnCollectionChange(()=>{}),delete this.controls[F],this.updateValueAndValidity({emitEvent:O.emitEvent}),this._onCollectionChange()}setControl(F,O,Y={}){this.controls[F]&&this.controls[F]._registerOnCollectionChange(()=>{}),delete this.controls[F],O&&this.registerControl(F,O),this.updateValueAndValidity({emitEvent:Y.emitEvent}),this._onCollectionChange()}contains(F){return this.controls.hasOwnProperty(F)&&this.controls[F].enabled}setValue(F,O={}){this._checkAllValuesPresent(F),Object.keys(F).forEach(Y=>{this._throwIfControlMissing(Y),this.controls[Y].setValue(F[Y],{onlySelf:!0,emitEvent:O.emitEvent})}),this.updateValueAndValidity(O)}patchValue(F,O={}){null!=F&&(Object.keys(F).forEach(Y=>{this.controls[Y]&&this.controls[Y].patchValue(F[Y],{onlySelf:!0,emitEvent:O.emitEvent})}),this.updateValueAndValidity(O))}reset(F={},O={}){this._forEachChild((Y,$e)=>{Y.reset(F[$e],{onlySelf:!0,emitEvent:O.emitEvent})}),this._updatePristine(O),this._updateTouched(O),this.updateValueAndValidity(O)}getRawValue(){return this._reduceChildren({},(F,O,Y)=>(F[Y]=O instanceof xr?O.value:O.getRawValue(),F))}_syncPendingControls(){let F=this._reduceChildren(!1,(O,Y)=>!!Y._syncPendingControls()||O);return F&&this.updateValueAndValidity({onlySelf:!0}),F}_throwIfControlMissing(F){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[F])throw new Error(`Cannot find form control with name: ${F}.`)}_forEachChild(F){Object.keys(this.controls).forEach(O=>{const Y=this.controls[O];Y&&F(Y,O)})}_setUpControls(){this._forEachChild(F=>{F.setParent(this),F._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(F){for(const O of Object.keys(this.controls)){const Y=this.controls[O];if(this.contains(O)&&F(Y))return!0}return!1}_reduceValue(){return this._reduceChildren({},(F,O,Y)=>((O.enabled||this.disabled)&&(F[Y]=O.value),F))}_reduceChildren(F,O){let Y=F;return this._forEachChild(($e,Vt)=>{Y=O(Y,$e,Vt)}),Y}_allControlsDisabled(){for(const F of Object.keys(this.controls))if(this.controls[F].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(F){this._forEachChild((O,Y)=>{if(void 0===F[Y])throw new Error(`Must supply a value for form control with name: '${Y}'.`)})}}class Rs extends ui{constructor(F,O,Y){super(ei(O),es(Y,O)),this.controls=F,this._initObservables(),this._setUpdateStrategy(O),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(F){return this.controls[F]}push(F,O={}){this.controls.push(F),this._registerControl(F),this.updateValueAndValidity({emitEvent:O.emitEvent}),this._onCollectionChange()}insert(F,O,Y={}){this.controls.splice(F,0,O),this._registerControl(O),this.updateValueAndValidity({emitEvent:Y.emitEvent})}removeAt(F,O={}){this.controls[F]&&this.controls[F]._registerOnCollectionChange(()=>{}),this.controls.splice(F,1),this.updateValueAndValidity({emitEvent:O.emitEvent})}setControl(F,O,Y={}){this.controls[F]&&this.controls[F]._registerOnCollectionChange(()=>{}),this.controls.splice(F,1),O&&(this.controls.splice(F,0,O),this._registerControl(O)),this.updateValueAndValidity({emitEvent:Y.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(F,O={}){this._checkAllValuesPresent(F),F.forEach((Y,$e)=>{this._throwIfControlMissing($e),this.at($e).setValue(Y,{onlySelf:!0,emitEvent:O.emitEvent})}),this.updateValueAndValidity(O)}patchValue(F,O={}){null!=F&&(F.forEach((Y,$e)=>{this.at($e)&&this.at($e).patchValue(Y,{onlySelf:!0,emitEvent:O.emitEvent})}),this.updateValueAndValidity(O))}reset(F=[],O={}){this._forEachChild((Y,$e)=>{Y.reset(F[$e],{onlySelf:!0,emitEvent:O.emitEvent})}),this._updatePristine(O),this._updateTouched(O),this.updateValueAndValidity(O)}getRawValue(){return this.controls.map(F=>F instanceof xr?F.value:F.getRawValue())}clear(F={}){this.controls.length<1||(this._forEachChild(O=>O._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:F.emitEvent}))}_syncPendingControls(){let F=this.controls.reduce((O,Y)=>!!Y._syncPendingControls()||O,!1);return F&&this.updateValueAndValidity({onlySelf:!0}),F}_throwIfControlMissing(F){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(F))throw new Error(`Cannot find form control at index ${F}`)}_forEachChild(F){this.controls.forEach((O,Y)=>{F(O,Y)})}_updateValue(){this.value=this.controls.filter(F=>F.enabled||this.disabled).map(F=>F.value)}_anyControls(F){return this.controls.some(O=>O.enabled&&F(O))}_setUpControls(){this._forEachChild(F=>this._registerControl(F))}_checkAllValuesPresent(F){this._forEachChild((O,Y)=>{if(void 0===F[Y])throw new Error(`Must supply a value for form control at index: ${Y}.`)})}_allControlsDisabled(){for(const F of this.controls)if(F.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(F){F.setParent(this),F._registerOnCollectionChange(this._onCollectionChange)}}const _i={provide:Qn,useExisting:(0,D.Gpc)(()=>Ui)},Br=(()=>Promise.resolve(null))();let Ui=(()=>{class j extends Qn{constructor(O,Y){super(),this.submitted=!1,this._directives=[],this.ngSubmit=new D.vpe,this.form=new Di({},jt(O),mt(Y))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(O){Br.then(()=>{const Y=this._findContainer(O.path);O.control=Y.registerControl(O.name,O.control),Xe(O.control,O),O.control.updateValueAndValidity({emitEvent:!1}),this._directives.push(O)})}getControl(O){return this.form.get(O.path)}removeControl(O){Br.then(()=>{const Y=this._findContainer(O.path);Y&&Y.removeControl(O.name),_n(this._directives,O)})}addFormGroup(O){Br.then(()=>{const Y=this._findContainer(O.path),$e=new Di({});(function(j,F){Xt(j,F)})($e,O),Y.registerControl(O.name,$e),$e.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(O){Br.then(()=>{const Y=this._findContainer(O.path);Y&&Y.removeControl(O.name)})}getFormGroup(O){return this.form.get(O.path)}updateModel(O,Y){Br.then(()=>{this.form.get(O.path).setValue(Y)})}setValue(O){this.control.setValue(O)}onSubmit(O){return this.submitted=!0,function(j,F){j._syncPendingControls(),F.forEach(O=>{const Y=O.control;"submit"===Y.updateOn&&Y._pendingChange&&(O.viewToModelUpdate(Y._pendingValue),Y._pendingChange=!1)})}(this.form,this._directives),this.ngSubmit.emit(O),!1}onReset(){this.resetForm()}resetForm(O){this.form.reset(O),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(O){return O.pop(),O.length?this.form.get(O):this.form}}return j.\u0275fac=function(O){return new(O||j)(D.Y36(dt,10),D.Y36(Qe,10))},j.\u0275dir=D.lG2({type:j,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(O,Y){1&O&&D.NdJ("submit",function(Vt){return Y.onSubmit(Vt)})("reset",function(){return Y.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[D._Bn([_i]),D.qOj]}),j})();const pn={provide:ur,useExisting:(0,D.Gpc)(()=>Hn)},Sr=(()=>Promise.resolve(null))();let Hn=(()=>{class j extends ur{constructor(O,Y,$e,Vt){super(),this.control=new xr,this._registered=!1,this.update=new D.vpe,this._parent=O,this._setValidators(Y),this._setAsyncValidators($e),this.valueAccessor=function(j,F){if(!F)return null;let O,Y,$e;return Array.isArray(F),F.forEach(Vt=>{Vt.constructor===it?O=Vt:function(j){return Object.getPrototypeOf(j.constructor)===ae}(Vt)?Y=Vt:$e=Vt}),$e||Y||O||null}(0,Vt)}ngOnChanges(O){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in O&&this._updateDisabled(O),function(j,F){if(!j.hasOwnProperty("model"))return!1;const O=j.model;return!!O.isFirstChange()||!Object.is(F,O.currentValue)}(O,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?function(j,F){return[...F.path,j]}(this.name,this._parent):[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(O){this.viewModel=O,this.update.emit(O)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Xe(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(O){Sr.then(()=>{this.control.setValue(O,{emitViewToModelChange:!1})})}_updateDisabled(O){const Y=O.isDisabled.currentValue,$e=""===Y||Y&&"false"!==Y;Sr.then(()=>{$e&&!this.control.disabled?this.control.disable():!$e&&this.control.disabled&&this.control.enable()})}}return j.\u0275fac=function(O){return new(O||j)(D.Y36(Qn,9),D.Y36(dt,10),D.Y36(Qe,10),D.Y36(pe,10))},j.\u0275dir=D.lG2({type:j,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[D._Bn([pn]),D.qOj,D.TTD]}),j})(),mn=(()=>{class j{}return j.\u0275fac=function(O){return new(O||j)},j.\u0275dir=D.lG2({type:j,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),j})();const Qr={provide:pe,useExisting:(0,D.Gpc)(()=>Un),multi:!0};let Un=(()=>{class j extends ae{writeValue(O){this.setProperty("value",null==O?"":O)}registerOnChange(O){this.onChange=Y=>{O(""==Y?null:parseFloat(Y))}}}return j.\u0275fac=function(){let F;return function(Y){return(F||(F=D.n5z(j)))(Y||j)}}(),j.\u0275dir=D.lG2({type:j,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(O,Y){1&O&&D.NdJ("input",function(Vt){return Y.onChange(Vt.target.value)})("blur",function(){return Y.onTouched()})},features:[D._Bn([Qr]),D.qOj]}),j})(),an=(()=>{class j{}return j.\u0275fac=function(O){return new(O||j)},j.\u0275mod=D.oAB({type:j}),j.\u0275inj=D.cJS({}),j})();const Ai={provide:dt,useExisting:(0,D.Gpc)(()=>Es),multi:!0};let Es=(()=>{class j{constructor(){this._required=!1}get required(){return this._required}set required(O){this._required=null!=O&&!1!==O&&"false"!=`${O}`,this._onChange&&this._onChange()}validate(O){return this.required?function(j){return function(j){return null==j||0===j.length}(j.value)?{required:!0}:null}(O):null}registerOnValidatorChange(O){this._onChange=O}}return j.\u0275fac=function(O){return new(O||j)},j.\u0275dir=D.lG2({type:j,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(O,Y){2&O&&D.uIk("required",Y.required?"":null)},inputs:{required:"required"},features:[D._Bn([Ai])]}),j})(),as=(()=>{class j{}return j.\u0275fac=function(O){return new(O||j)},j.\u0275mod=D.oAB({type:j}),j.\u0275inj=D.cJS({imports:[[an]]}),j})(),Kr=(()=>{class j{}return j.\u0275fac=function(O){return new(O||j)},j.\u0275mod=D.oAB({type:j}),j.\u0275inj=D.cJS({imports:[as]}),j})()},4363:(Mt,Ke,W)=>{"use strict";W.d(Ke,{F0:()=>di,yS:()=>Cs,Bz:()=>aa,lC:()=>xi});var D=W(8583),U=W(3018),oe=W(9765),Ie=W(7971);class Re extends oe.xQ{constructor(b){super(),this._value=b}get value(){return this.getValue()}_subscribe(b){const C=super._subscribe(b);return C&&!C.closed&&b.next(this._value),C}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new Ie.N;return this._value}next(b){super.next(this._value=b)}}var ve=W(4869),Ue=W(9796),Ce=W(7393);class fe extends Ce.L{notifyNext(b,C,x,H,Z){this.destination.next(C)}notifyError(b,C){this.destination.error(b)}notifyComplete(b){this.destination.complete()}}class ne extends Ce.L{constructor(b,C,x){super(),this.parent=b,this.outerValue=C,this.outerIndex=x,this.index=0}_next(b){this.parent.notifyNext(this.outerValue,b,this.outerIndex,this.index++,this)}_error(b){this.parent.notifyError(b,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var ae=W(7444),pe=W(7574);function de(R,b,C,x,H=new ne(R,C,x)){if(!H.closed)return b instanceof pe.y?b.subscribe(H):(0,ae.s)(b)(H)}var Te=W(6693);const Ge={};class ke{constructor(b){this.resultSelector=b}call(b,C){return C.subscribe(new it(b,this.resultSelector))}}class it extends fe{constructor(b,C){super(b),this.resultSelector=C,this.active=0,this.values=[],this.observables=[]}_next(b){this.values.push(Ge),this.observables.push(b)}_complete(){const b=this.observables,C=b.length;if(0===C)this.destination.complete();else{this.active=C,this.toRespond=C;for(let x=0;x<C;x++)this.add(de(this,b[x],void 0,x))}}notifyComplete(b){0==(this.active-=1)&&this.destination.complete()}notifyNext(b,C,x){const H=this.values,le=this.toRespond?H[x]===Ge?--this.toRespond:this.toRespond:0;H[x]=C,0===le&&(this.resultSelector?this._tryResultSelector(H):this.destination.next(H.slice()))}_tryResultSelector(b){let C;try{C=this.resultSelector.apply(this,b)}catch(x){return void this.destination.error(x)}this.destination.next(C)}}var Ye=W(4402),lt=W(9193);function dt(R){return new pe.y(b=>{let C;try{C=R()}catch(H){return void b.error(H)}return(C?(0,Ye.D)(C):(0,lt.c)()).subscribe(b)})}var Qe=W(5917),we=W(3410),We=W(8071),Jt=W(2441),Ct=W(5345);function Ae(R){return function(C){const x=new Le(R),H=C.lift(x);return x.caught=H}}class Le{constructor(b){this.selector=b}call(b,C){return C.subscribe(new Be(b,this.selector,this.caught))}}class Be extends Ct.Ds{constructor(b,C,x){super(b),this.selector=C,this.caught=x}error(b){if(!this.isStopped){let C;try{C=this.selector(b,this.caught)}catch(Z){return void super.error(Z)}this._unsubscribeAndRecycle();const x=new Ct.IY(this);this.add(x);const H=(0,Ct.ft)(C,x);H!==x&&this.add(H)}}}var ze=W(5435),He=W(7108);function ue(R){return function(C){return 0===R?(0,lt.c)():C.lift(new at(R))}}class at{constructor(b){if(this.total=b,this.total<0)throw new He.W}call(b,C){return C.subscribe(new ut(b,this.total))}}class ut extends Ce.L{constructor(b,C){super(b),this.total=C,this.ring=new Array,this.count=0}_next(b){const C=this.ring,x=this.total,H=this.count++;C.length<x?C.push(b):C[H%x]=b}_complete(){const b=this.destination;let C=this.count;if(C>0){const x=this.count>=this.total?this.total:this.count,H=this.ring;for(let Z=0;Z<x;Z++){const le=C++%x;b.next(H[le])}}b.complete()}}var St=W(4635),ft=W(5242),It=W(4487),tn=W(5319);class jt{constructor(b){this.callback=b}call(b,C){return C.subscribe(new Ht(b,this.callback))}}class Ht extends Ce.L{constructor(b,C){super(b),this.add(new tn.w(C))}}var mt=W(8002),Vn=W(3190),xn=W(5257),Tn=W(9761),wn=W(2145),Vr=W(4612),ir=W(8049),dn=W(9773),Kn=W(3342),Qn=W(1307),ur=W(3282);class hn{constructor(b,C){this.id=b,this.url=C}}class Pn extends hn{constructor(b,C,x="imperative",H=null){super(b,C),this.navigationTrigger=x,this.restoredState=H}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Cn extends hn{constructor(b,C,x){super(b,C),this.urlAfterRedirects=x}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Ur extends hn{constructor(b,C,x){super(b,C),this.reason=x}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Fe extends hn{constructor(b,C,x){super(b,C),this.error=x}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class ee extends hn{constructor(b,C,x,H){super(b,C),this.urlAfterRedirects=x,this.state=H}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ye extends hn{constructor(b,C,x,H){super(b,C),this.urlAfterRedirects=x,this.state=H}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class tt extends hn{constructor(b,C,x,H,Z){super(b,C),this.urlAfterRedirects=x,this.state=H,this.shouldActivate=Z}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Xe extends hn{constructor(b,C,x,H){super(b,C),this.urlAfterRedirects=x,this.state=H}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class bt extends hn{constructor(b,C,x,H){super(b,C),this.urlAfterRedirects=x,this.state=H}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class gt{constructor(b){this.route=b}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Et{constructor(b){this.route=b}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Xt{constructor(b){this.snapshot=b}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class lr{constructor(b){this.snapshot=b}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class cr{constructor(b){this.snapshot=b}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class jn{constructor(b){this.snapshot=b}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class tr{constructor(b,C,x){this.routerEvent=b,this.position=C,this.anchor=x}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const Nt="primary";class on{constructor(b){this.params=b||{}}has(b){return Object.prototype.hasOwnProperty.call(this.params,b)}get(b){if(this.has(b)){const C=this.params[b];return Array.isArray(C)?C[0]:C}return null}getAll(b){if(this.has(b)){const C=this.params[b];return Array.isArray(C)?C:[C]}return[]}get keys(){return Object.keys(this.params)}}function _e(R){return new on(R)}const se="ngNavigationCancelingError";function Se(R){const b=Error("NavigationCancelingError: "+R);return b[se]=!0,b}function Me(R,b,C){const x=C.path.split("/");if(x.length>R.length||"full"===C.pathMatch&&(b.hasChildren()||x.length<R.length))return null;const H={};for(let Z=0;Z<x.length;Z++){const le=x[Z],Ee=R[Z];if(le.startsWith(":"))H[le.substring(1)]=Ee;else if(le!==Ee.path)return null}return{consumed:R.slice(0,x.length),posParams:H}}function xt(R,b){const C=R?Object.keys(R):void 0,x=b?Object.keys(b):void 0;if(!C||!x||C.length!=x.length)return!1;let H;for(let Z=0;Z<C.length;Z++)if(H=C[Z],!_n(R[H],b[H]))return!1;return!0}function _n(R,b){if(Array.isArray(R)&&Array.isArray(b)){if(R.length!==b.length)return!1;const C=[...R].sort(),x=[...b].sort();return C.every((H,Z)=>x[Z]===H)}return R===b}function Sn(R){return Array.prototype.concat.apply([],R)}function fn(R){return R.length>0?R[R.length-1]:null}function $t(R,b){for(const C in R)R.hasOwnProperty(C)&&b(R[C],C)}function Rn(R){return(0,U.CqO)(R)?R:(0,U.QGY)(R)?(0,Ye.D)(Promise.resolve(R)):(0,Qe.of)(R)}const ei={exact:function fs(R,b,C){if(!bn(R.segments,b.segments)||!Rs(R.segments,b.segments,C)||R.numberOfChildren!==b.numberOfChildren)return!1;for(const x in b.children)if(!R.children[x]||!fs(R.children[x],b.children[x],C))return!1;return!0},subset:xr},Yo={exact:function(R,b){return xt(R,b)},subset:function(R,b){return Object.keys(b).length<=Object.keys(R).length&&Object.keys(b).every(C=>_n(R[C],b[C]))},ignored:()=>!0};function es(R,b,C){return ei[C.paths](R.root,b.root,C.matrixParams)&&Yo[C.queryParams](R.queryParams,b.queryParams)&&!("exact"===C.fragment&&R.fragment!==b.fragment)}function xr(R,b,C){return Di(R,b,b.segments,C)}function Di(R,b,C,x){if(R.segments.length>C.length){const H=R.segments.slice(0,C.length);return!(!bn(H,C)||b.hasChildren()||!Rs(H,C,x))}if(R.segments.length===C.length){if(!bn(R.segments,C)||!Rs(R.segments,C,x))return!1;for(const H in b.children)if(!R.children[H]||!xr(R.children[H],b.children[H],x))return!1;return!0}{const H=C.slice(0,R.segments.length),Z=C.slice(R.segments.length);return!!(bn(R.segments,H)&&Rs(R.segments,H,x)&&R.children[Nt])&&Di(R.children[Nt],b,Z,x)}}function Rs(R,b,C){return b.every((x,H)=>Yo[C](R[H].parameters,x.parameters))}class _i{constructor(b,C,x){this.root=b,this.queryParams=C,this.fragment=x}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=_e(this.queryParams)),this._queryParamMap}toString(){return pn.serialize(this)}}class qt{constructor(b,C){this.segments=b,this.children=C,this.parent=null,$t(C,(x,H)=>x.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Wn(this)}}class Br{constructor(b,C){this.path=b,this.parameters=C}get parameterMap(){return this._parameterMap||(this._parameterMap=_e(this.parameters)),this._parameterMap}toString(){return an(this)}}function bn(R,b){return R.length===b.length&&R.every((C,x)=>C.path===b[x].path)}class ti{}class Dt{parse(b){const C=new $n(b);return new _i(C.parseRootSegment(),C.parseQueryParams(),C.parseFragment())}serialize(b){var R;return`${`/${Sr(b.root,!0)}`}${function(R){const b=Object.keys(R).map(C=>{const x=R[C];return Array.isArray(x)?x.map(H=>`${mn(C)}=${mn(H)}`).join("&"):`${mn(C)}=${mn(x)}`}).filter(C=>!!C);return b.length?`?${b.join("&")}`:""}(b.queryParams)}${"string"==typeof b.fragment?`#${R=b.fragment,encodeURI(R)}`:""}`}}const pn=new Dt;function Wn(R){return R.segments.map(b=>an(b)).join("/")}function Sr(R,b){if(!R.hasChildren())return Wn(R);if(b){const C=R.children[Nt]?Sr(R.children[Nt],!1):"",x=[];return $t(R.children,(H,Z)=>{Z!==Nt&&x.push(`${Z}:${Sr(H,!1)}`)}),x.length>0?`${C}(${x.join("//")})`:C}{const C=function(R,b){let C=[];return $t(R.children,(x,H)=>{H===Nt&&(C=C.concat(b(x,H)))}),$t(R.children,(x,H)=>{H!==Nt&&(C=C.concat(b(x,H)))}),C}(R,(x,H)=>H===Nt?[Sr(R.children[Nt],!1)]:[`${H}:${Sr(x,!1)}`]);return 1===Object.keys(R.children).length&&null!=R.children[Nt]?`${Wn(R)}/${C[0]}`:`${Wn(R)}/(${C.join("//")})`}}function Hn(R){return encodeURIComponent(R).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function mn(R){return Hn(R).replace(/%3B/gi,";")}function Un(R){return Hn(R).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function ts(R){return decodeURIComponent(R)}function ho(R){return ts(R.replace(/\+/g,"%20"))}function an(R){return`${Un(R.path)}${function(R){return Object.keys(R).map(b=>`;${Un(b)}=${Un(R[b])}`).join("")}(R.parameters)}`}const ps=/^[^\/()?;=#]+/;function ni(R){const b=R.match(ps);return b?b[0]:""}const jr=/^[^=?&#]+/,rs=/^[^?&#]+/;class $n{constructor(b){this.url=b,this.remaining=b}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new qt([],{}):new qt([],this.parseChildren())}parseQueryParams(){const b={};if(this.consumeOptional("?"))do{this.parseQueryParam(b)}while(this.consumeOptional("&"));return b}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const b=[];for(this.peekStartsWith("(")||b.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),b.push(this.parseSegment());let C={};this.peekStartsWith("/(")&&(this.capture("/"),C=this.parseParens(!0));let x={};return this.peekStartsWith("(")&&(x=this.parseParens(!1)),(b.length>0||Object.keys(C).length>0)&&(x[Nt]=new qt(b,C)),x}parseSegment(){const b=ni(this.remaining);if(""===b&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(b),new Br(ts(b),this.parseMatrixParams())}parseMatrixParams(){const b={};for(;this.consumeOptional(";");)this.parseParam(b);return b}parseParam(b){const C=ni(this.remaining);if(!C)return;this.capture(C);let x="";if(this.consumeOptional("=")){const H=ni(this.remaining);H&&(x=H,this.capture(x))}b[ts(C)]=ts(x)}parseQueryParam(b){const C=function(R){const b=R.match(jr);return b?b[0]:""}(this.remaining);if(!C)return;this.capture(C);let x="";if(this.consumeOptional("=")){const le=function(R){const b=R.match(rs);return b?b[0]:""}(this.remaining);le&&(x=le,this.capture(x))}const H=ho(C),Z=ho(x);if(b.hasOwnProperty(H)){let le=b[H];Array.isArray(le)||(le=[le],b[H]=le),le.push(Z)}else b[H]=Z}parseParens(b){const C={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const x=ni(this.remaining),H=this.remaining[x.length];if("/"!==H&&")"!==H&&";"!==H)throw new Error(`Cannot parse url '${this.url}'`);let Z;x.indexOf(":")>-1?(Z=x.substr(0,x.indexOf(":")),this.capture(Z),this.capture(":")):b&&(Z=Nt);const le=this.parseChildren();C[Z]=1===Object.keys(le).length?le[Nt]:new qt([],le),this.consumeOptional("//")}return C}peekStartsWith(b){return this.remaining.startsWith(b)}consumeOptional(b){return!!this.peekStartsWith(b)&&(this.remaining=this.remaining.substring(b.length),!0)}capture(b){if(!this.consumeOptional(b))throw new Error(`Expected "${b}".`)}}class Wr{constructor(b){this._root=b}get root(){return this._root.value}parent(b){const C=this.pathFromRoot(b);return C.length>1?C[C.length-2]:null}children(b){const C=gs(b,this._root);return C?C.children.map(x=>x.value):[]}firstChild(b){const C=gs(b,this._root);return C&&C.children.length>0?C.children[0].value:null}siblings(b){const C=ms(b,this._root);return C.length<2?[]:C[C.length-2].children.map(H=>H.value).filter(H=>H!==b)}pathFromRoot(b){return ms(b,this._root).map(C=>C.value)}}function gs(R,b){if(R===b.value)return b;for(const C of b.children){const x=gs(R,C);if(x)return x}return null}function ms(R,b){if(R===b.value)return[b];for(const C of b.children){const x=ms(R,C);if(x.length)return x.unshift(b),x}return[]}class vi{constructor(b,C){this.value=b,this.children=C}toString(){return`TreeNode(${this.value})`}}function qr(R){const b={};return R&&R.children.forEach(C=>b[C.value.outlet]=C),b}class ys extends Wr{constructor(b,C){super(b),this.snapshot=C,_s(this,b)}toString(){return this.snapshot.toString()}}function Ti(R,b){const C=function(R,b){const le=new Ar([],{},{},"",{},Nt,b,null,R.root,-1,{});return new Lo("",new vi(le,[]))}(R,b),x=new Re([new Br("",{})]),H=new Re({}),Z=new Re({}),le=new Re({}),Ee=new Re(""),nt=new Hr(x,H,le,Ee,Z,Nt,b,C.root);return nt.snapshot=C.root,new ys(new vi(nt,[]),C)}class Hr{constructor(b,C,x,H,Z,le,Ee,nt){this.url=b,this.params=C,this.queryParams=x,this.fragment=H,this.data=Z,this.outlet=le,this.component=Ee,this._futureSnapshot=nt}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,mt.U)(b=>_e(b)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,mt.U)(b=>_e(b)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Si(R,b="emptyOnly"){const C=R.pathFromRoot;let x=0;if("always"!==b)for(x=C.length-1;x>=1;){const H=C[x],Z=C[x-1];if(H.routeConfig&&""===H.routeConfig.path)x--;else{if(Z.component)break;x--}}return function(R){return R.reduce((b,C)=>({params:Object.assign(Object.assign({},b.params),C.params),data:Object.assign(Object.assign({},b.data),C.data),resolve:Object.assign(Object.assign({},b.resolve),C._resolvedData)}),{params:{},data:{},resolve:{}})}(C.slice(x))}class Ar{constructor(b,C,x,H,Z,le,Ee,nt,Ot,Ut,vn){this.url=b,this.params=C,this.queryParams=x,this.fragment=H,this.data=Z,this.outlet=le,this.component=Ee,this.routeConfig=nt,this._urlSegment=Ot,this._lastPathIndex=Ut,this._resolve=vn}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=_e(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=_e(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(x=>x.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Lo extends Wr{constructor(b,C){super(C),this.url=b,_s(this,C)}toString(){return Nr(this._root)}}function _s(R,b){b.value._routerState=R,b.children.forEach(C=>_s(R,C))}function Nr(R){const b=R.children.length>0?` { ${R.children.map(Nr).join(", ")} } `:"";return`${R.value}${b}`}function ji(R){if(R.snapshot){const b=R.snapshot,C=R._futureSnapshot;R.snapshot=C,xt(b.queryParams,C.queryParams)||R.queryParams.next(C.queryParams),b.fragment!==C.fragment&&R.fragment.next(C.fragment),xt(b.params,C.params)||R.params.next(C.params),function(R,b){if(R.length!==b.length)return!1;for(let C=0;C<R.length;++C)if(!xt(R[C],b[C]))return!1;return!0}(b.url,C.url)||R.url.next(C.url),xt(b.data,C.data)||R.data.next(C.data)}else R.snapshot=R._futureSnapshot,R.data.next(R._futureSnapshot.data)}function vs(R,b){return xt(R.params,b.params)&&function(R,b){return bn(R,b)&&R.every((C,x)=>xt(C.parameters,b[x].parameters))}(R.url,b.url)&&!(!R.parent!=!b.parent)&&(!R.parent||vs(R.parent,b.parent))}function Hi(R,b,C){if(C&&R.shouldReuseRoute(b.value,C.value.snapshot)){const x=C.value;x._futureSnapshot=b.value;const H=function(R,b,C){return b.children.map(x=>{for(const H of C.children)if(R.shouldReuseRoute(x.value,H.value.snapshot))return Hi(R,x,H);return Hi(R,x)})}(R,b,C);return new vi(x,H)}{if(R.shouldAttach(b.value)){const Z=R.retrieve(b.value);if(null!==Z){const le=Z.route;return fo(b,le),le}}const x=function(R){return new Hr(new Re(R.url),new Re(R.params),new Re(R.queryParams),new Re(R.fragment),new Re(R.data),R.outlet,R.component,R)}(b.value),H=b.children.map(Z=>Hi(R,Z));return new vi(x,H)}}function fo(R,b){if(R.value.routeConfig!==b.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(R.children.length!==b.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");b.value._futureSnapshot=R.value;for(let C=0;C<R.children.length;++C)fo(R.children[C],b.children[C])}function ss(R){return"object"==typeof R&&null!=R&&!R.outlets&&!R.segmentPath}function Ai(R){return"object"==typeof R&&null!=R&&R.outlets}function Jr(R,b,C,x,H){let Z={};return x&&$t(x,(le,Ee)=>{Z[Ee]=Array.isArray(le)?le.map(nt=>`${nt}`):`${le}`}),new _i(C.root===R?b:Es(C.root,R,b),Z,H)}function Es(R,b,C){const x={};return $t(R.children,(H,Z)=>{x[Z]=H===b?C:Es(H,b,C)}),new qt(R.segments,x)}class li{constructor(b,C,x){if(this.isAbsolute=b,this.numberOfDoubleDots=C,this.commands=x,b&&x.length>0&&ss(x[0]))throw new Error("Root segment cannot have matrix parameters");const H=x.find(Ai);if(H&&H!==fn(x))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Ei{constructor(b,C,x){this.segmentGroup=b,this.processChildren=C,this.index=x}}function os(R,b,C){if(R||(R=new qt([],{})),0===R.segments.length&&R.hasChildren())return Ni(R,b,C);const x=function(R,b,C){let x=0,H=b;const Z={match:!1,pathIndex:0,commandIndex:0};for(;H<R.segments.length;){if(x>=C.length)return Z;const le=R.segments[H],Ee=C[x];if(Ai(Ee))break;const nt=`${Ee}`,Ot=x<C.length-1?C[x+1]:null;if(H>0&&void 0===nt)break;if(nt&&Ot&&"object"==typeof Ot&&void 0===Ot.outlets){if(!as(nt,Ot,le))return Z;x+=2}else{if(!as(nt,{},le))return Z;x++}H++}return{match:!0,pathIndex:H,commandIndex:x}}(R,b,C),H=C.slice(x.commandIndex);if(x.match&&x.pathIndex<R.segments.length){const Z=new qt(R.segments.slice(0,x.pathIndex),{});return Z.children[Nt]=new qt(R.segments.slice(x.pathIndex),R.children),Ni(Z,0,H)}return x.match&&0===H.length?new qt(R.segments,{}):x.match&&!R.hasChildren()?xs(R,b,C):x.match?Ni(R,0,H):xs(R,b,C)}function Ni(R,b,C){if(0===C.length)return new qt(R.segments,{});{const x=function(R){return Ai(R[0])?R[0].outlets:{[Nt]:R}}(C),H={};return $t(x,(Z,le)=>{"string"==typeof Z&&(Z=[Z]),null!==Z&&(H[le]=os(R.children[le],b,Z))}),$t(R.children,(Z,le)=>{void 0===x[le]&&(H[le]=Z)}),new qt(R.segments,H)}}function xs(R,b,C){const x=R.segments.slice(0,b);let H=0;for(;H<C.length;){const Z=C[H];if(Ai(Z)){const nt=go(Z.outlets);return new qt(x,nt)}if(0===H&&ss(C[0])){x.push(new Br(R.segments[b].path,$i(C[0]))),H++;continue}const le=Ai(Z)?Z.outlets[Nt]:`${Z}`,Ee=H<C.length-1?C[H+1]:null;le&&Ee&&ss(Ee)?(x.push(new Br(le,$i(Ee))),H+=2):(x.push(new Br(le,{})),H++)}return new qt(x,{})}function go(R){const b={};return $t(R,(C,x)=>{"string"==typeof C&&(C=[C]),null!==C&&(b[x]=xs(new qt([],{}),0,C))}),b}function $i(R){const b={};return $t(R,(C,x)=>b[x]=`${C}`),b}function as(R,b,C){return R==C.path&&xt(b,C.parameters)}class mo{constructor(b,C,x,H){this.routeReuseStrategy=b,this.futureState=C,this.currState=x,this.forwardEvent=H}activate(b){const C=this.futureState._root,x=this.currState?this.currState._root:null;this.deactivateChildRoutes(C,x,b),ji(this.futureState.root),this.activateChildRoutes(C,x,b)}deactivateChildRoutes(b,C,x){const H=qr(C);b.children.forEach(Z=>{const le=Z.value.outlet;this.deactivateRoutes(Z,H[le],x),delete H[le]}),$t(H,(Z,le)=>{this.deactivateRouteAndItsChildren(Z,x)})}deactivateRoutes(b,C,x){const H=b.value,Z=C?C.value:null;if(H===Z)if(H.component){const le=x.getContext(H.outlet);le&&this.deactivateChildRoutes(b,C,le.children)}else this.deactivateChildRoutes(b,C,x);else Z&&this.deactivateRouteAndItsChildren(C,x)}deactivateRouteAndItsChildren(b,C){this.routeReuseStrategy.shouldDetach(b.value.snapshot)?this.detachAndStoreRouteSubtree(b,C):this.deactivateRouteAndOutlet(b,C)}detachAndStoreRouteSubtree(b,C){const x=C.getContext(b.value.outlet);if(x&&x.outlet){const H=x.outlet.detach(),Z=x.children.onOutletDeactivated();this.routeReuseStrategy.store(b.value.snapshot,{componentRef:H,route:b,contexts:Z})}}deactivateRouteAndOutlet(b,C){const x=C.getContext(b.value.outlet),H=x&&b.value.component?x.children:C,Z=qr(b);for(const le of Object.keys(Z))this.deactivateRouteAndItsChildren(Z[le],H);x&&x.outlet&&(x.outlet.deactivate(),x.children.onOutletDeactivated(),x.attachRef=null,x.resolver=null,x.route=null)}activateChildRoutes(b,C,x){const H=qr(C);b.children.forEach(Z=>{this.activateRoutes(Z,H[Z.value.outlet],x),this.forwardEvent(new jn(Z.value.snapshot))}),b.children.length&&this.forwardEvent(new lr(b.value.snapshot))}activateRoutes(b,C,x){const H=b.value,Z=C?C.value:null;if(ji(H),H===Z)if(H.component){const le=x.getOrCreateContext(H.outlet);this.activateChildRoutes(b,C,le.children)}else this.activateChildRoutes(b,C,x);else if(H.component){const le=x.getOrCreateContext(H.outlet);if(this.routeReuseStrategy.shouldAttach(H.snapshot)){const Ee=this.routeReuseStrategy.retrieve(H.snapshot);this.routeReuseStrategy.store(H.snapshot,null),le.children.onOutletReAttached(Ee.contexts),le.attachRef=Ee.componentRef,le.route=Ee.route.value,le.outlet&&le.outlet.attach(Ee.componentRef,Ee.route.value),qa(Ee.route)}else{const Ee=function(R){for(let b=R.parent;b;b=b.parent){const C=b.routeConfig;if(C&&C._loadedConfig)return C._loadedConfig;if(C&&C.component)return null}return null}(H.snapshot),nt=Ee?Ee.module.componentFactoryResolver:null;le.attachRef=null,le.route=H,le.resolver=nt,le.outlet&&le.outlet.activateWith(H,nt),this.activateChildRoutes(b,null,le.children)}}else this.activateChildRoutes(b,null,x)}}function qa(R){ji(R.value),R.children.forEach(qa)}class us{constructor(b,C){this.routes=b,this.module=C}}function j(R){return"function"==typeof R}function O(R){return R instanceof _i}const q=Symbol("INITIAL_VALUE");function V(){return(0,Vn.w)(R=>function(...R){let b,C;return(0,ve.K)(R[R.length-1])&&(C=R.pop()),"function"==typeof R[R.length-1]&&(b=R.pop()),1===R.length&&(0,Ue.k)(R[0])&&(R=R[0]),(0,Te.n)(R,C).lift(new ke(b))}(R.map(b=>b.pipe((0,xn.q)(1),(0,Tn.O)(q)))).pipe((0,wn.R)((b,C)=>{let x=!1;return C.reduce((H,Z,le)=>H!==q?H:(Z===q&&(x=!0),x||!1!==Z&&le!==C.length-1&&!O(Z)?H:Z),b)},q),(0,ze.h)(b=>b!==q),(0,mt.U)(b=>O(b)?b:!0===b),(0,xn.q)(1)))}let Q=(()=>{class R{}return R.\u0275fac=function(C){return new(C||R)},R.\u0275cmp=U.Xpm({type:R,selectors:[["ng-component"]],decls:1,vars:0,template:function(C,x){1&C&&U._UZ(0,"router-outlet")},directives:function(){return[xi]},encapsulation:2}),R})();function me(R,b=""){for(let C=0;C<R.length;C++){const x=R[C];Pe(x,st(b,x))}}function Pe(R,b){R.children&&me(R.children,b)}function st(R,b){return b?R||b.path?R&&!b.path?`${R}/`:!R&&b.path?b.path:`${R}/${b.path}`:"":R}function kt(R){const b=R.children&&R.children.map(kt),C=b?Object.assign(Object.assign({},R),{children:b}):Object.assign({},R);return!C.component&&(b||C.loadChildren)&&C.outlet&&C.outlet!==Nt&&(C.component=Q),C}function gn(R){return R.outlet||Nt}function Yt(R,b){const C=R.filter(x=>gn(x)===b);return C.push(...R.filter(x=>gn(x)!==b)),C}const Jn={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function Ft(R,b,C){var x;if(""===b.path)return"full"===b.pathMatch&&(R.hasChildren()||C.length>0)?Object.assign({},Jn):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const Z=(b.matcher||Me)(C,R,b);if(!Z)return Object.assign({},Jn);const le={};$t(Z.posParams,(nt,Ot)=>{le[Ot]=nt.path});const Ee=Z.consumed.length>0?Object.assign(Object.assign({},le),Z.consumed[Z.consumed.length-1].parameters):le;return{matched:!0,consumedSegments:Z.consumed,lastChild:Z.consumed.length,parameters:Ee,positionalParamSegments:null!==(x=Z.posParams)&&void 0!==x?x:{}}}function sr(R,b,C,x,H="corrected"){if(C.length>0&&function(R,b,C){return C.some(x=>Rr(R,b,x)&&gn(x)!==Nt)}(R,C,x)){const le=new qt(b,function(R,b,C,x){const H={};H[Nt]=x,x._sourceSegment=R,x._segmentIndexShift=b.length;for(const Z of C)if(""===Z.path&&gn(Z)!==Nt){const le=new qt([],{});le._sourceSegment=R,le._segmentIndexShift=b.length,H[gn(Z)]=le}return H}(R,b,x,new qt(C,R.children)));return le._sourceSegment=R,le._segmentIndexShift=b.length,{segmentGroup:le,slicedSegments:[]}}if(0===C.length&&function(R,b,C){return C.some(x=>Rr(R,b,x))}(R,C,x)){const le=new qt(R.segments,function(R,b,C,x,H,Z){const le={};for(const Ee of x)if(Rr(R,C,Ee)&&!H[gn(Ee)]){const nt=new qt([],{});nt._sourceSegment=R,nt._segmentIndexShift="legacy"===Z?R.segments.length:b.length,le[gn(Ee)]=nt}return Object.assign(Object.assign({},H),le)}(R,b,C,x,R.children,H));return le._sourceSegment=R,le._segmentIndexShift=b.length,{segmentGroup:le,slicedSegments:C}}const Z=new qt(R.segments,R.children);return Z._sourceSegment=R,Z._segmentIndexShift=b.length,{segmentGroup:Z,slicedSegments:C}}function Rr(R,b,C){return(!(R.hasChildren()||b.length>0)||"full"!==C.pathMatch)&&""===C.path}function wi(R,b,C,x){return!!(gn(R)===x||x!==Nt&&Rr(b,C,R))&&("**"===R.path||Ft(b,R,C).matched)}function Vo(R,b,C){return 0===b.length&&!R.children[C]}class Gi{constructor(b){this.segmentGroup=b||null}}class Ri{constructor(b){this.urlTree=b}}function Jo(R){return new pe.y(b=>b.error(new Gi(R)))}function qs(R){return new pe.y(b=>b.error(new Ri(R)))}function Qt(R){return new pe.y(b=>b.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${R}'`)))}class zi{constructor(b,C,x,H,Z){this.configLoader=C,this.urlSerializer=x,this.urlTree=H,this.config=Z,this.allowRedirects=!0,this.ngModule=b.get(U.h0i)}apply(){const b=sr(this.urlTree.root,[],[],this.config).segmentGroup,C=new qt(b.segments,b.children);return this.expandSegmentGroup(this.ngModule,this.config,C,Nt).pipe((0,mt.U)(Z=>this.createUrlTree(Xo(Z),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Ae(Z=>{if(Z instanceof Ri)return this.allowRedirects=!1,this.match(Z.urlTree);throw Z instanceof Gi?this.noMatchError(Z):Z}))}match(b){return this.expandSegmentGroup(this.ngModule,this.config,b.root,Nt).pipe((0,mt.U)(H=>this.createUrlTree(Xo(H),b.queryParams,b.fragment))).pipe(Ae(H=>{throw H instanceof Gi?this.noMatchError(H):H}))}noMatchError(b){return new Error(`Cannot match any routes. URL Segment: '${b.segmentGroup}'`)}createUrlTree(b,C,x){const H=b.segments.length>0?new qt([],{[Nt]:b}):b;return new _i(H,C,x)}expandSegmentGroup(b,C,x,H){return 0===x.segments.length&&x.hasChildren()?this.expandChildren(b,C,x).pipe((0,mt.U)(Z=>new qt([],Z))):this.expandSegment(b,x,C,x.segments,H,!0)}expandChildren(b,C,x){const H=[];for(const Z of Object.keys(x.children))"primary"===Z?H.unshift(Z):H.push(Z);return(0,Ye.D)(H).pipe((0,Vr.b)(Z=>{const le=x.children[Z],Ee=Yt(C,Z);return this.expandSegmentGroup(b,Ee,le,Z).pipe((0,mt.U)(nt=>({segment:nt,outlet:Z})))}),(0,wn.R)((Z,le)=>(Z[le.outlet]=le.segment,Z),{}),function(R,b){const C=arguments.length>=2;return x=>x.pipe(R?(0,ze.h)((H,Z)=>R(H,Z,x)):It.y,ue(1),C?(0,ft.d)(b):(0,St.T)(()=>new we.K))}())}expandSegment(b,C,x,H,Z,le){return(0,Ye.D)(x).pipe((0,Vr.b)(Ee=>this.expandSegmentAgainstRoute(b,C,x,Ee,H,Z,le).pipe(Ae(Ot=>{if(Ot instanceof Gi)return(0,Qe.of)(null);throw Ot}))),(0,ir.P)(Ee=>!!Ee),Ae((Ee,nt)=>{if(Ee instanceof we.K||"EmptyError"===Ee.name){if(Vo(C,H,Z))return(0,Qe.of)(new qt([],{}));throw new Gi(C)}throw Ee}))}expandSegmentAgainstRoute(b,C,x,H,Z,le,Ee){return wi(H,C,Z,le)?void 0===H.redirectTo?this.matchSegmentAgainstRoute(b,C,H,Z,le):Ee&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(b,C,x,H,Z,le):Jo(C):Jo(C)}expandSegmentAgainstRouteUsingRedirect(b,C,x,H,Z,le){return"**"===H.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(b,x,H,le):this.expandRegularSegmentAgainstRouteUsingRedirect(b,C,x,H,Z,le)}expandWildCardWithParamsAgainstRouteUsingRedirect(b,C,x,H){const Z=this.applyRedirectCommands([],x.redirectTo,{});return x.redirectTo.startsWith("/")?qs(Z):this.lineralizeSegments(x,Z).pipe((0,dn.zg)(le=>{const Ee=new qt(le,{});return this.expandSegment(b,Ee,C,le,H,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(b,C,x,H,Z,le){const{matched:Ee,consumedSegments:nt,lastChild:Ot,positionalParamSegments:Ut}=Ft(C,H,Z);if(!Ee)return Jo(C);const vn=this.applyRedirectCommands(nt,H.redirectTo,Ut);return H.redirectTo.startsWith("/")?qs(vn):this.lineralizeSegments(H,vn).pipe((0,dn.zg)(or=>this.expandSegment(b,C,x,or.concat(Z.slice(Ot)),le,!1)))}matchSegmentAgainstRoute(b,C,x,H,Z){if("**"===x.path)return x.loadChildren?(x._loadedConfig?(0,Qe.of)(x._loadedConfig):this.configLoader.load(b.injector,x)).pipe((0,mt.U)(or=>(x._loadedConfig=or,new qt(H,{})))):(0,Qe.of)(new qt(H,{}));const{matched:le,consumedSegments:Ee,lastChild:nt}=Ft(C,x,H);if(!le)return Jo(C);const Ot=H.slice(nt);return this.getChildConfig(b,x,H).pipe((0,dn.zg)(vn=>{const or=vn.module,Rt=vn.routes,{segmentGroup:Zr,slicedSegments:ki}=sr(C,Ee,Ot,Rt),Zn=new qt(Zr.segments,Zr.children);if(0===ki.length&&Zn.hasChildren())return this.expandChildren(or,Rt,Zn).pipe((0,mt.U)(Hu=>new qt(Ee,Hu)));if(0===Rt.length&&0===ki.length)return(0,Qe.of)(new qt(Ee,{}));const ln=gn(x)===Z;return this.expandSegment(or,Zn,Rt,ki,ln?Nt:Z,!0).pipe((0,mt.U)(ls=>new qt(Ee.concat(ls.segments),ls.children)))}))}getChildConfig(b,C,x){return C.children?(0,Qe.of)(new us(C.children,b)):C.loadChildren?void 0!==C._loadedConfig?(0,Qe.of)(C._loadedConfig):this.runCanLoadGuards(b.injector,C,x).pipe((0,dn.zg)(H=>{return H?this.configLoader.load(b.injector,C).pipe((0,mt.U)(Z=>(C._loadedConfig=Z,Z))):(R=C,new pe.y(b=>b.error(Se(`Cannot load children because the guard of the route "path: '${R.path}'" returned false`))));var R})):(0,Qe.of)(new us([],b))}runCanLoadGuards(b,C,x){const H=C.canLoad;if(!H||0===H.length)return(0,Qe.of)(!0);const Z=H.map(le=>{const Ee=b.get(le);let nt;if((R=Ee)&&j(R.canLoad))nt=Ee.canLoad(C,x);else{if(!j(Ee))throw new Error("Invalid CanLoad guard");nt=Ee(C,x)}var R;return Rn(nt)});return(0,Qe.of)(Z).pipe(V(),(0,Kn.b)(le=>{if(!O(le))return;const Ee=Se(`Redirecting to "${this.urlSerializer.serialize(le)}"`);throw Ee.url=le,Ee}),(0,mt.U)(le=>!0===le))}lineralizeSegments(b,C){let x=[],H=C.root;for(;;){if(x=x.concat(H.segments),0===H.numberOfChildren)return(0,Qe.of)(x);if(H.numberOfChildren>1||!H.children[Nt])return Qt(b.redirectTo);H=H.children[Nt]}}applyRedirectCommands(b,C,x){return this.applyRedirectCreatreUrlTree(C,this.urlSerializer.parse(C),b,x)}applyRedirectCreatreUrlTree(b,C,x,H){const Z=this.createSegmentGroup(b,C.root,x,H);return new _i(Z,this.createQueryParams(C.queryParams,this.urlTree.queryParams),C.fragment)}createQueryParams(b,C){const x={};return $t(b,(H,Z)=>{if("string"==typeof H&&H.startsWith(":")){const Ee=H.substring(1);x[Z]=C[Ee]}else x[Z]=H}),x}createSegmentGroup(b,C,x,H){const Z=this.createSegments(b,C.segments,x,H);let le={};return $t(C.children,(Ee,nt)=>{le[nt]=this.createSegmentGroup(b,Ee,x,H)}),new qt(Z,le)}createSegments(b,C,x,H){return C.map(Z=>Z.path.startsWith(":")?this.findPosParam(b,Z,H):this.findOrReturn(Z,x))}findPosParam(b,C,x){const H=x[C.path.substring(1)];if(!H)throw new Error(`Cannot redirect to '${b}'. Cannot find '${C.path}'.`);return H}findOrReturn(b,C){let x=0;for(const H of C){if(H.path===b.path)return C.splice(x),H;x++}return b}}function Xo(R){const b={};for(const x of Object.keys(R.children)){const Z=Xo(R.children[x]);(Z.segments.length>0||Z.hasChildren())&&(b[x]=Z)}return function(R){if(1===R.numberOfChildren&&R.children[Nt]){const b=R.children[Nt];return new qt(R.segments.concat(b.segments),b.children)}return R}(new qt(R.segments,b))}class Fu{constructor(b){this.path=b,this.route=this.path[this.path.length-1]}}class ht{constructor(b,C){this.component=b,this.route=C}}function An(R,b,C){const x=R._root;return Zs(x,b?b._root:null,C,[x.value])}function Er(R,b,C){const x=function(R){if(!R)return null;for(let b=R.parent;b;b=b.parent){const C=b.routeConfig;if(C&&C._loadedConfig)return C._loadedConfig}return null}(b);return(x?x.module.injector:C).get(R)}function Zs(R,b,C,x,H={canDeactivateChecks:[],canActivateChecks:[]}){const Z=qr(b);return R.children.forEach(le=>{(function(R,b,C,x,H={canDeactivateChecks:[],canActivateChecks:[]}){const Z=R.value,le=b?b.value:null,Ee=C?C.getContext(R.value.outlet):null;if(le&&Z.routeConfig===le.routeConfig){const nt=function(R,b,C){if("function"==typeof C)return C(R,b);switch(C){case"pathParamsChange":return!bn(R.url,b.url);case"pathParamsOrQueryParamsChange":return!bn(R.url,b.url)||!xt(R.queryParams,b.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!vs(R,b)||!xt(R.queryParams,b.queryParams);case"paramsChange":default:return!vs(R,b)}}(le,Z,Z.routeConfig.runGuardsAndResolvers);nt?H.canActivateChecks.push(new Fu(x)):(Z.data=le.data,Z._resolvedData=le._resolvedData),Zs(R,b,Z.component?Ee?Ee.children:null:C,x,H),nt&&Ee&&Ee.outlet&&Ee.outlet.isActivated&&H.canDeactivateChecks.push(new ht(Ee.outlet.component,le))}else le&&yo(b,Ee,H),H.canActivateChecks.push(new Fu(x)),Zs(R,null,Z.component?Ee?Ee.children:null:C,x,H)})(le,Z[le.value.outlet],C,x.concat([le.value]),H),delete Z[le.value.outlet]}),$t(Z,(le,Ee)=>yo(le,C.getContext(Ee),H)),H}function yo(R,b,C){const x=qr(R),H=R.value;$t(x,(Z,le)=>{yo(Z,H.component?b?b.children.getContext(le):null:b,C)}),C.canDeactivateChecks.push(new ht(H.component&&b&&b.outlet&&b.outlet.isActivated?b.outlet.component:null,H))}class Oi{}function Za(R){return new pe.y(b=>b.error(R))}class au{constructor(b,C,x,H,Z,le){this.rootComponentType=b,this.config=C,this.urlTree=x,this.url=H,this.paramsInheritanceStrategy=Z,this.relativeLinkResolution=le}recognize(){const b=sr(this.urlTree.root,[],[],this.config.filter(le=>void 0===le.redirectTo),this.relativeLinkResolution).segmentGroup,C=this.processSegmentGroup(this.config,b,Nt);if(null===C)return null;const x=new Ar([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},Nt,this.rootComponentType,null,this.urlTree.root,-1,{}),H=new vi(x,C),Z=new Lo(this.url,H);return this.inheritParamsAndData(Z._root),Z}inheritParamsAndData(b){const C=b.value,x=Si(C,this.paramsInheritanceStrategy);C.params=Object.freeze(x.params),C.data=Object.freeze(x.data),b.children.forEach(H=>this.inheritParamsAndData(H))}processSegmentGroup(b,C,x){return 0===C.segments.length&&C.hasChildren()?this.processChildren(b,C):this.processSegment(b,C,C.segments,x)}processChildren(b,C){const x=[];for(const Z of Object.keys(C.children)){const le=C.children[Z],Ee=Yt(b,Z),nt=this.processSegmentGroup(Ee,le,Z);if(null===nt)return null;x.push(...nt)}const H=Ya(x);return H.sort((b,C)=>b.value.outlet===Nt?-1:C.value.outlet===Nt?1:b.value.outlet.localeCompare(C.value.outlet)),H}processSegment(b,C,x,H){for(const Z of b){const le=this.processSegmentAgainstRoute(Z,C,x,H);if(null!==le)return le}return Vo(C,x,H)?[]:null}processSegmentAgainstRoute(b,C,x,H){if(b.redirectTo||!wi(b,C,x,H))return null;let Z,le=[],Ee=[];if("**"===b.path){const Rt=x.length>0?fn(x).parameters:{};Z=new Ar(x,Rt,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Ps(b),gn(b),b.component,b,Da(C),Ta(C)+x.length,Uu(b))}else{const Rt=Ft(C,b,x);if(!Rt.matched)return null;le=Rt.consumedSegments,Ee=x.slice(Rt.lastChild),Z=new Ar(le,Rt.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Ps(b),gn(b),b.component,b,Da(C),Ta(C)+le.length,Uu(b))}const nt=(R=b).children?R.children:R.loadChildren?R._loadedConfig.routes:[],{segmentGroup:Ot,slicedSegments:Ut}=sr(C,le,Ee,nt.filter(Rt=>void 0===Rt.redirectTo),this.relativeLinkResolution);var R;if(0===Ut.length&&Ot.hasChildren()){const Rt=this.processChildren(nt,Ot);return null===Rt?null:[new vi(Z,Rt)]}if(0===nt.length&&0===Ut.length)return[new vi(Z,[])];const vn=gn(b)===H,or=this.processSegment(nt,Ot,Ut,vn?Nt:H);return null===or?null:[new vi(Z,or)]}}function uu(R){const b=R.value.routeConfig;return b&&""===b.path&&void 0===b.redirectTo}function Ya(R){const b=[],C=new Set;for(const x of R){if(!uu(x)){b.push(x);continue}const H=b.find(Z=>x.value.routeConfig===Z.value.routeConfig);void 0!==H?(H.children.push(...x.children),C.add(H)):b.push(x)}for(const x of C){const H=Ya(x.children);b.push(new vi(x.value,H))}return b.filter(x=>!C.has(x))}function Da(R){let b=R;for(;b._sourceSegment;)b=b._sourceSegment;return b}function Ta(R){let b=R,C=b._segmentIndexShift?b._segmentIndexShift:0;for(;b._sourceSegment;)b=b._sourceSegment,C+=b._segmentIndexShift?b._segmentIndexShift:0;return C-1}function Ps(R){return R.data||{}}function Uu(R){return R.resolve||{}}function ju(R){return(0,Vn.w)(b=>{const C=R(b);return C?(0,Ye.D)(C).pipe((0,mt.U)(()=>b)):(0,Qe.of)(b)})}class wr extends class{shouldDetach(b){return!1}store(b,C){}shouldAttach(b){return!1}retrieve(b){return null}shouldReuseRoute(b,C){return b.routeConfig===C.routeConfig}}{}const Sa=new U.OlP("ROUTES");class ra{constructor(b,C,x,H){this.loader=b,this.compiler=C,this.onLoadStartListener=x,this.onLoadEndListener=H}load(b,C){if(C._loader$)return C._loader$;this.onLoadStartListener&&this.onLoadStartListener(C);const H=this.loadModuleFactory(C.loadChildren).pipe((0,mt.U)(Z=>{this.onLoadEndListener&&this.onLoadEndListener(C);const le=Z.create(b);return new us(Sn(le.injector.get(Sa,void 0,U.XFs.Self|U.XFs.Optional)).map(kt),le)}),Ae(Z=>{throw C._loader$=void 0,Z}));return C._loader$=new Jt.c(H,()=>new oe.xQ).pipe((0,Qn.x)()),C._loader$}loadModuleFactory(b){return"string"==typeof b?(0,Ye.D)(this.loader.load(b)):Rn(b()).pipe((0,dn.zg)(C=>C instanceof U.YKP?(0,Qe.of)(C):(0,Ye.D)(this.compiler.compileModuleAsync(C))))}}class fl{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new ia,this.attachRef=null}}class ia{constructor(){this.contexts=new Map}onChildOutletCreated(b,C){const x=this.getOrCreateContext(b);x.outlet=C,this.contexts.set(b,x)}onChildOutletDestroyed(b){const C=this.getContext(b);C&&(C.outlet=null)}onOutletDeactivated(){const b=this.contexts;return this.contexts=new Map,b}onOutletReAttached(b){this.contexts=b}getOrCreateContext(b){let C=this.getContext(b);return C||(C=new fl,this.contexts.set(b,C)),C}getContext(b){return this.contexts.get(b)||null}}class lu{shouldProcessUrl(b){return!0}extract(b){return b}merge(b,C){return b}}function Qa(R){throw R}function vo(R,b,C){return b.parse("/")}function Eo(R,b){return(0,Qe.of)(null)}const cu={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Ja={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let di=(()=>{class R{constructor(C,x,H,Z,le,Ee,nt,Ot){this.rootComponentType=C,this.urlSerializer=x,this.rootContexts=H,this.location=Z,this.config=Ot,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.lastLocationChangeInfo=null,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new oe.xQ,this.errorHandler=Qa,this.malformedUriErrorHandler=vo,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Eo,afterPreactivation:Eo},this.urlHandlingStrategy=new lu,this.routeReuseStrategy=new wr,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=le.get(U.h0i),this.console=le.get(U.c2e);const or=le.get(U.R0b);this.isNgZoneEnabled=or instanceof U.R0b&&U.R0b.isInAngularZone(),this.resetConfig(Ot),this.currentUrlTree=new _i(new qt([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new ra(Ee,nt,Rt=>this.triggerEvent(new gt(Rt)),Rt=>this.triggerEvent(new Et(Rt))),this.routerState=Ti(this.currentUrlTree,this.rootComponentType),this.transitions=new Re({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var C;return null===(C=this.location.getState())||void 0===C?void 0:C.\u0275routerPageId}setupNavigations(C){const x=this.events;return C.pipe((0,ze.h)(H=>0!==H.id),(0,mt.U)(H=>Object.assign(Object.assign({},H),{extractedUrl:this.urlHandlingStrategy.extract(H.rawUrl)})),(0,Vn.w)(H=>{let Z=!1,le=!1;return(0,Qe.of)(H).pipe((0,Kn.b)(Ee=>{this.currentNavigation={id:Ee.id,initialUrl:Ee.currentRawUrl,extractedUrl:Ee.extractedUrl,trigger:Ee.source,extras:Ee.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),(0,Vn.w)(Ee=>{const nt=!this.navigated||Ee.extractedUrl.toString()!==this.browserUrlTree.toString(),Ot=("reload"===this.onSameUrlNavigation||nt)&&this.urlHandlingStrategy.shouldProcessUrl(Ee.rawUrl);if(si(Ee.source)&&(this.browserUrlTree=Ee.rawUrl),Ot)return(0,Qe.of)(Ee).pipe((0,Vn.w)(Ut=>{const vn=this.transitions.getValue();return x.next(new Pn(Ut.id,this.serializeUrl(Ut.extractedUrl),Ut.source,Ut.restoredState)),vn!==this.transitions.getValue()?lt.E:Promise.resolve(Ut)}),function(R,b,C,x){return(0,Vn.w)(H=>function(R,b,C,x,H){return new zi(R,b,C,x,H).apply()}(R,b,C,H.extractedUrl,x).pipe((0,mt.U)(Z=>Object.assign(Object.assign({},H),{urlAfterRedirects:Z}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,Kn.b)(Ut=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:Ut.urlAfterRedirects})}),function(R,b,C,x,H){return(0,dn.zg)(Z=>function(R,b,C,x,H="emptyOnly",Z="legacy"){try{const le=new au(R,b,C,x,H,Z).recognize();return null===le?Za(new Oi):(0,Qe.of)(le)}catch(le){return Za(le)}}(R,b,Z.urlAfterRedirects,C(Z.urlAfterRedirects),x,H).pipe((0,mt.U)(le=>Object.assign(Object.assign({},Z),{targetSnapshot:le}))))}(this.rootComponentType,this.config,Ut=>this.serializeUrl(Ut),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,Kn.b)(Ut=>{"eager"===this.urlUpdateStrategy&&(Ut.extras.skipLocationChange||this.setBrowserUrl(Ut.urlAfterRedirects,Ut),this.browserUrlTree=Ut.urlAfterRedirects);const vn=new ee(Ut.id,this.serializeUrl(Ut.extractedUrl),this.serializeUrl(Ut.urlAfterRedirects),Ut.targetSnapshot);x.next(vn)}));if(nt&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:vn,extractedUrl:or,source:Rt,restoredState:Zr,extras:ki}=Ee,Zn=new Pn(vn,this.serializeUrl(or),Rt,Zr);x.next(Zn);const ln=Ti(or,this.rootComponentType).snapshot;return(0,Qe.of)(Object.assign(Object.assign({},Ee),{targetSnapshot:ln,urlAfterRedirects:or,extras:Object.assign(Object.assign({},ki),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=Ee.rawUrl,this.browserUrlTree=Ee.urlAfterRedirects,Ee.resolve(null),lt.E}),ju(Ee=>{const{targetSnapshot:nt,id:Ot,extractedUrl:Ut,rawUrl:vn,extras:{skipLocationChange:or,replaceUrl:Rt}}=Ee;return this.hooks.beforePreactivation(nt,{navigationId:Ot,appliedUrlTree:Ut,rawUrlTree:vn,skipLocationChange:!!or,replaceUrl:!!Rt})}),(0,Kn.b)(Ee=>{const nt=new ye(Ee.id,this.serializeUrl(Ee.extractedUrl),this.serializeUrl(Ee.urlAfterRedirects),Ee.targetSnapshot);this.triggerEvent(nt)}),(0,mt.U)(Ee=>Object.assign(Object.assign({},Ee),{guards:An(Ee.targetSnapshot,Ee.currentSnapshot,this.rootContexts)})),function(R,b){return(0,dn.zg)(C=>{const{targetSnapshot:x,currentSnapshot:H,guards:{canActivateChecks:Z,canDeactivateChecks:le}}=C;return 0===le.length&&0===Z.length?(0,Qe.of)(Object.assign(Object.assign({},C),{guardsResult:!0})):function(R,b,C,x){return(0,Ye.D)(R).pipe((0,dn.zg)(H=>function(R,b,C,x,H){const Z=b&&b.routeConfig?b.routeConfig.canDeactivate:null;if(!Z||0===Z.length)return(0,Qe.of)(!0);const le=Z.map(Ee=>{const nt=Er(Ee,b,H);let Ot;if(function(R){return R&&j(R.canDeactivate)}(nt))Ot=Rn(nt.canDeactivate(R,b,C,x));else{if(!j(nt))throw new Error("Invalid CanDeactivate guard");Ot=Rn(nt(R,b,C,x))}return Ot.pipe((0,ir.P)())});return(0,Qe.of)(le).pipe(V())}(H.component,H.route,C,b,x)),(0,ir.P)(H=>!0!==H,!0))}(le,x,H,R).pipe((0,dn.zg)(Ee=>Ee&&function(R){return"boolean"==typeof R}(Ee)?function(R,b,C,x){return(0,Ye.D)(b).pipe((0,Vr.b)(H=>(0,We.z)(function(R,b){return null!==R&&b&&b(new Xt(R)),(0,Qe.of)(!0)}(H.route.parent,x),function(R,b){return null!==R&&b&&b(new cr(R)),(0,Qe.of)(!0)}(H.route,x),function(R,b,C){const x=b[b.length-1],Z=b.slice(0,b.length-1).reverse().map(le=>function(R){const b=R.routeConfig?R.routeConfig.canActivateChild:null;return b&&0!==b.length?{node:R,guards:b}:null}(le)).filter(le=>null!==le).map(le=>dt(()=>{const Ee=le.guards.map(nt=>{const Ot=Er(nt,le.node,C);let Ut;if(function(R){return R&&j(R.canActivateChild)}(Ot))Ut=Rn(Ot.canActivateChild(x,R));else{if(!j(Ot))throw new Error("Invalid CanActivateChild guard");Ut=Rn(Ot(x,R))}return Ut.pipe((0,ir.P)())});return(0,Qe.of)(Ee).pipe(V())}));return(0,Qe.of)(Z).pipe(V())}(R,H.path,C),function(R,b,C){const x=b.routeConfig?b.routeConfig.canActivate:null;if(!x||0===x.length)return(0,Qe.of)(!0);const H=x.map(Z=>dt(()=>{const le=Er(Z,b,C);let Ee;if(function(R){return R&&j(R.canActivate)}(le))Ee=Rn(le.canActivate(b,R));else{if(!j(le))throw new Error("Invalid CanActivate guard");Ee=Rn(le(b,R))}return Ee.pipe((0,ir.P)())}));return(0,Qe.of)(H).pipe(V())}(R,H.route,C))),(0,ir.P)(H=>!0!==H,!0))}(x,Z,R,b):(0,Qe.of)(Ee)),(0,mt.U)(Ee=>Object.assign(Object.assign({},C),{guardsResult:Ee})))})}(this.ngModule.injector,Ee=>this.triggerEvent(Ee)),(0,Kn.b)(Ee=>{if(O(Ee.guardsResult)){const Ot=Se(`Redirecting to "${this.serializeUrl(Ee.guardsResult)}"`);throw Ot.url=Ee.guardsResult,Ot}const nt=new tt(Ee.id,this.serializeUrl(Ee.extractedUrl),this.serializeUrl(Ee.urlAfterRedirects),Ee.targetSnapshot,!!Ee.guardsResult);this.triggerEvent(nt)}),(0,ze.h)(Ee=>!!Ee.guardsResult||(this.restoreHistory(Ee),this.cancelNavigationTransition(Ee,""),!1)),ju(Ee=>{if(Ee.guards.canActivateChecks.length)return(0,Qe.of)(Ee).pipe((0,Kn.b)(nt=>{const Ot=new Xe(nt.id,this.serializeUrl(nt.extractedUrl),this.serializeUrl(nt.urlAfterRedirects),nt.targetSnapshot);this.triggerEvent(Ot)}),(0,Vn.w)(nt=>{let Ot=!1;return(0,Qe.of)(nt).pipe(function(R,b){return(0,dn.zg)(C=>{const{targetSnapshot:x,guards:{canActivateChecks:H}}=C;if(!H.length)return(0,Qe.of)(C);let Z=0;return(0,Ye.D)(H).pipe((0,Vr.b)(le=>function(R,b,C,x){return function(R,b,C,x){const H=Object.keys(R);if(0===H.length)return(0,Qe.of)({});const Z={};return(0,Ye.D)(H).pipe((0,dn.zg)(le=>function(R,b,C,x){const H=Er(R,b,x);return Rn(H.resolve?H.resolve(b,C):H(b,C))}(R[le],b,C,x).pipe((0,Kn.b)(Ee=>{Z[le]=Ee}))),ue(1),(0,dn.zg)(()=>Object.keys(Z).length===H.length?(0,Qe.of)(Z):lt.E))}(R._resolve,R,b,x).pipe((0,mt.U)(Z=>(R._resolvedData=Z,R.data=Object.assign(Object.assign({},R.data),Si(R,C).resolve),null)))}(le.route,x,R,b)),(0,Kn.b)(()=>Z++),ue(1),(0,dn.zg)(le=>Z===H.length?(0,Qe.of)(C):lt.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,Kn.b)({next:()=>Ot=!0,complete:()=>{Ot||(this.restoreHistory(nt),this.cancelNavigationTransition(nt,"At least one route resolver didn't emit any value."))}}))}),(0,Kn.b)(nt=>{const Ot=new bt(nt.id,this.serializeUrl(nt.extractedUrl),this.serializeUrl(nt.urlAfterRedirects),nt.targetSnapshot);this.triggerEvent(Ot)}))}),ju(Ee=>{const{targetSnapshot:nt,id:Ot,extractedUrl:Ut,rawUrl:vn,extras:{skipLocationChange:or,replaceUrl:Rt}}=Ee;return this.hooks.afterPreactivation(nt,{navigationId:Ot,appliedUrlTree:Ut,rawUrlTree:vn,skipLocationChange:!!or,replaceUrl:!!Rt})}),(0,mt.U)(Ee=>{const nt=function(R,b,C){const x=Hi(R,b._root,C?C._root:void 0);return new ys(x,b)}(this.routeReuseStrategy,Ee.targetSnapshot,Ee.currentRouterState);return Object.assign(Object.assign({},Ee),{targetRouterState:nt})}),(0,Kn.b)(Ee=>{this.currentUrlTree=Ee.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,Ee.rawUrl),this.routerState=Ee.targetRouterState,"deferred"===this.urlUpdateStrategy&&(Ee.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,Ee),this.browserUrlTree=Ee.urlAfterRedirects)}),((R,b,C)=>(0,mt.U)(x=>(new mo(b,x.targetRouterState,x.currentRouterState,C).activate(R),x)))(this.rootContexts,this.routeReuseStrategy,Ee=>this.triggerEvent(Ee)),(0,Kn.b)({next(){Z=!0},complete(){Z=!0}}),function(R){return b=>b.lift(new jt(R))}(()=>{if(!Z&&!le){const Ee=`Navigation ID ${H.id} is not equal to the current navigation id ${this.navigationId}`;"replace"===this.canceledNavigationResolution?(this.restoreHistory(H),this.cancelNavigationTransition(H,Ee)):this.cancelNavigationTransition(H,Ee)}this.currentNavigation=null}),Ae(Ee=>{if(le=!0,function(R){return R&&R[se]}(Ee)){const nt=O(Ee.url);nt||(this.navigated=!0,this.restoreHistory(H,!0));const Ot=new Ur(H.id,this.serializeUrl(H.extractedUrl),Ee.message);x.next(Ot),nt?setTimeout(()=>{const Ut=this.urlHandlingStrategy.merge(Ee.url,this.rawUrlTree),vn={skipLocationChange:H.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||si(H.source)};this.scheduleNavigation(Ut,"imperative",null,vn,{resolve:H.resolve,reject:H.reject,promise:H.promise})},0):H.resolve(!1)}else{this.restoreHistory(H,!0);const nt=new Fe(H.id,this.serializeUrl(H.extractedUrl),Ee);x.next(nt);try{H.resolve(this.errorHandler(Ee))}catch(Ot){H.reject(Ot)}}return lt.E}))}))}resetRootComponentType(C){this.rootComponentType=C,this.routerState.root.component=this.rootComponentType}getTransition(){const C=this.transitions.value;return C.urlAfterRedirects=this.browserUrlTree,C}setTransition(C){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),C))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(C=>{const x=this.extractLocationChangeInfoFromEvent(C);this.shouldScheduleNavigation(this.lastLocationChangeInfo,x)&&setTimeout(()=>{const{source:H,state:Z,urlTree:le}=x,Ee={replaceUrl:!0};if(Z){const nt=Object.assign({},Z);delete nt.navigationId,delete nt.\u0275routerPageId,0!==Object.keys(nt).length&&(Ee.state=nt)}this.scheduleNavigation(le,H,Z,Ee)},0),this.lastLocationChangeInfo=x}))}extractLocationChangeInfoFromEvent(C){var x;return{source:"popstate"===C.type?"popstate":"hashchange",urlTree:this.parseUrl(C.url),state:(null===(x=C.state)||void 0===x?void 0:x.navigationId)?C.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(C,x){if(!C)return!0;const H=x.urlTree.toString()===C.urlTree.toString();return x.transitionId!==C.transitionId||!H||!("hashchange"===x.source&&"popstate"===C.source||"popstate"===x.source&&"hashchange"===C.source)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(C){this.events.next(C)}resetConfig(C){me(C),this.config=C.map(kt),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(C,x={}){const{relativeTo:H,queryParams:Z,fragment:le,queryParamsHandling:Ee,preserveFragment:nt}=x,Ot=H||this.routerState.root,Ut=nt?this.currentUrlTree.fragment:le;let vn=null;switch(Ee){case"merge":vn=Object.assign(Object.assign({},this.currentUrlTree.queryParams),Z);break;case"preserve":vn=this.currentUrlTree.queryParams;break;default:vn=Z||null}return null!==vn&&(vn=this.removeEmptyProps(vn)),function(R,b,C,x,H){if(0===C.length)return Jr(b.root,b.root,b,x,H);const Z=function(R){if("string"==typeof R[0]&&1===R.length&&"/"===R[0])return new li(!0,0,R);let b=0,C=!1;const x=R.reduce((H,Z,le)=>{if("object"==typeof Z&&null!=Z){if(Z.outlets){const Ee={};return $t(Z.outlets,(nt,Ot)=>{Ee[Ot]="string"==typeof nt?nt.split("/"):nt}),[...H,{outlets:Ee}]}if(Z.segmentPath)return[...H,Z.segmentPath]}return"string"!=typeof Z?[...H,Z]:0===le?(Z.split("/").forEach((Ee,nt)=>{0==nt&&"."===Ee||(0==nt&&""===Ee?C=!0:".."===Ee?b++:""!=Ee&&H.push(Ee))}),H):[...H,Z]},[]);return new li(C,b,x)}(C);if(Z.toRoot())return Jr(b.root,new qt([],{}),b,x,H);const le=function(R,b,C){if(R.isAbsolute)return new Ei(b.root,!0,0);if(-1===C.snapshot._lastPathIndex){const Z=C.snapshot._urlSegment;return new Ei(Z,Z===b.root,0)}const x=ss(R.commands[0])?0:1;return function(R,b,C){let x=R,H=b,Z=C;for(;Z>H;){if(Z-=H,x=x.parent,!x)throw new Error("Invalid number of '../'");H=x.segments.length}return new Ei(x,!1,H-Z)}(C.snapshot._urlSegment,C.snapshot._lastPathIndex+x,R.numberOfDoubleDots)}(Z,b,R),Ee=le.processChildren?Ni(le.segmentGroup,le.index,Z.commands):os(le.segmentGroup,le.index,Z.commands);return Jr(le.segmentGroup,Ee,b,x,H)}(Ot,this.currentUrlTree,C,vn,null!=Ut?Ut:null)}navigateByUrl(C,x={skipLocationChange:!1}){const H=O(C)?C:this.parseUrl(C),Z=this.urlHandlingStrategy.merge(H,this.rawUrlTree);return this.scheduleNavigation(Z,"imperative",null,x)}navigate(C,x={skipLocationChange:!1}){return function(R){for(let b=0;b<R.length;b++){const C=R[b];if(null==C)throw new Error(`The requested path contains ${C} segment at index ${b}`)}}(C),this.navigateByUrl(this.createUrlTree(C,x),x)}serializeUrl(C){return this.urlSerializer.serialize(C)}parseUrl(C){let x;try{x=this.urlSerializer.parse(C)}catch(H){x=this.malformedUriErrorHandler(H,this.urlSerializer,C)}return x}isActive(C,x){let H;if(H=!0===x?Object.assign({},cu):!1===x?Object.assign({},Ja):x,O(C))return es(this.currentUrlTree,C,H);const Z=this.parseUrl(C);return es(this.currentUrlTree,Z,H)}removeEmptyProps(C){return Object.keys(C).reduce((x,H)=>{const Z=C[H];return null!=Z&&(x[H]=Z),x},{})}processNavigations(){this.navigations.subscribe(C=>{this.navigated=!0,this.lastSuccessfulId=C.id,this.currentPageId=C.targetPageId,this.events.next(new Cn(C.id,this.serializeUrl(C.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,C.resolve(!0)},C=>{this.console.warn("Unhandled Navigation Error: ")})}scheduleNavigation(C,x,H,Z,le){var Ee,nt;if(this.disposed)return Promise.resolve(!1);const Ot=this.getTransition(),Ut=si(x)&&Ot&&!si(Ot.source),Rt=(this.lastSuccessfulId===Ot.id||this.currentNavigation?Ot.rawUrl:Ot.urlAfterRedirects).toString()===C.toString();if(Ut&&Rt)return Promise.resolve(!0);let Zr,ki,Zn;le?(Zr=le.resolve,ki=le.reject,Zn=le.promise):Zn=new Promise((ls,Hu)=>{Zr=ls,ki=Hu});const ln=++this.navigationId;let Ki;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(H=this.location.getState()),Ki=H&&H.\u0275routerPageId?H.\u0275routerPageId:Z.replaceUrl||Z.skipLocationChange?null!==(Ee=this.browserPageId)&&void 0!==Ee?Ee:0:(null!==(nt=this.browserPageId)&&void 0!==nt?nt:0)+1):Ki=0,this.setTransition({id:ln,targetPageId:Ki,source:x,restoredState:H,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:C,extras:Z,resolve:Zr,reject:ki,promise:Zn,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Zn.catch(ls=>Promise.reject(ls))}setBrowserUrl(C,x){const H=this.urlSerializer.serialize(C),Z=Object.assign(Object.assign({},x.extras.state),this.generateNgRouterState(x.id,x.targetPageId));this.location.isCurrentPathEqualTo(H)||x.extras.replaceUrl?this.location.replaceState(H,"",Z):this.location.go(H,"",Z)}restoreHistory(C,x=!1){var H,Z;if("computed"===this.canceledNavigationResolution){const le=this.currentPageId-C.targetPageId;"popstate"!==C.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(H=this.currentNavigation)||void 0===H?void 0:H.finalUrl)||0===le?this.currentUrlTree===(null===(Z=this.currentNavigation)||void 0===Z?void 0:Z.finalUrl)&&0===le&&(this.resetState(C),this.browserUrlTree=C.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(le)}else"replace"===this.canceledNavigationResolution&&(x&&this.resetState(C),this.resetUrlToCurrentUrlTree())}resetState(C){this.routerState=C.currentRouterState,this.currentUrlTree=C.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,C.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(C,x){const H=new Ur(C.id,this.serializeUrl(C.extractedUrl),x);this.triggerEvent(H),C.resolve(!1)}generateNgRouterState(C,x){return"computed"===this.canceledNavigationResolution?{navigationId:C,\u0275routerPageId:x}:{navigationId:C}}}return R.\u0275fac=function(C){return new(C||R)(U.LFG(U.DyG),U.LFG(ti),U.LFG(ia),U.LFG(D.Ye),U.LFG(U.zs3),U.LFG(U.v3s),U.LFG(U.Sil),U.LFG(void 0))},R.\u0275prov=U.Yz7({token:R,factory:R.\u0275fac}),R})();function si(R){return"imperative"!==R}let Cs=(()=>{class R{constructor(C,x,H){this.router=C,this.route=x,this.locationStrategy=H,this.commands=[],this.onChanges=new oe.xQ,this.subscription=C.events.subscribe(Z=>{Z instanceof Cn&&this.updateTargetUrlAndHref()})}set routerLink(C){this.commands=null!=C?Array.isArray(C)?C:[C]:[]}ngOnChanges(C){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(C,x,H,Z,le){if(0!==C||x||H||Z||le||"string"==typeof this.target&&"_self"!=this.target)return!0;const Ee={skipLocationChange:ks(this.skipLocationChange),replaceUrl:ks(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,Ee),!1}updateTargetUrlAndHref(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:ks(this.preserveFragment)})}}return R.\u0275fac=function(C){return new(C||R)(U.Y36(di),U.Y36(Hr),U.Y36(D.S$))},R.\u0275dir=U.lG2({type:R,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(C,x){1&C&&U.NdJ("click",function(Z){return x.onClick(Z.button,Z.ctrlKey,Z.shiftKey,Z.altKey,Z.metaKey)}),2&C&&(U.Ikx("href",x.href,U.LSH),U.uIk("target",x.target))},inputs:{routerLink:"routerLink",target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo"},features:[U.TTD]}),R})();function ks(R){return""===R||!!R}let xi=(()=>{class R{constructor(C,x,H,Z,le){this.parentContexts=C,this.location=x,this.resolver=H,this.changeDetector=le,this.activated=null,this._activatedRoute=null,this.activateEvents=new U.vpe,this.deactivateEvents=new U.vpe,this.name=Z||Nt,C.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const C=this.parentContexts.getContext(this.name);C&&C.route&&(C.attachRef?this.attach(C.attachRef,C.route):this.activateWith(C.route,C.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const C=this.activated;return this.activated=null,this._activatedRoute=null,C}attach(C,x){this.activated=C,this._activatedRoute=x,this.location.insert(C.hostView)}deactivate(){if(this.activated){const C=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(C)}}activateWith(C,x){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=C;const le=(x=x||this.resolver).resolveComponentFactory(C._futureSnapshot.routeConfig.component),Ee=this.parentContexts.getOrCreateContext(this.name).children,nt=new Xn(C,Ee,this.location.injector);this.activated=this.location.createComponent(le,this.location.length,nt),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return R.\u0275fac=function(C){return new(C||R)(U.Y36(ia),U.Y36(U.s_b),U.Y36(U._Vd),U.$8M("name"),U.Y36(U.sBO))},R.\u0275dir=U.lG2({type:R,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),R})();class Xn{constructor(b,C,x){this.route=b,this.childContexts=C,this.parent=x}get(b,C){return b===Hr?this.route:b===ia?this.childContexts:this.parent.get(b,C)}}class fu{}class Aa{preload(b,C){return(0,Qe.of)(null)}}let oa=(()=>{class R{constructor(C,x,H,Z,le){this.router=C,this.injector=Z,this.preloadingStrategy=le,this.loader=new ra(x,H,Ot=>C.triggerEvent(new gt(Ot)),Ot=>C.triggerEvent(new Et(Ot)))}setUpPreloading(){this.subscription=this.router.events.pipe((0,ze.h)(C=>C instanceof Cn),(0,Vr.b)(()=>this.preload())).subscribe(()=>{})}preload(){const C=this.injector.get(U.h0i);return this.processRoutes(C,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(C,x){const H=[];for(const Z of x)if(Z.loadChildren&&!Z.canLoad&&Z._loadedConfig){const le=Z._loadedConfig;H.push(this.processRoutes(le.module,le.routes))}else Z.loadChildren&&!Z.canLoad?H.push(this.preloadConfig(C,Z)):Z.children&&H.push(this.processRoutes(C,Z.children));return(0,Ye.D)(H).pipe((0,ur.J)(),(0,mt.U)(Z=>{}))}preloadConfig(C,x){return this.preloadingStrategy.preload(x,()=>(x._loadedConfig?(0,Qe.of)(x._loadedConfig):this.loader.load(C.injector,x)).pipe((0,dn.zg)(Z=>(x._loadedConfig=Z,this.processRoutes(Z.module,Z.routes)))))}}return R.\u0275fac=function(C){return new(C||R)(U.LFG(di),U.LFG(U.v3s),U.LFG(U.Sil),U.LFG(U.zs3),U.LFG(fu))},R.\u0275prov=U.Yz7({token:R,factory:R.\u0275fac}),R})(),Co=(()=>{class R{constructor(C,x,H={}){this.router=C,this.viewportScroller=x,this.options=H,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},H.scrollPositionRestoration=H.scrollPositionRestoration||"disabled",H.anchorScrolling=H.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(C=>{C instanceof Pn?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=C.navigationTrigger,this.restoredId=C.restoredState?C.restoredState.navigationId:0):C instanceof Cn&&(this.lastId=C.id,this.scheduleScrollEvent(C,this.router.parseUrl(C.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(C=>{C instanceof tr&&(C.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(C.position):C.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(C.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(C,x){this.router.triggerEvent(new tr(C,"popstate"===this.lastSource?this.store[this.restoredId]:null,x))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return R.\u0275fac=function(C){return new(C||R)(U.LFG(di),U.LFG(D.EM),U.LFG(void 0))},R.\u0275prov=U.Yz7({token:R,factory:R.\u0275fac}),R})();const Js=new U.OlP("ROUTER_CONFIGURATION"),bo=new U.OlP("ROUTER_FORROOT_GUARD"),Fs=[D.Ye,{provide:ti,useClass:Dt},{provide:di,useFactory:function(R,b,C,x,H,Z,le,Ee={},nt,Ot){const Ut=new di(null,R,b,C,x,H,Z,Sn(le));return nt&&(Ut.urlHandlingStrategy=nt),Ot&&(Ut.routeReuseStrategy=Ot),function(R,b){R.errorHandler&&(b.errorHandler=R.errorHandler),R.malformedUriErrorHandler&&(b.malformedUriErrorHandler=R.malformedUriErrorHandler),R.onSameUrlNavigation&&(b.onSameUrlNavigation=R.onSameUrlNavigation),R.paramsInheritanceStrategy&&(b.paramsInheritanceStrategy=R.paramsInheritanceStrategy),R.relativeLinkResolution&&(b.relativeLinkResolution=R.relativeLinkResolution),R.urlUpdateStrategy&&(b.urlUpdateStrategy=R.urlUpdateStrategy)}(Ee,Ut),Ee.enableTracing&&Ut.events.subscribe(vn=>{var or,Rt;null===(or=console.group)||void 0===or||or.call(console,`Router Event: ${vn.constructor.name}`),console.log(vn.toString()),console.log(vn),null===(Rt=console.groupEnd)||void 0===Rt||Rt.call(console)}),Ut},deps:[ti,ia,D.Ye,U.zs3,U.v3s,U.Sil,Sa,Js,[class{},new U.FiY],[class{},new U.FiY]]},ia,{provide:Hr,useFactory:function(R){return R.routerState.root},deps:[di]},{provide:U.v3s,useClass:U.EAV},oa,Aa,class{preload(b,C){return C().pipe(Ae(()=>(0,Qe.of)(null)))}},{provide:Js,useValue:{enableTracing:!1}}];function Io(){return new U.PXZ("Router",di)}let aa=(()=>{class R{constructor(C,x){}static forRoot(C,x){return{ngModule:R,providers:[Fs,kr(C),{provide:bo,useFactory:ua,deps:[[di,new U.FiY,new U.tp0]]},{provide:Js,useValue:x||{}},{provide:D.S$,useFactory:Mr,deps:[D.lw,[new U.tBr(D.mr),new U.FiY],Js]},{provide:Co,useFactory:Ac,deps:[di,D.EM,Js]},{provide:fu,useExisting:x&&x.preloadingStrategy?x.preloadingStrategy:Aa},{provide:U.PXZ,multi:!0,useFactory:Io},[Cr,{provide:U.ip1,multi:!0,useFactory:$o,deps:[Cr]},{provide:Lt,useFactory:Na,deps:[Cr]},{provide:U.tb,multi:!0,useExisting:Lt}]]}}static forChild(C){return{ngModule:R,providers:[kr(C)]}}}return R.\u0275fac=function(C){return new(C||R)(U.LFG(bo,8),U.LFG(di,8))},R.\u0275mod=U.oAB({type:R}),R.\u0275inj=U.cJS({}),R})();function Ac(R,b,C){return C.scrollOffset&&b.setOffset(C.scrollOffset),new Co(R,b,C)}function Mr(R,b,C={}){return C.useHash?new D.Do(R,b):new D.b0(R,b)}function ua(R){return"guarded"}function kr(R){return[{provide:U.deG,multi:!0,useValue:R},{provide:Sa,multi:!0,useValue:R}]}let Cr=(()=>{class R{constructor(C){this.injector=C,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new oe.xQ}appInitializer(){return this.injector.get(D.V_,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let x=null;const H=new Promise(Ee=>x=Ee),Z=this.injector.get(di),le=this.injector.get(Js);return"disabled"===le.initialNavigation?(Z.setUpLocationChangeListener(),x(!0)):"enabled"===le.initialNavigation||"enabledBlocking"===le.initialNavigation?(Z.hooks.afterPreactivation=()=>this.initNavigation?(0,Qe.of)(null):(this.initNavigation=!0,x(!0),this.resultOfPreactivationDone),Z.initialNavigation()):x(!0),H})}bootstrapListener(C){const x=this.injector.get(Js),H=this.injector.get(oa),Z=this.injector.get(Co),le=this.injector.get(di),Ee=this.injector.get(U.z2F);C===Ee.components[0]&&(("enabledNonBlocking"===x.initialNavigation||void 0===x.initialNavigation)&&le.initialNavigation(),H.setUpPreloading(),Z.init(),le.resetRootComponentType(Ee.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return R.\u0275fac=function(C){return new(C||R)(U.LFG(U.zs3))},R.\u0275prov=U.Yz7({token:R,factory:R.\u0275fac}),R})();function $o(R){return R.appInitializer.bind(R)}function Na(R){return R.bootstrapListener.bind(R)}const Lt=new U.OlP("Router Initializer")},4486:(Mt,Ke,W)=>{"use strict";W.d(Ke,{Z:()=>xe});var D=W(4685),U=W(6034),oe=W(5452),Ie=W(300);class Re{constructor(it,Ye){this._delegate=it,this.firebase=Ye,(0,oe._addComponent)(it,new U.wA("app-compat",()=>this,"PUBLIC")),this.container=it.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(it){this._delegate.automaticDataCollectionEnabled=it}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(it=>{this._delegate.checkDestroyed(),it()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,oe.deleteApp)(this._delegate)))}_getService(it,Ye=oe._DEFAULT_ENTRY_NAME){var lt;this._delegate.checkDestroyed();const dt=this._delegate.container.getProvider(it);return!dt.isInitialized()&&"EXPLICIT"===(null===(lt=dt.getComponent())||void 0===lt?void 0:lt.instantiationMode)&&dt.initialize(),dt.getImmediate({identifier:Ye})}_removeServiceInstance(it,Ye=oe._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(it).clearInstance(Ye)}_addComponent(it){(0,oe._addComponent)(this._delegate,it)}_addOrOverwriteComponent(it){(0,oe._addOrOverwriteComponent)(this._delegate,it)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const Ue=new D.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),ne=function fe(){const ke=function(ke){const it={},Ye={__esModule:!0,initializeApp:function(Ct,Ae={}){const Le=oe.initializeApp(Ct,Ae);if((0,D.r3)(it,Le.name))return it[Le.name];const Be=new ke(Le,Ye);return it[Le.name]=Be,Be},app:dt,registerVersion:oe.registerVersion,setLogLevel:oe.setLogLevel,onLog:oe.onLog,apps:null,SDK_VERSION:oe.SDK_VERSION,INTERNAL:{registerComponent:function(Ct){const Ae=Ct.name,Le=Ae.replace("-compat","");if(oe._registerComponent(Ct)&&"PUBLIC"===Ct.type){const Be=(ze=dt())=>{if("function"!=typeof ze[Le])throw Ue.create("invalid-app-argument",{appName:Ae});return ze[Le]()};void 0!==Ct.serviceProps&&(0,D.ZB)(Be,Ct.serviceProps),Ye[Le]=Be,ke.prototype[Le]=function(...ze){return this._getService.bind(this,Ae).apply(this,Ct.multipleInstances?ze:[])}}return"PUBLIC"===Ct.type?Ye[Le]:null},removeApp:function(Ct){delete it[Ct]},useAsService:function(Ct,Ae){return"serverAuth"===Ae?null:Ae},modularAPIs:oe}};function dt(Ct){if(!(0,D.r3)(it,Ct=Ct||oe._DEFAULT_ENTRY_NAME))throw Ue.create("no-app",{appName:Ct});return it[Ct]}return Ye.default=Ye,Object.defineProperty(Ye,"apps",{get:function(){return Object.keys(it).map(Ct=>it[Ct])}}),dt.App=ke,Ye}(Re);return ke.INTERNAL=Object.assign(Object.assign({},ke.INTERNAL),{createFirebaseNamespace:fe,extendNamespace:function(Ye){(0,D.ZB)(ke,Ye)},createSubscribe:D.ne,ErrorFactory:D.LL,deepExtend:D.ZB}),ke}(),ae=new Ie.Yd("@firebase/app-compat");if((0,D.jU)()&&void 0!==self.firebase){ae.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const ke=self.firebase.SDK_VERSION;ke&&ke.indexOf("LITE")>=0&&ae.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Ge=ne;(0,oe.registerVersion)("@firebase/app-compat","0.1.1",undefined);const xe=Ge},5452:(Mt,Ke,W)=>{"use strict";W.r(Ke),W.d(Ke,{FirebaseError:()=>Ie.ZR,SDK_VERSION:()=>Vr,_DEFAULT_ENTRY_NAME:()=>St,_addComponent:()=>tn,_addOrOverwriteComponent:()=>Ln,_apps:()=>It,_clearComponents:()=>Vn,_components:()=>en,_getProvider:()=>Ht,_registerComponent:()=>jt,_removeServiceInstance:()=>mt,deleteApp:()=>Qn,getApp:()=>dn,getApps:()=>Kn,initializeApp:()=>ir,onLog:()=>Pn,registerVersion:()=>hn,setLogLevel:()=>Cn});var D=W(8239),U=W(6034),oe=W(300),Ie=W(4685);class Re{constructor(ee){this.container=ee}getPlatformInfoString(){return this.container.getProviders().map(ye=>{if(function(Fe){const ee=Fe.getComponent();return"VERSION"===(null==ee?void 0:ee.type)}(ye)){const tt=ye.getImmediate();return`${tt.library}/${tt.version}`}return null}).filter(ye=>ye).join(" ")}}const Ue="@firebase/app",fe=new oe.Yd("@firebase/app"),St="[DEFAULT]",ft={[Ue]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},It=new Map,en=new Map;function tn(Fe,ee){try{Fe.container.addComponent(ee)}catch(ye){fe.debug(`Component ${ee.name} failed to register with FirebaseApp ${Fe.name}`,ye)}}function Ln(Fe,ee){Fe.container.addOrOverwriteComponent(ee)}function jt(Fe){const ee=Fe.name;if(en.has(ee))return fe.debug(`There were multiple attempts to register component ${ee}.`),!1;en.set(ee,Fe);for(const ye of It.values())tn(ye,Fe);return!0}function Ht(Fe,ee){return Fe.container.getProvider(ee)}function mt(Fe,ee,ye=St){Ht(Fe,ee).clearInstance(ye)}function Vn(){en.clear()}const Tn=new Ie.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function."});class wn{constructor(ee,ye,tt){this._isDeleted=!1,this._options=Object.assign({},ee),this._config=Object.assign({},ye),this._name=ye.name,this._automaticDataCollectionEnabled=ye.automaticDataCollectionEnabled,this._container=tt,this.container.addComponent(new U.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ee){this.checkDestroyed(),this._automaticDataCollectionEnabled=ee}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(ee){this._isDeleted=ee}checkDestroyed(){if(this.isDeleted)throw Tn.create("app-deleted",{appName:this._name})}}const Vr="9.0.0";function ir(Fe,ee={}){"object"!=typeof ee&&(ee={name:ee});const ye=Object.assign({name:St,automaticDataCollectionEnabled:!1},ee),tt=ye.name;if("string"!=typeof tt||!tt)throw Tn.create("bad-app-name",{appName:String(tt)});const Xe=It.get(tt);if(Xe){if((0,Ie.vZ)(Fe,Xe.options)&&(0,Ie.vZ)(ye,Xe.config))return Xe;throw Tn.create("duplicate-app",{appName:tt})}const bt=new U.H0(tt);for(const Et of en.values())bt.addComponent(Et);const gt=new wn(Fe,ye,bt);return It.set(tt,gt),gt}function dn(Fe=St){const ee=It.get(Fe);if(!ee)throw Tn.create("no-app",{appName:Fe});return ee}function Kn(){return Array.from(It.values())}function Qn(Fe){return ur.apply(this,arguments)}function ur(){return(ur=(0,D.Z)(function*(Fe){const ee=Fe.name;It.has(ee)&&(It.delete(ee),yield Promise.all(Fe.container.getProviders().map(ye=>ye.delete())),Fe.isDeleted=!0)})).apply(this,arguments)}function hn(Fe,ee,ye){var tt;let Xe=null!==(tt=ft[Fe])&&void 0!==tt?tt:Fe;ye&&(Xe+=`-${ye}`);const bt=Xe.match(/\s|\//),gt=ee.match(/\s|\//);if(bt||gt){const Et=[`Unable to register library "${Xe}" with version "${ee}":`];return bt&&Et.push(`library name "${Xe}" contains illegal characters (whitespace or "/")`),bt&&gt&&Et.push("and"),gt&&Et.push(`version name "${ee}" contains illegal characters (whitespace or "/")`),void fe.warn(Et.join(" "))}jt(new U.wA(`${Xe}-version`,()=>({library:Xe,version:ee}),"VERSION"))}function Pn(Fe,ee){if(null!==Fe&&"function"!=typeof Fe)throw Tn.create("invalid-log-argument");(0,oe.Am)(Fe,ee)}function Cn(Fe){(0,oe.Ub)(Fe)}jt(new U.wA("platform-logger",ee=>new Re(ee),"PRIVATE")),hn(Ue,"0.7.0",undefined),hn("fire-js","")},6034:(Mt,Ke,W)=>{"use strict";W.d(Ke,{wA:()=>oe,H0:()=>Ce});var D=W(4762),U=W(4685),oe=function(){function fe(ne,ae,pe){this.name=ne,this.instanceFactory=ae,this.type=pe,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return fe.prototype.setInstantiationMode=function(ne){return this.instantiationMode=ne,this},fe.prototype.setMultipleInstances=function(ne){return this.multipleInstances=ne,this},fe.prototype.setServiceProps=function(ne){return this.serviceProps=ne,this},fe.prototype.setInstanceCreatedCallback=function(ne){return this.onInstanceCreated=ne,this},fe}(),Ie="[DEFAULT]",Re=function(){function fe(ne,ae){this.name=ne,this.container=ae,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return fe.prototype.get=function(ne){var ae=this.normalizeInstanceIdentifier(ne);if(!this.instancesDeferred.has(ae)){var pe=new U.BH;if(this.instancesDeferred.set(ae,pe),this.isInitialized(ae)||this.shouldAutoInitialize())try{var de=this.getOrInitializeService({instanceIdentifier:ae});de&&pe.resolve(de)}catch(Te){}}return this.instancesDeferred.get(ae).promise},fe.prototype.getImmediate=function(ne){var ae,pe=this.normalizeInstanceIdentifier(null==ne?void 0:ne.identifier),de=null!==(ae=null==ne?void 0:ne.optional)&&void 0!==ae&&ae;if(!this.isInitialized(pe)&&!this.shouldAutoInitialize()){if(de)return null;throw Error("Service "+this.name+" is not available")}try{return this.getOrInitializeService({instanceIdentifier:pe})}catch(Te){if(de)return null;throw Te}},fe.prototype.getComponent=function(){return this.component},fe.prototype.setComponent=function(ne){var ae,pe;if(ne.name!==this.name)throw Error("Mismatching Component "+ne.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=ne,this.shouldAutoInitialize()){if(function(fe){return"EAGER"===fe.instantiationMode}(ne))try{this.getOrInitializeService({instanceIdentifier:Ie})}catch(lt){}try{for(var de=(0,D.XA)(this.instancesDeferred.entries()),Te=de.next();!Te.done;Te=de.next()){var Ge=(0,D.CR)(Te.value,2),ke=Ge[1],it=this.normalizeInstanceIdentifier(Ge[0]);try{var Ye=this.getOrInitializeService({instanceIdentifier:it});ke.resolve(Ye)}catch(lt){}}}catch(lt){ae={error:lt}}finally{try{Te&&!Te.done&&(pe=de.return)&&pe.call(de)}finally{if(ae)throw ae.error}}}},fe.prototype.clearInstance=function(ne){void 0===ne&&(ne=Ie),this.instancesDeferred.delete(ne),this.instancesOptions.delete(ne),this.instances.delete(ne)},fe.prototype.delete=function(){return(0,D.mG)(this,void 0,void 0,function(){var ne;return(0,D.Jh)(this,function(ae){switch(ae.label){case 0:return ne=Array.from(this.instances.values()),[4,Promise.all((0,D.ev)((0,D.ev)([],(0,D.CR)(ne.filter(function(pe){return"INTERNAL"in pe}).map(function(pe){return pe.INTERNAL.delete()}))),(0,D.CR)(ne.filter(function(pe){return"_delete"in pe}).map(function(pe){return pe._delete()}))))];case 1:return ae.sent(),[2]}})})},fe.prototype.isComponentSet=function(){return null!=this.component},fe.prototype.isInitialized=function(ne){return void 0===ne&&(ne=Ie),this.instances.has(ne)},fe.prototype.getOptions=function(ne){return void 0===ne&&(ne=Ie),this.instancesOptions.get(ne)||{}},fe.prototype.initialize=function(ne){var ae,pe;void 0===ne&&(ne={});var de=ne.options,Te=void 0===de?{}:de,Ge=this.normalizeInstanceIdentifier(ne.instanceIdentifier);if(this.isInitialized(Ge))throw Error(this.name+"("+Ge+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var xe=this.getOrInitializeService({instanceIdentifier:Ge,options:Te});try{for(var ke=(0,D.XA)(this.instancesDeferred.entries()),it=ke.next();!it.done;it=ke.next()){var Ye=(0,D.CR)(it.value,2),dt=Ye[1];Ge===this.normalizeInstanceIdentifier(Ye[0])&&dt.resolve(xe)}}catch(we){ae={error:we}}finally{try{it&&!it.done&&(pe=ke.return)&&pe.call(ke)}finally{if(ae)throw ae.error}}return xe},fe.prototype.onInit=function(ne,ae){var pe,de=this.normalizeInstanceIdentifier(ae),Te=null!==(pe=this.onInitCallbacks.get(de))&&void 0!==pe?pe:new Set;Te.add(ne),this.onInitCallbacks.set(de,Te);var Ge=this.instances.get(de);return Ge&&ne(Ge,de),function(){Te.delete(ne)}},fe.prototype.invokeOnInitCallbacks=function(ne,ae){var pe,de,Te=this.onInitCallbacks.get(ae);if(Te)try{for(var Ge=(0,D.XA)(Te),xe=Ge.next();!xe.done;xe=Ge.next()){var ke=xe.value;try{ke(ne,ae)}catch(it){}}}catch(it){pe={error:it}}finally{try{xe&&!xe.done&&(de=Ge.return)&&de.call(Ge)}finally{if(pe)throw pe.error}}},fe.prototype.getOrInitializeService=function(ne){var ae=ne.instanceIdentifier,pe=ne.options,de=void 0===pe?{}:pe,Te=this.instances.get(ae);if(!Te&&this.component&&(Te=this.component.instanceFactory(this.container,{instanceIdentifier:ve(ae),options:de}),this.instances.set(ae,Te),this.instancesOptions.set(ae,de),this.invokeOnInitCallbacks(Te,ae),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,ae,Te)}catch(Ge){}return Te||null},fe.prototype.normalizeInstanceIdentifier=function(ne){return void 0===ne&&(ne=Ie),this.component?this.component.multipleInstances?ne:Ie:ne},fe.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},fe}();function ve(fe){return fe===Ie?void 0:fe}var Ce=function(){function fe(ne){this.name=ne,this.providers=new Map}return fe.prototype.addComponent=function(ne){var ae=this.getProvider(ne.name);if(ae.isComponentSet())throw new Error("Component "+ne.name+" has already been registered with "+this.name);ae.setComponent(ne)},fe.prototype.addOrOverwriteComponent=function(ne){this.getProvider(ne.name).isComponentSet()&&this.providers.delete(ne.name),this.addComponent(ne)},fe.prototype.getProvider=function(ne){if(this.providers.has(ne))return this.providers.get(ne);var ae=new Re(ne,this);return this.providers.set(ne,ae),ae},fe.prototype.getProviders=function(){return Array.from(this.providers.values())},fe}()},300:(Mt,Ke,W)=>{"use strict";function D(){for(var pe=0,de=0,Te=arguments.length;de<Te;de++)pe+=arguments[de].length;var Ge=Array(pe),xe=0;for(de=0;de<Te;de++)for(var ke=arguments[de],it=0,Ye=ke.length;it<Ye;it++,xe++)Ge[xe]=ke[it];return Ge}W.d(Ke,{in:()=>Ie,Yd:()=>fe,Ub:()=>ne,Am:()=>ae});var U,oe=[],Ie=(()=>{return(pe=Ie||(Ie={}))[pe.DEBUG=0]="DEBUG",pe[pe.VERBOSE=1]="VERBOSE",pe[pe.INFO=2]="INFO",pe[pe.WARN=3]="WARN",pe[pe.ERROR=4]="ERROR",pe[pe.SILENT=5]="SILENT",Ie;var pe})(),Re={debug:Ie.DEBUG,verbose:Ie.VERBOSE,info:Ie.INFO,warn:Ie.WARN,error:Ie.ERROR,silent:Ie.SILENT},ve=Ie.INFO,Ue=((U={})[Ie.DEBUG]="log",U[Ie.VERBOSE]="log",U[Ie.INFO]="info",U[Ie.WARN]="warn",U[Ie.ERROR]="error",U),Ce=function(pe,de){for(var Te=[],Ge=2;Ge<arguments.length;Ge++)Te[Ge-2]=arguments[Ge];if(!(de<pe.logLevel)){var xe=(new Date).toISOString(),ke=Ue[de];if(!ke)throw new Error("Attempted to log a message with an invalid logType (value: "+de+")");console[ke].apply(console,D(["["+xe+"]  "+pe.name+":"],Te))}},fe=function(){function pe(de){this.name=de,this._logLevel=ve,this._logHandler=Ce,this._userLogHandler=null,oe.push(this)}return Object.defineProperty(pe.prototype,"logLevel",{get:function(){return this._logLevel},set:function(de){if(!(de in Ie))throw new TypeError('Invalid value "'+de+'" assigned to `logLevel`');this._logLevel=de},enumerable:!1,configurable:!0}),pe.prototype.setLogLevel=function(de){this._logLevel="string"==typeof de?Re[de]:de},Object.defineProperty(pe.prototype,"logHandler",{get:function(){return this._logHandler},set:function(de){if("function"!=typeof de)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=de},enumerable:!1,configurable:!0}),Object.defineProperty(pe.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(de){this._userLogHandler=de},enumerable:!1,configurable:!0}),pe.prototype.debug=function(){for(var de=[],Te=0;Te<arguments.length;Te++)de[Te]=arguments[Te];this._userLogHandler&&this._userLogHandler.apply(this,D([this,Ie.DEBUG],de)),this._logHandler.apply(this,D([this,Ie.DEBUG],de))},pe.prototype.log=function(){for(var de=[],Te=0;Te<arguments.length;Te++)de[Te]=arguments[Te];this._userLogHandler&&this._userLogHandler.apply(this,D([this,Ie.VERBOSE],de)),this._logHandler.apply(this,D([this,Ie.VERBOSE],de))},pe.prototype.info=function(){for(var de=[],Te=0;Te<arguments.length;Te++)de[Te]=arguments[Te];this._userLogHandler&&this._userLogHandler.apply(this,D([this,Ie.INFO],de)),this._logHandler.apply(this,D([this,Ie.INFO],de))},pe.prototype.warn=function(){for(var de=[],Te=0;Te<arguments.length;Te++)de[Te]=arguments[Te];this._userLogHandler&&this._userLogHandler.apply(this,D([this,Ie.WARN],de)),this._logHandler.apply(this,D([this,Ie.WARN],de))},pe.prototype.error=function(){for(var de=[],Te=0;Te<arguments.length;Te++)de[Te]=arguments[Te];this._userLogHandler&&this._userLogHandler.apply(this,D([this,Ie.ERROR],de)),this._logHandler.apply(this,D([this,Ie.ERROR],de))},pe}();function ne(pe){oe.forEach(function(de){de.setLogLevel(pe)})}function ae(pe,de){for(var Te=function(it){var Ye=null;de&&de.level&&(Ye=Re[de.level]),it.userLogHandler=null===pe?null:function(lt,dt){for(var Qe=[],we=2;we<arguments.length;we++)Qe[we-2]=arguments[we];var We=Qe.map(function(Jt){if(null==Jt)return null;if("string"==typeof Jt)return Jt;if("number"==typeof Jt||"boolean"==typeof Jt)return Jt.toString();if(Jt instanceof Error)return Jt.message;try{return JSON.stringify(Jt)}catch(Ct){return null}}).filter(function(Jt){return Jt}).join(" ");dt>=(null!=Ye?Ye:lt.logLevel)&&pe({level:Ie[dt].toLowerCase(),message:We,args:Qe,type:lt.name})}},Ge=0,xe=oe;Ge<xe.length;Ge++)Te(xe[Ge])}},4685:(Mt,Ke,W)=>{"use strict";W.d(Ke,{BH:()=>Te,LL:()=>at,ZR:()=>ue,tV:()=>ne,r3:()=>mt,Sg:()=>Ge,ne:()=>ur,vZ:()=>wn,ZB:()=>pe,pd:()=>Kn,m9:()=>on,z$:()=>xe,jU:()=>Ye,ru:()=>lt,d:()=>Qe,xb:()=>xn,w1:()=>we,hl:()=>Ae,uI:()=>ke,UG:()=>it,b$:()=>dt,G6:()=>Ct,Mn:()=>We,xO:()=>ir,zd:()=>dn});var D=W(4762),Re=function(_e){for(var se=[],Se=0,je=0;je<_e.length;je++){var Me=_e.charCodeAt(je);Me<128?se[Se++]=Me:Me<2048?(se[Se++]=Me>>6|192,se[Se++]=63&Me|128):55296==(64512&Me)&&je+1<_e.length&&56320==(64512&_e.charCodeAt(je+1))?(Me=65536+((1023&Me)<<10)+(1023&_e.charCodeAt(++je)),se[Se++]=Me>>18|240,se[Se++]=Me>>12&63|128,se[Se++]=Me>>6&63|128,se[Se++]=63&Me|128):(se[Se++]=Me>>12|224,se[Se++]=Me>>6&63|128,se[Se++]=63&Me|128)}return se},Ue={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(_e,se){if(!Array.isArray(_e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var Se=se?this.byteToCharMapWebSafe_:this.byteToCharMap_,je=[],Me=0;Me<_e.length;Me+=3){var rt=_e[Me],xt=Me+1<_e.length,_n=xt?_e[Me+1]:0,Sn=Me+2<_e.length,fn=Sn?_e[Me+2]:0,Rn=(15&_n)<<2|fn>>6,hs=63&fn;Sn||(hs=64,xt||(Rn=64)),je.push(Se[rt>>2],Se[(3&rt)<<4|_n>>4],Se[Rn],Se[hs])}return je.join("")},encodeString:function(_e,se){return this.HAS_NATIVE_SUPPORT&&!se?btoa(_e):this.encodeByteArray(Re(_e),se)},decodeString:function(_e,se){return this.HAS_NATIVE_SUPPORT&&!se?atob(_e):function(_e){for(var se=[],Se=0,je=0;Se<_e.length;){var Me=_e[Se++];if(Me<128)se[je++]=String.fromCharCode(Me);else if(Me>191&&Me<224){var rt=_e[Se++];se[je++]=String.fromCharCode((31&Me)<<6|63&rt)}else if(Me>239&&Me<365){var Sn=((7&Me)<<18|(63&(rt=_e[Se++]))<<12|(63&(xt=_e[Se++]))<<6|63&_e[Se++])-65536;se[je++]=String.fromCharCode(55296+(Sn>>10)),se[je++]=String.fromCharCode(56320+(1023&Sn))}else{rt=_e[Se++];var xt=_e[Se++];se[je++]=String.fromCharCode((15&Me)<<12|(63&rt)<<6|63&xt)}}return se.join("")}(this.decodeStringToByteArray(_e,se))},decodeStringToByteArray:function(_e,se){this.init_();for(var Se=se?this.charToByteMapWebSafe_:this.charToByteMap_,je=[],Me=0;Me<_e.length;){var rt=Se[_e.charAt(Me++)],_n=Me<_e.length?Se[_e.charAt(Me)]:0,fn=++Me<_e.length?Se[_e.charAt(Me)]:64,$t=++Me<_e.length?Se[_e.charAt(Me)]:64;if(++Me,null==rt||null==_n||null==fn||null==$t)throw Error();je.push(rt<<2|_n>>4),64!==fn&&(je.push(_n<<4&240|fn>>2),64!==$t&&je.push(fn<<6&192|$t))}return je},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var _e=0;_e<this.ENCODED_VALS.length;_e++)this.byteToCharMap_[_e]=this.ENCODED_VALS.charAt(_e),this.charToByteMap_[this.byteToCharMap_[_e]]=_e,this.byteToCharMapWebSafe_[_e]=this.ENCODED_VALS_WEBSAFE.charAt(_e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[_e]]=_e,_e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(_e)]=_e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(_e)]=_e)}}},fe=function(_e){return function(_e){var se=Re(_e);return Ue.encodeByteArray(se,!0)}(_e).replace(/\./g,"")},ne=function(_e){try{return Ue.decodeString(_e,!0)}catch(se){console.error("base64Decode failed: ",se)}return null};function pe(_e,se){if(!(se instanceof Object))return se;switch(se.constructor){case Date:return new Date(se.getTime());case Object:void 0===_e&&(_e={});break;case Array:_e=[];break;default:return se}for(var je in se)!se.hasOwnProperty(je)||!de(je)||(_e[je]=pe(_e[je],se[je]));return _e}function de(_e){return"__proto__"!==_e}var Te=function(){function _e(){var se=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(Se,je){se.resolve=Se,se.reject=je})}return _e.prototype.wrapCallback=function(se){var Se=this;return function(je,Me){je?Se.reject(je):Se.resolve(Me),"function"==typeof se&&(Se.promise.catch(function(){}),1===se.length?se(je):se(je,Me))}},_e}();function Ge(_e,se){if(_e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var je=se||"demo-project",Me=_e.iat||0,rt=_e.sub||_e.user_id;if(!rt)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var xt=(0,D.pi)({iss:"https://securetoken.google.com/"+je,aud:je,iat:Me,exp:Me+3600,auth_time:Me,sub:rt,user_id:rt,firebase:{sign_in_provider:"custom",identities:{}}},_e);return[fe(JSON.stringify({alg:"none",type:"JWT"})),fe(JSON.stringify(xt)),""].join(".")}function xe(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function ke(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(xe())}function it(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(_e){return!1}}function Ye(){return"object"==typeof self&&self.self===self}function lt(){var _e="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof _e&&void 0!==_e.id}function dt(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Qe(){return xe().indexOf("Electron/")>=0}function we(){var _e=xe();return _e.indexOf("MSIE ")>=0||_e.indexOf("Trident/")>=0}function We(){return xe().indexOf("MSAppHost/")>=0}function Ct(){return!it()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Ae(){return"indexedDB"in self&&null!=indexedDB}var ue=function(_e){function se(Se,je,Me){var rt=_e.call(this,je)||this;return rt.code=Se,rt.customData=Me,rt.name="FirebaseError",Object.setPrototypeOf(rt,se.prototype),Error.captureStackTrace&&Error.captureStackTrace(rt,at.prototype.create),rt}return(0,D.ZT)(se,_e),se}(Error),at=function(){function _e(se,Se,je){this.service=se,this.serviceName=Se,this.errors=je}return _e.prototype.create=function(se){for(var Se=[],je=1;je<arguments.length;je++)Se[je-1]=arguments[je];var Me=Se[0]||{},rt=this.service+"/"+se,xt=this.errors[se],_n=xt?ut(xt,Me):"Error",Sn=this.serviceName+": "+_n+" ("+rt+").",fn=new ue(rt,Sn,Me);return fn},_e}();function ut(_e,se){return _e.replace(St,function(Se,je){var Me=se[je];return null!=Me?String(Me):"<"+je+"?>"})}var St=/\{\$([^}]+)}/g;function mt(_e,se){return Object.prototype.hasOwnProperty.call(_e,se)}function xn(_e){for(var se in _e)if(Object.prototype.hasOwnProperty.call(_e,se))return!1;return!0}function wn(_e,se){if(_e===se)return!0;for(var Se=Object.keys(_e),je=Object.keys(se),Me=0,rt=Se;Me<rt.length;Me++){if(!je.includes(xt=rt[Me]))return!1;var _n=_e[xt],Sn=se[xt];if(Vr(_n)&&Vr(Sn)){if(!wn(_n,Sn))return!1}else if(_n!==Sn)return!1}for(var fn=0,gr=je;fn<gr.length;fn++){var xt;if(!Se.includes(xt=gr[fn]))return!1}return!0}function Vr(_e){return null!==_e&&"object"==typeof _e}function ir(_e){for(var se=[],Se=function(Sn,fn){Array.isArray(fn)?fn.forEach(function(gr){se.push(encodeURIComponent(Sn)+"="+encodeURIComponent(gr))}):se.push(encodeURIComponent(Sn)+"="+encodeURIComponent(fn))},je=0,Me=Object.entries(_e);je<Me.length;je++){var rt=Me[je];Se(rt[0],rt[1])}return se.length?"&"+se.join("&"):""}function dn(_e){var se={};return _e.replace(/^\?/,"").split("&").forEach(function(je){if(je){var Me=je.split("="),xt=Me[1];se[decodeURIComponent(Me[0])]=decodeURIComponent(xt)}}),se}function Kn(_e){var se=_e.indexOf("?");if(!se)return"";var Se=_e.indexOf("#",se);return _e.substring(se,Se>0?Se:void 0)}function ur(_e,se){var Se=new hn(_e,se);return Se.subscribe.bind(Se)}!function(){function _e(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var se=1;se<this.blockSize;++se)this.pad_[se]=0;this.reset()}_e.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},_e.prototype.compress_=function(se,Se){Se||(Se=0);var je=this.W_;if("string"==typeof se)for(var Me=0;Me<16;Me++)je[Me]=se.charCodeAt(Se)<<24|se.charCodeAt(Se+1)<<16|se.charCodeAt(Se+2)<<8|se.charCodeAt(Se+3),Se+=4;else for(Me=0;Me<16;Me++)je[Me]=se[Se]<<24|se[Se+1]<<16|se[Se+2]<<8|se[Se+3],Se+=4;for(Me=16;Me<80;Me++)je[Me]=4294967295&((rt=je[Me-3]^je[Me-8]^je[Me-14]^je[Me-16])<<1|rt>>>31);var $t,Rn,xt=this.chain_[0],_n=this.chain_[1],Sn=this.chain_[2],fn=this.chain_[3],gr=this.chain_[4];for(Me=0;Me<80;Me++){Me<40?Me<20?($t=fn^_n&(Sn^fn),Rn=1518500249):($t=_n^Sn^fn,Rn=1859775393):Me<60?($t=_n&Sn|fn&(_n|Sn),Rn=2400959708):($t=_n^Sn^fn,Rn=3395469782);var rt=(xt<<5|xt>>>27)+$t+gr+Rn+je[Me]&4294967295;gr=fn,fn=Sn,Sn=4294967295&(_n<<30|_n>>>2),_n=xt,xt=rt}this.chain_[0]=this.chain_[0]+xt&4294967295,this.chain_[1]=this.chain_[1]+_n&4294967295,this.chain_[2]=this.chain_[2]+Sn&4294967295,this.chain_[3]=this.chain_[3]+fn&4294967295,this.chain_[4]=this.chain_[4]+gr&4294967295},_e.prototype.update=function(se,Se){if(null!=se){void 0===Se&&(Se=se.length);for(var je=Se-this.blockSize,Me=0,rt=this.buf_,xt=this.inbuf_;Me<Se;){if(0===xt)for(;Me<=je;)this.compress_(se,Me),Me+=this.blockSize;if("string"==typeof se){for(;Me<Se;)if(rt[xt]=se.charCodeAt(Me),++Me,++xt===this.blockSize){this.compress_(rt),xt=0;break}}else for(;Me<Se;)if(rt[xt]=se[Me],++Me,++xt===this.blockSize){this.compress_(rt),xt=0;break}}this.inbuf_=xt,this.total_+=Se}},_e.prototype.digest=function(){var se=[],Se=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(var je=this.blockSize-1;je>=56;je--)this.buf_[je]=255&Se,Se/=256;this.compress_(this.buf_);var Me=0;for(je=0;je<5;je++)for(var rt=24;rt>=0;rt-=8)se[Me]=this.chain_[je]>>rt&255,++Me;return se}}();var hn=function(){function _e(se,Se){var je=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=Se,this.task.then(function(){se(je)}).catch(function(Me){je.error(Me)})}return _e.prototype.next=function(se){this.forEachObserver(function(Se){Se.next(se)})},_e.prototype.error=function(se){this.forEachObserver(function(Se){Se.error(se)}),this.close(se)},_e.prototype.complete=function(){this.forEachObserver(function(se){se.complete()}),this.close()},_e.prototype.subscribe=function(se,Se,je){var rt,Me=this;if(void 0===se&&void 0===Se&&void 0===je)throw new Error("Missing Observer.");void 0===(rt=function(_e,se){if("object"!=typeof _e||null===_e)return!1;for(var Se=0,je=["next","error","complete"];Se<je.length;Se++){var Me=je[Se];if(Me in _e&&"function"==typeof _e[Me])return!0}return!1}(se)?se:{next:se,error:Se,complete:je}).next&&(rt.next=Ur),void 0===rt.error&&(rt.error=Ur),void 0===rt.complete&&(rt.complete=Ur);var xt=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{Me.finalError?rt.error(Me.finalError):rt.complete()}catch(_n){}}),this.observers.push(rt),xt},_e.prototype.unsubscribeOne=function(se){void 0===this.observers||void 0===this.observers[se]||(delete this.observers[se],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},_e.prototype.forEachObserver=function(se){if(!this.finalized)for(var Se=0;Se<this.observers.length;Se++)this.sendOne(Se,se)},_e.prototype.sendOne=function(se,Se){var je=this;this.task.then(function(){if(void 0!==je.observers&&void 0!==je.observers[se])try{Se(je.observers[se])}catch(Me){"undefined"!=typeof console&&console.error&&console.error(Me)}})},_e.prototype.close=function(se){var Se=this;this.finalized||(this.finalized=!0,void 0!==se&&(this.finalError=se),this.task.then(function(){Se.observers=void 0,Se.onNoObservers=void 0}))},_e}();function Ur(){}function on(_e){return _e&&_e._delegate?_e._delegate:_e}},9083:(Mt,Ke,W)=>{"use strict";W.r(Ke);var D=W(8239),U=W(4486),oe=W(4685),Ie=W(5452),Re=W(4762),ve=W(300),Ue=W(6034);const Ge=function(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},ke=new oe.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Ye=new ve.Yd("@firebase/auth");function lt(I,...g){Ye.logLevel<=ve.in.ERROR&&Ye.error(`Auth (${Ie.SDK_VERSION}): ${I}`,...g)}function dt(I,...g){throw we(I,...g)}function Qe(I,...g){return we(I,...g)}function we(I,...g){if("string"!=typeof I){const _=g[0],S=[...g.slice(1)];return S[0]&&(S[0].appName=I.name),I._errorFactory.create(_,...S)}return ke.create(I,...g)}function We(I,g,..._){if(!I)throw we(g,..._)}function Jt(I){const g="INTERNAL ASSERTION FAILED: "+I;throw lt(g),new Error(g)}function Ct(I,g){I||Jt(g)}const Ae=new Map;function Le(I){Ct(I instanceof Function,"Expected a class definition");let g=Ae.get(I);return g?(Ct(g instanceof I,"Instance stored in cache mismatched with class"),g):(g=new I,Ae.set(I,g),g)}function He(){var I;return"undefined"!=typeof self&&(null===(I=self.location)||void 0===I?void 0:I.href)||""}function ue(){return"http:"===at()||"https:"===at()}function at(){var I;return"undefined"!=typeof self&&(null===(I=self.location)||void 0===I?void 0:I.protocol)||null}class ft{constructor(g,_){this.shortDelay=g,this.longDelay=_,Ct(_>g,"Short delay should be less than long delay!"),this.isMobile=(0,oe.uI)()||(0,oe.b$)()}get(){return"undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(ue()||(0,oe.ru)()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function It(I,g){Ct(I.emulator,"Emulator should always be set here");const{url:_}=I.emulator;return g?`${_}${g.startsWith("/")?g.slice(1):g}`:_}class en{static initialize(g,_,S){this.fetchImpl=g,_&&(this.headersImpl=_),S&&(this.responseImpl=S)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void Jt("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void Jt("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void Jt("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const tn={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded"},Ln=new ft(3e4,6e4);function jt(I,g){return I.tenantId&&!g.tenantId?Object.assign(Object.assign({},g),{tenantId:I.tenantId}):g}function Ht(I,g,_,S){return mt.apply(this,arguments)}function mt(){return(mt=(0,D.Z)(function*(I,g,_,S,$={}){return Vn(I,$,()=>{let X={},Ne={};S&&("GET"===g?Ne=S:X={body:JSON.stringify(S)});const qe=(0,oe.xO)(Object.assign({key:I.config.apiKey},Ne)).slice(1),yt=new(en.headers());return yt.set("Content-Type","application/json"),yt.set("X-Client-Version",I._getSdkClientVersion()),I.languageCode&&yt.set("X-Firebase-Locale",I.languageCode),en.fetch()(Vr(I,I.config.apiHost,_,qe),Object.assign({method:g,headers:yt,referrerPolicy:"no-referrer"},X))})})).apply(this,arguments)}function Vn(I,g,_){return xn.apply(this,arguments)}function xn(){return(xn=(0,D.Z)(function*(I,g,_){I._canInitEmulator=!1;const S=Object.assign(Object.assign({},tn),g);try{const $=new ir(I),X=yield Promise.race([_(),$.promise]);$.clearNetworkTimeout();const Ne=yield X.json();if("needConfirmation"in Ne)throw dn(I,"account-exists-with-different-credential",Ne);if(X.ok&&!("errorMessage"in Ne))return Ne;{const yt=(X.ok?Ne.errorMessage:Ne.error.message).split(" : ")[0];if("FEDERATED_USER_ID_ALREADY_LINKED"===yt)throw dn(I,"credential-already-in-use",Ne);if("EMAIL_EXISTS"===yt)throw dn(I,"email-already-in-use",Ne);dt(I,S[yt]||yt.toLowerCase().replace(/[_\s]+/g,"-"))}}catch($){if($ instanceof oe.ZR)throw $;dt(I,"network-request-failed")}})).apply(this,arguments)}function Tn(I,g,_,S){return wn.apply(this,arguments)}function wn(){return(wn=(0,D.Z)(function*(I,g,_,S,$={}){const X=yield Ht(I,g,_,S,$);return"mfaPendingCredential"in X&&dt(I,"multi-factor-auth-required",{serverResponse:X}),X})).apply(this,arguments)}function Vr(I,g,_,S){const $=`${g}${_}?${S}`;return I.config.emulator?It(I.config,$):`${I.config.apiScheme}://${$}`}class ir{constructor(g){this.auth=g,this.timer=null,this.promise=new Promise((_,S)=>{this.timer=setTimeout(()=>S(Qe(this.auth,"timeout")),Ln.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function dn(I,g,_){const S={appName:I.name};_.email&&(S.email=_.email),_.phoneNumber&&(S.phoneNumber=_.phoneNumber);const $=Qe(I,g,S);return $.customData._tokenResponse=_,$}function Qn(){return(Qn=(0,D.Z)(function*(I,g){return Ht(I,"POST","/v1/accounts:delete",g)})).apply(this,arguments)}function ur(I,g){return hn.apply(this,arguments)}function hn(){return(hn=(0,D.Z)(function*(I,g){return Ht(I,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function Pn(I,g){return Cn.apply(this,arguments)}function Cn(){return(Cn=(0,D.Z)(function*(I,g){return Ht(I,"POST","/v1/accounts:lookup",g)})).apply(this,arguments)}function Ur(I){if(I)try{const g=new Date(Number(I));if(!isNaN(g.getTime()))return g.toUTCString()}catch(g){}}function ye(){return(ye=(0,D.Z)(function*(I,g=!1){const _=(0,oe.m9)(I),S=yield _.getIdToken(g),$=Xe(S);We($&&$.exp&&$.auth_time&&$.iat,_.auth,"internal-error");const X="object"==typeof $.firebase?$.firebase:void 0,Ne=null==X?void 0:X.sign_in_provider;return{claims:$,token:S,authTime:Ur(tt($.auth_time)),issuedAtTime:Ur(tt($.iat)),expirationTime:Ur(tt($.exp)),signInProvider:Ne||null,signInSecondFactor:(null==X?void 0:X.sign_in_second_factor)||null}})).apply(this,arguments)}function tt(I){return 1e3*Number(I)}function Xe(I){const[g,_,S]=I.split(".");if(void 0===g||void 0===_||void 0===S)return lt("JWT malformed, contained fewer than 3 sections"),null;try{const $=(0,oe.tV)(_);return $?JSON.parse($):(lt("Failed to decode base64 JWT payload"),null)}catch($){return lt("Caught error parsing JWT payload as JSON",$),null}}function gt(I,g){return Et.apply(this,arguments)}function Et(){return(Et=(0,D.Z)(function*(I,g,_=!1){if(_)return g;try{return yield g}catch(S){throw S instanceof oe.ZR&&Xt(S)&&I.auth.currentUser===I&&(yield I.auth.signOut()),S}})).apply(this,arguments)}function Xt({code:I}){return"auth/user-disabled"===I||"auth/user-token-expired"===I}class lr{constructor(g){this.user=g,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(g){var _;if(g){const S=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),S}{this.errorBackoff=3e4;const $=(null!==(_=this.user.stsTokenManager.expirationTime)&&void 0!==_?_:0)-Date.now()-3e5;return Math.max(0,$)}}schedule(g=!1){var _=this;if(!this.isRunning)return;const S=this.getInterval(g);this.timerId=setTimeout((0,D.Z)(function*(){yield _.iteration()}),S)}iteration(){var g=this;return(0,D.Z)(function*(){try{yield g.user.getIdToken(!0)}catch(_){return void("auth/network-request-failed"===_.code&&g.schedule(!0))}g.schedule()})()}}class cr{constructor(g,_){this.createdAt=g,this.lastLoginAt=_,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ur(this.lastLoginAt),this.creationTime=Ur(this.createdAt)}_copy(g){this.createdAt=g.createdAt,this.lastLoginAt=g.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function jn(I){return tr.apply(this,arguments)}function tr(){return(tr=(0,D.Z)(function*(I){var g;const _=I.auth,S=yield I.getIdToken(),$=yield gt(I,Pn(_,{idToken:S}));We(null==$?void 0:$.users.length,_,"internal-error");const X=$.users[0];I._notifyReloadListener(X);const Ne=(null===(g=X.providerUserInfo)||void 0===g?void 0:g.length)?se(X.providerUserInfo):[],qe=_e(I.providerData,Ne),Zt=!!I.isAnonymous&&!(I.email&&X.passwordHash||(null==qe?void 0:qe.length)),Wt={uid:X.localId,displayName:X.displayName||null,photoURL:X.photoUrl||null,email:X.email||null,emailVerified:X.emailVerified||!1,phoneNumber:X.phoneNumber||null,tenantId:X.tenantId||null,providerData:qe,metadata:new cr(X.createdAt,X.lastLoginAt),isAnonymous:Zt};Object.assign(I,Wt)})).apply(this,arguments)}function on(){return(on=(0,D.Z)(function*(I){const g=(0,oe.m9)(I);yield jn(g),yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)})).apply(this,arguments)}function _e(I,g){return[...I.filter(S=>!g.some($=>$.providerId===S.providerId)),...g]}function se(I){return I.map(g=>{var{providerId:_}=g,S=(0,Re._T)(g,["providerId"]);return{providerId:_,uid:S.rawId||"",displayName:S.displayName||null,email:S.email||null,phoneNumber:S.phoneNumber||null,photoURL:S.photoUrl||null}})}function je(){return(je=(0,D.Z)(function*(I,g){const _=yield Vn(I,{},()=>{const S=(0,oe.xO)({grant_type:"refresh_token",refresh_token:g}).slice(1),{tokenApiHost:$,apiKey:X}=I.config,Ne=Vr(I,$,"/v1/token",`key=${X}`);return en.fetch()(Ne,{method:"POST",headers:{"X-Client-Version":I._getSdkClientVersion(),"Content-Type":"application/x-www-form-urlencoded"},body:S})});return{accessToken:_.access_token,expiresIn:_.expires_in,refreshToken:_.refresh_token}})).apply(this,arguments)}class Me{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(g){We(g.idToken,"internal-error"),We(void 0!==g.idToken,"internal-error"),We(void 0!==g.refreshToken,"internal-error");const _="expiresIn"in g&&void 0!==g.expiresIn?Number(g.expiresIn):function(I){const g=Xe(I);return We(g,"internal-error"),We(void 0!==g.exp,"internal-error"),We(void 0!==g.iat,"internal-error"),Number(g.exp)-Number(g.iat)}(g.idToken);this.updateTokensAndExpiration(g.idToken,g.refreshToken,_)}getToken(g,_=!1){var S=this;return(0,D.Z)(function*(){return We(!S.accessToken||S.refreshToken,g,"user-token-expired"),_||!S.accessToken||S.isExpired?S.refreshToken?(yield S.refresh(g,S.refreshToken),S.accessToken):null:S.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(g,_){var S=this;return(0,D.Z)(function*(){const{accessToken:$,refreshToken:X,expiresIn:Ne}=yield function(I,g){return je.apply(this,arguments)}(g,_);S.updateTokensAndExpiration($,X,Number(Ne))})()}updateTokensAndExpiration(g,_,S){this.refreshToken=_||null,this.accessToken=g||null,this.expirationTime=Date.now()+1e3*S}static fromJSON(g,_){const{refreshToken:S,accessToken:$,expirationTime:X}=_,Ne=new Me;return S&&(We("string"==typeof S,"internal-error",{appName:g}),Ne.refreshToken=S),$&&(We("string"==typeof $,"internal-error",{appName:g}),Ne.accessToken=$),X&&(We("number"==typeof X,"internal-error",{appName:g}),Ne.expirationTime=X),Ne}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(g){this.accessToken=g.accessToken,this.refreshToken=g.refreshToken,this.expirationTime=g.expirationTime}_clone(){return Object.assign(new Me,this.toJSON())}_performRefresh(){return Jt("not implemented")}}function rt(I,g){We("string"==typeof I||void 0===I,"internal-error",{appName:g})}class xt{constructor(g){var{uid:_,auth:S,stsTokenManager:$}=g,X=(0,Re._T)(g,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.emailVerified=!1,this.isAnonymous=!1,this.tenantId=null,this.providerData=[],this.proactiveRefresh=new lr(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=_,this.auth=S,this.stsTokenManager=$,this.accessToken=$.accessToken,this.displayName=X.displayName||null,this.email=X.email||null,this.phoneNumber=X.phoneNumber||null,this.photoURL=X.photoURL||null,this.isAnonymous=X.isAnonymous||!1,this.metadata=new cr(X.createdAt||void 0,X.lastLoginAt||void 0)}getIdToken(g){var _=this;return(0,D.Z)(function*(){const S=yield gt(_,_.stsTokenManager.getToken(_.auth,g));return We(S,_.auth,"internal-error"),_.accessToken!==S&&(_.accessToken=S,yield _.auth._persistUserIfCurrent(_),_.auth._notifyListenersIfCurrent(_)),S})()}getIdTokenResult(g){return function(I){return ye.apply(this,arguments)}(this,g)}reload(){return function(I){return on.apply(this,arguments)}(this)}_assign(g){this!==g&&(We(this.uid===g.uid,this.auth,"internal-error"),this.displayName=g.displayName,this.photoURL=g.photoURL,this.email=g.email,this.emailVerified=g.emailVerified,this.phoneNumber=g.phoneNumber,this.isAnonymous=g.isAnonymous,this.tenantId=g.tenantId,this.providerData=g.providerData.map(_=>Object.assign({},_)),this.metadata._copy(g.metadata),this.stsTokenManager._assign(g.stsTokenManager))}_clone(g){return new xt(Object.assign(Object.assign({},this),{auth:g,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(g){We(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=g,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(g){this.reloadListener?this.reloadListener(g):this.reloadUserInfo=g}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(g,_=!1){var S=this;return(0,D.Z)(function*(){let $=!1;g.idToken&&g.idToken!==S.stsTokenManager.accessToken&&(S.stsTokenManager.updateFromServerResponse(g),$=!0),_&&(yield jn(S)),yield S.auth._persistUserIfCurrent(S),$&&S.auth._notifyListenersIfCurrent(S)})()}delete(){var g=this;return(0,D.Z)(function*(){const _=yield g.getIdToken();return yield gt(g,function(I,g){return Qn.apply(this,arguments)}(g.auth,{idToken:_})),g.stsTokenManager.clearRefreshToken(),g.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(g=>Object.assign({},g)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(g,_){var S,$,X,Ne,qe,yt,Pt,Zt;const Wt=null!==(S=_.displayName)&&void 0!==S?S:void 0,zr=null!==($=_.email)&&void 0!==$?$:void 0,Fi=null!==(X=_.phoneNumber)&&void 0!==X?X:void 0,zo=null!==(Ne=_.photoURL)&&void 0!==Ne?Ne:void 0,Qi=null!==(qe=_.tenantId)&&void 0!==qe?qe:void 0,Hc=null!==(yt=_._redirectEventId)&&void 0!==yt?yt:void 0,bd=null!==(Pt=_.createdAt)&&void 0!==Pt?Pt:void 0,Id=null!==(Zt=_.lastLoginAt)&&void 0!==Zt?Zt:void 0,{uid:pt,emailVerified:$c,isAnonymous:xo,providerData:Dd,stsTokenManager:Il}=_;We(pt&&Il,g,"internal-error");const Xu=Me.fromJSON(this.name,Il);We("string"==typeof pt,g,"internal-error"),rt(Wt,g.name),rt(zr,g.name),We("boolean"==typeof $c,g,"internal-error"),We("boolean"==typeof xo,g,"internal-error"),rt(Fi,g.name),rt(zo,g.name),rt(Qi,g.name),rt(Hc,g.name),rt(bd,g.name),rt(Id,g.name);const Eu=new xt({uid:pt,auth:g,email:zr,emailVerified:$c,displayName:Wt,isAnonymous:xo,photoURL:zo,phoneNumber:Fi,tenantId:Qi,stsTokenManager:Xu,createdAt:bd,lastLoginAt:Id});return Dd&&Array.isArray(Dd)&&(Eu.providerData=Dd.map(Ss=>Object.assign({},Ss))),Hc&&(Eu._redirectEventId=Hc),Eu}static _fromIdTokenResponse(g,_,S=!1){return(0,D.Z)(function*(){const $=new Me;$.updateFromServerResponse(_);const X=new xt({uid:_.localId,auth:g,stsTokenManager:$,isAnonymous:S});return yield jn(X),X})()}}const Sn=(()=>{class I{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,D.Z)(function*(){return!0})()}_set(_,S){var $=this;return(0,D.Z)(function*(){$.storage[_]=S})()}_get(_){var S=this;return(0,D.Z)(function*(){const $=S.storage[_];return void 0===$?null:$})()}_remove(_){var S=this;return(0,D.Z)(function*(){delete S.storage[_]})()}_addListener(_,S){}_removeListener(_,S){}}return I.type="NONE",I})();function fn(I,g,_){return`firebase:${I}:${g}:${_}`}class gr{constructor(g,_,S){this.persistence=g,this.auth=_,this.userKey=S;const{config:$,name:X}=this.auth;this.fullUserKey=fn(this.userKey,$.apiKey,X),this.fullPersistenceKey=fn("persistence",$.apiKey,X),this.boundEventHandler=_._onStorageEvent.bind(_),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(g){return this.persistence._set(this.fullUserKey,g.toJSON())}getCurrentUser(){var g=this;return(0,D.Z)(function*(){const _=yield g.persistence._get(g.fullUserKey);return _?xt._fromJSON(g.auth,_):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(g){var _=this;return(0,D.Z)(function*(){if(_.persistence===g)return;const S=yield _.getCurrentUser();return yield _.removeCurrentUser(),_.persistence=g,S?_.setCurrentUser(S):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(g,_,S="authUser"){return(0,D.Z)(function*(){if(!_.length)return new gr(Le(Sn),g,S);const $=(yield Promise.all(_.map(function(){var Pt=(0,D.Z)(function*(Zt){if(yield Zt._isAvailable())return Zt});return function(Zt){return Pt.apply(this,arguments)}}()))).filter(Pt=>Pt);let X=$[0]||Le(Sn);const Ne=fn(S,g.config.apiKey,g.name);let qe=null;for(const Pt of _)try{const Zt=yield Pt._get(Ne);if(Zt){const Wt=xt._fromJSON(g,Zt);Pt!==X&&(qe=Wt),X=Pt;break}}catch(Zt){}const yt=$.filter(Pt=>Pt._shouldAllowMigration);return X._shouldAllowMigration&&yt.length?(X=yt[0],qe&&(yield X._set(Ne,qe.toJSON())),yield Promise.all(_.map(function(){var Pt=(0,D.Z)(function*(Zt){if(Zt!==X)try{yield Zt._remove(Ne)}catch(Wt){}});return function(Zt){return Pt.apply(this,arguments)}}())),new gr(X,g,S)):new gr(X,g,S)})()}}function $t(I){const g=I.toLowerCase();if(g.includes("opera/")||g.includes("opr/")||g.includes("opios/"))return"Opera";if(Yo(g))return"IEMobile";if(g.includes("msie")||g.includes("trident/"))return"IE";if(g.includes("edge/"))return"Edge";if(Rn(g))return"Firefox";if(g.includes("silk/"))return"Silk";if(Ns(g))return"Blackberry";if(fs(g))return"Webos";if(hs(g))return"Safari";if((g.includes("chrome/")||ei(g))&&!g.includes("edge/"))return"Chrome";if(es(g))return"Android";{const S=I.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==S?void 0:S.length))return S[1]}return"Other"}function Rn(I=(0,oe.z$)()){return/firefox\//i.test(I)}function hs(I=(0,oe.z$)()){const g=I.toLowerCase();return g.includes("safari/")&&!g.includes("chrome/")&&!g.includes("crios/")&&!g.includes("android")}function ei(I=(0,oe.z$)()){return/crios\//i.test(I)}function Yo(I=(0,oe.z$)()){return/iemobile/i.test(I)}function es(I=(0,oe.z$)()){return/android/i.test(I)}function Ns(I=(0,oe.z$)()){return/blackberry/i.test(I)}function fs(I=(0,oe.z$)()){return/webos/i.test(I)}function ui(I=(0,oe.z$)()){return/iphone|ipad|ipod/i.test(I)}function _i(I=(0,oe.z$)()){return ui(I)||es(I)||fs(I)||Ns(I)||/windows phone/i.test(I)||Yo(I)}function Br(I,g=[]){let _;switch(I){case"Browser":_=$t((0,oe.z$)());break;case"Worker":_=`${$t((0,oe.z$)())}-${I}`;break;default:_=I}const S=g.length?g.join(","):"FirebaseCore-web";return`${_}/JsCore/${Ie.SDK_VERSION}/${S}`}class Ui{constructor(g,_){this.app=g,this.config=_,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Qo(this),this.idTokenSubscription=new Qo(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ke,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=g.name,this.clientVersion=_.sdkClientVersion}_initializeWithPersistence(g,_){var S=this;return _&&(this._popupRedirectResolver=Le(_)),this._initializationPromise=this.queue((0,D.Z)(function*(){var $;S._deleted||(S.persistenceManager=yield gr.create(S,g),!S._deleted&&((null===($=S._popupRedirectResolver)||void 0===$?void 0:$._shouldInitProactively)&&(yield S._popupRedirectResolver._initialize(S)),yield S.initializeCurrentUser(_),!S._deleted&&(S._isInitialized=!0)))})),this._initializationPromise}_onStorageEvent(){var g=this;return(0,D.Z)(function*(){if(g._deleted)return;const _=yield g.assertedPersistence.getCurrentUser();if(g.currentUser||_){if(g.currentUser&&_&&g.currentUser.uid===_.uid)return g._currentUser._assign(_),void(yield g.currentUser.getIdToken());yield g._updateCurrentUser(_)}})()}initializeCurrentUser(g){var _=this;return(0,D.Z)(function*(){var S;let $=yield _.assertedPersistence.getCurrentUser();if(g&&_.config.authDomain){yield _.getOrInitRedirectPersistenceManager();const X=null===(S=_.redirectUser)||void 0===S?void 0:S._redirectEventId,Ne=null==$?void 0:$._redirectEventId,qe=yield _.tryRedirectSignIn(g);(!X||X===Ne)&&(null==qe?void 0:qe.user)&&($=qe.user)}return $?$._redirectEventId?(We(_._popupRedirectResolver,_,"argument-error"),yield _.getOrInitRedirectPersistenceManager(),_.redirectUser&&_.redirectUser._redirectEventId===$._redirectEventId?_.directlySetCurrentUser($):_.reloadAndSetCurrentUserOrClear($)):_.reloadAndSetCurrentUserOrClear($):_.directlySetCurrentUser(null)})()}tryRedirectSignIn(g){var _=this;return(0,D.Z)(function*(){let S=null;try{S=yield _._popupRedirectResolver._completeRedirectFn(_,g,!0)}catch($){yield _._setRedirectUser(null)}return S})()}reloadAndSetCurrentUserOrClear(g){var _=this;return(0,D.Z)(function*(){try{yield jn(g)}catch(S){if("auth/network-request-failed"!==S.code)return _.directlySetCurrentUser(null)}return _.directlySetCurrentUser(g)})()}useDeviceLanguage(){this.languageCode=function(){if("undefined"==typeof navigator)return null;const I=navigator;return I.languages&&I.languages[0]||I.language||null}()}_delete(){var g=this;return(0,D.Z)(function*(){g._deleted=!0})()}updateCurrentUser(g){var _=this;return(0,D.Z)(function*(){const S=g?(0,oe.m9)(g):null;return S&&We(S.auth.config.apiKey===_.config.apiKey,_,"invalid-user-token"),_._updateCurrentUser(S&&S._clone(_))})()}_updateCurrentUser(g){var _=this;return(0,D.Z)(function*(){if(!_._deleted)return g&&We(_.tenantId===g.tenantId,_,"tenant-id-mismatch"),_.queue((0,D.Z)(function*(){yield _.directlySetCurrentUser(g),_.notifyAuthListeners()}))})()}signOut(){var g=this;return(0,D.Z)(function*(){return(g.redirectPersistenceManager||g._popupRedirectResolver)&&(yield g._setRedirectUser(null)),g._updateCurrentUser(null)})()}setPersistence(g){var _=this;return this.queue((0,D.Z)(function*(){yield _.assertedPersistence.setPersistence(Le(g))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(g){this._errorFactory=new oe.LL("auth","Firebase",g())}onAuthStateChanged(g,_,S){return this.registerStateListener(this.authStateSubscription,g,_,S)}onIdTokenChanged(g,_,S){return this.registerStateListener(this.idTokenSubscription,g,_,S)}toJSON(){var g;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(g=this._currentUser)||void 0===g?void 0:g.toJSON()}}_setRedirectUser(g,_){var S=this;return(0,D.Z)(function*(){const $=yield S.getOrInitRedirectPersistenceManager(_);return null===g?$.removeCurrentUser():$.setCurrentUser(g)})()}getOrInitRedirectPersistenceManager(g){var _=this;return(0,D.Z)(function*(){if(!_.redirectPersistenceManager){const S=g&&Le(g)||_._popupRedirectResolver;We(S,_,"argument-error"),_.redirectPersistenceManager=yield gr.create(_,[Le(S._redirectPersistence)],"redirectUser"),_.redirectUser=yield _.redirectPersistenceManager.getCurrentUser()}return _.redirectPersistenceManager})()}_redirectUserForId(g){var _=this;return(0,D.Z)(function*(){var S,$;return _._isInitialized&&(yield _.queue((0,D.Z)(function*(){}))),(null===(S=_._currentUser)||void 0===S?void 0:S._redirectEventId)===g?_._currentUser:(null===($=_.redirectUser)||void 0===$?void 0:$._redirectEventId)===g?_.redirectUser:null})()}_persistUserIfCurrent(g){var _=this;return(0,D.Z)(function*(){if(g===_.currentUser)return _.queue((0,D.Z)(function*(){return _.directlySetCurrentUser(g)}))})()}_notifyListenersIfCurrent(g){g===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var g,_;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const S=null!==(_=null===(g=this.currentUser)||void 0===g?void 0:g.uid)&&void 0!==_?_:null;this.lastNotifiedUid!==S&&(this.lastNotifiedUid=S,this.authStateSubscription.next(this.currentUser))}registerStateListener(g,_,S,$){if(this._deleted)return()=>{};const X="function"==typeof _?_:_.next.bind(_),Ne=this._isInitialized?Promise.resolve():this._initializationPromise;return We(Ne,this,"internal-error"),Ne.then(()=>X(this.currentUser)),"function"==typeof _?g.addObserver(_,S,$):g.addObserver(_)}directlySetCurrentUser(g){var _=this;return(0,D.Z)(function*(){_.currentUser&&_.currentUser!==g&&(_._currentUser._stopProactiveRefresh(),g&&_.isProactiveRefreshEnabled&&g._startProactiveRefresh()),_.currentUser=g,g?yield _.assertedPersistence.setCurrentUser(g):yield _.assertedPersistence.removeCurrentUser()})()}queue(g){return this.operations=this.operations.then(g,g),this.operations}get assertedPersistence(){return We(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(g){!g||this.frameworks.includes(g)||(this.frameworks.push(g),this.frameworks.sort(),this.clientVersion=Br(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getSdkClientVersion(){return this.clientVersion}}function bn(I){return(0,oe.m9)(I)}class Qo{constructor(g){this.auth=g,this.observer=null,this.addObserver=(0,oe.ne)(_=>this.observer=_)}get next(){return We(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Dt(I){const g=I.indexOf(":");return g<0?"":I.substr(0,g+1)}function Wn(I){if(!I)return null;const g=Number(I);return isNaN(g)?null:g}class Hn{constructor(g,_){this.providerId=g,this.signInMethod=_}toJSON(){return Jt("not implemented")}_getIdTokenResponse(g){return Jt("not implemented")}_linkToIdToken(g,_){return Jt("not implemented")}_getReauthenticationResolver(g){return Jt("not implemented")}}function mn(I,g){return Qr.apply(this,arguments)}function Qr(){return(Qr=(0,D.Z)(function*(I,g){return Ht(I,"POST","/v1/accounts:resetPassword",jt(I,g))})).apply(this,arguments)}function Un(I,g){return ts.apply(this,arguments)}function ts(){return(ts=(0,D.Z)(function*(I,g){return Ht(I,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function ho(I,g){return an.apply(this,arguments)}function an(){return(an=(0,D.Z)(function*(I,g){return Ht(I,"POST","/v1/accounts:update",jt(I,g))})).apply(this,arguments)}function ns(){return(ns=(0,D.Z)(function*(I,g){return Tn(I,"POST","/v1/accounts:signInWithPassword",jt(I,g))})).apply(this,arguments)}function ps(I,g){return ni.apply(this,arguments)}function ni(){return(ni=(0,D.Z)(function*(I,g){return Ht(I,"POST","/v1/accounts:sendOobCode",jt(I,g))})).apply(this,arguments)}function jr(I,g){return Bi.apply(this,arguments)}function Bi(){return(Bi=(0,D.Z)(function*(I,g){return ps(I,g)})).apply(this,arguments)}function rs(I,g){return ri.apply(this,arguments)}function ri(){return(ri=(0,D.Z)(function*(I,g){return ps(I,g)})).apply(this,arguments)}function $n(I,g){return Wr.apply(this,arguments)}function Wr(){return(Wr=(0,D.Z)(function*(I,g){return ps(I,g)})).apply(this,arguments)}function gs(I,g){return ms.apply(this,arguments)}function ms(){return(ms=(0,D.Z)(function*(I,g){return ps(I,g)})).apply(this,arguments)}function qr(){return(qr=(0,D.Z)(function*(I,g){return Tn(I,"POST","/v1/accounts:signInWithEmailLink",jt(I,g))})).apply(this,arguments)}function Ti(){return(Ti=(0,D.Z)(function*(I,g){return Tn(I,"POST","/v1/accounts:signInWithEmailLink",jt(I,g))})).apply(this,arguments)}class br extends Hn{constructor(g,_,S,$=null){super("password",S),this._email=g,this._password=_,this._tenantId=$}static _fromEmailAndPassword(g,_){return new br(g,_,"password")}static _fromEmailAndCode(g,_,S=null){return new br(g,_,"emailLink",S)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(g){const _="string"==typeof g?JSON.parse(g):g;if((null==_?void 0:_.email)&&(null==_?void 0:_.password)){if("password"===_.signInMethod)return this._fromEmailAndPassword(_.email,_.password);if("emailLink"===_.signInMethod)return this._fromEmailAndCode(_.email,_.password,_.tenantId)}return null}_getIdTokenResponse(g){var _=this;return(0,D.Z)(function*(){switch(_.signInMethod){case"password":return function(I,g){return ns.apply(this,arguments)}(g,{returnSecureToken:!0,email:_._email,password:_._password});case"emailLink":return function(I,g){return qr.apply(this,arguments)}(g,{email:_._email,oobCode:_._password});default:dt(g,"internal-error")}})()}_linkToIdToken(g,_){var S=this;return(0,D.Z)(function*(){switch(S.signInMethod){case"password":return Un(g,{idToken:_,returnSecureToken:!0,email:S._email,password:S._password});case"emailLink":return function(I,g){return Ti.apply(this,arguments)}(g,{idToken:_,email:S._email,oobCode:S._password});default:dt(g,"internal-error")}})()}_getReauthenticationResolver(g){return this._getIdTokenResponse(g)}}function Hr(I,g){return Si.apply(this,arguments)}function Si(){return(Si=(0,D.Z)(function*(I,g){return Tn(I,"POST","/v1/accounts:signInWithIdp",jt(I,g))})).apply(this,arguments)}class Ar extends Hn{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(g){const _=new Ar(g.providerId,g.signInMethod);return g.idToken||g.accessToken?(g.idToken&&(_.idToken=g.idToken),g.accessToken&&(_.accessToken=g.accessToken),g.nonce&&!g.pendingToken&&(_.nonce=g.nonce),g.pendingToken&&(_.pendingToken=g.pendingToken)):g.oauthToken&&g.oauthTokenSecret?(_.accessToken=g.oauthToken,_.secret=g.oauthTokenSecret):dt("argument-error"),_}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(g){const _="string"==typeof g?JSON.parse(g):g,{providerId:S,signInMethod:$}=_,X=(0,Re._T)(_,["providerId","signInMethod"]);if(!S||!$)return null;const Ne=new Ar(S,$);return Object.assign(Ne,X),Ne}_getIdTokenResponse(g){return Hr(g,this.buildRequest())}_linkToIdToken(g,_){const S=this.buildRequest();return S.idToken=_,Hr(g,S)}_getReauthenticationResolver(g){const _=this.buildRequest();return _.autoCreate=!1,Hr(g,_)}buildRequest(){const g={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)g.pendingToken=this.pendingToken;else{const _={};this.idToken&&(_.id_token=this.idToken),this.accessToken&&(_.access_token=this.accessToken),this.secret&&(_.oauth_token_secret=this.secret),_.providerId=this.providerId,this.nonce&&!this.pendingToken&&(_.nonce=this.nonce),g.postBody=(0,oe.xO)(_)}return g}}function Lo(I,g){return _s.apply(this,arguments)}function _s(){return(_s=(0,D.Z)(function*(I,g){return Ht(I,"POST","/v1/accounts:sendVerificationCode",jt(I,g))})).apply(this,arguments)}function ji(){return(ji=(0,D.Z)(function*(I,g){return Tn(I,"POST","/v1/accounts:signInWithPhoneNumber",jt(I,g))})).apply(this,arguments)}function Gs(){return(Gs=(0,D.Z)(function*(I,g){const _=yield Tn(I,"POST","/v1/accounts:signInWithPhoneNumber",jt(I,g));if(_.temporaryProof)throw dn(I,"account-exists-with-different-credential",_);return _})).apply(this,arguments)}const Hi={USER_NOT_FOUND:"user-not-found"};function dr(){return(dr=(0,D.Z)(function*(I,g){return Tn(I,"POST","/v1/accounts:signInWithPhoneNumber",jt(I,Object.assign(Object.assign({},g),{operation:"REAUTH"})),Hi)})).apply(this,arguments)}class is extends Hn{constructor(g){super("phone","phone"),this.params=g}static _fromVerification(g,_){return new is({verificationId:g,verificationCode:_})}static _fromTokenResponse(g,_){return new is({phoneNumber:g,temporaryProof:_})}_getIdTokenResponse(g){return function(I,g){return ji.apply(this,arguments)}(g,this._makeVerificationRequest())}_linkToIdToken(g,_){return function(I,g){return Gs.apply(this,arguments)}(g,Object.assign({idToken:_},this._makeVerificationRequest()))}_getReauthenticationResolver(g){return function(I,g){return dr.apply(this,arguments)}(g,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:g,phoneNumber:_,verificationId:S,verificationCode:$}=this.params;return g&&_?{temporaryProof:g,phoneNumber:_}:{sessionInfo:S,code:$}}toJSON(){const g={providerId:this.providerId};return this.params.phoneNumber&&(g.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(g.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(g.verificationCode=this.params.verificationCode),this.params.verificationId&&(g.verificationId=this.params.verificationId),g}static fromJSON(g){"string"==typeof g&&(g=JSON.parse(g));const{verificationId:_,verificationCode:S,phoneNumber:$,temporaryProof:X}=g;return S||_||$||X?new is({verificationId:_,verificationCode:S,phoneNumber:$,temporaryProof:X}):null}}class Ai{constructor(g){var _,S,$,X,Ne,qe;const yt=(0,oe.zd)((0,oe.pd)(g)),Pt=null!==(_=yt.apiKey)&&void 0!==_?_:null,Zt=null!==(S=yt.oobCode)&&void 0!==S?S:null,Wt=function(I){switch(I){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==($=yt.mode)&&void 0!==$?$:null);We(Pt&&Zt&&Wt,"argument-error"),this.apiKey=Pt,this.operation=Wt,this.code=Zt,this.continueUrl=null!==(X=yt.continueUrl)&&void 0!==X?X:null,this.languageCode=null!==(Ne=yt.languageCode)&&void 0!==Ne?Ne:null,this.tenantId=null!==(qe=yt.tenantId)&&void 0!==qe?qe:null}static parseLink(g){const _=function(I){const g=(0,oe.zd)((0,oe.pd)(I)).link,_=g?(0,oe.zd)((0,oe.pd)(g)).deep_link_id:null,S=(0,oe.zd)((0,oe.pd)(I)).deep_link_id;return(S?(0,oe.zd)((0,oe.pd)(S)).link:null)||S||_||g||I}(g);try{return new Ai(_)}catch(S){return null}}}let Es=(()=>{class I{constructor(){this.providerId=I.PROVIDER_ID}static credential(_,S){return br._fromEmailAndPassword(_,S)}static credentialWithLink(_,S){const $=Ai.parseLink(S);return We($,"argument-error"),br._fromEmailAndCode(_,$.code,$.tenantId)}}return I.PROVIDER_ID="password",I.EMAIL_PASSWORD_SIGN_IN_METHOD="password",I.EMAIL_LINK_SIGN_IN_METHOD="emailLink",I})();class li{constructor(g){this.providerId=g,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(g){this.defaultLanguageCode=g}setCustomParameters(g){return this.customParameters=g,this}getCustomParameters(){return this.customParameters}}class ws extends li{constructor(){super(...arguments),this.scopes=[]}addScope(g){return this.scopes.includes(g)||this.scopes.push(g),this}getScopes(){return[...this.scopes]}}class Ei extends ws{static credentialFromJSON(g){const _="string"==typeof g?JSON.parse(g):g;return We("providerId"in _&&"signInMethod"in _,"argument-error"),Ar._fromParams(_)}credential(g){return this._credential(g)}_credential(g){return We(g.idToken||g.accessToken,"argument-error"),Ar._fromParams(Object.assign(Object.assign({},g),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(g){return Ei.oauthCredentialFromTaggedObject(g)}static credentialFromError(g){return Ei.oauthCredentialFromTaggedObject(g.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthIdToken:_,oauthAccessToken:S,oauthTokenSecret:$,pendingToken:X,nonce:Ne,providerId:qe}=g;if(!S&&!$&&!_&&!X||!qe)return null;try{return new Ei(qe)._credential({idToken:_,accessToken:S,rawNonce:Ne,pendingToken:X})}catch(yt){return null}}}let Ca=(()=>{class I extends ws{constructor(){super("facebook.com")}static credential(_){return Ar._fromParams({providerId:I.PROVIDER_ID,signInMethod:I.FACEBOOK_SIGN_IN_METHOD,accessToken:_})}static credentialFromResult(_){return I.credentialFromTaggedObject(_)}static credentialFromError(_){return I.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_||!("oauthAccessToken"in _)||!_.oauthAccessToken)return null;try{return I.credential(_.oauthAccessToken)}catch(S){return null}}}return I.FACEBOOK_SIGN_IN_METHOD="facebook.com",I.PROVIDER_ID="facebook.com",I})(),Ms=(()=>{class I extends ws{constructor(){super("google.com"),this.addScope("profile")}static credential(_,S){return Ar._fromParams({providerId:I.PROVIDER_ID,signInMethod:I.GOOGLE_SIGN_IN_METHOD,idToken:_,accessToken:S})}static credentialFromResult(_){return I.credentialFromTaggedObject(_)}static credentialFromError(_){return I.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{oauthIdToken:S,oauthAccessToken:$}=_;if(!S&&!$)return null;try{return I.credential(S,$)}catch(X){return null}}}return I.GOOGLE_SIGN_IN_METHOD="google.com",I.PROVIDER_ID="google.com",I})(),po=(()=>{class I extends ws{constructor(){super("github.com")}static credential(_){return Ar._fromParams({providerId:I.PROVIDER_ID,signInMethod:I.GITHUB_SIGN_IN_METHOD,accessToken:_})}static credentialFromResult(_){return I.credentialFromTaggedObject(_)}static credentialFromError(_){return I.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_||!("oauthAccessToken"in _)||!_.oauthAccessToken)return null;try{return I.credential(_.oauthAccessToken)}catch(S){return null}}}return I.GITHUB_SIGN_IN_METHOD="github.com",I.PROVIDER_ID="github.com",I})();class Ni extends Hn{constructor(g,_){super(g,g),this.pendingToken=_}_getIdTokenResponse(g){return Hr(g,this.buildRequest())}_linkToIdToken(g,_){const S=this.buildRequest();return S.idToken=_,Hr(g,S)}_getReauthenticationResolver(g){const _=this.buildRequest();return _.autoCreate=!1,Hr(g,_)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(g){const _="string"==typeof g?JSON.parse(g):g,{providerId:S,signInMethod:$,pendingToken:X}=_;return S&&$&&X&&S===$?new Ni(S,X):null}static _create(g,_){return new Ni(g,_)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}let go=(()=>{class I extends ws{constructor(){super("twitter.com")}static credential(_,S){return Ar._fromParams({providerId:I.PROVIDER_ID,signInMethod:I.TWITTER_SIGN_IN_METHOD,oauthToken:_,oauthTokenSecret:S})}static credentialFromResult(_){return I.credentialFromTaggedObject(_)}static credentialFromError(_){return I.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{oauthAccessToken:S,oauthTokenSecret:$}=_;if(!S||!$)return null;try{return I.credential(S,$)}catch(X){return null}}}return I.TWITTER_SIGN_IN_METHOD="twitter.com",I.PROVIDER_ID="twitter.com",I})();function $i(I,g){return as.apply(this,arguments)}function as(){return(as=(0,D.Z)(function*(I,g){return Tn(I,"POST","/v1/accounts:signUp",jt(I,g))})).apply(this,arguments)}class Kr{constructor(g){this.user=g.user,this.providerId=g.providerId,this._tokenResponse=g._tokenResponse,this.operationType=g.operationType}static _fromIdTokenResponse(g,_,S,$=!1){return(0,D.Z)(function*(){const X=yield xt._fromIdTokenResponse(g,S,$),Ne=mo(S);return new Kr({user:X,providerId:Ne,_tokenResponse:S,operationType:_})})()}static _forOperation(g,_,S){return(0,D.Z)(function*(){yield g._updateTokensIfNecessary(S,!0);const $=mo(S);return new Kr({user:g,providerId:$,_tokenResponse:S,operationType:_})})()}}function mo(I){return I.providerId?I.providerId:"phoneNumber"in I?"phone":null}function Ws(){return(Ws=(0,D.Z)(function*(I){var g;const _=bn(I);if(yield _._initializationPromise,null===(g=_.currentUser)||void 0===g?void 0:g.isAnonymous)return new Kr({user:_.currentUser,providerId:null,operationType:"signIn"});const S=yield $i(_,{returnSecureToken:!0}),$=yield Kr._fromIdTokenResponse(_,"signIn",S,!0);return yield _._updateCurrentUser($.user),$})).apply(this,arguments)}class us extends oe.ZR{constructor(g,_,S,$){var X;super(_.code,_.message),this.operationType=S,this.user=$,this.name="FirebaseError",Object.setPrototypeOf(this,us.prototype),this.appName=g.name,this.code=_.code,this.tenantId=null!==(X=g.tenantId)&&void 0!==X?X:void 0,this.serverResponse=_.customData.serverResponse}static _fromErrorAndOperation(g,_,S,$){return new us(g,_,S,$)}}function j(I,g,_,S){return("reauthenticate"===g?_._getReauthenticationResolver(I):_._getIdTokenResponse(I)).catch(X=>{throw"auth/multi-factor-auth-required"===X.code?us._fromErrorAndOperation(I,X,g,S):X})}function F(I){return new Set(I.map(({providerId:g})=>g).filter(g=>!!g))}function Y(){return(Y=(0,D.Z)(function*(I,g){const _=(0,oe.m9)(I);yield k(!0,_,g);const{providerUserInfo:S}=yield ur(_.auth,{idToken:yield _.getIdToken(),deleteProvider:[g]}),$=F(S||[]);return _.providerData=_.providerData.filter(X=>$.has(X.providerId)),$.has("phone")||(_.phoneNumber=null),yield _.auth._persistUserIfCurrent(_),_})).apply(this,arguments)}function $e(I,g){return Vt.apply(this,arguments)}function Vt(){return(Vt=(0,D.Z)(function*(I,g,_=!1){const S=yield gt(I,g._linkToIdToken(I.auth,yield I.getIdToken()),_);return Kr._forOperation(I,"link",S)})).apply(this,arguments)}function k(I,g,_){return q.apply(this,arguments)}function q(){return(q=(0,D.Z)(function*(I,g,_){yield jn(g);const $=!1===I?"provider-already-linked":"no-such-provider";We(F(g.providerData).has(_)===I,g.auth,$)})).apply(this,arguments)}function V(I,g){return Q.apply(this,arguments)}function Q(){return(Q=(0,D.Z)(function*(I,g,_=!1){const{auth:S}=I,$="reauthenticate";try{const X=yield gt(I,j(S,$,g,I),_);We(X.idToken,S,"internal-error");const Ne=Xe(X.idToken);We(Ne,S,"internal-error");const{sub:qe}=Ne;return We(I.uid===qe,S,"user-mismatch"),Kr._forOperation(I,$,X)}catch(X){throw"auth/user-not-found"===(null==X?void 0:X.code)&&dt(S,"user-mismatch"),X}})).apply(this,arguments)}function me(I,g){return Pe.apply(this,arguments)}function Pe(){return(Pe=(0,D.Z)(function*(I,g,_=!1){const S="signIn",$=yield j(I,S,g),X=yield Kr._fromIdTokenResponse(I,S,$);return _||(yield I._updateCurrentUser(X.user)),X})).apply(this,arguments)}function st(I,g){return kt.apply(this,arguments)}function kt(){return(kt=(0,D.Z)(function*(I,g){return me(bn(I),g)})).apply(this,arguments)}function gn(I,g){return Yt.apply(this,arguments)}function Yt(){return(Yt=(0,D.Z)(function*(I,g){const _=(0,oe.m9)(I);return yield k(!1,_,g.providerId),$e(_,g)})).apply(this,arguments)}function Jn(I,g){return Ft.apply(this,arguments)}function Ft(){return(Ft=(0,D.Z)(function*(I,g){return V((0,oe.m9)(I),g)})).apply(this,arguments)}function sr(I,g){return Mn.apply(this,arguments)}function Mn(){return(Mn=(0,D.Z)(function*(I,g){return Tn(I,"POST","/v1/accounts:signInWithCustomToken",jt(I,g))})).apply(this,arguments)}function $r(){return($r=(0,D.Z)(function*(I,g){const _=bn(I),S=yield sr(_,{token:g,returnSecureToken:!0}),$=yield Kr._fromIdTokenResponse(_,"signIn",S);return yield _._updateCurrentUser($.user),$})).apply(this,arguments)}class vr{constructor(g,_){this.factorId=g,this.uid=_.mfaEnrollmentId,this.enrollmentTime=new Date(_.enrolledAt).toUTCString(),this.displayName=_.displayName}static _fromServerResponse(g,_){return"phoneInfo"in _?Rr._fromServerResponse(g,_):dt(g,"internal-error")}}class Rr extends vr{constructor(g){super("phone",g),this.phoneNumber=g.phoneInfo}static _fromServerResponse(g,_){return new Rr(_)}}function wi(I,g,_){var S;We((null===(S=_.url)||void 0===S?void 0:S.length)>0,I,"invalid-continue-uri"),We(void 0===_.dynamicLinkDomain||_.dynamicLinkDomain.length>0,I,"invalid-dynamic-link-domain"),g.continueUrl=_.url,g.dynamicLinkDomain=_.dynamicLinkDomain,g.canHandleCodeInApp=_.handleCodeInApp,_.iOS&&(We(_.iOS.bundleId.length>0,I,"missing-ios-bundle-id"),g.iosBundleId=_.iOS.bundleId),_.android&&(We(_.android.packageName.length>0,I,"missing-android-pkg-name"),g.androidInstallApp=_.android.installApp,g.androidMinimumVersionCode=_.android.minimumVersion,g.androidPackageName=_.android.packageName)}function Gi(){return(Gi=(0,D.Z)(function*(I,g,_){const S=(0,oe.m9)(I),$={requestType:"PASSWORD_RESET",email:g};_&&wi(S,$,_),yield rs(S,$)})).apply(this,arguments)}function Jo(){return(Jo=(0,D.Z)(function*(I,g,_){yield mn((0,oe.m9)(I),{oobCode:g,newPassword:_})})).apply(this,arguments)}function Qt(){return(Qt=(0,D.Z)(function*(I,g){yield ho((0,oe.m9)(I),{oobCode:g})})).apply(this,arguments)}function Pu(I,g){return Ka.apply(this,arguments)}function Ka(){return(Ka=(0,D.Z)(function*(I,g){const _=(0,oe.m9)(I),S=yield mn(_,{oobCode:g}),$=S.requestType;switch(We($,_,"internal-error"),$){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":We(S.newEmail,_,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":We(S.mfaInfo,_,"internal-error");default:We(S.email,_,"internal-error")}let X=null;return S.mfaInfo&&(X=vr._fromServerResponse(bn(_),S.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===S.requestType?S.newEmail:S.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===S.requestType?S.email:S.newEmail)||null,multiFactorInfo:X},operation:$}})).apply(this,arguments)}function Ks(){return(Ks=(0,D.Z)(function*(I,g){const{data:_}=yield Pu((0,oe.m9)(I),g);return _.email})).apply(this,arguments)}function ku(){return(ku=(0,D.Z)(function*(I,g,_){const S=bn(I),$=yield $i(S,{returnSecureToken:!0,email:g,password:_}),X=yield Kr._fromIdTokenResponse(S,"signIn",$);return yield S._updateCurrentUser(X.user),X})).apply(this,arguments)}function An(){return(An=(0,D.Z)(function*(I,g,_){const S=(0,oe.m9)(I),$={requestType:"EMAIL_SIGNIN",email:g};We(_.handleCodeInApp,S,"argument-error"),_&&wi(S,$,_),yield $n(S,$)})).apply(this,arguments)}function ea(){return(ea=(0,D.Z)(function*(I,g,_){const S=(0,oe.m9)(I),$=Es.credentialWithLink(g,_||He());return We($._tenantId===(S.tenantId||null),S,"tenant-id-mismatch"),st(S,$)})).apply(this,arguments)}function Zs(I,g){return Mi.apply(this,arguments)}function Mi(){return(Mi=(0,D.Z)(function*(I,g){return Ht(I,"POST","/v1/accounts:createAuthUri",jt(I,g))})).apply(this,arguments)}function yo(){return(yo=(0,D.Z)(function*(I,g){const S={identifier:g,continueUri:ue()?He():"http://localhost"},{signinMethods:$}=yield Zs((0,oe.m9)(I),S);return $||[]})).apply(this,arguments)}function Lu(){return(Lu=(0,D.Z)(function*(I,g){const _=(0,oe.m9)(I),$={requestType:"VERIFY_EMAIL",idToken:yield I.getIdToken()};g&&wi(_.auth,$,g);const{email:X}=yield jr(_.auth,$);X!==I.email&&(yield I.reload())})).apply(this,arguments)}function Ys(){return(Ys=(0,D.Z)(function*(I,g,_){const S=(0,oe.m9)(I),X={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield I.getIdToken(),newEmail:g};_&&wi(S.auth,X,_);const{email:Ne}=yield gs(S.auth,X);Ne!==I.email&&(yield I.reload())})).apply(this,arguments)}function Gr(I,g){return Wi.apply(this,arguments)}function Wi(){return(Wi=(0,D.Z)(function*(I,g){return Ht(I,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function qi(){return(qi=(0,D.Z)(function*(I,{displayName:g,photoURL:_}){if(void 0===g&&void 0===_)return;const S=(0,oe.m9)(I),X={idToken:yield S.getIdToken(),displayName:g,photoUrl:_,returnSecureToken:!0},Ne=yield gt(S,Gr(S.auth,X));S.displayName=Ne.displayName||null,S.photoURL=Ne.photoUrl||null;const qe=S.providerData.find(({providerId:yt})=>"password"===yt);qe&&(qe.displayName=S.displayName,qe.photoURL=S.photoURL),yield S._updateTokensIfNecessary(Ne)})).apply(this,arguments)}function Pr(I,g,_){return au.apply(this,arguments)}function au(){return(au=(0,D.Z)(function*(I,g,_){const{auth:S}=I,X={idToken:yield I.getIdToken(),returnSecureToken:!0};g&&(X.email=g),_&&(X.password=_);const Ne=yield gt(I,Un(S,X));yield I._updateTokensIfNecessary(Ne,!0)})).apply(this,arguments)}class Uo{constructor(g,_,S={}){this.isNewUser=g,this.providerId=_,this.profile=S}}class uu extends Uo{constructor(g,_,S,$){super(g,_,S),this.username=$}}class Ya extends Uo{constructor(g,_){super(g,"facebook.com",_)}}class Vu extends uu{constructor(g,_){super(g,"github.com",_,"string"==typeof(null==_?void 0:_.login)?null==_?void 0:_.login:null)}}class Da extends Uo{constructor(g,_){super(g,"google.com",_)}}class Ta extends uu{constructor(g,_,S){super(g,"twitter.com",_,S)}}function Ps(I){const{user:g,_tokenResponse:_}=I;return g.isAnonymous&&!_?{providerId:null,isNewUser:!1,profile:null}:function(I){var g,_;if(!I)return null;const{providerId:S}=I,$=I.rawUserInfo?JSON.parse(I.rawUserInfo):{},X=I.isNewUser||"identitytoolkit#SignupNewUserResponse"===I.kind;if(!S&&(null==I?void 0:I.idToken)){const Ne=null===(_=null===(g=Xe(I.idToken))||void 0===g?void 0:g.firebase)||void 0===_?void 0:_.sign_in_provider;if(Ne)return new Uo(X,"anonymous"!==Ne&&"custom"!==Ne?Ne:null)}if(!S)return null;switch(S){case"facebook.com":return new Ya(X,$);case"github.com":return new Vu(X,$);case"google.com":return new Da(X,$);case"twitter.com":return new Ta(X,$,I.screenName||null);case"custom":case"anonymous":return new Uo(X,null);default:return new Uo(X,S,$)}}(_)}class ci{constructor(g,_){this.type=g,this.credential=_}static _fromIdtoken(g){return new ci("enroll",g)}static _fromMfaPendingCredential(g){return new ci("signin",g)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(g){var _,S;if(null==g?void 0:g.multiFactorSession){if(null===(_=g.multiFactorSession)||void 0===_?void 0:_.pendingCredential)return ci._fromMfaPendingCredential(g.multiFactorSession.pendingCredential);if(null===(S=g.multiFactorSession)||void 0===S?void 0:S.idToken)return ci._fromIdtoken(g.multiFactorSession.idToken)}return null}}class wr{constructor(g,_,S){this.session=g,this.hints=_,this.signInResolver=S}static _fromError(g,_){const S=bn(g),$=(_.serverResponse.mfaInfo||[]).map(Ne=>vr._fromServerResponse(S,Ne));We(_.serverResponse.mfaPendingCredential,S,"internal-error");const X=ci._fromMfaPendingCredential(_.serverResponse.mfaPendingCredential);return new wr(X,$,function(){var Ne=(0,D.Z)(function*(qe){const yt=yield qe._process(S,X);delete _.serverResponse.mfaInfo,delete _.serverResponse.mfaPendingCredential;const Pt=Object.assign(Object.assign({},_.serverResponse),{idToken:yt.idToken,refreshToken:yt.refreshToken});switch(_.operationType){case"signIn":const Zt=yield Kr._fromIdTokenResponse(S,_.operationType,Pt);return yield S._updateCurrentUser(Zt.user),Zt;case"reauthenticate":return We(_.user,S,"internal-error"),Kr._forOperation(_.user,_.operationType,Pt);default:dt(S,"internal-error")}});return function(qe){return Ne.apply(this,arguments)}}())}resolveSignIn(g){var _=this;return(0,D.Z)(function*(){return _.signInResolver(g)})()}}function ra(I,g){return Ht(I,"POST","/v2/accounts/mfaEnrollment:start",Object.assign({tenantId:I.tenantId},g))}class sa{constructor(g){this.user=g,this.enrolledFactors=[],g._onReload(_=>{_.mfaInfo&&(this.enrolledFactors=_.mfaInfo.map(S=>vr._fromServerResponse(g.auth,S)))})}static _fromUser(g){return new sa(g)}getSession(){var g=this;return(0,D.Z)(function*(){return ci._fromIdtoken(yield g.user.getIdToken())})()}enroll(g,_){var S=this;return(0,D.Z)(function*(){const $=g,X=yield S.getSession(),Ne=yield gt(S.user,$._process(S.user.auth,X,_));return yield S.user._updateTokensIfNecessary(Ne),S.user.reload()})()}unenroll(g){var _=this;return(0,D.Z)(function*(){const S="string"==typeof g?g:g.uid,$=yield _.user.getIdToken(),X=yield gt(_.user,function(I,g){return Ht(I,"POST","/v2/accounts/mfaEnrollment:withdraw",Object.assign({tenantId:I.tenantId},g))}(_.user.auth,{idToken:$,mfaEnrollmentId:S}));_.enrolledFactors=_.enrolledFactors.filter(({uid:Ne})=>Ne!==S),yield _.user._updateTokensIfNecessary(X);try{yield _.user.reload()}catch(Ne){if("auth/user-token-expired"!==Ne.code)throw Ne}})()}}const lu=new WeakMap,vo="__sak";class Eo{constructor(g,_){this.storage=g,this.type=_}_isAvailable(){try{return this.storage?(this.storage.setItem(vo,"1"),this.storage.removeItem(vo),Promise.resolve(!0)):Promise.resolve(!1)}catch(g){return Promise.resolve(!1)}}_set(g,_){return this.storage.setItem(g,JSON.stringify(_)),Promise.resolve()}_get(g){const _=this.storage.getItem(g);return Promise.resolve(_?JSON.parse(_):null)}_remove(g){return this.storage.removeItem(g),Promise.resolve()}}const si=(()=>{class I extends Eo{constructor(){super(window.localStorage,"LOCAL"),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const I=(0,oe.z$)();return hs(I)||ui(I)}()&&function(){try{return!(!window||window===window.top)}catch(I){return!1}}(),this.fallbackToPolling=_i(),this._shouldAllowMigration=!0,this.boundEventHandler=this.onStorageEvent.bind(this)}forAllChangedKeys(_){for(const S of Object.keys(this.listeners)){const $=this.storage.getItem(S),X=this.localCache[S];$!==X&&_(S,X,$)}}onStorageEvent(_,S=!1){if(!_.key)return void this.forAllChangedKeys((qe,yt,Pt)=>{this.notifyListeners(qe,Pt)});const $=_.key;if(S?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const qe=this.storage.getItem($);if(_.newValue!==qe)null!==_.newValue?this.storage.setItem($,_.newValue):this.storage.removeItem($);else if(this.localCache[$]===_.newValue&&!S)return}const X=()=>{const qe=this.storage.getItem($);!S&&this.localCache[$]===qe||this.notifyListeners($,qe)},Ne=this.storage.getItem($);(0,oe.w1)()&&10===document.documentMode&&Ne!==_.newValue&&_.newValue!==_.oldValue?setTimeout(X,10):X()}notifyListeners(_,S){this.localCache[_]=S;const $=this.listeners[_];if($)for(const X of Array.from($))X(S&&JSON.parse(S))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((_,S,$)=>{this.onStorageEvent(new StorageEvent("storage",{key:_,oldValue:S,newValue:$}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(_,S){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[_]||(this.listeners[_]=new Set,this.localCache[_]=this.storage.getItem(_)),this.listeners[_].add(S)}_removeListener(_,S){this.listeners[_]&&(this.listeners[_].delete(S),0===this.listeners[_].size&&delete this.listeners[_]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(_,S){var $=()=>super._set,X=this;return(0,D.Z)(function*(){yield $().call(X,_,S),X.localCache[_]=JSON.stringify(S)})()}_get(_){var S=()=>super._get,$=this;return(0,D.Z)(function*(){const X=yield S().call($,_);return $.localCache[_]=JSON.stringify(X),X})()}_remove(_){var S=()=>super._remove,$=this;return(0,D.Z)(function*(){yield S().call($,_),delete $.localCache[_]})()}}return I.type="LOCAL",I})(),Cs=(()=>{class I extends Eo{constructor(){super(window.sessionStorage,"SESSION")}_addListener(_,S){}_removeListener(_,S){}}return I.type="SESSION",I})();let hu=(()=>{class I{constructor(_){this.eventTarget=_,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(_){const S=this.receivers.find(X=>X.isListeningto(_));if(S)return S;const $=new I(_);return this.receivers.push($),$}isListeningto(_){return this.eventTarget===_}handleEvent(_){var S=this;return(0,D.Z)(function*(){const $=_,{eventId:X,eventType:Ne,data:qe}=$.data,yt=S.handlersMap[Ne];if(!(null==yt?void 0:yt.size))return;$.ports[0].postMessage({status:"ack",eventId:X,eventType:Ne});const Pt=Array.from(yt).map(function(){var Wt=(0,D.Z)(function*(zr){return zr($.origin,qe)});return function(zr){return Wt.apply(this,arguments)}}()),Zt=yield function(I){return Promise.all(I.map(function(){var g=(0,D.Z)(function*(_){try{return{fulfilled:!0,value:yield _}}catch(S){return{fulfilled:!1,reason:S}}});return function(_){return g.apply(this,arguments)}}()))}(Pt);$.ports[0].postMessage({status:"done",eventId:X,eventType:Ne,response:Zt})})()}_subscribe(_,S){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[_]||(this.handlersMap[_]=new Set),this.handlersMap[_].add(S)}_unsubscribe(_,S){this.handlersMap[_]&&S&&this.handlersMap[_].delete(S),(!S||0===this.handlersMap[_].size)&&delete this.handlersMap[_],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return I.receivers=[],I})();function wo(I="",g=10){let _="";for(let S=0;S<g;S++)_+=Math.floor(10*Math.random());return I+_}class xi{constructor(g){this.target=g,this.handlers=new Set}removeMessageHandler(g){g.messageChannel&&(g.messageChannel.port1.removeEventListener("message",g.onMessage),g.messageChannel.port1.close()),this.handlers.delete(g)}_send(g,_,S=50){var $=this;return(0,D.Z)(function*(){const X="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!X)throw new Error("connection_unavailable");let Ne,qe;return new Promise((yt,Pt)=>{const Zt=wo("",20);X.port1.start();const Wt=setTimeout(()=>{Pt(new Error("unsupported_event"))},S);qe={messageChannel:X,onMessage(zr){const Fi=zr;if(Fi.data.eventId===Zt)switch(Fi.data.status){case"ack":clearTimeout(Wt),Ne=setTimeout(()=>{Pt(new Error("timeout"))},3e3);break;case"done":clearTimeout(Ne),yt(Fi.data.response);break;default:clearTimeout(Wt),clearTimeout(Ne),Pt(new Error("invalid_response"))}}},$.handlers.add(qe),X.port1.addEventListener("message",qe.onMessage),$.target.postMessage({eventType:g,eventId:Zt,data:_},[X.port2])}).finally(()=>{qe&&$.removeMessageHandler(qe)})})()}}function Xn(){return window}function Pi(){return void 0!==Xn().WorkerGlobalScope&&"function"==typeof Xn().importScripts}function oa(){return(oa=(0,D.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(I){return null}})).apply(this,arguments)}const Js="firebaseLocalStorageDb",jo="firebaseLocalStorage",Fs="fbase_key";class Io{constructor(g){this.request=g}toPromise(){return new Promise((g,_)=>{this.request.addEventListener("success",()=>{g(this.request.result)}),this.request.addEventListener("error",()=>{_(this.request.error)})})}}function aa(I,g){return I.transaction([jo],g?"readwrite":"readonly").objectStore(jo)}function Mr(){const I=indexedDB.open(Js,1);return new Promise((g,_)=>{I.addEventListener("error",()=>{_(I.error)}),I.addEventListener("upgradeneeded",()=>{const S=I.result;try{S.createObjectStore(jo,{keyPath:Fs})}catch($){_($)}}),I.addEventListener("success",(0,D.Z)(function*(){const S=I.result;S.objectStoreNames.contains(jo)?g(S):(S.close(),yield function(){const I=indexedDB.deleteDatabase(Js);return new Io(I).toPromise()}(),g(yield Mr()))}))})}function ua(I,g,_){return kr.apply(this,arguments)}function kr(){return(kr=(0,D.Z)(function*(I,g,_){const S=aa(I,!0).put({[Fs]:g,value:_});return new Io(S).toPromise()})).apply(this,arguments)}function la(){return(la=(0,D.Z)(function*(I,g){const _=aa(I,!1).get(g),S=yield new Io(_).toPromise();return void 0===S?null:S.value})).apply(this,arguments)}function vt(I,g){const _=aa(I,!0).delete(g);return new Io(_).toPromise()}const Lt=(()=>{class I{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var _=this;return(0,D.Z)(function*(){return _.db||(_.db=yield Mr()),_.db})()}_withRetries(_){var S=this;return(0,D.Z)(function*(){let $=0;for(;;)try{const X=yield S._openDb();return yield _(X)}catch(X){if($++>3)throw X;S.db&&(S.db.close(),S.db=void 0)}})()}initializeServiceWorkerMessaging(){var _=this;return(0,D.Z)(function*(){return Pi()?_.initializeReceiver():_.initializeSender()})()}initializeReceiver(){var _=this;return(0,D.Z)(function*(){_.receiver=hu._getInstance(Pi()?self:null),_.receiver._subscribe("keyChanged",function(){var S=(0,D.Z)(function*($,X){return{keyProcessed:(yield _._poll()).includes(X.key)}});return function($,X){return S.apply(this,arguments)}}()),_.receiver._subscribe("ping",function(){var S=(0,D.Z)(function*($,X){return["keyChanged"]});return function($,X){return S.apply(this,arguments)}}())})()}initializeSender(){var _=this;return(0,D.Z)(function*(){var S,$;if(_.activeServiceWorker=yield function(){return oa.apply(this,arguments)}(),!_.activeServiceWorker)return;_.sender=new xi(_.activeServiceWorker);const X=yield _.sender._send("ping",{},800);!X||(null===(S=X[0])||void 0===S?void 0:S.fulfilled)&&(null===($=X[0])||void 0===$?void 0:$.value.includes("keyChanged"))&&(_.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(_){var S=this;return(0,D.Z)(function*(){if(S.sender&&S.activeServiceWorker&&function(){var I;return(null===(I=null==navigator?void 0:navigator.serviceWorker)||void 0===I?void 0:I.controller)||null}()===S.activeServiceWorker)try{yield S.sender._send("keyChanged",{key:_},S.serviceWorkerReceiverAvailable?800:50)}catch($){}})()}_isAvailable(){return(0,D.Z)(function*(){try{if(!indexedDB)return!1;const _=yield Mr();return yield ua(_,vo,"1"),yield vt(_,vo),!0}catch(_){}return!1})()}_withPendingWrite(_){var S=this;return(0,D.Z)(function*(){S.pendingWrites++;try{yield _()}finally{S.pendingWrites--}})()}_set(_,S){var $=this;return(0,D.Z)(function*(){return $._withPendingWrite((0,D.Z)(function*(){return yield $._withRetries(X=>ua(X,_,S)),$.localCache[_]=S,$.notifyServiceWorker(_)}))})()}_get(_){var S=this;return(0,D.Z)(function*(){const $=yield S._withRetries(X=>function(I,g){return la.apply(this,arguments)}(X,_));return S.localCache[_]=$,$})()}_remove(_){var S=this;return(0,D.Z)(function*(){return S._withPendingWrite((0,D.Z)(function*(){return yield S._withRetries($=>vt($,_)),delete S.localCache[_],S.notifyServiceWorker(_)}))})()}_poll(){var _=this;return(0,D.Z)(function*(){const S=yield _._withRetries(Ne=>{const qe=aa(Ne,!1).getAll();return new Io(qe).toPromise()});if(!S)return[];if(0!==_.pendingWrites)return[];const $=[],X=new Set;for(const{fbase_key:Ne,value:qe}of S)X.add(Ne),JSON.stringify(_.localCache[Ne])!==JSON.stringify(qe)&&(_.notifyListeners(Ne,qe),$.push(Ne));for(const Ne of Object.keys(_.localCache))_.localCache[Ne]&&!X.has(Ne)&&(_.notifyListeners(Ne,null),$.push(Ne));return $})()}notifyListeners(_,S){this.localCache[_]=S;const $=this.listeners[_];if($)for(const X of Array.from($))X(S)}startPolling(){var _=this;this.stopPolling(),this.pollTimer=setInterval((0,D.Z)(function*(){return _._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(_,S){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[_]||(this.listeners[_]=new Set,this._get(_)),this.listeners[_].add(S)}_removeListener(_,S){this.listeners[_]&&(this.listeners[_].delete(S),0===this.listeners[_].size&&delete this.listeners[_]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return I.type="LOCAL",I})();function un(I,g){return Ht(I,"POST","/v2/accounts/mfaSignIn:start",Object.assign({tenantId:I.tenantId},g))}function b(){return(b=(0,D.Z)(function*(I){return(yield Ht(I,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function x(I){return new Promise((g,_)=>{const S=document.createElement("script");S.setAttribute("src",I),S.onload=g,S.onerror=$=>{const X=Qe("internal-error");X.customData=$,_(X)},S.type="text/javascript",S.charset="UTF-8",function(){var I,g;return null!==(g=null===(I=document.getElementsByTagName("head"))||void 0===I?void 0:I[0])&&void 0!==g?g:document}().appendChild(S)})}function H(I){return`__${I}${Math.floor(1e6*Math.random())}`}const Ee=1e12;class nt{constructor(g){this.auth=g,this.counter=Ee,this._widgets=new Map}render(g,_){const S=this.counter;return this._widgets.set(S,new Ot(g,this.auth.name,_||{})),this.counter++,S}reset(g){var _;const S=g||Ee;null===(_=this._widgets.get(S))||void 0===_||_.delete(),this._widgets.delete(S)}getResponse(g){var _;return(null===(_=this._widgets.get(g||Ee))||void 0===_?void 0:_.getResponse())||""}execute(g){var _=this;return(0,D.Z)(function*(){var S;return null===(S=_._widgets.get(g||Ee))||void 0===S||S.execute(),""})()}}class Ot{constructor(g,_,S){this.params=S,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const $="string"==typeof g?document.getElementById(g):g;We($,"argument-error",{appName:_}),this.container=$,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function(I){const g=[],_="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let S=0;S<50;S++)g.push(_.charAt(Math.floor(Math.random()*_.length)));return g.join("")}();const{callback:g,"expired-callback":_}=this.params;if(g)try{g(this.responseToken)}catch(S){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,_)try{_()}catch(S){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const vn=H("rcb"),or=new ft(3e4,6e4);class Zr{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!Xn().grecaptcha}load(g,_=""){return We((I=_).length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(I),g,"argument-error"),this.shouldResolveImmediately(_)?Promise.resolve(Xn().grecaptcha):new Promise((S,$)=>{const X=Xn().setTimeout(()=>{$(Qe(g,"network-request-failed"))},or.get());Xn()[vn]=()=>{Xn().clearTimeout(X),delete Xn()[vn];const qe=Xn().grecaptcha;if(!qe)return void $(Qe(g,"internal-error"));const yt=qe.render;qe.render=(Pt,Zt)=>{const Wt=yt(Pt,Zt);return this.counter++,Wt},this.hostLanguage=_,S(qe)},x(`https://www.google.com/recaptcha/api.js??${(0,oe.xO)({onload:vn,render:"explicit",hl:_})}`).catch(()=>{clearTimeout(X),$(Qe(g,"internal-error"))})});var I}clearedOneInstance(){this.counter--}shouldResolveImmediately(g){return!!Xn().grecaptcha&&(g===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Zn{load(g){return(0,D.Z)(function*(){return new nt(g)})()}clearedOneInstance(){}}const ln="recaptcha",Ki={theme:"light",type:"image"};class ls{constructor(g,_=Object.assign({},Ki),S){this.parameters=_,this.type=ln,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=bn(S),this.isInvisible="invisible"===this.parameters.size,We("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const $="string"==typeof g?document.getElementById(g):g;We($,this.auth,"argument-error"),this.container=$,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Zn:new Zr,this.validateStartingState()}verify(){var g=this;return(0,D.Z)(function*(){g.assertNotDestroyed();const _=yield g.render(),S=g.getAssertedRecaptcha();return S.getResponse(_)||new Promise(X=>{const Ne=qe=>{!qe||(g.tokenChangeListeners.delete(Ne),X(qe))};g.tokenChangeListeners.add(Ne),g.isInvisible&&S.execute(_)})})()}render(){try{this.assertNotDestroyed()}catch(g){return Promise.reject(g)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(g=>{throw this.renderPromise=null,g})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(g=>{this.container.removeChild(g)})}validateStartingState(){We(!this.parameters.sitekey,this.auth,"argument-error"),We(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),We("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(g){return _=>{if(this.tokenChangeListeners.forEach(S=>S(_)),"function"==typeof g)g(_);else if("string"==typeof g){const S=Xn()[g];"function"==typeof S&&S(_)}}}assertNotDestroyed(){We(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var g=this;return(0,D.Z)(function*(){if(yield g.init(),!g.widgetId){let _=g.container;if(!g.isInvisible){const S=document.createElement("div");_.appendChild(S),_=S}g.widgetId=g.getAssertedRecaptcha().render(_,g.parameters)}return g.widgetId})()}init(){var g=this;return(0,D.Z)(function*(){We(ue()&&!Pi(),g.auth,"internal-error"),yield function(){let I=null;return new Promise(g=>{"complete"!==document.readyState?(I=()=>g(),window.addEventListener("load",I)):g()}).catch(g=>{throw I&&window.removeEventListener("load",I),g})}(),g.recaptcha=yield g._recaptchaLoader.load(g.auth,g.auth.languageCode||void 0);const _=yield function(I){return b.apply(this,arguments)}(g.auth);We(_,g.auth,"internal-error"),g.parameters.sitekey=_})()}getAssertedRecaptcha(){return We(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Ma{constructor(g,_){this.verificationId=g,this.onConfirmation=_}confirm(g){const _=is._fromVerification(this.verificationId,g);return this.onConfirmation(_)}}function $l(){return($l=(0,D.Z)(function*(I,g,_){const S=bn(I),$=yield pl(S,g,(0,oe.m9)(_));return new Ma($,X=>st(S,X))})).apply(this,arguments)}function Oa(){return(Oa=(0,D.Z)(function*(I,g,_){const S=(0,oe.m9)(I);yield k(!1,S,"phone");const $=yield pl(S.auth,g,(0,oe.m9)(_));return new Ma($,X=>gn(S,X))})).apply(this,arguments)}function Ci(){return(Ci=(0,D.Z)(function*(I,g,_){const S=(0,oe.m9)(I),$=yield pl(S.auth,g,(0,oe.m9)(_));return new Ma($,X=>Jn(S,X))})).apply(this,arguments)}function pl(I,g,_){return ca.apply(this,arguments)}function ca(){return(ca=(0,D.Z)(function*(I,g,_){var S;const $=yield _.verify();try{let X;if(We("string"==typeof $,I,"argument-error"),We(_.type===ln,I,"argument-error"),X="string"==typeof g?{phoneNumber:g}:g,"session"in X){const Ne=X.session;if("phoneNumber"in X)return We("enroll"===Ne.type,I,"internal-error"),(yield ra(I,{idToken:Ne.credential,phoneEnrollmentInfo:{phoneNumber:X.phoneNumber,recaptchaToken:$}})).phoneSessionInfo.sessionInfo;{We("signin"===Ne.type,I,"internal-error");const qe=(null===(S=X.multiFactorHint)||void 0===S?void 0:S.uid)||X.multiFactorUid;return We(qe,I,"missing-multi-factor-info"),(yield un(I,{mfaPendingCredential:Ne.credential,mfaEnrollmentId:qe,phoneSignInInfo:{recaptchaToken:$}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:Ne}=yield Lo(I,{phoneNumber:X.phoneNumber,recaptchaToken:$});return Ne}}finally{_._reset()}})).apply(this,arguments)}function xa(){return(xa=(0,D.Z)(function*(I,g){yield $e((0,oe.m9)(I),g)})).apply(this,arguments)}let gu=(()=>{class I{constructor(_){this.providerId=I.PROVIDER_ID,this.auth=bn(_)}verifyPhoneNumber(_,S){return pl(this.auth,_,(0,oe.m9)(S))}static credential(_,S){return is._fromVerification(_,S)}static credentialFromResult(_){return I.credentialFromTaggedObject(_)}static credentialFromError(_){return I.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{phoneNumber:S,temporaryProof:$}=_;return S&&$?is._fromTokenResponse(S,$):null}}return I.PROVIDER_ID="phone",I.PHONE_SIGN_IN_METHOD="phone",I})();function Xa(I,g){return g?Le(g):(We(I._popupRedirectResolver,I,"argument-error"),I._popupRedirectResolver)}class mu extends Hn{constructor(g){super("custom","custom"),this.params=g}_getIdTokenResponse(g){return Hr(g,this._buildIdpRequest())}_linkToIdToken(g,_){return Hr(g,this._buildIdpRequest(_))}_getReauthenticationResolver(g){return Hr(g,this._buildIdpRequest())}_buildIdpRequest(g){const _={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return g&&(_.idToken=g),_}}function eu(I){return me(I.auth,new mu(I),I.bypassAuthState)}function Do(I){const{auth:g,user:_}=I;return We(_,g,"internal-error"),V(_,new mu(I),I.bypassAuthState)}function Nc(I){return At.apply(this,arguments)}function At(){return(At=(0,D.Z)(function*(I){const{auth:g,user:_}=I;return We(_,g,"internal-error"),$e(_,new mu(I),I.bypassAuthState)})).apply(this,arguments)}class Xs{constructor(g,_,S,$,X=!1){this.auth=g,this.resolver=S,this.user=$,this.bypassAuthState=X,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(_)?_:[_]}execute(){var g=this;return new Promise(function(){var _=(0,D.Z)(function*(S,$){g.pendingPromise={resolve:S,reject:$};try{g.eventManager=yield g.resolver._initialize(g.auth),yield g.onExecution(),g.eventManager.registerConsumer(g)}catch(X){g.reject(X)}});return function(S,$){return _.apply(this,arguments)}}())}onAuthEvent(g){var _=this;return(0,D.Z)(function*(){const{urlResponse:S,sessionId:$,postBody:X,tenantId:Ne,error:qe,type:yt}=g;if(qe)return void _.reject(qe);const Pt={auth:_.auth,requestUri:S,sessionId:$,tenantId:Ne||void 0,postBody:X||void 0,user:_.user,bypassAuthState:_.bypassAuthState};try{_.resolve(yield _.getIdpTask(yt)(Pt))}catch(Zt){_.reject(Zt)}})()}onError(g){this.reject(g)}getIdpTask(g){switch(g){case"signInViaPopup":case"signInViaRedirect":return eu;case"linkViaPopup":case"linkViaRedirect":return Nc;case"reauthViaPopup":case"reauthViaRedirect":return Do;default:dt(this.auth,"internal-error")}}resolve(g){Ct(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(g),this.unregisterAndCleanUp()}reject(g){Ct(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(g),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Ls=new ft(2e3,1e4);function Pa(){return(Pa=(0,D.Z)(function*(I,g,_){const S=bn(I);We(g instanceof li,I,"argument-error");const $=Xa(S,_);return new Us(S,"signInViaPopup",g,$).executeNotNull()})).apply(this,arguments)}function bs(){return(bs=(0,D.Z)(function*(I,g,_){const S=(0,oe.m9)(I);We(g instanceof li,S.auth,"argument-error");const $=Xa(S.auth,_);return new Us(S.auth,"reauthViaPopup",g,$,S).executeNotNull()})).apply(this,arguments)}function eo(){return(eo=(0,D.Z)(function*(I,g,_){const S=(0,oe.m9)(I);We(g instanceof li,S.auth,"argument-error");const $=Xa(S.auth,_);return new Us(S.auth,"linkViaPopup",g,$,S).executeNotNull()})).apply(this,arguments)}let Us=(()=>{class I extends Xs{constructor(_,S,$,X,Ne){super(_,S,X,Ne),this.provider=$,this.authWindow=null,this.pollId=null,I.currentPopupAction&&I.currentPopupAction.cancel(),I.currentPopupAction=this}executeNotNull(){var _=this;return(0,D.Z)(function*(){const S=yield _.execute();return We(S,_.auth,"internal-error"),S})()}onExecution(){var _=this;return(0,D.Z)(function*(){Ct(1===_.filter.length,"Popup operations only handle one event");const S=wo();_.authWindow=yield _.resolver._openPopup(_.auth,_.provider,_.filter[0],S),_.authWindow.associatedEvent=S,_.resolver._originValidation(_.auth).catch($=>{_.reject($)}),_.resolver._isIframeWebStorageSupported(_.auth,$=>{$||_.reject(Qe(_.auth,"web-storage-unsupported"))}),_.pollUserCancellation()})()}get eventId(){var _;return(null===(_=this.authWindow)||void 0===_?void 0:_.associatedEvent)||null}cancel(){this.reject(Qe(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,I.currentPopupAction=null}pollUserCancellation(){const _=()=>{var S,$;this.pollId=(null===($=null===(S=this.authWindow)||void 0===S?void 0:S.window)||void 0===$?void 0:$.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(Qe(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(_,Ls.get())};_()}}return I.currentPopupAction=null,I})();const Gu=new Map;class zl extends Xs{constructor(g,_,S=!1){super(g,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],_,void 0,S),this.eventId=null}execute(){var g=()=>super.execute,_=this;return(0,D.Z)(function*(){let S=Gu.get(_.auth._key());if(!S){try{const X=(yield function(I,g){return zu.apply(this,arguments)}(_.resolver,_.auth))?yield g().call(_):null;S=()=>Promise.resolve(X)}catch($){S=()=>Promise.reject($)}Gu.set(_.auth._key(),S)}return S()})()}onAuthEvent(g){var _=()=>super.onAuthEvent,S=this;return(0,D.Z)(function*(){if("signInViaRedirect"===g.type)return _().call(S,g);if("unknown"!==g.type){if(g.eventId){const $=yield S.auth._redirectUserForId(g.eventId);if($)return S.user=$,_().call(S,g);S.resolve(null)}}else S.resolve(null)})()}onExecution(){return(0,D.Z)(function*(){})()}cleanUp(){}}function zu(){return(zu=(0,D.Z)(function*(I,g){const _=m(g),S="true"===(yield M(I)._get(_));return yield M(I)._remove(_),S})).apply(this,arguments)}function fi(I,g){return Zi.apply(this,arguments)}function Zi(){return(Zi=(0,D.Z)(function*(I,g){return M(I)._set(m(g),"true")})).apply(this,arguments)}function M(I){return Le(I._redirectPersistence)}function m(I){return fn("pendingRedirect",I.config.apiKey,I.name)}function B(){return(B=(0,D.Z)(function*(I,g,_){const S=bn(I);We(g instanceof li,I,"argument-error");const $=Xa(S,_);return yield fi($,S),$._openRedirect(S,g,"signInViaRedirect")})).apply(this,arguments)}function he(){return(he=(0,D.Z)(function*(I,g,_){const S=(0,oe.m9)(I);We(g instanceof li,S.auth,"argument-error");const $=Xa(S.auth,_);yield fi($,S.auth);const X=yield En(S);return $._openRedirect(S.auth,g,"reauthViaRedirect",X)})).apply(this,arguments)}function wt(){return(wt=(0,D.Z)(function*(I,g,_){const S=(0,oe.m9)(I);We(g instanceof li,S.auth,"argument-error");const $=Xa(S.auth,_);yield k(!1,S,g.providerId),yield fi($,S.auth);const X=yield En(S);return $._openRedirect(S.auth,g,"linkViaRedirect",X)})).apply(this,arguments)}function cn(){return(cn=(0,D.Z)(function*(I,g){return yield bn(I)._initializationPromise,kn(I,g,!1)})).apply(this,arguments)}function kn(I,g){return Kt.apply(this,arguments)}function Kt(){return(Kt=(0,D.Z)(function*(I,g,_=!1){const S=bn(I),$=Xa(S,g),Ne=yield new zl(S,$,_).execute();return Ne&&!_&&(delete Ne.user._redirectEventId,yield S._persistUserIfCurrent(Ne.user),yield S._setRedirectUser(null,g)),Ne})).apply(this,arguments)}function En(I){return On.apply(this,arguments)}function On(){return(On=(0,D.Z)(function*(I){const g=wo(`${I.uid}:::`);return I._redirectEventId=g,yield I.auth._setRedirectUser(I),yield I.auth._persistUserIfCurrent(I),g})).apply(this,arguments)}class hr{constructor(g){this.auth=g,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(g){this.consumers.add(g),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,g)&&(this.sendToConsumer(this.queuedRedirectEvent,g),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(g){this.consumers.delete(g)}onEvent(g){if(this.hasEventBeenHandled(g))return!1;let _=!1;return this.consumers.forEach(S=>{this.isEventForConsumer(g,S)&&(_=!0,this.sendToConsumer(g,S),this.saveEventToCache(g))}),this.hasHandledPotentialRedirect||!function(I){switch(I.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Xr(I);default:return!1}}(g)||(this.hasHandledPotentialRedirect=!0,_||(this.queuedRedirectEvent=g,_=!0)),_}sendToConsumer(g,_){var S;if(g.error&&!Xr(g)){const $=(null===(S=g.error.code)||void 0===S?void 0:S.split("auth/")[1])||"internal-error";_.onError(Qe(this.auth,$))}else _.onAuthEvent(g)}isEventForConsumer(g,_){const S=null===_.eventId||!!g.eventId&&g.eventId===_.eventId;return _.filter.includes(g.type)&&S}hasEventBeenHandled(g){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(cs(g))}saveEventToCache(g){this.cachedEventUids.add(cs(g)),this.lastProcessedEventTime=Date.now()}}function cs(I){return[I.type,I.eventId,I.sessionId,I.tenantId].filter(g=>g).join("-")}function Xr({type:I,error:g}){return"unknown"===I&&"auth/no-auth-event"===(null==g?void 0:g.code)}function Fr(I){return bi.apply(this,arguments)}function bi(){return(bi=(0,D.Z)(function*(I,g={}){return Ht(I,"GET","/v1/projects",g)})).apply(this,arguments)}const Yn=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Bs=/^https?/;function to(){return(to=(0,D.Z)(function*(I){if(I.config.emulator)return;const{authorizedDomains:g}=yield Fr(I);for(const _ of g)try{if(Ao(_))return}catch(S){}dt(I,"unauthorized-domain")})).apply(this,arguments)}function Ao(I){const g=He(),{protocol:_,hostname:S}=new URL(g);if(I.startsWith("chrome-extension://")){const Ne=new URL(I);return""===Ne.hostname&&""===S?"chrome-extension:"===_&&I.replace("chrome-extension://","")===g.replace("chrome-extension://",""):"chrome-extension:"===_&&Ne.hostname===S}if(!Bs.test(_))return!1;if(Yn.test(I))return S===I;const $=I.replace(/\./g,"\\.");return new RegExp("^(.+\\."+$+"|"+$+")$","i").test(S)}const da=new ft(3e4,6e4);function ha(){const I=Xn().___jsl;if(null==I?void 0:I.H)for(const g of Object.keys(I.H))if(I.H[g].r=I.H[g].r||[],I.H[g].L=I.H[g].L||[],I.H[g].r=[...I.H[g].L],I.CP)for(let _=0;_<I.CP.length;_++)I.CP[_]=null}let Bt=null;function zt(I){return Bt=Bt||function(I){return new Promise((g,_)=>{var S,$,X;function Ne(){ha(),gapi.load("gapi.iframes",{callback:()=>{g(gapi.iframes.getContext())},ontimeout:()=>{ha(),_(Qe(I,"network-request-failed"))},timeout:da.get()})}if(null===($=null===(S=Xn().gapi)||void 0===S?void 0:S.iframes)||void 0===$?void 0:$.Iframe)g(gapi.iframes.getContext());else{if(!(null===(X=Xn().gapi)||void 0===X?void 0:X.load)){const qe=H("iframefcb");return Xn()[qe]=()=>{gapi.load?Ne():_(Qe(I,"network-request-failed"))},x(`https://apis.google.com/js/api.js?onload=${qe}`)}Ne()}}).catch(g=>{throw Bt=null,g})}(I),Bt}const nn=new ft(5e3,15e3),No={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},Ds=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Ro(I){const g=I.config;We(g.authDomain,I,"auth-domain-config-required");const _=g.emulator?It(g,"emulator/auth/iframe"):`https://${I.config.authDomain}/__/auth/iframe`,S={apiKey:g.apiKey,appName:I.name,v:Ie.SDK_VERSION},$=Ds.get(I.config.apiHost);$&&(S.eid=$);const X=I._getFrameworks();return X.length&&(S.fw=X.join(",")),`${_}?${(0,oe.xO)(S).slice(1)}`}function Wu(){return(Wu=(0,D.Z)(function*(I){const g=yield zt(I),_=Xn().gapi;return We(_,I,"internal-error"),g.open({where:document.body,url:Ro(I),messageHandlersFilter:_.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:No,dontclear:!0},S=>new Promise(function(){var $=(0,D.Z)(function*(X,Ne){yield S.restyle({setHideOnLeave:!1});const qe=Qe(I,"network-request-failed"),yt=Xn().setTimeout(()=>{Ne(qe)},nn.get());function Pt(){Xn().clearTimeout(yt),X(S)}S.ping(Pt).then(Pt,()=>{Ne(qe)})});return function(X,Ne){return $.apply(this,arguments)}}()))})).apply(this,arguments)}const js={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Ku{constructor(g){this.window=g,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(g){}}}function Rc(I,g,_,S,$,X){We(I.config.authDomain,I,"auth-domain-config-required"),We(I.config.apiKey,I,"invalid-api-key");const Ne={apiKey:I.config.apiKey,appName:I.name,authType:_,redirectUrl:S,v:Ie.SDK_VERSION,eventId:$};if(g instanceof li){g.setDefaultLanguage(I.languageCode),Ne.providerId=g.providerId||"",(0,oe.xb)(g.getCustomParameters())||(Ne.customParameters=JSON.stringify(g.getCustomParameters()));for(const[yt,Pt]of Object.entries(X||{}))Ne[yt]=Pt}if(g instanceof ws){const yt=g.getScopes().filter(Pt=>""!==Pt);yt.length>0&&(Ne.scopes=yt.join(","))}I.tenantId&&(Ne.tid=I.tenantId);const qe=Ne;for(const yt of Object.keys(qe))void 0===qe[yt]&&delete qe[yt];return`${function({config:I}){return I.emulator?It(I,"emulator/auth/handler"):`https://${I.authDomain}/__/auth/handler`}(I)}?${(0,oe.xO)(qe).slice(1)}`}const Fa="webStorageSupport";class yl extends class{constructor(g){this.factorId=g}_process(g,_,S){switch(_.type){case"enroll":return this._finalizeEnroll(g,_.credential,S);case"signin":return this._finalizeSignIn(g,_.credential);default:return Jt("unexpected MultiFactorSessionType")}}}{constructor(g){super("phone"),this.credential=g}static _fromCredential(g){return new yl(g)}_finalizeEnroll(g,_,S){return function(I,g){return Ht(I,"POST","/v2/accounts/mfaEnrollment:finalize",Object.assign({tenantId:I.tenantId},g))}(g,{idToken:_,displayName:S,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(g,_){return function(I,g){return Ht(I,"POST","/v2/accounts/mfaSignIn:finalize",Object.assign({tenantId:I.tenantId},g))}(g,{mfaPendingCredential:_,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}class pd{constructor(){}static assertion(g){return yl._fromCredential(g)}}var I;class hh{constructor(g){this.auth=g,this.internalListeners=new Map}getUid(){var g;return this.assertAuthConfigured(),(null===(g=this.auth.currentUser)||void 0===g?void 0:g.uid)||null}getToken(g){var _=this;return(0,D.Z)(function*(){return _.assertAuthConfigured(),yield _.auth._initializationPromise,_.auth.currentUser?{accessToken:yield _.auth.currentUser.getIdToken(g)}:null})()}addAuthTokenListener(g){if(this.assertAuthConfigured(),this.internalListeners.has(g))return;const _=this.auth.onIdTokenChanged(S=>{var $;g((null===($=S)||void 0===$?void 0:$.stsTokenManager.accessToken)||null)});this.internalListeners.set(g,_),this.updateProactiveRefresh()}removeAuthTokenListener(g){this.assertAuthConfigured();const _=this.internalListeners.get(g);!_||(this.internalListeners.delete(g),_(),this.updateProactiveRefresh())}assertAuthConfigured(){We(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function ro(){return window}function Oc(){return(Oc=(0,D.Z)(function*(I,g,_){var S;const{BuildInfo:$}=ro();Ct(g.sessionId,"AuthEvent did not contain a session ID");const X=yield mh(g.sessionId),Ne={};return ui()?Ne.ibi=$.packageName:es()?Ne.apn=$.packageName:dt(I,"operation-not-supported-in-this-environment"),$.displayName&&(Ne.appDisplayName=$.displayName),Ne.sessionId=X,Rc(I,_,g.type,void 0,null!==(S=g.eventId)&&void 0!==S?S:void 0,Ne)})).apply(this,arguments)}function Mo(){return(Mo=(0,D.Z)(function*(I){const{BuildInfo:g}=ro(),_={};ui()?_.iosBundleId=g.packageName:es()?_.androidPackageName=g.packageName:dt(I,"operation-not-supported-in-this-environment"),yield Fr(I,_)})).apply(this,arguments)}function qn(){return(qn=(0,D.Z)(function*(I,g,_){const{cordova:S}=ro();let $=()=>{};try{yield new Promise((X,Ne)=>{let qe=null;function yt(){var Wt;X();const zr=null===(Wt=S.plugins.browsertab)||void 0===Wt?void 0:Wt.close;"function"==typeof zr&&zr(),"function"==typeof(null==_?void 0:_.close)&&_.close()}function Pt(){qe||(qe=window.setTimeout(()=>{Ne(Qe(I,"redirect-cancelled-by-user"))},2e3))}function Zt(){"visible"===(null==document?void 0:document.visibilityState)&&Pt()}g.addPassiveListener(yt),document.addEventListener("resume",Pt,!1),es()&&document.addEventListener("visibilitychange",Zt,!1),$=()=>{g.removePassiveListener(yt),document.removeEventListener("resume",Pt,!1),document.removeEventListener("visibilitychange",Zt,!1),qe&&window.clearTimeout(qe)}})}finally{$()}})).apply(this,arguments)}function mh(I){return gi.apply(this,arguments)}function gi(){return(gi=(0,D.Z)(function*(I){const g=xc(I),_=yield crypto.subtle.digest("SHA-256",g);return Array.from(new Uint8Array(_)).map($=>$.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function xc(I){if(Ct(/[0-9a-zA-Z]+/.test(I),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(I);const g=new ArrayBuffer(I.length),_=new Uint8Array(g);for(let S=0;S<I.length;S++)_[S]=I.charCodeAt(S);return _}I="Browser",(0,Ie._registerComponent)(new Ue.wA("auth",(g,{options:_})=>{const S=g.getProvider("app").getImmediate(),{apiKey:$,authDomain:X}=S.options;return(Ne=>{We($&&!$.includes(":"),"invalid-api-key",{appName:Ne.name}),We(!(null==X?void 0:X.includes(":")),"argument-error",{appName:Ne.name});const qe={apiKey:$,authDomain:X,clientPlatform:I,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Br(I)},yt=new Ui(Ne,qe);return function(I,g){const _=(null==g?void 0:g.persistence)||[],S=(Array.isArray(_)?_:[_]).map(Le);(null==g?void 0:g.errorMap)&&I._updateErrorMap(g.errorMap),I._initializeWithPersistence(S,null==g?void 0:g.popupRedirectResolver)}(yt,_),yt})(S)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((g,_,S)=>{g.getProvider("auth-internal").initialize()})),(0,Ie._registerComponent)(new Ue.wA("auth-internal",g=>{const _=bn(g.getProvider("auth").getImmediate());return new hh(_)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,Ie.registerVersion)("@firebase/auth","0.17.1",void 0);class oi extends hr{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(g=>{this.resolveInialized=g})}addPassiveListener(g){this.passiveListeners.add(g)}removePassiveListener(g){this.passiveListeners.delete(g)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(g){return this.resolveInialized(),this.passiveListeners.forEach(_=>_(g)),super.onEvent(g)}initialized(){var g=this;return(0,D.Z)(function*(){yield g.initPromise})()}}function Oo(I){return _h.apply(this,arguments)}function _h(){return(_h=(0,D.Z)(function*(I){const g=yield Yl()._get(Go(I));return g&&(yield Yl()._remove(Go(I))),g})).apply(this,arguments)}function Zl(){const I=[],g="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let _=0;_<20;_++){const S=Math.floor(Math.random()*g.length);I.push(g.charAt(S))}return I.join("")}function Yl(){return Le(si)}function Go(I){return fn("authEvent",I.config.apiKey,I.name)}function _u(I){if(!(null==I?void 0:I.includes("?")))return{};const[g,..._]=I.split("?");return(0,oe.zd)(_.join("?"))}function Eh(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Qe("no-auth-event")}}function Lc(){var I;return(null===(I=null==self?void 0:self.location)||void 0===I?void 0:I.protocol)||null}function Ch(I=(0,oe.z$)()){return!("file:"!==Lc()&&"ionic:"!==Lc()||!I.toLowerCase().match(/iphone|ipad|ipod|android/))}function ai(){try{const I=self.localStorage,g=wo();if(I)return I.setItem(g,"1"),I.removeItem(g),!function(I=(0,oe.z$)()){return(0,oe.w1)()&&11===(null==document?void 0:document.documentMode)||function(I=(0,oe.z$)()){return/Edge\/\d+/.test(I)}(I)}()||(0,oe.hl)()}catch(I){return El()&&(0,oe.hl)()}return!1}function El(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function wl(){return("http:"===Lc()||"https:"===Lc()||(0,oe.ru)()||Ch())&&!((0,oe.b$)()||(0,oe.UG)())&&ai()&&!El()}function Cl(){return Ch()&&"undefined"!=typeof document}function Jl(){return(Jl=(0,D.Z)(function*(){return!!Cl()&&new Promise(I=>{const g=setTimeout(()=>{I(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(g),I(!0)})})})).apply(this,arguments)}const io={LOCAL:"local",NONE:"none",SESSION:"session"},pa=We,Vc="persistence";function Uc(I){return Ed.apply(this,arguments)}function Ed(){return(Ed=(0,D.Z)(function*(I){yield I._initializationPromise;const g=Xl(),_=fn(Vc,I.config.apiKey,I.name);(null==g?void 0:g.sessionStorage)&&g.sessionStorage.setItem(_,I._getPersistence())})).apply(this,arguments)}function Xl(){return"undefined"!=typeof window?window:null}const Jf=We;class Qu{constructor(){this.browserResolver=Le(class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Cs,this._completeRedirectFn=kn}_openPopup(g,_,S,$){var X=this;return(0,D.Z)(function*(){var Ne;Ct(null===(Ne=X.eventManagers[g._key()])||void 0===Ne?void 0:Ne.manager,"_initialize() not called before _openPopup()");const qe=Rc(g,_,S,He(),$);return function(I,g,_,S=500,$=600){const X=Math.max((window.screen.availHeight-$)/2,0).toString(),Ne=Math.max((window.screen.availWidth-S)/2,0).toString();let qe="";const yt=Object.assign(Object.assign({},js),{width:S.toString(),height:$.toString(),top:X,left:Ne}),Pt=(0,oe.z$)().toLowerCase();_&&(qe=ei(Pt)?"_blank":_),Rn(Pt)&&(g=g||"http://localhost",yt.scrollbars="yes");const Zt=Object.entries(yt).reduce((zr,[Fi,zo])=>`${zr}${Fi}=${zo},`,"");if(function(I=(0,oe.z$)()){var g;return ui(I)&&!!(null===(g=window.navigator)||void 0===g?void 0:g.standalone)}(Pt)&&"_self"!==qe)return function(I,g){const _=document.createElement("a");_.href=I,_.target=g;const S=document.createEvent("MouseEvent");S.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),_.dispatchEvent(S)}(g||"",qe),new Ku(null);const Wt=window.open(g||"",qe,Zt);We(Wt,I,"popup-blocked");try{Wt.focus()}catch(zr){}return new Ku(Wt)}(g,qe,wo())})()}_openRedirect(g,_,S,$){var X=this;return(0,D.Z)(function*(){return yield X._originValidation(g),I=Rc(g,_,S,He(),$),Xn().location.href=I,new Promise(()=>{});var I})()}_initialize(g){const _=g._key();if(this.eventManagers[_]){const{manager:$,promise:X}=this.eventManagers[_];return $?Promise.resolve($):(Ct(X,"If manager is not set, promise should be"),X)}const S=this.initAndGetManager(g);return this.eventManagers[_]={promise:S},S}initAndGetManager(g){var _=this;return(0,D.Z)(function*(){const S=yield function(I){return Wu.apply(this,arguments)}(g),$=new hr(g);return S.register("authEvent",X=>(We(null==X?void 0:X.authEvent,g,"invalid-auth-event"),{status:$.onEvent(X.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),_.eventManagers[g._key()]={manager:$},_.iframes[g._key()]=S,$})()}_isIframeWebStorageSupported(g,_){this.iframes[g._key()].send(Fa,{type:Fa},$=>{var X;const Ne=null===(X=null==$?void 0:$[0])||void 0===X?void 0:X[Fa];void 0!==Ne&&_(!!Ne),dt(g,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(g){const _=g._key();return this.originValidationPromises[_]||(this.originValidationPromises[_]=function(I){return to.apply(this,arguments)}(g)),this.originValidationPromises[_]}get _shouldInitProactively(){return _i()||hs()||ui()}}),this.cordovaResolver=Le(class{constructor(){this._redirectPersistence=Cs,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=kn}_initialize(g){var _=this;return(0,D.Z)(function*(){const S=g._key();let $=_.eventManagers.get(S);return $||($=new oi(g),_.eventManagers.set(S,$),_.attachCallbackListeners(g,$)),$})()}_openPopup(g){dt(g,"operation-not-supported-in-this-environment")}_openRedirect(g,_,S,$){var X=this;return(0,D.Z)(function*(){!function(I){var g,_,S,$,X,Ne,qe,yt,Pt,Zt;const Wt=ro();We("function"==typeof(null===(g=null==Wt?void 0:Wt.universalLinks)||void 0===g?void 0:g.subscribe),I,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),We(void 0!==(null===(_=null==Wt?void 0:Wt.BuildInfo)||void 0===_?void 0:_.packageName),I,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),We("function"==typeof(null===(X=null===($=null===(S=null==Wt?void 0:Wt.cordova)||void 0===S?void 0:S.plugins)||void 0===$?void 0:$.browsertab)||void 0===X?void 0:X.openUrl),I,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),We("function"==typeof(null===(yt=null===(qe=null===(Ne=null==Wt?void 0:Wt.cordova)||void 0===Ne?void 0:Ne.plugins)||void 0===qe?void 0:qe.browsertab)||void 0===yt?void 0:yt.isAvailable),I,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),We("function"==typeof(null===(Zt=null===(Pt=null==Wt?void 0:Wt.cordova)||void 0===Pt?void 0:Pt.InAppBrowser)||void 0===Zt?void 0:Zt.open),I,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(g);const Ne=yield X._initialize(g);yield Ne.initialized(),Ne.resetRedirect(),Gu.clear(),yield X._originValidation(g);const qe=function(I,g,_=null){return{type:g,eventId:_,urlResponse:null,sessionId:Zl(),postBody:null,tenantId:I.tenantId,error:Qe(I,"no-auth-event")}}(g,S,$);yield function(I,g){return Yl()._set(Go(I),g)}(g,qe);const yt=yield function(I,g,_){return Oc.apply(this,arguments)}(g,qe,_),Pt=yield function(I){const{cordova:g}=ro();return new Promise(_=>{g.plugins.browsertab.isAvailable(S=>{let $=null;S?g.plugins.browsertab.openUrl(I):$=g.InAppBrowser.open(I,function(I=(0,oe.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(I)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(I)}()?"_blank":"_system","location=yes"),_($)})})}(yt);return function(I,g,_){return qn.apply(this,arguments)}(g,Ne,Pt)})()}_isIframeWebStorageSupported(g,_){throw new Error("Method not implemented.")}_originValidation(g){const _=g._key();return this.originValidationPromises[_]||(this.originValidationPromises[_]=function(I){return Mo.apply(this,arguments)}(g)),this.originValidationPromises[_]}attachCallbackListeners(g,_){const{universalLinks:S,handleOpenURL:$,BuildInfo:X}=ro(),Ne=setTimeout((0,D.Z)(function*(){yield Oo(g),_.onEvent(Eh())}),500),qe=function(){var Zt=(0,D.Z)(function*(Wt){clearTimeout(Ne);const zr=yield Oo(g);let Fi=null;zr&&(null==Wt?void 0:Wt.url)&&(Fi=function(I,g){var _,S;const $=function(I){const g=_u(I),_=g.link?decodeURIComponent(g.link):void 0,S=_u(_).link,$=g.deep_link_id?decodeURIComponent(g.deep_link_id):void 0;return _u($).link||$||S||_||I}(g);if($.includes("/__/auth/callback")){const X=_u($),Ne=X.firebaseError?function(I){try{return JSON.parse(I)}catch(g){return null}}(decodeURIComponent(X.firebaseError)):null,qe=null===(S=null===(_=null==Ne?void 0:Ne.code)||void 0===_?void 0:_.split("auth/"))||void 0===S?void 0:S[1],yt=qe?Qe(qe):null;return yt?{type:I.type,eventId:I.eventId,tenantId:I.tenantId,error:yt,urlResponse:null,sessionId:null,postBody:null}:{type:I.type,eventId:I.eventId,tenantId:I.tenantId,sessionId:I.sessionId,urlResponse:$,postBody:null}}return null}(zr,Wt.url)),_.onEvent(Fi||Eh())});return function(zr){return Zt.apply(this,arguments)}}();void 0!==S&&"function"==typeof S.subscribe&&S.subscribe(null,qe);const yt=$,Pt=`${X.packageName.toLowerCase()}://`;ro().handleOpenURL=function(){var Zt=(0,D.Z)(function*(Wt){if(Wt.toLowerCase().startsWith(Pt)&&qe({url:Wt}),"function"==typeof yt)try{yt(Wt)}catch(zr){console.error(zr)}});return function(Wt){return Zt.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=Cs,this._completeRedirectFn=kn}_initialize(g){var _=this;return(0,D.Z)(function*(){return yield _.selectUnderlyingResolver(),_.assertedUnderlyingResolver._initialize(g)})()}_openPopup(g,_,S,$){var X=this;return(0,D.Z)(function*(){return yield X.selectUnderlyingResolver(),X.assertedUnderlyingResolver._openPopup(g,_,S,$)})()}_openRedirect(g,_,S,$){var X=this;return(0,D.Z)(function*(){return yield X.selectUnderlyingResolver(),X.assertedUnderlyingResolver._openRedirect(g,_,S,$)})()}_isIframeWebStorageSupported(g,_){this.assertedUnderlyingResolver._isIframeWebStorageSupported(g,_)}_originValidation(g){return this.assertedUnderlyingResolver._originValidation(g)}get _shouldInitProactively(){return Cl()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Jf(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var g=this;return(0,D.Z)(function*(){if(g.underlyingResolver)return;const _=yield function(){return Jl.apply(this,arguments)}();g.underlyingResolver=_?g.cordovaResolver:g.browserResolver})()}}function Ju(I){return I.unwrap()}function Bc(I){return jc(I)}function Th(I,g){var _;const S=null===(_=g.customData)||void 0===_?void 0:_._tokenResponse;if("auth/multi-factor-auth-required"===g.code)g.resolver=new bl(I,function(I,g){var _;const S=(0,oe.m9)(I),$=g;return We(g.operationType,S,"argument-error"),We(null===(_=$.serverResponse)||void 0===_?void 0:_.mfaPendingCredential,S,"argument-error"),wr._fromError(S,$)}(I,g));else if(S){const $=jc(g),X=g;$&&(X.credential=$,X.tenantId=S.tenantId||void 0,X.email=S.email||void 0,X.phoneNumber=S.phoneNumber||void 0)}}function jc(I){const{_tokenResponse:g}=I instanceof oe.ZR?I.customData:I;if(!g)return null;if(!(I instanceof oe.ZR)&&"temporaryProof"in g&&"phoneNumber"in g)return gu.credentialFromResult(I);const _=g.providerId;if(!_||"password"===_)return null;let S;switch(_){case"google.com":S=Ms;break;case"facebook.com":S=Ca;break;case"github.com":S=po;break;case"twitter.com":S=go;break;default:const{oauthIdToken:$,oauthAccessToken:X,oauthTokenSecret:Ne,pendingToken:qe,nonce:yt}=g;return X||Ne||$||qe?qe?_.startsWith("saml.")?Ni._create(_,qe):Ar._fromParams({providerId:_,signInMethod:_,pendingToken:qe,idToken:$,accessToken:X}):new Ei(_).credential({idToken:$,accessToken:X,rawNonce:yt}):null}return I instanceof oe.ZR?S.credentialFromError(I):S.credentialFromResult(I)}function _r(I,g){return vu.apply(this,arguments)}function vu(){return(vu=(0,D.Z)(function*(I,g){let _;try{_=yield g}catch(X){throw X instanceof oe.ZR&&Th(I,X),X}const{operationType:S,user:$}=_;return{operationType:S,credential:Bc(_),additionalUserInfo:Ps(_),user:Hs.getOrCreate($)}})).apply(this,arguments)}function ec(I,g){return wd.apply(this,arguments)}function wd(){return(wd=(0,D.Z)(function*(I,g){const _=yield g;return{verificationId:_.verificationId,confirm:S=>_r(I,_.confirm(S))}})).apply(this,arguments)}class bl{constructor(g,_){this.resolver=_,this.auth=function(I){return I.wrapped()}(g)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(g){return _r(Ju(this.auth),this.resolver.resolveSignIn(g))}}class Hs{constructor(g){this._delegate=g,this.multiFactor=function(I){const g=(0,oe.m9)(I);return lu.has(g)||lu.set(g,sa._fromUser(g)),lu.get(g)}(g)}static getOrCreate(g){return Hs.USER_MAP.has(g)||Hs.USER_MAP.set(g,new Hs(g)),Hs.USER_MAP.get(g)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(g){return this._delegate.getIdTokenResult(g)}getIdToken(g){return this._delegate.getIdToken(g)}linkAndRetrieveDataWithCredential(g){return this.linkWithCredential(g)}linkWithCredential(g){var _=this;return(0,D.Z)(function*(){return _r(_.auth,gn(_._delegate,g))})()}linkWithPhoneNumber(g,_){var S=this;return(0,D.Z)(function*(){return ec(S.auth,function(I,g,_){return Oa.apply(this,arguments)}(S._delegate,g,_))})()}linkWithPopup(g){var _=this;return(0,D.Z)(function*(){return _r(_.auth,function(I,g,_){return eo.apply(this,arguments)}(_._delegate,g,Qu))})()}linkWithRedirect(g){var _=this;return(0,D.Z)(function*(){return yield Uc(bn(_.auth)),function(I,g,_){return function(I,g,_){return wt.apply(this,arguments)}(I,g,_)}(_._delegate,g,Qu)})()}reauthenticateAndRetrieveDataWithCredential(g){return this.reauthenticateWithCredential(g)}reauthenticateWithCredential(g){var _=this;return(0,D.Z)(function*(){return _r(_.auth,Jn(_._delegate,g))})()}reauthenticateWithPhoneNumber(g,_){return ec(this.auth,function(I,g,_){return Ci.apply(this,arguments)}(this._delegate,g,_))}reauthenticateWithPopup(g){return _r(this.auth,function(I,g,_){return bs.apply(this,arguments)}(this._delegate,g,Qu))}reauthenticateWithRedirect(g){var _=this;return(0,D.Z)(function*(){return yield Uc(bn(_.auth)),function(I,g,_){return function(I,g,_){return he.apply(this,arguments)}(I,g,_)}(_._delegate,g,Qu)})()}sendEmailVerification(g){return function(I,g){return Lu.apply(this,arguments)}(this._delegate,g)}unlink(g){var _=this;return(0,D.Z)(function*(){return yield function(I,g){return Y.apply(this,arguments)}(_._delegate,g),_})()}updateEmail(g){return function(I,g){return Pr((0,oe.m9)(I),g,null)}(this._delegate,g)}updatePassword(g){return function(I,g){return Pr((0,oe.m9)(I),null,g)}(this._delegate,g)}updatePhoneNumber(g){return function(I,g){return xa.apply(this,arguments)}(this._delegate,g)}updateProfile(g){return function(I,g){return qi.apply(this,arguments)}(this._delegate,g)}verifyBeforeUpdateEmail(g,_){return function(I,g,_){return Ys.apply(this,arguments)}(this._delegate,g,_)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Hs.USER_MAP=new WeakMap;const tc=We;let Cd=(()=>{class I{constructor(_,S){if(this.app=_,S.isInitialized())return this._delegate=S.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:$}=_.options;tc($,"invalid-api-key",{appName:_.name});let X=[Sn];if("undefined"!=typeof window){X=function(I,g){const _=Xl();if(!(null==_?void 0:_.sessionStorage))return[];const S=fn(Vc,I,g);switch(_.sessionStorage.getItem(S)){case io.NONE:return[Sn];case io.LOCAL:return[Lt,Cs];case io.SESSION:return[Cs];default:return[]}}($,_.name);for(const qe of[Lt,si,Cs])X.includes(qe)||X.push(qe)}tc($,"invalid-api-key",{appName:_.name});const Ne="undefined"!=typeof window?Qu:void 0;this._delegate=S.initialize({options:{persistence:X,popupRedirectResolver:Ne}}),this._delegate._updateErrorMap(Ge),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Hs.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(_){this._delegate.languageCode=_}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(_){this._delegate.tenantId=_}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(_,S){!function(I,g,_){const S=bn(I);We(S._canInitEmulator,S,"emulator-config-failed"),We(/^https?:\/\//.test(g),S,"invalid-emulator-scheme");const $=!!(null==_?void 0:_.disableWarnings),X=Dt(g),{host:Ne,port:qe}=function(I){const g=Dt(I),_=/(\/\/)?([^?#/]+)/.exec(I.substr(g.length));if(!_)return{host:"",port:null};const S=_[2].split("@").pop()||"",$=/^(\[[^\]]+\])(:|$)/.exec(S);if($){const X=$[1];return{host:X,port:Wn(S.substr(X.length+1))}}{const[X,Ne]=S.split(":");return{host:X,port:Wn(Ne)}}}(g);S.config.emulator={url:`${X}//${Ne}${null===qe?"":`:${qe}`}/`},S.settings.appVerificationDisabledForTesting=!0,S.emulatorConfig=Object.freeze({host:Ne,port:qe,protocol:X.replace(":",""),options:Object.freeze({disableWarnings:$})}),function(I){function g(){const _=document.createElement("p"),S=_.style;_.innerText="Running in emulator mode. Do not use with production credentials.",S.position="fixed",S.width="100%",S.backgroundColor="#ffffff",S.border=".1em solid #000000",S.color="#b50000",S.bottom="0px",S.left="0px",S.margin="0px",S.zIndex="10000",S.textAlign="center",_.classList.add("firebase-emulator-warning"),document.body.appendChild(_)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&!I&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",g):g())}($)}(this._delegate,_,S)}applyActionCode(_){return function(I,g){return Qt.apply(this,arguments)}(this._delegate,_)}checkActionCode(_){return Pu(this._delegate,_)}confirmPasswordReset(_,S){return function(I,g,_){return Jo.apply(this,arguments)}(this._delegate,_,S)}createUserWithEmailAndPassword(_,S){var $=this;return(0,D.Z)(function*(){return _r($._delegate,function(I,g,_){return ku.apply(this,arguments)}($._delegate,_,S))})()}fetchProvidersForEmail(_){return this.fetchSignInMethodsForEmail(_)}fetchSignInMethodsForEmail(_){return function(I,g){return yo.apply(this,arguments)}(this._delegate,_)}isSignInWithEmailLink(_){return function(I,g){const _=Ai.parseLink(g);return"EMAIL_SIGNIN"===(null==_?void 0:_.operation)}(0,_)}getRedirectResult(){var _=this;return(0,D.Z)(function*(){tc(wl(),_._delegate,"operation-not-supported-in-this-environment");const S=yield function(I,g){return cn.apply(this,arguments)}(_._delegate,Qu);return S?_r(_._delegate,Promise.resolve(S)):{credential:null,user:null}})()}addFrameworkForLogging(_){!function(I,g){bn(I)._logFramework(g)}(this._delegate,_)}onAuthStateChanged(_,S,$){const{next:X,error:Ne,complete:qe}=Sh(_,S,$);return this._delegate.onAuthStateChanged(X,Ne,qe)}onIdTokenChanged(_,S,$){const{next:X,error:Ne,complete:qe}=Sh(_,S,$);return this._delegate.onIdTokenChanged(X,Ne,qe)}sendSignInLinkToEmail(_,S){return function(I,g,_){return An.apply(this,arguments)}(this._delegate,_,S)}sendPasswordResetEmail(_,S){return function(I,g,_){return Gi.apply(this,arguments)}(this._delegate,_,S||void 0)}setPersistence(_){var S=this;return(0,D.Z)(function*(){let $;switch(function(I,g){pa(Object.values(io).includes(g),I,"invalid-persistence-type"),(0,oe.b$)()?pa(g!==io.SESSION,I,"unsupported-persistence-type"):(0,oe.UG)()?pa(g===io.NONE,I,"unsupported-persistence-type"):El()?pa(g===io.NONE||g===io.LOCAL&&(0,oe.hl)(),I,"unsupported-persistence-type"):pa(g===io.NONE||ai(),I,"unsupported-persistence-type")}(S._delegate,_),_){case io.SESSION:$=Cs;break;case io.LOCAL:$=(yield Le(Lt)._isAvailable())?Lt:si;break;case io.NONE:$=Sn;break;default:return dt("argument-error",{appName:S._delegate.name})}return S._delegate.setPersistence($)})()}signInAndRetrieveDataWithCredential(_){return this.signInWithCredential(_)}signInAnonymously(){return _r(this._delegate,function(I){return Ws.apply(this,arguments)}(this._delegate))}signInWithCredential(_){return _r(this._delegate,st(this._delegate,_))}signInWithCustomToken(_){return _r(this._delegate,function(I,g){return $r.apply(this,arguments)}(this._delegate,_))}signInWithEmailAndPassword(_,S){return _r(this._delegate,function(I,g,_){return st((0,oe.m9)(I),Es.credential(g,_))}(this._delegate,_,S))}signInWithEmailLink(_,S){return _r(this._delegate,function(I,g,_){return ea.apply(this,arguments)}(this._delegate,_,S))}signInWithPhoneNumber(_,S){return ec(this._delegate,function(I,g,_){return $l.apply(this,arguments)}(this._delegate,_,S))}signInWithPopup(_){var S=this;return(0,D.Z)(function*(){return tc(wl(),S._delegate,"operation-not-supported-in-this-environment"),_r(S._delegate,function(I,g,_){return Pa.apply(this,arguments)}(S._delegate,_,Qu))})()}signInWithRedirect(_){var S=this;return(0,D.Z)(function*(){return tc(wl(),S._delegate,"operation-not-supported-in-this-environment"),yield Uc(S._delegate),function(I,g,_){return function(I,g,_){return B.apply(this,arguments)}(I,g,_)}(S._delegate,_,Qu)})()}updateCurrentUser(_){return this._delegate.updateCurrentUser(_)}verifyPasswordResetCode(_){return function(I,g){return Ks.apply(this,arguments)}(this._delegate,_)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return I.Persistence=io,I})();function Sh(I,g,_){let S=I;"function"!=typeof I&&({next:S,error:g,complete:_}=I);const $=S;return{next:Ne=>$(Ne&&Hs.getOrCreate(Ne)),error:g,complete:_}}class nc{constructor(){this.providerId="phone",this._delegate=new gu(Ju(U.Z.auth()))}static credential(g,_){return gu.credential(g,_)}verifyPhoneNumber(g,_){return this._delegate.verifyPhoneNumber(g,_)}unwrap(){return this._delegate}}nc.PHONE_SIGN_IN_METHOD=gu.PHONE_SIGN_IN_METHOD,nc.PROVIDER_ID=gu.PROVIDER_ID;const ga=We;class Xf{constructor(g,_,S=U.Z.app()){var $;ga(null===($=S.options)||void 0===$?void 0:$.apiKey,"invalid-api-key",{appName:S.name}),this._delegate=new ls(g,_,S.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function(I){I.INTERNAL.registerComponent(new Ue.wA("auth-compat",g=>{const _=g.getProvider("app-compat").getImmediate(),S=g.getProvider("auth");return new Cd(_,S)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:Es,FacebookAuthProvider:Ca,GithubAuthProvider:po,GoogleAuthProvider:Ms,OAuthProvider:Ei,PhoneAuthProvider:nc,PhoneMultiFactorGenerator:pd,RecaptchaVerifier:Xf,TwitterAuthProvider:go,Auth:Cd,AuthCredential:Hn,Error:oe.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),I.registerVersion("@firebase/auth-compat","0.1.1")}(U.Z)},7574:(Mt,Ke,W)=>{"use strict";W.d(Ke,{y:()=>ae});var D=W(7393),oe=W(9181),Ie=W(6490),ve=W(6554),Ue=W(4487);var ne=W(2494);let ae=(()=>{class de{constructor(Ge){this._isScalar=!1,Ge&&(this._subscribe=Ge)}lift(Ge){const xe=new de;return xe.source=this,xe.operator=Ge,xe}subscribe(Ge,xe,ke){const{operator:it}=this,Ye=function(de,Te,Ge){if(de){if(de instanceof D.L)return de;if(de[oe.b])return de[oe.b]()}return de||Te||Ge?new D.L(de,Te,Ge):new D.L(Ie.c)}(Ge,xe,ke);if(Ye.add(it?it.call(Ye,this.source):this.source||ne.v.useDeprecatedSynchronousErrorHandling&&!Ye.syncErrorThrowable?this._subscribe(Ye):this._trySubscribe(Ye)),ne.v.useDeprecatedSynchronousErrorHandling&&Ye.syncErrorThrowable&&(Ye.syncErrorThrowable=!1,Ye.syncErrorThrown))throw Ye.syncErrorValue;return Ye}_trySubscribe(Ge){try{return this._subscribe(Ge)}catch(xe){ne.v.useDeprecatedSynchronousErrorHandling&&(Ge.syncErrorThrown=!0,Ge.syncErrorValue=xe),function(de){for(;de;){const{closed:Te,destination:Ge,isStopped:xe}=de;if(Te||xe)return!1;de=Ge&&Ge instanceof D.L?Ge:null}return!0}(Ge)?Ge.error(xe):console.warn(xe)}}forEach(Ge,xe){return new(xe=pe(xe))((ke,it)=>{let Ye;Ye=this.subscribe(lt=>{try{Ge(lt)}catch(dt){it(dt),Ye&&Ye.unsubscribe()}},it,ke)})}_subscribe(Ge){const{source:xe}=this;return xe&&xe.subscribe(Ge)}[ve.L](){return this}pipe(...Ge){return 0===Ge.length?this:function(de){return 0===de.length?Ue.y:1===de.length?de[0]:function(Ge){return de.reduce((xe,ke)=>ke(xe),Ge)}}(Ge)(this)}toPromise(Ge){return new(Ge=pe(Ge))((xe,ke)=>{let it;this.subscribe(Ye=>it=Ye,Ye=>ke(Ye),()=>xe(it))})}}return de.create=Te=>new de(Te),de})();function pe(de){if(de||(de=ne.v.Promise||Promise),!de)throw new Error("no Promise impl found");return de}},6490:(Mt,Ke,W)=>{"use strict";W.d(Ke,{c:()=>oe});var D=W(2494),U=W(4449);const oe={closed:!0,next(Ie){},error(Ie){if(D.v.useDeprecatedSynchronousErrorHandling)throw Ie;(0,U.z)(Ie)},complete(){}}},9765:(Mt,Ke,W)=>{"use strict";W.d(Ke,{Yc:()=>Ue,xQ:()=>Ce});var D=W(7574),U=W(7393),oe=W(5319),Ie=W(7971),Re=W(8858),ve=W(9181);class Ue extends U.L{constructor(ae){super(ae),this.destination=ae}}let Ce=(()=>{class ne extends D.y{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[ve.b](){return new Ue(this)}lift(pe){const de=new fe(this,this);return de.operator=pe,de}next(pe){if(this.closed)throw new Ie.N;if(!this.isStopped){const{observers:de}=this,Te=de.length,Ge=de.slice();for(let xe=0;xe<Te;xe++)Ge[xe].next(pe)}}error(pe){if(this.closed)throw new Ie.N;this.hasError=!0,this.thrownError=pe,this.isStopped=!0;const{observers:de}=this,Te=de.length,Ge=de.slice();for(let xe=0;xe<Te;xe++)Ge[xe].error(pe);this.observers.length=0}complete(){if(this.closed)throw new Ie.N;this.isStopped=!0;const{observers:pe}=this,de=pe.length,Te=pe.slice();for(let Ge=0;Ge<de;Ge++)Te[Ge].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(pe){if(this.closed)throw new Ie.N;return super._trySubscribe(pe)}_subscribe(pe){if(this.closed)throw new Ie.N;return this.hasError?(pe.error(this.thrownError),oe.w.EMPTY):this.isStopped?(pe.complete(),oe.w.EMPTY):(this.observers.push(pe),new Re.W(this,pe))}asObservable(){const pe=new D.y;return pe.source=this,pe}}return ne.create=(ae,pe)=>new fe(ae,pe),ne})();class fe extends Ce{constructor(ae,pe){super(),this.destination=ae,this.source=pe}next(ae){const{destination:pe}=this;pe&&pe.next&&pe.next(ae)}error(ae){const{destination:pe}=this;pe&&pe.error&&this.destination.error(ae)}complete(){const{destination:ae}=this;ae&&ae.complete&&this.destination.complete()}_subscribe(ae){const{source:pe}=this;return pe?this.source.subscribe(ae):oe.w.EMPTY}}},8858:(Mt,Ke,W)=>{"use strict";W.d(Ke,{W:()=>U});var D=W(5319);class U extends D.w{constructor(Ie,Re){super(),this.subject=Ie,this.subscriber=Re,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const Ie=this.subject,Re=Ie.observers;if(this.subject=null,!Re||0===Re.length||Ie.isStopped||Ie.closed)return;const ve=Re.indexOf(this.subscriber);-1!==ve&&Re.splice(ve,1)}}},7393:(Mt,Ke,W)=>{"use strict";W.d(Ke,{L:()=>Ue});var D=W(9105),U=W(6490),oe=W(5319),Ie=W(9181),Re=W(2494),ve=W(4449);class Ue extends oe.w{constructor(ne,ae,pe){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=U.c;break;case 1:if(!ne){this.destination=U.c;break}if("object"==typeof ne){ne instanceof Ue?(this.syncErrorThrowable=ne.syncErrorThrowable,this.destination=ne,ne.add(this)):(this.syncErrorThrowable=!0,this.destination=new Ce(this,ne));break}default:this.syncErrorThrowable=!0,this.destination=new Ce(this,ne,ae,pe)}}[Ie.b](){return this}static create(ne,ae,pe){const de=new Ue(ne,ae,pe);return de.syncErrorThrowable=!1,de}next(ne){this.isStopped||this._next(ne)}error(ne){this.isStopped||(this.isStopped=!0,this._error(ne))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(ne){this.destination.next(ne)}_error(ne){this.destination.error(ne),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:ne}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=ne,this}}class Ce extends Ue{constructor(ne,ae,pe,de){super(),this._parentSubscriber=ne;let Te,Ge=this;(0,D.m)(ae)?Te=ae:ae&&(Te=ae.next,pe=ae.error,de=ae.complete,ae!==U.c&&(Ge=Object.create(ae),(0,D.m)(Ge.unsubscribe)&&this.add(Ge.unsubscribe.bind(Ge)),Ge.unsubscribe=this.unsubscribe.bind(this))),this._context=Ge,this._next=Te,this._error=pe,this._complete=de}next(ne){if(!this.isStopped&&this._next){const{_parentSubscriber:ae}=this;Re.v.useDeprecatedSynchronousErrorHandling&&ae.syncErrorThrowable?this.__tryOrSetError(ae,this._next,ne)&&this.unsubscribe():this.__tryOrUnsub(this._next,ne)}}error(ne){if(!this.isStopped){const{_parentSubscriber:ae}=this,{useDeprecatedSynchronousErrorHandling:pe}=Re.v;if(this._error)pe&&ae.syncErrorThrowable?(this.__tryOrSetError(ae,this._error,ne),this.unsubscribe()):(this.__tryOrUnsub(this._error,ne),this.unsubscribe());else if(ae.syncErrorThrowable)pe?(ae.syncErrorValue=ne,ae.syncErrorThrown=!0):(0,ve.z)(ne),this.unsubscribe();else{if(this.unsubscribe(),pe)throw ne;(0,ve.z)(ne)}}}complete(){if(!this.isStopped){const{_parentSubscriber:ne}=this;if(this._complete){const ae=()=>this._complete.call(this._context);Re.v.useDeprecatedSynchronousErrorHandling&&ne.syncErrorThrowable?(this.__tryOrSetError(ne,ae),this.unsubscribe()):(this.__tryOrUnsub(ae),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(ne,ae){try{ne.call(this._context,ae)}catch(pe){if(this.unsubscribe(),Re.v.useDeprecatedSynchronousErrorHandling)throw pe;(0,ve.z)(pe)}}__tryOrSetError(ne,ae,pe){if(!Re.v.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{ae.call(this._context,pe)}catch(de){return Re.v.useDeprecatedSynchronousErrorHandling?(ne.syncErrorValue=de,ne.syncErrorThrown=!0,!0):((0,ve.z)(de),!0)}return!1}_unsubscribe(){const{_parentSubscriber:ne}=this;this._context=null,this._parentSubscriber=null,ne.unsubscribe()}}},5319:(Mt,Ke,W)=>{"use strict";W.d(Ke,{w:()=>ve});var D=W(9796),U=W(1555),oe=W(9105);const Re=(()=>{function Ce(fe){return Error.call(this),this.message=fe?`${fe.length} errors occurred during unsubscription:\n${fe.map((ne,ae)=>`${ae+1}) ${ne.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=fe,this}return Ce.prototype=Object.create(Error.prototype),Ce})();class ve{constructor(fe){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,fe&&(this._ctorUnsubscribe=!0,this._unsubscribe=fe)}unsubscribe(){let fe;if(this.closed)return;let{_parentOrParents:ne,_ctorUnsubscribe:ae,_unsubscribe:pe,_subscriptions:de}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,ne instanceof ve)ne.remove(this);else if(null!==ne)for(let Te=0;Te<ne.length;++Te)ne[Te].remove(this);if((0,oe.m)(pe)){ae&&(this._unsubscribe=void 0);try{pe.call(this)}catch(Te){fe=Te instanceof Re?Ue(Te.errors):[Te]}}if((0,D.k)(de)){let Te=-1,Ge=de.length;for(;++Te<Ge;){const xe=de[Te];if((0,U.K)(xe))try{xe.unsubscribe()}catch(ke){fe=fe||[],ke instanceof Re?fe=fe.concat(Ue(ke.errors)):fe.push(ke)}}}if(fe)throw new Re(fe)}add(fe){let ne=fe;if(!fe)return ve.EMPTY;switch(typeof fe){case"function":ne=new ve(fe);case"object":if(ne===this||ne.closed||"function"!=typeof ne.unsubscribe)return ne;if(this.closed)return ne.unsubscribe(),ne;if(!(ne instanceof ve)){const de=ne;ne=new ve,ne._subscriptions=[de]}break;default:throw new Error("unrecognized teardown "+fe+" added to Subscription.")}let{_parentOrParents:ae}=ne;if(null===ae)ne._parentOrParents=this;else if(ae instanceof ve){if(ae===this)return ne;ne._parentOrParents=[ae,this]}else{if(-1!==ae.indexOf(this))return ne;ae.push(this)}const pe=this._subscriptions;return null===pe?this._subscriptions=[ne]:pe.push(ne),ne}remove(fe){const ne=this._subscriptions;if(ne){const ae=ne.indexOf(fe);-1!==ae&&ne.splice(ae,1)}}}var Ce;function Ue(Ce){return Ce.reduce((fe,ne)=>fe.concat(ne instanceof Re?ne.errors:ne),[])}ve.EMPTY=((Ce=new ve).closed=!0,Ce)},2494:(Mt,Ke,W)=>{"use strict";W.d(Ke,{v:()=>U});let D=!1;const U={Promise:void 0,set useDeprecatedSynchronousErrorHandling(oe){if(oe){const Ie=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+Ie.stack)}else D&&console.log("RxJS: Back to a better error behavior. Thank you. <3");D=oe},get useDeprecatedSynchronousErrorHandling(){return D}}},5345:(Mt,Ke,W)=>{"use strict";W.d(Ke,{IY:()=>Ie,Ds:()=>ve,ft:()=>Ce});var D=W(7393),U=W(7574),oe=W(7444);class Ie extends D.L{constructor(ne){super(),this.parent=ne}_next(ne){this.parent.notifyNext(ne)}_error(ne){this.parent.notifyError(ne),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class ve extends D.L{notifyNext(ne){this.destination.next(ne)}notifyError(ne){this.destination.error(ne)}notifyComplete(){this.destination.complete()}}function Ce(fe,ne){if(ne.closed)return;if(fe instanceof U.y)return fe.subscribe(ne);let ae;try{ae=(0,oe.s)(fe)(ne)}catch(pe){ne.error(pe)}return ae}},2441:(Mt,Ke,W)=>{"use strict";W.d(Ke,{c:()=>Re,N:()=>ve});var D=W(9765),U=W(7574),oe=W(5319),Ie=W(1307);class Re extends U.y{constructor(ae,pe){super(),this.source=ae,this.subjectFactory=pe,this._refCount=0,this._isComplete=!1}_subscribe(ae){return this.getSubject().subscribe(ae)}getSubject(){const ae=this._subject;return(!ae||ae.isStopped)&&(this._subject=this.subjectFactory()),this._subject}connect(){let ae=this._connection;return ae||(this._isComplete=!1,ae=this._connection=new oe.w,ae.add(this.source.subscribe(new Ue(this.getSubject(),this))),ae.closed&&(this._connection=null,ae=oe.w.EMPTY)),ae}refCount(){return(0,Ie.x)()(this)}}const ve=(()=>{const ne=Re.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:ne._subscribe},_isComplete:{value:ne._isComplete,writable:!0},getSubject:{value:ne.getSubject},connect:{value:ne.connect},refCount:{value:ne.refCount}}})();class Ue extends D.Yc{constructor(ae,pe){super(ae),this.connectable=pe}_error(ae){this._unsubscribe(),super._error(ae)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const ae=this.connectable;if(ae){this.connectable=null;const pe=ae._connection;ae._refCount=0,ae._subject=null,ae._connection=null,pe&&pe.unsubscribe()}}}},8071:(Mt,Ke,W)=>{"use strict";W.d(Ke,{z:()=>Ie});var D=W(5917),U=W(3282);function Ie(...Re){return(0,U.J)(1)((0,D.of)(...Re))}},9193:(Mt,Ke,W)=>{"use strict";W.d(Ke,{E:()=>U,c:()=>oe});var D=W(7574);const U=new D.y(Re=>Re.complete());function oe(Re){return Re?function(Re){return new D.y(ve=>Re.schedule(()=>ve.complete()))}(Re):U}},4402:(Mt,Ke,W)=>{"use strict";W.d(Ke,{D:()=>Ge});var D=W(7574),U=W(7444),oe=W(5319),Ie=W(6554),Ue=W(4087),Ce=W(377),ae=W(4072),pe=W(9489);function Ge(xe,ke){return ke?function(xe,ke){if(null!=xe){if(function(xe){return xe&&"function"==typeof xe[Ie.L]}(xe))return function(xe,ke){return new D.y(it=>{const Ye=new oe.w;return Ye.add(ke.schedule(()=>{const lt=xe[Ie.L]();Ye.add(lt.subscribe({next(dt){Ye.add(ke.schedule(()=>it.next(dt)))},error(dt){Ye.add(ke.schedule(()=>it.error(dt)))},complete(){Ye.add(ke.schedule(()=>it.complete()))}}))})),Ye})}(xe,ke);if((0,ae.t)(xe))return function(xe,ke){return new D.y(it=>{const Ye=new oe.w;return Ye.add(ke.schedule(()=>xe.then(lt=>{Ye.add(ke.schedule(()=>{it.next(lt),Ye.add(ke.schedule(()=>it.complete()))}))},lt=>{Ye.add(ke.schedule(()=>it.error(lt)))}))),Ye})}(xe,ke);if((0,pe.z)(xe))return(0,Ue.r)(xe,ke);if(function(xe){return xe&&"function"==typeof xe[Ce.hZ]}(xe)||"string"==typeof xe)return function(xe,ke){if(!xe)throw new Error("Iterable cannot be null");return new D.y(it=>{const Ye=new oe.w;let lt;return Ye.add(()=>{lt&&"function"==typeof lt.return&&lt.return()}),Ye.add(ke.schedule(()=>{lt=xe[Ce.hZ](),Ye.add(ke.schedule(function(){if(it.closed)return;let dt,Qe;try{const we=lt.next();dt=we.value,Qe=we.done}catch(we){return void it.error(we)}Qe?it.complete():(it.next(dt),this.schedule())}))})),Ye})}(xe,ke)}throw new TypeError((null!==xe&&typeof xe||xe)+" is not observable")}(xe,ke):xe instanceof D.y?xe:new D.y((0,U.s)(xe))}},6693:(Mt,Ke,W)=>{"use strict";W.d(Ke,{n:()=>Ie});var D=W(7574),U=W(5015),oe=W(4087);function Ie(Re,ve){return ve?(0,oe.r)(Re,ve):new D.y((0,U.V)(Re))}},6682:(Mt,Ke,W)=>{"use strict";W.d(Ke,{T:()=>Re});var D=W(7574),U=W(4869),oe=W(3282),Ie=W(6693);function Re(...ve){let Ue=Number.POSITIVE_INFINITY,Ce=null,fe=ve[ve.length-1];return(0,U.K)(fe)?(Ce=ve.pop(),ve.length>1&&"number"==typeof ve[ve.length-1]&&(Ue=ve.pop())):"number"==typeof fe&&(Ue=ve.pop()),null===Ce&&1===ve.length&&ve[0]instanceof D.y?ve[0]:(0,oe.J)(Ue)((0,Ie.n)(ve,Ce))}},5917:(Mt,Ke,W)=>{"use strict";W.d(Ke,{of:()=>Ie});var D=W(4869),U=W(6693),oe=W(4087);function Ie(...Re){let ve=Re[Re.length-1];return(0,D.K)(ve)?(Re.pop(),(0,oe.r)(Re,ve)):(0,U.n)(Re)}},4612:(Mt,Ke,W)=>{"use strict";W.d(Ke,{b:()=>U});var D=W(9773);function U(oe,Ie){return(0,D.zg)(oe,Ie,1)}},5242:(Mt,Ke,W)=>{"use strict";W.d(Ke,{d:()=>U});var D=W(7393);function U(Re=null){return ve=>ve.lift(new oe(Re))}class oe{constructor(ve){this.defaultValue=ve}call(ve,Ue){return Ue.subscribe(new Ie(ve,this.defaultValue))}}class Ie extends D.L{constructor(ve,Ue){super(ve),this.defaultValue=Ue,this.isEmpty=!0}_next(ve){this.isEmpty=!1,this.destination.next(ve)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}},5435:(Mt,Ke,W)=>{"use strict";W.d(Ke,{h:()=>U});var D=W(7393);function U(Re,ve){return function(Ce){return Ce.lift(new oe(Re,ve))}}class oe{constructor(ve,Ue){this.predicate=ve,this.thisArg=Ue}call(ve,Ue){return Ue.subscribe(new Ie(ve,this.predicate,this.thisArg))}}class Ie extends D.L{constructor(ve,Ue,Ce){super(ve),this.predicate=Ue,this.thisArg=Ce,this.count=0}_next(ve){let Ue;try{Ue=this.predicate.call(this.thisArg,ve,this.count++)}catch(Ce){return void this.destination.error(Ce)}Ue&&this.destination.next(ve)}}},8049:(Mt,Ke,W)=>{"use strict";W.d(Ke,{P:()=>Ue});var D=W(3410),U=W(5435),oe=W(5257),Ie=W(5242),Re=W(4635),ve=W(4487);function Ue(Ce,fe){const ne=arguments.length>=2;return ae=>ae.pipe(Ce?(0,U.h)((pe,de)=>Ce(pe,de,ae)):ve.y,(0,oe.q)(1),ne?(0,Ie.d)(fe):(0,Re.T)(()=>new D.K))}},8002:(Mt,Ke,W)=>{"use strict";W.d(Ke,{U:()=>U});var D=W(7393);function U(Re,ve){return function(Ce){if("function"!=typeof Re)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return Ce.lift(new oe(Re,ve))}}class oe{constructor(ve,Ue){this.project=ve,this.thisArg=Ue}call(ve,Ue){return Ue.subscribe(new Ie(ve,this.project,this.thisArg))}}class Ie extends D.L{constructor(ve,Ue,Ce){super(ve),this.project=Ue,this.count=0,this.thisArg=Ce||this}_next(ve){let Ue;try{Ue=this.project.call(this.thisArg,ve,this.count++)}catch(Ce){return void this.destination.error(Ce)}this.destination.next(Ue)}}},3282:(Mt,Ke,W)=>{"use strict";W.d(Ke,{J:()=>oe});var D=W(9773),U=W(4487);function oe(Ie=Number.POSITIVE_INFINITY){return(0,D.zg)(U.y,Ie)}},9773:(Mt,Ke,W)=>{"use strict";W.d(Ke,{zg:()=>Ie});var D=W(8002),U=W(4402),oe=W(5345);function Ie(Ce,fe,ne=Number.POSITIVE_INFINITY){return"function"==typeof fe?ae=>ae.pipe(Ie((pe,de)=>(0,U.D)(Ce(pe,de)).pipe((0,D.U)((Te,Ge)=>fe(pe,Te,de,Ge))),ne)):("number"==typeof fe&&(ne=fe),ae=>ae.lift(new Re(Ce,ne)))}class Re{constructor(fe,ne=Number.POSITIVE_INFINITY){this.project=fe,this.concurrent=ne}call(fe,ne){return ne.subscribe(new ve(fe,this.project,this.concurrent))}}class ve extends oe.Ds{constructor(fe,ne,ae=Number.POSITIVE_INFINITY){super(fe),this.project=ne,this.concurrent=ae,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(fe){this.active<this.concurrent?this._tryNext(fe):this.buffer.push(fe)}_tryNext(fe){let ne;const ae=this.index++;try{ne=this.project(fe,ae)}catch(pe){return void this.destination.error(pe)}this.active++,this._innerSub(ne)}_innerSub(fe){const ne=new oe.IY(this),ae=this.destination;ae.add(ne);const pe=(0,oe.ft)(fe,ne);pe!==ne&&ae.add(pe)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(fe){this.destination.next(fe)}notifyComplete(){const fe=this.buffer;this.active--,fe.length>0?this._next(fe.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},309:(Mt,Ke,W)=>{"use strict";W.d(Ke,{ht:()=>ae,QV:()=>fe});var D=W(7393),U=W(9193),oe=W(5917),Ie=W(7574);class Ce{constructor(Te,Ge,xe){this.kind=Te,this.value=Ge,this.error=xe,this.hasValue="N"===Te}observe(Te){switch(this.kind){case"N":return Te.next&&Te.next(this.value);case"E":return Te.error&&Te.error(this.error);case"C":return Te.complete&&Te.complete()}}do(Te,Ge,xe){switch(this.kind){case"N":return Te&&Te(this.value);case"E":return Ge&&Ge(this.error);case"C":return xe&&xe()}}accept(Te,Ge,xe){return Te&&"function"==typeof Te.next?this.observe(Te):this.do(Te,Ge,xe)}toObservable(){switch(this.kind){case"N":return(0,oe.of)(this.value);case"E":return de=this.error,new Ie.y(Ge=>Ge.error(de));case"C":return(0,U.c)()}var de;throw new Error("unexpected notification kind value")}static createNext(Te){return void 0!==Te?new Ce("N",Te):Ce.undefinedValueNotification}static createError(Te){return new Ce("E",void 0,Te)}static createComplete(){return Ce.completeNotification}}function fe(de,Te=0){return function(xe){return xe.lift(new ne(de,Te))}}Ce.completeNotification=new Ce("C"),Ce.undefinedValueNotification=new Ce("N",void 0);class ne{constructor(Te,Ge=0){this.scheduler=Te,this.delay=Ge}call(Te,Ge){return Ge.subscribe(new ae(Te,this.scheduler,this.delay))}}class ae extends D.L{constructor(Te,Ge,xe=0){super(Te),this.scheduler=Ge,this.delay=xe}static dispatch(Te){const{notification:Ge,destination:xe}=Te;Ge.observe(xe),this.unsubscribe()}scheduleMessage(Te){this.destination.add(this.scheduler.schedule(ae.dispatch,this.delay,new pe(Te,this.destination)))}_next(Te){this.scheduleMessage(Ce.createNext(Te))}_error(Te){this.scheduleMessage(Ce.createError(Te)),this.unsubscribe()}_complete(){this.scheduleMessage(Ce.createComplete()),this.unsubscribe()}}class pe{constructor(Te,Ge){this.notification=Te,this.destination=Ge}}},1307:(Mt,Ke,W)=>{"use strict";W.d(Ke,{x:()=>U});var D=W(7393);function U(){return function(ve){return ve.lift(new oe(ve))}}class oe{constructor(ve){this.connectable=ve}call(ve,Ue){const{connectable:Ce}=this;Ce._refCount++;const fe=new Ie(ve,Ce),ne=Ue.subscribe(fe);return fe.closed||(fe.connection=Ce.connect()),ne}}class Ie extends D.L{constructor(ve,Ue){super(ve),this.connectable=Ue}_unsubscribe(){const{connectable:ve}=this;if(!ve)return void(this.connection=null);this.connectable=null;const Ue=ve._refCount;if(Ue<=0)return void(this.connection=null);if(ve._refCount=Ue-1,Ue>1)return void(this.connection=null);const{connection:Ce}=this,fe=ve._connection;this.connection=null,fe&&(!Ce||fe===Ce)&&fe.unsubscribe()}}},2145:(Mt,Ke,W)=>{"use strict";W.d(Ke,{R:()=>U});var D=W(7393);function U(Re,ve){let Ue=!1;return arguments.length>=2&&(Ue=!0),function(fe){return fe.lift(new oe(Re,ve,Ue))}}class oe{constructor(ve,Ue,Ce=!1){this.accumulator=ve,this.seed=Ue,this.hasSeed=Ce}call(ve,Ue){return Ue.subscribe(new Ie(ve,this.accumulator,this.seed,this.hasSeed))}}class Ie extends D.L{constructor(ve,Ue,Ce,fe){super(ve),this.accumulator=Ue,this._seed=Ce,this.hasSeed=fe,this.index=0}get seed(){return this._seed}set seed(ve){this.hasSeed=!0,this._seed=ve}_next(ve){if(this.hasSeed)return this._tryNext(ve);this.seed=ve,this.destination.next(ve)}_tryNext(ve){const Ue=this.index++;let Ce;try{Ce=this.accumulator(this.seed,ve,Ue)}catch(fe){this.destination.error(fe)}this.seed=Ce,this.destination.next(Ce)}}},9761:(Mt,Ke,W)=>{"use strict";W.d(Ke,{O:()=>oe});var D=W(8071),U=W(4869);function oe(...Ie){const Re=Ie[Ie.length-1];return(0,U.K)(Re)?(Ie.pop(),ve=>(0,D.z)(Ie,ve,Re)):ve=>(0,D.z)(Ie,ve)}},3101:(Mt,Ke,W)=>{"use strict";W.d(Ke,{R:()=>ke});var D=W(7574);let U=1;const oe=Promise.resolve(),Ie={};function Re(Ye){return Ye in Ie&&(delete Ie[Ye],!0)}const ve={setImmediate(Ye){const lt=U++;return Ie[lt]=!0,oe.then(()=>Re(lt)&&Ye()),lt},clearImmediate(Ye){Re(Ye)}};var Ce=W(6465),ne=W(6102);const de=new class extends ne.v{flush(lt){this.active=!0,this.scheduled=void 0;const{actions:dt}=this;let Qe,we=-1,We=dt.length;lt=lt||dt.shift();do{if(Qe=lt.execute(lt.state,lt.delay))break}while(++we<We&&(lt=dt.shift()));if(this.active=!1,Qe){for(;++we<We&&(lt=dt.shift());)lt.unsubscribe();throw Qe}}}(class extends Ce.o{constructor(lt,dt){super(lt,dt),this.scheduler=lt,this.work=dt}requestAsyncId(lt,dt,Qe=0){return null!==Qe&&Qe>0?super.requestAsyncId(lt,dt,Qe):(lt.actions.push(this),lt.scheduled||(lt.scheduled=ve.setImmediate(lt.flush.bind(lt,null))))}recycleAsyncId(lt,dt,Qe=0){if(null!==Qe&&Qe>0||null===Qe&&this.delay>0)return super.recycleAsyncId(lt,dt,Qe);0===lt.actions.length&&(ve.clearImmediate(dt),lt.scheduled=void 0)}});var Te=W(9796);class xe extends D.y{constructor(lt,dt=0,Qe=de){var Ye;super(),this.source=lt,this.delayTime=dt,this.scheduler=Qe,(!(!(0,Te.k)(Ye=dt)&&Ye-parseFloat(Ye)+1>=0)||dt<0)&&(this.delayTime=0),(!Qe||"function"!=typeof Qe.schedule)&&(this.scheduler=de)}static create(lt,dt=0,Qe=de){return new xe(lt,dt,Qe)}static dispatch(lt){const{source:dt,subscriber:Qe}=lt;return this.add(dt.subscribe(Qe))}_subscribe(lt){return this.scheduler.schedule(xe.dispatch,this.delayTime,{source:this.source,subscriber:lt})}}function ke(Ye,lt=0){return function(Qe){return Qe.lift(new it(Ye,lt))}}class it{constructor(lt,dt){this.scheduler=lt,this.delay=dt}call(lt,dt){return new xe(dt,this.delay,this.scheduler).subscribe(lt)}}},3190:(Mt,Ke,W)=>{"use strict";W.d(Ke,{w:()=>Ie});var D=W(8002),U=W(4402),oe=W(5345);function Ie(Ue,Ce){return"function"==typeof Ce?fe=>fe.pipe(Ie((ne,ae)=>(0,U.D)(Ue(ne,ae)).pipe((0,D.U)((pe,de)=>Ce(ne,pe,ae,de))))):fe=>fe.lift(new Re(Ue))}class Re{constructor(Ce){this.project=Ce}call(Ce,fe){return fe.subscribe(new ve(Ce,this.project))}}class ve extends oe.Ds{constructor(Ce,fe){super(Ce),this.project=fe,this.index=0}_next(Ce){let fe;const ne=this.index++;try{fe=this.project(Ce,ne)}catch(ae){return void this.destination.error(ae)}this._innerSub(fe)}_innerSub(Ce){const fe=this.innerSubscription;fe&&fe.unsubscribe();const ne=new oe.IY(this),ae=this.destination;ae.add(ne),this.innerSubscription=(0,oe.ft)(Ce,ne),this.innerSubscription!==ne&&ae.add(this.innerSubscription)}_complete(){const{innerSubscription:Ce}=this;(!Ce||Ce.closed)&&super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(Ce){this.destination.next(Ce)}}},5257:(Mt,Ke,W)=>{"use strict";W.d(Ke,{q:()=>Ie});var D=W(7393),U=W(7108),oe=W(9193);function Ie(Ue){return Ce=>0===Ue?(0,oe.c)():Ce.lift(new Re(Ue))}class Re{constructor(Ce){if(this.total=Ce,this.total<0)throw new U.W}call(Ce,fe){return fe.subscribe(new ve(Ce,this.total))}}class ve extends D.L{constructor(Ce,fe){super(Ce),this.total=fe,this.count=0}_next(Ce){const fe=this.total,ne=++this.count;ne<=fe&&(this.destination.next(Ce),ne===fe&&(this.destination.complete(),this.unsubscribe()))}}},3342:(Mt,Ke,W)=>{"use strict";W.d(Ke,{b:()=>Ie});var D=W(7393);function U(){}var oe=W(9105);function Ie(Ue,Ce,fe){return function(ae){return ae.lift(new Re(Ue,Ce,fe))}}class Re{constructor(Ce,fe,ne){this.nextOrObserver=Ce,this.error=fe,this.complete=ne}call(Ce,fe){return fe.subscribe(new ve(Ce,this.nextOrObserver,this.error,this.complete))}}class ve extends D.L{constructor(Ce,fe,ne,ae){super(Ce),this._tapNext=U,this._tapError=U,this._tapComplete=U,this._tapError=ne||U,this._tapComplete=ae||U,(0,oe.m)(fe)?(this._context=this,this._tapNext=fe):fe&&(this._context=fe,this._tapNext=fe.next||U,this._tapError=fe.error||U,this._tapComplete=fe.complete||U)}_next(Ce){try{this._tapNext.call(this._context,Ce)}catch(fe){return void this.destination.error(fe)}this.destination.next(Ce)}_error(Ce){try{this._tapError.call(this._context,Ce)}catch(fe){return void this.destination.error(fe)}this.destination.error(Ce)}_complete(){try{this._tapComplete.call(this._context)}catch(Ce){return void this.destination.error(Ce)}return this.destination.complete()}}},4635:(Mt,Ke,W)=>{"use strict";W.d(Ke,{T:()=>oe});var D=W(3410),U=W(7393);function oe(Ue=ve){return Ce=>Ce.lift(new Ie(Ue))}class Ie{constructor(Ce){this.errorFactory=Ce}call(Ce,fe){return fe.subscribe(new Re(Ce,this.errorFactory))}}class Re extends U.L{constructor(Ce,fe){super(Ce),this.errorFactory=fe,this.hasValue=!1}_next(Ce){this.hasValue=!0,this.destination.next(Ce)}_complete(){if(this.hasValue)return this.destination.complete();{let Ce;try{Ce=this.errorFactory()}catch(fe){Ce=fe}this.destination.error(Ce)}}}function ve(){return new D.K}},4087:(Mt,Ke,W)=>{"use strict";W.d(Ke,{r:()=>oe});var D=W(7574),U=W(5319);function oe(Ie,Re){return new D.y(ve=>{const Ue=new U.w;let Ce=0;return Ue.add(Re.schedule(function(){Ce!==Ie.length?(ve.next(Ie[Ce++]),ve.closed||Ue.add(this.schedule())):ve.complete()})),Ue})}},6465:(Mt,Ke,W)=>{"use strict";W.d(Ke,{o:()=>oe});var D=W(5319);class U extends D.w{constructor(Re,ve){super()}schedule(Re,ve=0){return this}}class oe extends U{constructor(Re,ve){super(Re,ve),this.scheduler=Re,this.work=ve,this.pending=!1}schedule(Re,ve=0){if(this.closed)return this;this.state=Re;const Ue=this.id,Ce=this.scheduler;return null!=Ue&&(this.id=this.recycleAsyncId(Ce,Ue,ve)),this.pending=!0,this.delay=ve,this.id=this.id||this.requestAsyncId(Ce,this.id,ve),this}requestAsyncId(Re,ve,Ue=0){return setInterval(Re.flush.bind(Re,this),Ue)}recycleAsyncId(Re,ve,Ue=0){if(null!==Ue&&this.delay===Ue&&!1===this.pending)return ve;clearInterval(ve)}execute(Re,ve){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const Ue=this._execute(Re,ve);if(Ue)return Ue;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(Re,ve){let Ce,Ue=!1;try{this.work(Re)}catch(fe){Ue=!0,Ce=!!fe&&fe||new Error(fe)}if(Ue)return this.unsubscribe(),Ce}_unsubscribe(){const Re=this.id,ve=this.scheduler,Ue=ve.actions,Ce=Ue.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==Ce&&Ue.splice(Ce,1),null!=Re&&(this.id=this.recycleAsyncId(ve,Re,null)),this.delay=null}}},6102:(Mt,Ke,W)=>{"use strict";W.d(Ke,{v:()=>U});let D=(()=>{class oe{constructor(Re,ve=oe.now){this.SchedulerAction=Re,this.now=ve}schedule(Re,ve=0,Ue){return new this.SchedulerAction(this,Re).schedule(Ue,ve)}}return oe.now=()=>Date.now(),oe})();class U extends D{constructor(Ie,Re=D.now){super(Ie,()=>U.delegate&&U.delegate!==this?U.delegate.now():Re()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(Ie,Re=0,ve){return U.delegate&&U.delegate!==this?U.delegate.schedule(Ie,Re,ve):super.schedule(Ie,Re,ve)}flush(Ie){const{actions:Re}=this;if(this.active)return void Re.push(Ie);let ve;this.active=!0;do{if(ve=Ie.execute(Ie.state,Ie.delay))break}while(Ie=Re.shift());if(this.active=!1,ve){for(;Ie=Re.shift();)Ie.unsubscribe();throw ve}}}},3637:(Mt,Ke,W)=>{"use strict";W.d(Ke,{z:()=>oe});var D=W(6465);const oe=new(W(6102).v)(D.o)},7771:(Mt,Ke,W)=>{"use strict";W.d(Ke,{c:()=>ve,N:()=>Re});var D=W(6465),oe=W(6102);const Re=new class extends oe.v{}(class extends D.o{constructor(Ce,fe){super(Ce,fe),this.scheduler=Ce,this.work=fe}schedule(Ce,fe=0){return fe>0?super.schedule(Ce,fe):(this.delay=fe,this.state=Ce,this.scheduler.flush(this),this)}execute(Ce,fe){return fe>0||this.closed?super.execute(Ce,fe):this._execute(Ce,fe)}requestAsyncId(Ce,fe,ne=0){return null!==ne&&ne>0||null===ne&&this.delay>0?super.requestAsyncId(Ce,fe,ne):Ce.flush(this)}}),ve=Re},377:(Mt,Ke,W)=>{"use strict";W.d(Ke,{hZ:()=>U});const U="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"},6554:(Mt,Ke,W)=>{"use strict";W.d(Ke,{L:()=>D});const D="function"==typeof Symbol&&Symbol.observable||"@@observable"},9181:(Mt,Ke,W)=>{"use strict";W.d(Ke,{b:()=>D});const D="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},7108:(Mt,Ke,W)=>{"use strict";W.d(Ke,{W:()=>U});const U=(()=>{function oe(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return oe.prototype=Object.create(Error.prototype),oe})()},3410:(Mt,Ke,W)=>{"use strict";W.d(Ke,{K:()=>U});const U=(()=>{function oe(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return oe.prototype=Object.create(Error.prototype),oe})()},7971:(Mt,Ke,W)=>{"use strict";W.d(Ke,{N:()=>U});const U=(()=>{function oe(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return oe.prototype=Object.create(Error.prototype),oe})()},4449:(Mt,Ke,W)=>{"use strict";function D(U){setTimeout(()=>{throw U},0)}W.d(Ke,{z:()=>D})},4487:(Mt,Ke,W)=>{"use strict";function D(U){return U}W.d(Ke,{y:()=>D})},9796:(Mt,Ke,W)=>{"use strict";W.d(Ke,{k:()=>D});const D=Array.isArray||(U=>U&&"number"==typeof U.length)},9489:(Mt,Ke,W)=>{"use strict";W.d(Ke,{z:()=>D});const D=U=>U&&"number"==typeof U.length&&"function"!=typeof U},9105:(Mt,Ke,W)=>{"use strict";function D(U){return"function"==typeof U}W.d(Ke,{m:()=>D})},1555:(Mt,Ke,W)=>{"use strict";function D(U){return null!==U&&"object"==typeof U}W.d(Ke,{K:()=>D})},4072:(Mt,Ke,W)=>{"use strict";function D(U){return!!U&&"function"!=typeof U.subscribe&&"function"==typeof U.then}W.d(Ke,{t:()=>D})},4869:(Mt,Ke,W)=>{"use strict";function D(U){return U&&"function"==typeof U.schedule}W.d(Ke,{K:()=>D})},7444:(Mt,Ke,W)=>{"use strict";W.d(Ke,{s:()=>ae});var D=W(5015),U=W(4449),Ie=W(377),ve=W(6554),Ce=W(9489),fe=W(4072),ne=W(1555);const ae=pe=>{if(pe&&"function"==typeof pe[ve.L])return(pe=>de=>{const Te=pe[ve.L]();if("function"!=typeof Te.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return Te.subscribe(de)})(pe);if((0,Ce.z)(pe))return(0,D.V)(pe);if((0,fe.t)(pe))return(pe=>de=>(pe.then(Te=>{de.closed||(de.next(Te),de.complete())},Te=>de.error(Te)).then(null,U.z),de))(pe);if(pe&&"function"==typeof pe[Ie.hZ])return(pe=>de=>{const Te=pe[Ie.hZ]();for(;;){let Ge;try{Ge=Te.next()}catch(xe){return de.error(xe),de}if(Ge.done){de.complete();break}if(de.next(Ge.value),de.closed)break}return"function"==typeof Te.return&&de.add(()=>{Te.return&&Te.return()}),de})(pe);{const Te=`You provided ${(0,ne.K)(pe)?"an invalid object":`'${pe}'`} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`;throw new TypeError(Te)}}},5015:(Mt,Ke,W)=>{"use strict";W.d(Ke,{V:()=>D});const D=U=>oe=>{for(let Ie=0,Re=U.length;Ie<Re&&!oe.closed;Ie++)oe.next(U[Ie]);oe.complete()}},1915:(Mt,Ke,W)=>{"use strict";W.d(Ke,{b:()=>D});class D{constructor(oe,Ie,Re,ve){this.id=Re,this.nombre=oe,this.clave=Ie,this.mail=ve}}},5987:(Mt,Ke,W)=>{"use strict";W.d(Ke,{i:()=>oe});var D=W(1915),U=W(3018);let oe=(()=>{class Ie{constructor(){this.usuario=new D.b("","","","")}}return Ie.\u0275fac=function(ve){return new(ve||Ie)},Ie.\u0275prov=U.Yz7({token:Ie,factory:Ie.\u0275fac,providedIn:"root"}),Ie})()},5338:(Mt,Ke,W)=>{"use strict";var D=W(8583),U=W(3018);class oe extends D.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Ie extends oe{static makeCurrent(){(0,D.HT)(new Ie)}onAndCancel(m,y,T){return m.addEventListener(y,T,!1),()=>{m.removeEventListener(y,T,!1)}}dispatchEvent(m,y){m.dispatchEvent(y)}remove(m){m.parentNode&&m.parentNode.removeChild(m)}createElement(m,y){return(y=y||this.getDefaultDocument()).createElement(m)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(m){return m.nodeType===Node.ELEMENT_NODE}isShadowRoot(m){return m instanceof DocumentFragment}getGlobalEventTarget(m,y){return"window"===y?window:"document"===y?m:"body"===y?m.body:null}getBaseHref(m){const y=(Re=Re||document.querySelector("base"),Re?Re.getAttribute("href"):null);return null==y?null:function(M){Ue=Ue||document.createElement("a"),Ue.setAttribute("href",M);const m=Ue.pathname;return"/"===m.charAt(0)?m:`/${m}`}(y)}resetBaseElement(){Re=null}getUserAgent(){return window.navigator.userAgent}getCookie(m){return(0,D.Mx)(document.cookie,m)}}let Ue,Re=null;const fe=new U.OlP("TRANSITION_ID"),ae=[{provide:U.ip1,useFactory:function(M,m,y){return()=>{y.get(U.CZH).donePromise.then(()=>{const T=(0,D.q)(),B=m.querySelectorAll(`style[ng-transition="${M}"]`);for(let K=0;K<B.length;K++)T.remove(B[K])})}},deps:[fe,D.K0,U.zs3],multi:!0}];class pe{static init(){(0,U.VLi)(new pe)}addToWindow(m){U.dqk.getAngularTestability=(T,B=!0)=>{const K=m.findTestabilityInTree(T,B);if(null==K)throw new Error("Could not find testability for element.");return K},U.dqk.getAllAngularTestabilities=()=>m.getAllTestabilities(),U.dqk.getAllAngularRootElements=()=>m.getAllRootElements(),U.dqk.frameworkStabilizers||(U.dqk.frameworkStabilizers=[]),U.dqk.frameworkStabilizers.push(T=>{const B=U.dqk.getAllAngularTestabilities();let K=B.length,re=!1;const he=function(Oe){re=re||Oe,K--,0==K&&T(re)};B.forEach(function(Oe){Oe.whenStable(he)})})}findTestabilityInTree(m,y,T){if(null==y)return null;const B=m.getTestability(y);return null!=B?B:T?(0,D.q)().isShadowRoot(y)?this.findTestabilityInTree(m,y.host,!0):this.findTestabilityInTree(m,y.parentElement,!0):null}}let de=(()=>{class M{build(){return new XMLHttpRequest}}return M.\u0275fac=function(y){return new(y||M)},M.\u0275prov=U.Yz7({token:M,factory:M.\u0275fac}),M})();const Be=new U.OlP("EventManagerPlugins");let ze=(()=>{class M{constructor(y,T){this._zone=T,this._eventNameToPlugin=new Map,y.forEach(B=>B.manager=this),this._plugins=y.slice().reverse()}addEventListener(y,T,B){return this._findPluginFor(T).addEventListener(y,T,B)}addGlobalEventListener(y,T,B){return this._findPluginFor(T).addGlobalEventListener(y,T,B)}getZone(){return this._zone}_findPluginFor(y){const T=this._eventNameToPlugin.get(y);if(T)return T;const B=this._plugins;for(let K=0;K<B.length;K++){const re=B[K];if(re.supports(y))return this._eventNameToPlugin.set(y,re),re}throw new Error(`No event manager plugin found for event ${y}`)}}return M.\u0275fac=function(y){return new(y||M)(U.LFG(Be),U.LFG(U.R0b))},M.\u0275prov=U.Yz7({token:M,factory:M.\u0275fac}),M})();class He{constructor(m){this._doc=m}addGlobalEventListener(m,y,T){const B=(0,D.q)().getGlobalEventTarget(this._doc,m);if(!B)throw new Error(`Unsupported event target ${B} for event ${y}`);return this.addEventListener(B,y,T)}}let ue=(()=>{class M{constructor(){this._stylesSet=new Set}addStyles(y){const T=new Set;y.forEach(B=>{this._stylesSet.has(B)||(this._stylesSet.add(B),T.add(B))}),this.onStylesAdded(T)}onStylesAdded(y){}getAllStyles(){return Array.from(this._stylesSet)}}return M.\u0275fac=function(y){return new(y||M)},M.\u0275prov=U.Yz7({token:M,factory:M.\u0275fac}),M})(),at=(()=>{class M extends ue{constructor(y){super(),this._doc=y,this._hostNodes=new Map,this._hostNodes.set(y.head,[])}_addStylesToHost(y,T,B){y.forEach(K=>{const re=this._doc.createElement("style");re.textContent=K,B.push(T.appendChild(re))})}addHost(y){const T=[];this._addStylesToHost(this._stylesSet,y,T),this._hostNodes.set(y,T)}removeHost(y){const T=this._hostNodes.get(y);T&&T.forEach(ut),this._hostNodes.delete(y)}onStylesAdded(y){this._hostNodes.forEach((T,B)=>{this._addStylesToHost(y,B,T)})}ngOnDestroy(){this._hostNodes.forEach(y=>y.forEach(ut))}}return M.\u0275fac=function(y){return new(y||M)(U.LFG(D.K0))},M.\u0275prov=U.Yz7({token:M,factory:M.\u0275fac}),M})();function ut(M){(0,D.q)().remove(M)}const St={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},ft=/%COMP%/g;function mt(M,m,y){for(let T=0;T<m.length;T++){let B=m[T];Array.isArray(B)?mt(M,B,y):(B=B.replace(ft,M),y.push(B))}return y}function Vn(M){return m=>{if("__ngUnwrap__"===m)return M;!1===M(m)&&(m.preventDefault(),m.returnValue=!1)}}let Tn=(()=>{class M{constructor(y,T,B){this.eventManager=y,this.sharedStylesHost=T,this.appId=B,this.rendererByCompId=new Map,this.defaultRenderer=new wn(y)}createRenderer(y,T){if(!y||!T)return this.defaultRenderer;switch(T.encapsulation){case U.ifc.Emulated:{let B=this.rendererByCompId.get(T.id);return B||(B=new Kn(this.eventManager,this.sharedStylesHost,T,this.appId),this.rendererByCompId.set(T.id,B)),B.applyToHost(y),B}case 1:case U.ifc.ShadowDom:return new Qn(this.eventManager,this.sharedStylesHost,y,T);default:if(!this.rendererByCompId.has(T.id)){const B=mt(T.id,T.styles,[]);this.sharedStylesHost.addStyles(B),this.rendererByCompId.set(T.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return M.\u0275fac=function(y){return new(y||M)(U.LFG(ze),U.LFG(at),U.LFG(U.AFp))},M.\u0275prov=U.Yz7({token:M,factory:M.\u0275fac}),M})();class wn{constructor(m){this.eventManager=m,this.data=Object.create(null)}destroy(){}createElement(m,y){return y?document.createElementNS(St[y]||y,m):document.createElement(m)}createComment(m){return document.createComment(m)}createText(m){return document.createTextNode(m)}appendChild(m,y){m.appendChild(y)}insertBefore(m,y,T){m&&m.insertBefore(y,T)}removeChild(m,y){m&&m.removeChild(y)}selectRootElement(m,y){let T="string"==typeof m?document.querySelector(m):m;if(!T)throw new Error(`The selector "${m}" did not match any elements`);return y||(T.textContent=""),T}parentNode(m){return m.parentNode}nextSibling(m){return m.nextSibling}setAttribute(m,y,T,B){if(B){y=B+":"+y;const K=St[B];K?m.setAttributeNS(K,y,T):m.setAttribute(y,T)}else m.setAttribute(y,T)}removeAttribute(m,y,T){if(T){const B=St[T];B?m.removeAttributeNS(B,y):m.removeAttribute(`${T}:${y}`)}else m.removeAttribute(y)}addClass(m,y){m.classList.add(y)}removeClass(m,y){m.classList.remove(y)}setStyle(m,y,T,B){B&(U.JOm.DashCase|U.JOm.Important)?m.style.setProperty(y,T,B&U.JOm.Important?"important":""):m.style[y]=T}removeStyle(m,y,T){T&U.JOm.DashCase?m.style.removeProperty(y):m.style[y]=""}setProperty(m,y,T){m[y]=T}setValue(m,y){m.nodeValue=y}listen(m,y,T){return"string"==typeof m?this.eventManager.addGlobalEventListener(m,y,Vn(T)):this.eventManager.addEventListener(m,y,Vn(T))}}class Kn extends wn{constructor(m,y,T,B){super(m),this.component=T;const K=mt(B+"-"+T.id,T.styles,[]);y.addStyles(K),this.contentAttr="_ngcontent-%COMP%".replace(ft,B+"-"+T.id),this.hostAttr="_nghost-%COMP%".replace(ft,B+"-"+T.id)}applyToHost(m){super.setAttribute(m,this.hostAttr,"")}createElement(m,y){const T=super.createElement(m,y);return super.setAttribute(T,this.contentAttr,""),T}}class Qn extends wn{constructor(m,y,T,B){super(m),this.sharedStylesHost=y,this.hostEl=T,this.shadowRoot=T.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const K=mt(B.id,B.styles,[]);for(let re=0;re<K.length;re++){const he=document.createElement("style");he.textContent=K[re],this.shadowRoot.appendChild(he)}}nodeOrShadowRoot(m){return m===this.hostEl?this.shadowRoot:m}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(m,y){return super.appendChild(this.nodeOrShadowRoot(m),y)}insertBefore(m,y,T){return super.insertBefore(this.nodeOrShadowRoot(m),y,T)}removeChild(m,y){return super.removeChild(this.nodeOrShadowRoot(m),y)}parentNode(m){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(m)))}}let ur=(()=>{class M extends He{constructor(y){super(y)}supports(y){return!0}addEventListener(y,T,B){return y.addEventListener(T,B,!1),()=>this.removeEventListener(y,T,B)}removeEventListener(y,T,B){return y.removeEventListener(T,B)}}return M.\u0275fac=function(y){return new(y||M)(U.LFG(D.K0))},M.\u0275prov=U.Yz7({token:M,factory:M.\u0275fac}),M})();const bt=["alt","control","meta","shift"],Et={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Xt={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Nt={alt:M=>M.altKey,control:M=>M.ctrlKey,meta:M=>M.metaKey,shift:M=>M.shiftKey};let on=(()=>{class M extends He{constructor(y){super(y)}supports(y){return null!=M.parseEventName(y)}addEventListener(y,T,B){const K=M.parseEventName(T),re=M.eventCallback(K.fullKey,B,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,D.q)().onAndCancel(y,K.domEventName,re))}static parseEventName(y){const T=y.toLowerCase().split("."),B=T.shift();if(0===T.length||"keydown"!==B&&"keyup"!==B)return null;const K=M._normalizeKey(T.pop());let re="";if(bt.forEach(Oe=>{const et=T.indexOf(Oe);et>-1&&(T.splice(et,1),re+=Oe+".")}),re+=K,0!=T.length||0===K.length)return null;const he={};return he.domEventName=B,he.fullKey=re,he}static getEventFullKey(y){let T="",B=function(M){let m=M.key;if(null==m){if(m=M.keyIdentifier,null==m)return"Unidentified";m.startsWith("U+")&&(m=String.fromCharCode(parseInt(m.substring(2),16)),3===M.location&&Xt.hasOwnProperty(m)&&(m=Xt[m]))}return Et[m]||m}(y);return B=B.toLowerCase()," "===B?B="space":"."===B&&(B="dot"),bt.forEach(K=>{K!=B&&Nt[K](y)&&(T+=K+".")}),T+=B,T}static eventCallback(y,T,B){return K=>{M.getEventFullKey(K)===y&&B.runGuarded(()=>T(K))}}static _normalizeKey(y){switch(y){case"esc":return"escape";default:return y}}}return M.\u0275fac=function(y){return new(y||M)(U.LFG(D.K0))},M.\u0275prov=U.Yz7({token:M,factory:M.\u0275fac}),M})();const Rn=(0,U.eFA)(U._c5,"browser",[{provide:U.Lbi,useValue:D.bD},{provide:U.g9A,useValue:function(){Ie.makeCurrent(),pe.init()},multi:!0},{provide:D.K0,useFactory:function(){return(0,U.RDi)(document),document},deps:[]}]),hs=[[],{provide:U.zSh,useValue:"root"},{provide:U.qLn,useFactory:function(){return new U.qLn},deps:[]},{provide:Be,useClass:ur,multi:!0,deps:[D.K0,U.R0b,U.Lbi]},{provide:Be,useClass:on,multi:!0,deps:[D.K0]},[],{provide:Tn,useClass:Tn,deps:[ze,at,U.AFp]},{provide:U.FYo,useExisting:Tn},{provide:ue,useExisting:at},{provide:at,useClass:at,deps:[D.K0]},{provide:U.dDg,useClass:U.dDg,deps:[U.R0b]},{provide:ze,useClass:ze,deps:[Be,U.R0b]},{provide:D.JF,useClass:de,deps:[]},[]];let ei=(()=>{class M{constructor(y){if(y)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(y){return{ngModule:M,providers:[{provide:U.AFp,useValue:y.appId},{provide:fe,useExisting:U.AFp},ae]}}}return M.\u0275fac=function(y){return new(y||M)(U.LFG(M,12))},M.\u0275mod=U.oAB({type:M}),M.\u0275inj=U.cJS({providers:hs,imports:[D.ez,U.hGG]}),M})();"undefined"!=typeof window&&window;var Qr=W(665),Un=W(4363);const ho=[{path:"",pathMatch:"full",redirectTo:"administracion"},{path:"administracion",loadChildren:()=>Promise.all([W.e(592),W.e(894)]).then(W.bind(W,7894)).then(M=>M.AdministracionModule)},{path:"juegos",loadChildren:()=>Promise.all([W.e(592),W.e(305)]).then(W.bind(W,2305)).then(M=>M.JuegosModule)},{path:"principal",loadChildren:()=>W.e(472).then(W.bind(W,6472)).then(M=>M.PrincipalModule)},{path:"**",component:(()=>{class M{constructor(y){this.router=y}irLogin(){this.router.navigateByUrl("administracion/login")}ngOnInit(){}}return M.\u0275fac=function(y){return new(y||M)(U.Y36(Un.F0))},M.\u0275cmp=U.Xpm({type:M,selectors:[["app-error"]],decls:17,vars:0,consts:[[1,"centered"],["id","lineas"],[3,"click"]],template:function(y,T){1&y&&(U.TgZ(0,"body"),U.TgZ(1,"section",0),U.TgZ(2,"div",1),U.TgZ(3,"h1"),U._uU(4,"ERROR, posibles situaciones:"),U.qZA(),U.TgZ(5,"ul"),U.TgZ(6,"li"),U._uU(7,"Modifico la URL"),U.qZA(),U.TgZ(8,"li"),U._uU(9,"Intento entrar a los juegos sin estar logueado"),U.qZA(),U.TgZ(10,"li"),U._uU(11,"Intento entrar al chat sin estar logueado"),U.qZA(),U.TgZ(12,"li"),U._uU(13,"Rompio algo"),U.qZA(),U.TgZ(14,"li"),U.TgZ(15,"a",2),U.NdJ("click",function(){return T.irLogin()}),U._uU(16,"Ir al login"),U.qZA(),U.qZA(),U.qZA(),U.qZA(),U.qZA(),U.qZA())},styles:['@import"https://fonts.googleapis.com/css?family=Lato|Roboto+Slab";.centered[_ngcontent-%COMP%]{height:100vh;display:flex;flex-direction:column;justify-content:center;align-items:center}h1[_ngcontent-%COMP%]{margin-bottom:50px;font-family:"Lato",sans-serif;font-size:40px;color:#000;font-weight:bold}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{color:#000;font-size:40px}.lineas[_ngcontent-%COMP%]{border:2px solid white}li[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]{color:#000;border:2px solid red;border-radius:4px}li[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]:hover{color:red}']}),M})()}];let an=(()=>{class M{}return M.\u0275fac=function(y){return new(y||M)},M.\u0275mod=U.oAB({type:M}),M.\u0275inj=U.cJS({imports:[[Un.Bz.forRoot(ho)],Un.Bz]}),M})();var Fo=W(5987);let ns=(()=>{class M{constructor(y,T){this.router=y,this.userService=T}goJuegos(){this.router.navigateByUrl(""===this.userService.usuario.mail?"**":"principal/home")}goChat(){this.router.navigateByUrl(""===this.userService.usuario.mail?"**":"principal/chat")}goQuienSoy(){this.router.navigateByUrl("principal/infoCreador")}ngOnInit(){}}return M.\u0275fac=function(y){return new(y||M)(U.Y36(Un.F0),U.Y36(Fo.i))},M.\u0275cmp=U.Xpm({type:M,selectors:[["app-header"]],decls:12,vars:0,consts:[[1,"header"],["href","#",1,"logo"],[1,"header-right"],["href","#",1,"active"],[3,"click"]],template:function(y,T){1&y&&(U.TgZ(0,"div",0),U.TgZ(1,"a",1),U._uU(2,"Retro games"),U.qZA(),U.TgZ(3,"div",2),U.TgZ(4,"a",3),U._uU(5,"Home"),U.qZA(),U.TgZ(6,"a",4),U.NdJ("click",function(){return T.goJuegos()}),U._uU(7,"Juegos"),U.qZA(),U.TgZ(8,"a",4),U.NdJ("click",function(){return T.goChat()}),U._uU(9,"Chat"),U.qZA(),U.TgZ(10,"a",4),U.NdJ("click",function(){return T.goQuienSoy()}),U._uU(11,"Quien Soy"),U.qZA(),U.qZA(),U.qZA())},styles:[".header[_ngcontent-%COMP%]{overflow:hidden;background-color:#000;padding:12px 10px;width:100%}.header[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{float:left;color:#fff;text-align:center;padding:12px;text-decoration:none;font-size:18px;line-height:25px;border-radius:4px;text-transform:uppercase}.header[_ngcontent-%COMP%]   a.logo[_ngcontent-%COMP%]{font-size:25px;font-weight:bold}.header[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background-color:#ddd;color:#000}.header[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]{background-color:#56baed;color:#fff;box-shadow:0 10px 30px #5fbae94d}.header-right[_ngcontent-%COMP%]{float:right}@media screen and (max-width: 500px){.header[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{float:none;display:block;text-align:left}.header-right[_ngcontent-%COMP%]{float:none}}"]}),M})(),ps=(()=>{class M{constructor(){}ngOnInit(){}}return M.\u0275fac=function(y){return new(y||M)},M.\u0275cmp=U.Xpm({type:M,selectors:[["app-footer"]],decls:17,vars:0,consts:[[1,"footer-basic"],[1,"list-inline"],[1,"list-inline-item"],["href","#"],[1,"copyright"]],template:function(y,T){1&y&&(U.TgZ(0,"div",0),U.TgZ(1,"footer"),U.TgZ(2,"ul",1),U.TgZ(3,"li",2),U.TgZ(4,"a",3),U._uU(5,"Home"),U.qZA(),U.qZA(),U.TgZ(6,"li",2),U.TgZ(7,"a",3),U._uU(8,"Services"),U.qZA(),U.qZA(),U.TgZ(9,"li",2),U.TgZ(10,"a",3),U._uU(11,"About"),U.qZA(),U.qZA(),U.TgZ(12,"li",2),U.TgZ(13,"a",3),U._uU(14,"Terms"),U.qZA(),U.qZA(),U.qZA(),U.TgZ(15,"p",4),U._uU(16,"Retro Games \xa9 2021"),U.qZA(),U.qZA(),U.qZA())},styles:[".footer-basic[_ngcontent-%COMP%]{padding:24px 0;background-color:#000;color:#fff;height:120px;bottom:0;width:100%}.footer-basic[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{padding:0;list-style:none;text-align:center;font-size:18px;line-height:1.6;margin-bottom:0}.footer-basic[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:0 10px}.footer-basic[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:inherit;text-decoration:none;opacity:.8}.footer-basic[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{opacity:1}.footer-basic[_ngcontent-%COMP%]   .social[_ngcontent-%COMP%]{text-align:center;padding-bottom:25px}.footer-basic[_ngcontent-%COMP%]   .social[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]{font-size:24px;width:40px;height:40px;line-height:40px;display:inline-block;text-align:center;border-radius:50%;border:1px solid #ccc;margin:0 8px;color:inherit;opacity:.75}.footer-basic[_ngcontent-%COMP%]   .social[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]:hover{opacity:.9}.footer-basic[_ngcontent-%COMP%]   .copyright[_ngcontent-%COMP%]{margin-top:15px;text-align:center;font-size:13px;color:#aaa;margin-bottom:0}"]}),M})(),ni=(()=>{class M{constructor(){}}return M.\u0275fac=function(y){return new(y||M)},M.\u0275cmp=U.Xpm({type:M,selectors:[["app-root"]],decls:3,vars:0,template:function(y,T){1&y&&(U._UZ(0,"app-header"),U._UZ(1,"router-outlet"),U._UZ(2,"app-footer"))},directives:[ns,Un.lC,ps],styles:[""]}),M})();var jr=W(9958);const Bi_firebaseConfig={apiKey:"AIzaSyBMx9FQQAFXTcVwPgLYquZnvxBkQPE348c",authDomain:"salondejuegos-8dcc9.firebaseapp.com",databaseURL:"https://salondejuegos-8dcc9-default-rtdb.firebaseio.com",projectId:"salondejuegos-8dcc9",storageBucket:"salondejuegos-8dcc9.appspot.com",messagingSenderId:"512465379912",appId:"1:512465379912:web:09d01c6af76e3ce66eee7d",measurementId:"G-FBLHYGJJY2"};var rs=W(5391);class ri{}const Wr="*";function qr(M,m=null){return{type:2,steps:M,options:m}}function ys(M){return{type:6,styles:M,offset:null}}function Nr(M){Promise.resolve(null).then(M)}class ji{constructor(m=0,y=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=m+y}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(m=>m()),this._onDoneFns=[])}onStart(m){this._onStartFns.push(m)}onDone(m){this._onDoneFns.push(m)}onDestroy(m){this._onDestroyFns.push(m)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){Nr(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(m=>m()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(m=>m()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(m){this._position=this.totalTime?m*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(m){const y="start"==m?this._onStartFns:this._onDoneFns;y.forEach(T=>T()),y.length=0}}class vs{constructor(m){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=m;let y=0,T=0,B=0;const K=this.players.length;0==K?Nr(()=>this._onFinish()):this.players.forEach(re=>{re.onDone(()=>{++y==K&&this._onFinish()}),re.onDestroy(()=>{++T==K&&this._onDestroy()}),re.onStart(()=>{++B==K&&this._onStart()})}),this.totalTime=this.players.reduce((re,he)=>Math.max(re,he.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(m=>m()),this._onDoneFns=[])}init(){this.players.forEach(m=>m.init())}onStart(m){this._onStartFns.push(m)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(m=>m()),this._onStartFns=[])}onDone(m){this._onDoneFns.push(m)}onDestroy(m){this._onDestroyFns.push(m)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(m=>m.play())}pause(){this.players.forEach(m=>m.pause())}restart(){this.players.forEach(m=>m.restart())}finish(){this._onFinish(),this.players.forEach(m=>m.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(m=>m.destroy()),this._onDestroyFns.forEach(m=>m()),this._onDestroyFns=[])}reset(){this.players.forEach(m=>m.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(m){const y=m*this.totalTime;this.players.forEach(T=>{const B=T.totalTime?Math.min(1,y/T.totalTime):1;T.setPosition(B)})}getPosition(){const m=this.players.reduce((y,T)=>null===y||T.totalTime>y.totalTime?T:y,null);return null!=m?m.getPosition():0}beforeDestroy(){this.players.forEach(m=>{m.beforeDestroy&&m.beforeDestroy()})}triggerCallback(m){const y="start"==m?this._onStartFns:this._onDoneFns;y.forEach(T=>T()),y.length=0}}function Hi(){return"undefined"!=typeof window&&void 0!==window.document}function fo(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function dr(M){switch(M.length){case 0:return new ji;case 1:return M[0];default:return new vs(M)}}function is(M,m,y,T,B={},K={}){const re=[],he=[];let Oe=-1,et=null;if(T.forEach(wt=>{const Gt=wt.offset,cn=Gt==Oe,kn=cn&&et||{};Object.keys(wt).forEach(Kt=>{let En=Kt,On=wt[Kt];if("offset"!==Kt)switch(En=m.normalizePropertyName(En,re),On){case"!":On=B[Kt];break;case Wr:On=K[Kt];break;default:On=m.normalizeStyleValue(Kt,En,On,re)}kn[En]=On}),cn||he.push(kn),et=kn,Oe=Gt}),re.length){const wt="\n - ";throw new Error(`Unable to animate due to the following errors:${wt}${re.join(wt)}`)}return he}function zs(M,m,y,T){switch(m){case"start":M.onStart(()=>T(y&&ss(y,"start",M)));break;case"done":M.onDone(()=>T(y&&ss(y,"done",M)));break;case"destroy":M.onDestroy(()=>T(y&&ss(y,"destroy",M)))}}function ss(M,m,y){const T=y.totalTime,K=Ai(M.element,M.triggerName,M.fromState,M.toState,m||M.phaseName,null==T?M.totalTime:T,!!y.disabled),re=M._data;return null!=re&&(K._data=re),K}function Ai(M,m,y,T,B="",K=0,re){return{element:M,triggerName:m,fromState:y,toState:T,phaseName:B,totalTime:K,disabled:!!re}}function Jr(M,m,y){let T;return M instanceof Map?(T=M.get(m),T||M.set(m,T=y)):(T=M[m],T||(T=M[m]=y)),T}function Es(M){const m=M.indexOf(":");return[M.substring(1,m),M.substr(m+1)]}let li=(M,m)=>!1,Ei=(M,m)=>!1,Ms=(M,m,y)=>[];const os=fo();(os||"undefined"!=typeof Element)&&(li=Hi()?(M,m)=>{for(;m&&m!==document.documentElement;){if(m===M)return!0;m=m.parentNode||m.host}return!1}:(M,m)=>M.contains(m),Ei=(()=>{if(os||Element.prototype.matches)return(M,m)=>M.matches(m);{const M=Element.prototype,m=M.matchesSelector||M.mozMatchesSelector||M.msMatchesSelector||M.oMatchesSelector||M.webkitMatchesSelector;return m?(y,T)=>m.apply(y,[T]):Ei}})(),Ms=(M,m,y)=>{let T=[];if(y){const B=M.querySelectorAll(m);for(let K=0;K<B.length;K++)T.push(B[K])}else{const B=M.querySelector(m);B&&T.push(B)}return T});let Os=null,xs=!1;function go(M){Os||(Os=("undefined"!=typeof document?document.body:null)||{},xs=!!Os.style&&"WebkitAppearance"in Os.style);let m=!0;return Os.style&&!function(M){return"ebkit"==M.substring(1,6)}(M)&&(m=M in Os.style,!m&&xs&&(m="Webkit"+M.charAt(0).toUpperCase()+M.substr(1)in Os.style)),m}const as=Ei,Kr=li,mo=Ms;function qa(M){const m={};return Object.keys(M).forEach(y=>{const T=y.replace(/([a-z])([A-Z])/g,"$1-$2");m[T]=M[y]}),m}let Ws=(()=>{class M{validateStyleProperty(y){return go(y)}matchesElement(y,T){return as(y,T)}containsElement(y,T){return Kr(y,T)}query(y,T,B){return mo(y,T,B)}computeStyle(y,T,B){return B||""}animate(y,T,B,K,re,he=[],Oe){return new ji(B,K)}}return M.\u0275fac=function(y){return new(y||M)},M.\u0275prov=U.Yz7({token:M,factory:M.\u0275fac}),M})();class us{}us.NOOP=new Ws;const Y="ng-enter",$e="ng-leave",q="ng-trigger",V=".ng-trigger",Q="ng-animating",me=".ng-animating";function Pe(M){if("number"==typeof M)return M;const m=M.match(/^(-?[\.\d]+)(m?s)/);return!m||m.length<2?0:st(parseFloat(m[1]),m[2])}function st(M,m){switch(m){case"s":return 1e3*M;default:return M}}function kt(M,m,y){return M.hasOwnProperty("duration")?M:function(M,m,y){let B,K=0,re="";if("string"==typeof M){const he=M.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===he)return m.push(`The provided timing value "${M}" is invalid.`),{duration:0,delay:0,easing:""};B=st(parseFloat(he[1]),he[2]);const Oe=he[3];null!=Oe&&(K=st(parseFloat(Oe),he[4]));const et=he[5];et&&(re=et)}else B=M;if(!y){let he=!1,Oe=m.length;B<0&&(m.push("Duration values below 0 are not allowed for this animation step."),he=!0),K<0&&(m.push("Delay values below 0 are not allowed for this animation step."),he=!0),he&&m.splice(Oe,0,`The provided timing value "${M}" is invalid.`)}return{duration:B,delay:K,easing:re}}(M,m,y)}function Yt(M,m={}){return Object.keys(M).forEach(y=>{m[y]=M[y]}),m}function Ft(M,m,y={}){if(m)for(let T in M)y[T]=M[T];else Yt(M,y);return y}function sr(M,m,y){return y?m+":"+y+";":""}function Mn(M){let m="";for(let y=0;y<M.style.length;y++){const T=M.style.item(y);m+=sr(0,T,M.style.getPropertyValue(T))}for(const y in M.style)M.style.hasOwnProperty(y)&&!y.startsWith("_")&&(m+=sr(0,Qt(y),M.style[y]));M.setAttribute("style",m)}function yr(M,m,y){M.style&&(Object.keys(m).forEach(T=>{const B=qs(T);y&&!y.hasOwnProperty(T)&&(y[T]=M.style[B]),M.style[B]=m[T]}),fo()&&Mn(M))}function $r(M,m){M.style&&(Object.keys(m).forEach(y=>{const T=qs(y);M.style[T]=""}),fo()&&Mn(M))}function vr(M){return Array.isArray(M)?1==M.length?M[0]:qr(M):M}const wi=new RegExp("{{\\s*(.+?)\\s*}}","g");function Vo(M){let m=[];if("string"==typeof M){let y;for(;y=wi.exec(M);)m.push(y[1]);wi.lastIndex=0}return m}function Gi(M,m,y){const T=M.toString(),B=T.replace(wi,(K,re)=>{let he=m[re];return m.hasOwnProperty(re)||(y.push(`Please provide a value for the animation param ${re}`),he=""),he.toString()});return B==T?M:B}function Ri(M){const m=[];let y=M.next();for(;!y.done;)m.push(y.value),y=M.next();return m}const Jo=/-+([a-z0-9])/g;function qs(M){return M.replace(Jo,(...m)=>m[1].toUpperCase())}function Qt(M){return M.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function Pu(M,m){return 0===M||0===m}function Ka(M,m,y){const T=Object.keys(y);if(T.length&&m.length){let K=m[0],re=[];if(T.forEach(he=>{K.hasOwnProperty(he)||re.push(he),K[he]=y[he]}),re.length)for(var B=1;B<m.length;B++){let he=m[B];re.forEach(function(Oe){he[Oe]=Ks(M,Oe)})}}return m}function zi(M,m,y){switch(m.type){case 7:return M.visitTrigger(m,y);case 0:return M.visitState(m,y);case 1:return M.visitTransition(m,y);case 2:return M.visitSequence(m,y);case 3:return M.visitGroup(m,y);case 4:return M.visitAnimate(m,y);case 5:return M.visitKeyframes(m,y);case 6:return M.visitStyle(m,y);case 8:return M.visitReference(m,y);case 9:return M.visitAnimateChild(m,y);case 10:return M.visitAnimateRef(m,y);case 11:return M.visitQuery(m,y);case 12:return M.visitStagger(m,y);default:throw new Error(`Unable to resolve animation metadata node #${m.type}`)}}function Ks(M,m){return window.getComputedStyle(M)[m]}function ku(M,m){const y=[];return"string"==typeof M?M.split(/\s*,\s*/).forEach(T=>function(M,m,y){if(":"==M[0]){const Oe=function(M,m){switch(M){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(y,T)=>parseFloat(T)>parseFloat(y);case":decrement":return(y,T)=>parseFloat(T)<parseFloat(y);default:return m.push(`The transition alias value "${M}" is not supported`),"* => *"}}(M,y);if("function"==typeof Oe)return void m.push(Oe);M=Oe}const T=M.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==T||T.length<4)return y.push(`The provided transition expression "${M}" is not supported`),m;const B=T[1],K=T[2],re=T[3];m.push(Er(B,re));"<"==K[0]&&!("*"==B&&"*"==re)&&m.push(Er(re,B))}(T,y,m)):y.push(M),y}const An=new Set(["true","1"]),ba=new Set(["false","0"]);function Er(M,m){const y=An.has(M)||ba.has(M),T=An.has(m)||ba.has(m);return(B,K)=>{let re="*"==M||M==B,he="*"==m||m==K;return!re&&y&&"boolean"==typeof B&&(re=B?An.has(M):ba.has(M)),!he&&T&&"boolean"==typeof K&&(he=K?An.has(m):ba.has(m)),re&&he}}const Zs=new RegExp("s*:selfs*,?","g");function Mi(M,m,y){return new yo(M).build(m,y)}class yo{constructor(m){this._driver=m}build(m,y){const T=new ta(y);return this._resetContextStyleTimingState(T),zi(this,vr(m),T)}_resetContextStyleTimingState(m){m.currentQuerySelector="",m.collectedStyles={},m.collectedStyles[""]={},m.currentTime=0}visitTrigger(m,y){let T=y.queryCount=0,B=y.depCount=0;const K=[],re=[];return"@"==m.name.charAt(0)&&y.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),m.definitions.forEach(he=>{if(this._resetContextStyleTimingState(y),0==he.type){const Oe=he,et=Oe.name;et.toString().split(/\s*,\s*/).forEach(wt=>{Oe.name=wt,K.push(this.visitState(Oe,y))}),Oe.name=et}else if(1==he.type){const Oe=this.visitTransition(he,y);T+=Oe.queryCount,B+=Oe.depCount,re.push(Oe)}else y.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:m.name,states:K,transitions:re,queryCount:T,depCount:B,options:null}}visitState(m,y){const T=this.visitStyle(m.styles,y),B=m.options&&m.options.params||null;if(T.containsDynamicStyles){const K=new Set,re=B||{};if(T.styles.forEach(he=>{if(Gr(he)){const Oe=he;Object.keys(Oe).forEach(et=>{Vo(Oe[et]).forEach(wt=>{re.hasOwnProperty(wt)||K.add(wt)})})}}),K.size){const he=Ri(K.values());y.errors.push(`state("${m.name}", ...) must define default values for all the following style substitutions: ${he.join(", ")}`)}}return{type:0,name:m.name,style:T,options:B?{params:B}:null}}visitTransition(m,y){y.queryCount=0,y.depCount=0;const T=zi(this,vr(m.animation),y);return{type:1,matchers:ku(m.expr,y.errors),animation:T,queryCount:y.queryCount,depCount:y.depCount,options:_o(m.options)}}visitSequence(m,y){return{type:2,steps:m.steps.map(T=>zi(this,T,y)),options:_o(m.options)}}visitGroup(m,y){const T=y.currentTime;let B=0;const K=m.steps.map(re=>{y.currentTime=T;const he=zi(this,re,y);return B=Math.max(B,y.currentTime),he});return y.currentTime=B,{type:3,steps:K,options:_o(m.options)}}visitAnimate(m,y){const T=function(M,m){let y=null;if(M.hasOwnProperty("duration"))y=M;else if("number"==typeof M)return qi(kt(M,m).duration,0,"");const T=M;if(T.split(/\s+/).some(K=>"{"==K.charAt(0)&&"{"==K.charAt(1))){const K=qi(0,0,"");return K.dynamic=!0,K.strValue=T,K}return y=y||kt(T,m),qi(y.duration,y.delay,y.easing)}(m.timings,y.errors);y.currentAnimateTimings=T;let B,K=m.styles?m.styles:ys({});if(5==K.type)B=this.visitKeyframes(K,y);else{let re=m.styles,he=!1;if(!re){he=!0;const et={};T.easing&&(et.easing=T.easing),re=ys(et)}y.currentTime+=T.duration+T.delay;const Oe=this.visitStyle(re,y);Oe.isEmptyStep=he,B=Oe}return y.currentAnimateTimings=null,{type:4,timings:T,style:B,options:null}}visitStyle(m,y){const T=this._makeStyleAst(m,y);return this._validateStyleAst(T,y),T}_makeStyleAst(m,y){const T=[];Array.isArray(m.styles)?m.styles.forEach(re=>{"string"==typeof re?re==Wr?T.push(re):y.errors.push(`The provided style string value ${re} is not allowed.`):T.push(re)}):T.push(m.styles);let B=!1,K=null;return T.forEach(re=>{if(Gr(re)){const he=re,Oe=he.easing;if(Oe&&(K=Oe,delete he.easing),!B)for(let et in he)if(he[et].toString().indexOf("{{")>=0){B=!0;break}}}),{type:6,styles:T,easing:K,offset:m.offset,containsDynamicStyles:B,options:null}}_validateStyleAst(m,y){const T=y.currentAnimateTimings;let B=y.currentTime,K=y.currentTime;T&&K>0&&(K-=T.duration+T.delay),m.styles.forEach(re=>{"string"!=typeof re&&Object.keys(re).forEach(he=>{if(!this._driver.validateStyleProperty(he))return void y.errors.push(`The provided animation property "${he}" is not a supported CSS property for animations`);const Oe=y.collectedStyles[y.currentQuerySelector],et=Oe[he];let wt=!0;et&&(K!=B&&K>=et.startTime&&B<=et.endTime&&(y.errors.push(`The CSS property "${he}" that exists between the times of "${et.startTime}ms" and "${et.endTime}ms" is also being animated in a parallel animation between the times of "${K}ms" and "${B}ms"`),wt=!1),K=et.startTime),wt&&(Oe[he]={startTime:K,endTime:B}),y.options&&function(M,m,y){const T=m.params||{},B=Vo(M);B.length&&B.forEach(K=>{T.hasOwnProperty(K)||y.push(`Unable to resolve the local animation param ${K} in the given list of values`)})}(re[he],y.options,y.errors)})})}visitKeyframes(m,y){const T={type:5,styles:[],options:null};if(!y.currentAnimateTimings)return y.errors.push("keyframes() must be placed inside of a call to animate()"),T;let K=0;const re=[];let he=!1,Oe=!1,et=0;const wt=m.steps.map(Or=>{const hr=this._makeStyleAst(Or,y);let cs=null!=hr.offset?hr.offset:function(M){if("string"==typeof M)return null;let m=null;if(Array.isArray(M))M.forEach(y=>{if(Gr(y)&&y.hasOwnProperty("offset")){const T=y;m=parseFloat(T.offset),delete T.offset}});else if(Gr(M)&&M.hasOwnProperty("offset")){const y=M;m=parseFloat(y.offset),delete y.offset}return m}(hr.styles),Xr=0;return null!=cs&&(K++,Xr=hr.offset=cs),Oe=Oe||Xr<0||Xr>1,he=he||Xr<et,et=Xr,re.push(Xr),hr});Oe&&y.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),he&&y.errors.push("Please ensure that all keyframe offsets are in order");const Gt=m.steps.length;let cn=0;K>0&&K<Gt?y.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==K&&(cn=1/(Gt-1));const kn=Gt-1,Kt=y.currentTime,En=y.currentAnimateTimings,On=En.duration;return wt.forEach((Or,hr)=>{const cs=cn>0?hr==kn?1:cn*hr:re[hr],Xr=cs*On;y.currentTime=Kt+En.delay+Xr,En.duration=Xr,this._validateStyleAst(Or,y),Or.offset=cs,T.styles.push(Or)}),T}visitReference(m,y){return{type:8,animation:zi(this,vr(m.animation),y),options:_o(m.options)}}visitAnimateChild(m,y){return y.depCount++,{type:9,options:_o(m.options)}}visitAnimateRef(m,y){return{type:10,animation:this.visitReference(m.animation,y),options:_o(m.options)}}visitQuery(m,y){const T=y.currentQuerySelector,B=m.options||{};y.queryCount++,y.currentQuery=m;const[K,re]=function(M){const m=!!M.split(/\s*,\s*/).find(y=>":self"==y);return m&&(M=M.replace(Zs,"")),[M=M.replace(/@\*/g,V).replace(/@\w+/g,y=>V+"-"+y.substr(1)).replace(/:animating/g,me),m]}(m.selector);y.currentQuerySelector=T.length?T+" "+K:K,Jr(y.collectedStyles,y.currentQuerySelector,{});const he=zi(this,vr(m.animation),y);return y.currentQuery=null,y.currentQuerySelector=T,{type:11,selector:K,limit:B.limit||0,optional:!!B.optional,includeSelf:re,animation:he,originalSelector:m.selector,options:_o(m.options)}}visitStagger(m,y){y.currentQuery||y.errors.push("stagger() can only be used inside of query()");const T="full"===m.timings?{duration:0,delay:0,easing:"full"}:kt(m.timings,y.errors,!0);return{type:12,animation:zi(this,vr(m.animation),y),timings:T,options:null}}}class ta{constructor(m){this.errors=m,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function Gr(M){return!Array.isArray(M)&&"object"==typeof M}function _o(M){return M?(M=Yt(M)).params&&(M.params=function(M){return M?Yt(M):null}(M.params)):M={},M}function qi(M,m,y){return{duration:M,delay:m,easing:y}}function Oi(M,m,y,T,B,K,re=null,he=!1){return{type:1,element:M,keyframes:m,preStyleProps:y,postStyleProps:T,duration:B,delay:K,totalTime:B+K,easing:re,subTimeline:he}}class Za{constructor(){this._map=new Map}consume(m){let y=this._map.get(m);return y?this._map.delete(m):y=[],y}append(m,y){let T=this._map.get(m);T||this._map.set(m,T=[]),T.push(...y)}has(m){return this._map.has(m)}clear(){this._map.clear()}}const Hl=new RegExp(":enter","g"),uu=new RegExp(":leave","g");function Ya(M,m,y,T,B,K={},re={},he,Oe,et=[]){return(new Vu).buildKeyframes(M,m,y,T,B,K,re,he,Oe,et)}class Vu{buildKeyframes(m,y,T,B,K,re,he,Oe,et,wt=[]){et=et||new Za;const Gt=new Ta(m,y,et,B,K,wt,[]);Gt.options=Oe,Gt.currentTimeline.setStyles([re],null,Gt.errors,Oe),zi(this,T,Gt);const cn=Gt.timelines.filter(kn=>kn.containsAnimation());if(cn.length&&Object.keys(he).length){const kn=cn[cn.length-1];kn.allowOnlyTimelineStyles()||kn.setStyles([he],null,Gt.errors,Oe)}return cn.length?cn.map(kn=>kn.buildKeyframes()):[Oi(y,[],[],[],0,0,"",!1)]}visitTrigger(m,y){}visitState(m,y){}visitTransition(m,y){}visitAnimateChild(m,y){const T=y.subInstructions.consume(y.element);if(T){const B=y.createSubContext(m.options),K=y.currentTimeline.currentTime,re=this._visitSubInstructions(T,B,B.options);K!=re&&y.transformIntoNewTimeline(re)}y.previousNode=m}visitAnimateRef(m,y){const T=y.createSubContext(m.options);T.transformIntoNewTimeline(),this.visitReference(m.animation,T),y.transformIntoNewTimeline(T.currentTimeline.currentTime),y.previousNode=m}_visitSubInstructions(m,y,T){let K=y.currentTimeline.currentTime;const re=null!=T.duration?Pe(T.duration):null,he=null!=T.delay?Pe(T.delay):null;return 0!==re&&m.forEach(Oe=>{const et=y.appendInstructionToTimeline(Oe,re,he);K=Math.max(K,et.duration+et.delay)}),K}visitReference(m,y){y.updateOptions(m.options,!0),zi(this,m.animation,y),y.previousNode=m}visitSequence(m,y){const T=y.subContextCount;let B=y;const K=m.options;if(K&&(K.params||K.delay)&&(B=y.createSubContext(K),B.transformIntoNewTimeline(),null!=K.delay)){6==B.previousNode.type&&(B.currentTimeline.snapshotCurrentStyles(),B.previousNode=Da);const re=Pe(K.delay);B.delayNextStep(re)}m.steps.length&&(m.steps.forEach(re=>zi(this,re,B)),B.currentTimeline.applyStylesToKeyframe(),B.subContextCount>T&&B.transformIntoNewTimeline()),y.previousNode=m}visitGroup(m,y){const T=[];let B=y.currentTimeline.currentTime;const K=m.options&&m.options.delay?Pe(m.options.delay):0;m.steps.forEach(re=>{const he=y.createSubContext(m.options);K&&he.delayNextStep(K),zi(this,re,he),B=Math.max(B,he.currentTimeline.currentTime),T.push(he.currentTimeline)}),T.forEach(re=>y.currentTimeline.mergeTimelineCollectedStyles(re)),y.transformIntoNewTimeline(B),y.previousNode=m}_visitTiming(m,y){if(m.dynamic){const T=m.strValue;return kt(y.params?Gi(T,y.params,y.errors):T,y.errors)}return{duration:m.duration,delay:m.delay,easing:m.easing}}visitAnimate(m,y){const T=y.currentAnimateTimings=this._visitTiming(m.timings,y),B=y.currentTimeline;T.delay&&(y.incrementTime(T.delay),B.snapshotCurrentStyles());const K=m.style;5==K.type?this.visitKeyframes(K,y):(y.incrementTime(T.duration),this.visitStyle(K,y),B.applyStylesToKeyframe()),y.currentAnimateTimings=null,y.previousNode=m}visitStyle(m,y){const T=y.currentTimeline,B=y.currentAnimateTimings;!B&&T.getCurrentStyleProperties().length&&T.forwardFrame();const K=B&&B.easing||m.easing;m.isEmptyStep?T.applyEmptyStep(K):T.setStyles(m.styles,K,y.errors,y.options),y.previousNode=m}visitKeyframes(m,y){const T=y.currentAnimateTimings,B=y.currentTimeline.duration,K=T.duration,he=y.createSubContext().currentTimeline;he.easing=T.easing,m.styles.forEach(Oe=>{he.forwardTime((Oe.offset||0)*K),he.setStyles(Oe.styles,Oe.easing,y.errors,y.options),he.applyStylesToKeyframe()}),y.currentTimeline.mergeTimelineCollectedStyles(he),y.transformIntoNewTimeline(B+K),y.previousNode=m}visitQuery(m,y){const T=y.currentTimeline.currentTime,B=m.options||{},K=B.delay?Pe(B.delay):0;K&&(6===y.previousNode.type||0==T&&y.currentTimeline.getCurrentStyleProperties().length)&&(y.currentTimeline.snapshotCurrentStyles(),y.previousNode=Da);let re=T;const he=y.invokeQuery(m.selector,m.originalSelector,m.limit,m.includeSelf,!!B.optional,y.errors);y.currentQueryTotal=he.length;let Oe=null;he.forEach((et,wt)=>{y.currentQueryIndex=wt;const Gt=y.createSubContext(m.options,et);K&&Gt.delayNextStep(K),et===y.element&&(Oe=Gt.currentTimeline),zi(this,m.animation,Gt),Gt.currentTimeline.applyStylesToKeyframe(),re=Math.max(re,Gt.currentTimeline.currentTime)}),y.currentQueryIndex=0,y.currentQueryTotal=0,y.transformIntoNewTimeline(re),Oe&&(y.currentTimeline.mergeTimelineCollectedStyles(Oe),y.currentTimeline.snapshotCurrentStyles()),y.previousNode=m}visitStagger(m,y){const T=y.parentContext,B=y.currentTimeline,K=m.timings,re=Math.abs(K.duration),he=re*(y.currentQueryTotal-1);let Oe=re*y.currentQueryIndex;switch(K.duration<0?"reverse":K.easing){case"reverse":Oe=he-Oe;break;case"full":Oe=T.currentStaggerTime}const wt=y.currentTimeline;Oe&&wt.delayNextStep(Oe);const Gt=wt.currentTime;zi(this,m.animation,y),y.previousNode=m,T.currentStaggerTime=B.currentTime-Gt+(B.startTime-T.currentTimeline.startTime)}}const Da={};class Ta{constructor(m,y,T,B,K,re,he,Oe){this._driver=m,this.element=y,this.subInstructions=T,this._enterClassName=B,this._leaveClassName=K,this.errors=re,this.timelines=he,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Da,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=Oe||new Ps(this._driver,y,0),he.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(m,y){if(!m)return;const T=m;let B=this.options;null!=T.duration&&(B.duration=Pe(T.duration)),null!=T.delay&&(B.delay=Pe(T.delay));const K=T.params;if(K){let re=B.params;re||(re=this.options.params={}),Object.keys(K).forEach(he=>{(!y||!re.hasOwnProperty(he))&&(re[he]=Gi(K[he],re,this.errors))})}}_copyOptions(){const m={};if(this.options){const y=this.options.params;if(y){const T=m.params={};Object.keys(y).forEach(B=>{T[B]=y[B]})}}return m}createSubContext(m=null,y,T){const B=y||this.element,K=new Ta(this._driver,B,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(B,T||0));return K.previousNode=this.previousNode,K.currentAnimateTimings=this.currentAnimateTimings,K.options=this._copyOptions(),K.updateOptions(m),K.currentQueryIndex=this.currentQueryIndex,K.currentQueryTotal=this.currentQueryTotal,K.parentContext=this,this.subContextCount++,K}transformIntoNewTimeline(m){return this.previousNode=Da,this.currentTimeline=this.currentTimeline.fork(this.element,m),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(m,y,T){const B={duration:null!=y?y:m.duration,delay:this.currentTimeline.currentTime+(null!=T?T:0)+m.delay,easing:""},K=new Uu(this._driver,m.element,m.keyframes,m.preStyleProps,m.postStyleProps,B,m.stretchStartingKeyframe);return this.timelines.push(K),B}incrementTime(m){this.currentTimeline.forwardTime(this.currentTimeline.duration+m)}delayNextStep(m){m>0&&this.currentTimeline.delayNextStep(m)}invokeQuery(m,y,T,B,K,re){let he=[];if(B&&he.push(this.element),m.length>0){m=(m=m.replace(Hl,"."+this._enterClassName)).replace(uu,"."+this._leaveClassName);let et=this._driver.query(this.element,m,1!=T);0!==T&&(et=T<0?et.slice(et.length+T,et.length):et.slice(0,T)),he.push(...et)}return!K&&0==he.length&&re.push(`\`query("${y}")\` returned zero elements. (Use \`query("${y}", { optional: true })\` if you wish to allow this.)`),he}}class Ps{constructor(m,y,T,B){this._driver=m,this.element=y,this.startTime=T,this._elementTimelineStylesLookup=B,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(y),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(y,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(m){const y=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||y?(this.forwardTime(this.currentTime+m),y&&this.snapshotCurrentStyles()):this.startTime+=m}fork(m,y){return this.applyStylesToKeyframe(),new Ps(this._driver,m,y||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(m){this.applyStylesToKeyframe(),this.duration=m,this._loadKeyframe()}_updateStyle(m,y){this._localTimelineStyles[m]=y,this._globalTimelineStyles[m]=y,this._styleSummary[m]={time:this.currentTime,value:y}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(m){m&&(this._previousKeyframe.easing=m),Object.keys(this._globalTimelineStyles).forEach(y=>{this._backFill[y]=this._globalTimelineStyles[y]||Wr,this._currentKeyframe[y]=Wr}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(m,y,T,B){y&&(this._previousKeyframe.easing=y);const K=B&&B.params||{},re=function(M,m){const y={};let T;return M.forEach(B=>{"*"===B?(T=T||Object.keys(m),T.forEach(K=>{y[K]=Wr})):Ft(B,!1,y)}),y}(m,this._globalTimelineStyles);Object.keys(re).forEach(he=>{const Oe=Gi(re[he],K,T);this._pendingStyles[he]=Oe,this._localTimelineStyles.hasOwnProperty(he)||(this._backFill[he]=this._globalTimelineStyles.hasOwnProperty(he)?this._globalTimelineStyles[he]:Wr),this._updateStyle(he,Oe)})}applyStylesToKeyframe(){const m=this._pendingStyles,y=Object.keys(m);0!=y.length&&(this._pendingStyles={},y.forEach(T=>{this._currentKeyframe[T]=m[T]}),Object.keys(this._localTimelineStyles).forEach(T=>{this._currentKeyframe.hasOwnProperty(T)||(this._currentKeyframe[T]=this._localTimelineStyles[T])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(m=>{const y=this._localTimelineStyles[m];this._pendingStyles[m]=y,this._updateStyle(m,y)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const m=[];for(let y in this._currentKeyframe)m.push(y);return m}mergeTimelineCollectedStyles(m){Object.keys(m._styleSummary).forEach(y=>{const T=this._styleSummary[y],B=m._styleSummary[y];(!T||B.time>T.time)&&this._updateStyle(y,B.value)})}buildKeyframes(){this.applyStylesToKeyframe();const m=new Set,y=new Set,T=1===this._keyframes.size&&0===this.duration;let B=[];this._keyframes.forEach((he,Oe)=>{const et=Ft(he,!0);Object.keys(et).forEach(wt=>{const Gt=et[wt];"!"==Gt?m.add(wt):Gt==Wr&&y.add(wt)}),T||(et.offset=Oe/this.duration),B.push(et)});const K=m.size?Ri(m.values()):[],re=y.size?Ri(y.values()):[];if(T){const he=B[0],Oe=Yt(he);he.offset=0,Oe.offset=1,B=[he,Oe]}return Oi(this.element,B,K,re,this.duration,this.startTime,this.easing,!1)}}class Uu extends Ps{constructor(m,y,T,B,K,re,he=!1){super(m,y,re.delay),this.keyframes=T,this.preStyleProps=B,this.postStyleProps=K,this._stretchStartingKeyframe=he,this.timings={duration:re.duration,delay:re.delay,easing:re.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let m=this.keyframes,{delay:y,duration:T,easing:B}=this.timings;if(this._stretchStartingKeyframe&&y){const K=[],re=T+y,he=y/re,Oe=Ft(m[0],!1);Oe.offset=0,K.push(Oe);const et=Ft(m[0],!1);et.offset=Qs(he),K.push(et);const wt=m.length-1;for(let Gt=1;Gt<=wt;Gt++){let cn=Ft(m[Gt],!1);cn.offset=Qs((y+cn.offset*T)/re),K.push(cn)}T=re,y=0,B="",m=K}return Oi(this.element,m,this.preStyleProps,this.postStyleProps,T,y,B,!0)}}function Qs(M,m=3){const y=Math.pow(10,m-1);return Math.round(M*y)/y}class na{}class ju extends na{normalizePropertyName(m,y){return qs(m)}normalizeStyleValue(m,y,T,B){let K="";const re=T.toString().trim();if(ci[y]&&0!==T&&"0"!==T)if("number"==typeof T)K="px";else{const he=T.match(/^[+-]?[\d\.]+([a-z]*)$/);he&&0==he[1].length&&B.push(`Please provide a CSS unit value for ${m}:${T}`)}return re+K}}const ci=(()=>function(M){const m={};return M.forEach(y=>m[y]=!0),m}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function Sa(M,m,y,T,B,K,re,he,Oe,et,wt,Gt,cn){return{type:0,element:M,triggerName:m,isRemovalTransition:B,fromState:y,fromStyles:K,toState:T,toStyles:re,timelines:he,queriedElements:Oe,preStyleProps:et,postStyleProps:wt,totalTime:Gt,errors:cn}}const ra={};class fl{constructor(m,y,T){this._triggerName=m,this.ast=y,this._stateStyles=T}match(m,y,T,B){return function(M,m,y,T,B){return M.some(K=>K(m,y,T,B))}(this.ast.matchers,m,y,T,B)}buildStyles(m,y,T){const B=this._stateStyles["*"],K=this._stateStyles[m],re=B?B.buildStyles(y,T):{};return K?K.buildStyles(y,T):re}build(m,y,T,B,K,re,he,Oe,et,wt){const Gt=[],cn=this.ast.options&&this.ast.options.params||ra,Kt=this.buildStyles(T,he&&he.params||ra,Gt),En=Oe&&Oe.params||ra,On=this.buildStyles(B,En,Gt),Or=new Set,hr=new Map,cs=new Map,Xr="void"===B,To={params:Object.assign(Object.assign({},cn),En)},Fr=wt?[]:Ya(m,y,this.ast.animation,K,re,Kt,On,To,et,Gt);let bi=0;if(Fr.forEach(Bs=>{bi=Math.max(Bs.duration+Bs.delay,bi)}),Gt.length)return Sa(y,this._triggerName,T,B,Xr,Kt,On,[],[],hr,cs,bi,Gt);Fr.forEach(Bs=>{const So=Bs.element,to=Jr(hr,So,{});Bs.preStyleProps.forEach(da=>to[da]=!0);const Ao=Jr(cs,So,{});Bs.postStyleProps.forEach(da=>Ao[da]=!0),So!==y&&Or.add(So)});const Yn=Ri(Or.values());return Sa(y,this._triggerName,T,B,Xr,Kt,On,Fr,Yn,hr,cs,bi)}}class sa{constructor(m,y,T){this.styles=m,this.defaultParams=y,this.normalizer=T}buildStyles(m,y){const T={},B=Yt(this.defaultParams);return Object.keys(m).forEach(K=>{const re=m[K];null!=re&&(B[K]=re)}),this.styles.styles.forEach(K=>{if("string"!=typeof K){const re=K;Object.keys(re).forEach(he=>{let Oe=re[he];Oe.length>1&&(Oe=Gi(Oe,B,y));const et=this.normalizer.normalizePropertyName(he,y);Oe=this.normalizer.normalizeStyleValue(he,et,Oe,y),T[et]=Oe})}}),T}}class Qa{constructor(m,y,T){this.name=m,this.ast=y,this._normalizer=T,this.transitionFactories=[],this.states={},y.states.forEach(B=>{this.states[B.name]=new sa(B.style,B.options&&B.options.params||{},T)}),Eo(this.states,"true","1"),Eo(this.states,"false","0"),y.transitions.forEach(B=>{this.transitionFactories.push(new fl(m,B,this.states))}),this.fallbackTransition=function(M,m,y){return new fl(M,{type:1,animation:{type:2,steps:[],options:null},matchers:[(re,he)=>!0],options:null,queryCount:0,depCount:0},m)}(m,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(m,y,T,B){return this.transitionFactories.find(re=>re.match(m,y,T,B))||null}matchStyles(m,y,T){return this.fallbackTransition.buildStyles(m,y,T)}}function Eo(M,m,y){M.hasOwnProperty(m)?M.hasOwnProperty(y)||(M[y]=M[m]):M.hasOwnProperty(y)&&(M[m]=M[y])}const cu=new Za;class Ja{constructor(m,y,T){this.bodyNode=m,this._driver=y,this._normalizer=T,this._animations={},this._playersById={},this.players=[]}register(m,y){const T=[],B=Mi(this._driver,y,T);if(T.length)throw new Error(`Unable to build the animation due to the following errors: ${T.join("\n")}`);this._animations[m]=B}_buildPlayer(m,y,T){const B=m.element,K=is(0,this._normalizer,0,m.keyframes,y,T);return this._driver.animate(B,K,m.duration,m.delay,m.easing,[],!0)}create(m,y,T={}){const B=[],K=this._animations[m];let re;const he=new Map;if(K?(re=Ya(this._driver,y,K,Y,$e,{},{},T,cu,B),re.forEach(wt=>{const Gt=Jr(he,wt.element,{});wt.postStyleProps.forEach(cn=>Gt[cn]=null)})):(B.push("The requested animation doesn't exist or has already been destroyed"),re=[]),B.length)throw new Error(`Unable to create the animation due to the following errors: ${B.join("\n")}`);he.forEach((wt,Gt)=>{Object.keys(wt).forEach(cn=>{wt[cn]=this._driver.computeStyle(Gt,cn,Wr)})});const et=dr(re.map(wt=>{const Gt=he.get(wt.element);return this._buildPlayer(wt,{},Gt)}));return this._playersById[m]=et,et.onDestroy(()=>this.destroy(m)),this.players.push(et),et}destroy(m){const y=this._getPlayer(m);y.destroy(),delete this._playersById[m];const T=this.players.indexOf(y);T>=0&&this.players.splice(T,1)}_getPlayer(m){const y=this._playersById[m];if(!y)throw new Error(`Unable to find the timeline player referenced by ${m}`);return y}listen(m,y,T,B){const K=Ai(y,"","","");return zs(this._getPlayer(m),T,K,B),()=>{}}command(m,y,T,B){if("register"==T)return void this.register(m,B[0]);if("create"==T)return void this.create(m,y,B[0]||{});const K=this._getPlayer(m);switch(T){case"play":K.play();break;case"pause":K.pause();break;case"reset":K.reset();break;case"restart":K.restart();break;case"finish":K.finish();break;case"init":K.init();break;case"setPosition":K.setPosition(parseFloat(B[0]));break;case"destroy":this.destroy(m)}}}const di="ng-animate-queued",si="ng-animate-disabled",du=".ng-animate-disabled",hu=[],wo={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},xi={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Xn="__ng_removed";class fu{constructor(m,y=""){this.namespaceId=y;const T=m&&m.hasOwnProperty("value");if(this.value=null!=(M=T?m.value:m)?M:null,T){const K=Yt(m);delete K.value,this.options=K}else this.options={};var M;this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(m){const y=m.params;if(y){const T=this.options.params;Object.keys(y).forEach(B=>{null==T[B]&&(T[B]=y[B])})}}}const Pi="void",Aa=new fu(Pi);class oa{constructor(m,y,T){this.id=m,this.hostElement=y,this._engine=T,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+m,kr(y,this._hostClassName)}listen(m,y,T,B){if(!this._triggers.hasOwnProperty(y))throw new Error(`Unable to listen on the animation trigger event "${T}" because the animation trigger "${y}" doesn't exist!`);if(null==T||0==T.length)throw new Error(`Unable to listen on the animation trigger "${y}" because the provided event is undefined!`);if("start"!=(M=T)&&"done"!=M)throw new Error(`The provided animation trigger event "${T}" for the animation trigger "${y}" is not supported!`);var M;const K=Jr(this._elementListeners,m,[]),re={name:y,phase:T,callback:B};K.push(re);const he=Jr(this._engine.statesByElement,m,{});return he.hasOwnProperty(y)||(kr(m,q),kr(m,q+"-"+y),he[y]=Aa),()=>{this._engine.afterFlush(()=>{const Oe=K.indexOf(re);Oe>=0&&K.splice(Oe,1),this._triggers[y]||delete he[y]})}}register(m,y){return!this._triggers[m]&&(this._triggers[m]=y,!0)}_getTrigger(m){const y=this._triggers[m];if(!y)throw new Error(`The provided animation trigger "${m}" has not been registered!`);return y}trigger(m,y,T,B=!0){const K=this._getTrigger(y),re=new pu(this.id,y,m);let he=this._engine.statesByElement.get(m);he||(kr(m,q),kr(m,q+"-"+y),this._engine.statesByElement.set(m,he={}));let Oe=he[y];const et=new fu(T,this.id);if(!(T&&T.hasOwnProperty("value"))&&Oe&&et.absorbOptions(Oe.options),he[y]=et,Oe||(Oe=Aa),et.value!==Pi&&Oe.value===et.value){if(!function(M,m){const y=Object.keys(M),T=Object.keys(m);if(y.length!=T.length)return!1;for(let B=0;B<y.length;B++){const K=y[B];if(!m.hasOwnProperty(K)||M[K]!==m[K])return!1}return!0}(Oe.params,et.params)){const En=[],On=K.matchStyles(Oe.value,Oe.params,En),Or=K.matchStyles(et.value,et.params,En);En.length?this._engine.reportError(En):this._engine.afterFlush(()=>{$r(m,On),yr(m,Or)})}return}const cn=Jr(this._engine.playersByElement,m,[]);cn.forEach(En=>{En.namespaceId==this.id&&En.triggerName==y&&En.queued&&En.destroy()});let kn=K.matchTransition(Oe.value,et.value,m,et.params),Kt=!1;if(!kn){if(!B)return;kn=K.fallbackTransition,Kt=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:m,triggerName:y,transition:kn,fromState:Oe,toState:et,player:re,isFallbackTransition:Kt}),Kt||(kr(m,di),re.onStart(()=>{Ho(m,di)})),re.onDone(()=>{let En=this.players.indexOf(re);En>=0&&this.players.splice(En,1);const On=this._engine.playersByElement.get(m);if(On){let Or=On.indexOf(re);Or>=0&&On.splice(Or,1)}}),this.players.push(re),cn.push(re),re}deregister(m){delete this._triggers[m],this._engine.statesByElement.forEach((y,T)=>{delete y[m]}),this._elementListeners.forEach((y,T)=>{this._elementListeners.set(T,y.filter(B=>B.name!=m))})}clearElementCache(m){this._engine.statesByElement.delete(m),this._elementListeners.delete(m);const y=this._engine.playersByElement.get(m);y&&(y.forEach(T=>T.destroy()),this._engine.playersByElement.delete(m))}_signalRemovalForInnerTriggers(m,y){const T=this._engine.driver.query(m,V,!0);T.forEach(B=>{if(B[Xn])return;const K=this._engine.fetchNamespacesByElement(B);K.size?K.forEach(re=>re.triggerLeaveAnimation(B,y,!1,!0)):this.clearElementCache(B)}),this._engine.afterFlushAnimationsDone(()=>T.forEach(B=>this.clearElementCache(B)))}triggerLeaveAnimation(m,y,T,B){const K=this._engine.statesByElement.get(m);if(K){const re=[];if(Object.keys(K).forEach(he=>{if(this._triggers[he]){const Oe=this.trigger(m,he,Pi,B);Oe&&re.push(Oe)}}),re.length)return this._engine.markElementAsRemoved(this.id,m,!0,y),T&&dr(re).onDone(()=>this._engine.processLeaveNode(m)),!0}return!1}prepareLeaveAnimationListeners(m){const y=this._elementListeners.get(m),T=this._engine.statesByElement.get(m);if(y&&T){const B=new Set;y.forEach(K=>{const re=K.name;if(B.has(re))return;B.add(re);const Oe=this._triggers[re].fallbackTransition,et=T[re]||Aa,wt=new fu(Pi),Gt=new pu(this.id,re,m);this._engine.totalQueuedPlayers++,this._queue.push({element:m,triggerName:re,transition:Oe,fromState:et,toState:wt,player:Gt,isFallbackTransition:!0})})}}removeNode(m,y){const T=this._engine;if(m.childElementCount&&this._signalRemovalForInnerTriggers(m,y),this.triggerLeaveAnimation(m,y,!0))return;let B=!1;if(T.totalAnimations){const K=T.players.length?T.playersByQueriedElement.get(m):[];if(K&&K.length)B=!0;else{let re=m;for(;re=re.parentNode;)if(T.statesByElement.get(re)){B=!0;break}}}if(this.prepareLeaveAnimationListeners(m),B)T.markElementAsRemoved(this.id,m,!1,y);else{const K=m[Xn];(!K||K===wo)&&(T.afterFlush(()=>this.clearElementCache(m)),T.destroyInnerAnimations(m),T._onRemovalComplete(m,y))}}insertNode(m,y){kr(m,this._hostClassName)}drainQueuedTransitions(m){const y=[];return this._queue.forEach(T=>{const B=T.player;if(B.destroyed)return;const K=T.element,re=this._elementListeners.get(K);re&&re.forEach(he=>{if(he.name==T.triggerName){const Oe=Ai(K,T.triggerName,T.fromState.value,T.toState.value);Oe._data=m,zs(T.player,he.phase,Oe,he.callback)}}),B.markedForDestroy?this._engine.afterFlush(()=>{B.destroy()}):y.push(T)}),this._queue=[],y.sort((T,B)=>{const K=T.transition.ast.depCount,re=B.transition.ast.depCount;return 0==K||0==re?K-re:this._engine.driver.containsElement(T.element,B.element)?1:-1})}destroy(m){this.players.forEach(y=>y.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,m)}elementContainsData(m){let y=!1;return this._elementListeners.has(m)&&(y=!0),y=!!this._queue.find(T=>T.element===m)||y,y}}class Co{constructor(m,y,T){this.bodyNode=m,this.driver=y,this._normalizer=T,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(B,K)=>{}}_onRemovalComplete(m,y){this.onRemovalComplete(m,y)}get queuedPlayers(){const m=[];return this._namespaceList.forEach(y=>{y.players.forEach(T=>{T.queued&&m.push(T)})}),m}createNamespace(m,y){const T=new oa(m,y,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,y)?this._balanceNamespaceList(T,y):(this.newHostElements.set(y,T),this.collectEnterElement(y)),this._namespaceLookup[m]=T}_balanceNamespaceList(m,y){const T=this._namespaceList.length-1;if(T>=0){let B=!1;for(let K=T;K>=0;K--)if(this.driver.containsElement(this._namespaceList[K].hostElement,y)){this._namespaceList.splice(K+1,0,m),B=!0;break}B||this._namespaceList.splice(0,0,m)}else this._namespaceList.push(m);return this.namespacesByHostElement.set(y,m),m}register(m,y){let T=this._namespaceLookup[m];return T||(T=this.createNamespace(m,y)),T}registerTrigger(m,y,T){let B=this._namespaceLookup[m];B&&B.register(y,T)&&this.totalAnimations++}destroy(m,y){if(!m)return;const T=this._fetchNamespace(m);this.afterFlush(()=>{this.namespacesByHostElement.delete(T.hostElement),delete this._namespaceLookup[m];const B=this._namespaceList.indexOf(T);B>=0&&this._namespaceList.splice(B,1)}),this.afterFlushAnimationsDone(()=>T.destroy(y))}_fetchNamespace(m){return this._namespaceLookup[m]}fetchNamespacesByElement(m){const y=new Set,T=this.statesByElement.get(m);if(T){const B=Object.keys(T);for(let K=0;K<B.length;K++){const re=T[B[K]].namespaceId;if(re){const he=this._fetchNamespace(re);he&&y.add(he)}}}return y}trigger(m,y,T,B){if(jo(y)){const K=this._fetchNamespace(m);if(K)return K.trigger(y,T,B),!0}return!1}insertNode(m,y,T,B){if(!jo(y))return;const K=y[Xn];if(K&&K.setForRemoval){K.setForRemoval=!1,K.setForMove=!0;const re=this.collectedLeaveElements.indexOf(y);re>=0&&this.collectedLeaveElements.splice(re,1)}if(m){const re=this._fetchNamespace(m);re&&re.insertNode(y,T)}B&&this.collectEnterElement(y)}collectEnterElement(m){this.collectedEnterElements.push(m)}markElementAsDisabled(m,y){y?this.disabledNodes.has(m)||(this.disabledNodes.add(m),kr(m,si)):this.disabledNodes.has(m)&&(this.disabledNodes.delete(m),Ho(m,si))}removeNode(m,y,T,B){if(jo(y)){const K=m?this._fetchNamespace(m):null;if(K?K.removeNode(y,B):this.markElementAsRemoved(m,y,!1,B),T){const re=this.namespacesByHostElement.get(y);re&&re.id!==m&&re.removeNode(y,B)}}else this._onRemovalComplete(y,B)}markElementAsRemoved(m,y,T,B){this.collectedLeaveElements.push(y),y[Xn]={namespaceId:m,setForRemoval:B,hasAnimation:T,removedBeforeQueried:!1}}listen(m,y,T,B,K){return jo(y)?this._fetchNamespace(m).listen(y,T,B,K):()=>{}}_buildInstruction(m,y,T,B,K){return m.transition.build(this.driver,m.element,m.fromState.value,m.toState.value,T,B,m.fromState.options,m.toState.options,y,K)}destroyInnerAnimations(m){let y=this.driver.query(m,V,!0);y.forEach(T=>this.destroyActiveAnimationsForElement(T)),0!=this.playersByQueriedElement.size&&(y=this.driver.query(m,me,!0),y.forEach(T=>this.finishActiveQueriedAnimationOnElement(T)))}destroyActiveAnimationsForElement(m){const y=this.playersByElement.get(m);y&&y.forEach(T=>{T.queued?T.markedForDestroy=!0:T.destroy()})}finishActiveQueriedAnimationOnElement(m){const y=this.playersByQueriedElement.get(m);y&&y.forEach(T=>T.finish())}whenRenderingDone(){return new Promise(m=>{if(this.players.length)return dr(this.players).onDone(()=>m());m()})}processLeaveNode(m){const y=m[Xn];if(y&&y.setForRemoval){if(m[Xn]=wo,y.namespaceId){this.destroyInnerAnimations(m);const T=this._fetchNamespace(y.namespaceId);T&&T.clearElementCache(m)}this._onRemovalComplete(m,y.setForRemoval)}this.driver.matchesElement(m,du)&&this.markElementAsDisabled(m,!1),this.driver.query(m,du,!0).forEach(T=>{this.markElementAsDisabled(T,!1)})}flush(m=-1){let y=[];if(this.newHostElements.size&&(this.newHostElements.forEach((T,B)=>this._balanceNamespaceList(T,B)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let T=0;T<this.collectedEnterElements.length;T++)kr(this.collectedEnterElements[T],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const T=[];try{y=this._flushAnimations(T,m)}finally{for(let B=0;B<T.length;B++)T[B]()}}else for(let T=0;T<this.collectedLeaveElements.length;T++)this.processLeaveNode(this.collectedLeaveElements[T]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(T=>T()),this._flushFns=[],this._whenQuietFns.length){const T=this._whenQuietFns;this._whenQuietFns=[],y.length?dr(y).onDone(()=>{T.forEach(B=>B())}):T.forEach(B=>B())}}reportError(m){throw new Error(`Unable to process animations due to the following failed trigger transitions\n ${m.join("\n")}`)}_flushAnimations(m,y){const T=new Za,B=[],K=new Map,re=[],he=new Map,Oe=new Map,et=new Map,wt=new Set;this.disabledNodes.forEach(Bt=>{wt.add(Bt);const zt=this.driver.query(Bt,".ng-animate-queued",!0);for(let nn=0;nn<zt.length;nn++)wt.add(zt[nn])});const Gt=this.bodyNode,cn=Array.from(this.statesByElement.keys()),kn=Ac(cn,this.collectedEnterElements),Kt=new Map;let En=0;kn.forEach((Bt,zt)=>{const nn=Y+En++;Kt.set(zt,nn),Bt.forEach(zn=>kr(zn,nn))});const On=[],Or=new Set,hr=new Set;for(let Bt=0;Bt<this.collectedLeaveElements.length;Bt++){const zt=this.collectedLeaveElements[Bt],nn=zt[Xn];nn&&nn.setForRemoval&&(On.push(zt),Or.add(zt),nn.hasAnimation?this.driver.query(zt,".ng-star-inserted",!0).forEach(zn=>Or.add(zn)):hr.add(zt))}const cs=new Map,Xr=Ac(cn,Array.from(Or));Xr.forEach((Bt,zt)=>{const nn=$e+En++;cs.set(zt,nn),Bt.forEach(zn=>kr(zn,nn))}),m.push(()=>{kn.forEach((Bt,zt)=>{const nn=Kt.get(zt);Bt.forEach(zn=>Ho(zn,nn))}),Xr.forEach((Bt,zt)=>{const nn=cs.get(zt);Bt.forEach(zn=>Ho(zn,nn))}),On.forEach(Bt=>{this.processLeaveNode(Bt)})});const To=[],Fr=[];for(let Bt=this._namespaceList.length-1;Bt>=0;Bt--)this._namespaceList[Bt].drainQueuedTransitions(y).forEach(nn=>{const zn=nn.player,fr=nn.element;if(To.push(zn),this.collectedEnterElements.length){const js=fr[Xn];if(js&&js.setForMove)return void zn.destroy()}const No=!Gt||!this.driver.containsElement(Gt,fr),Ds=cs.get(fr),Ro=Kt.get(fr),Dr=this._buildInstruction(nn,T,Ro,Ds,No);if(Dr.errors&&Dr.errors.length)Fr.push(Dr);else{if(No)return zn.onStart(()=>$r(fr,Dr.fromStyles)),zn.onDestroy(()=>yr(fr,Dr.toStyles)),void B.push(zn);if(nn.isFallbackTransition)return zn.onStart(()=>$r(fr,Dr.fromStyles)),zn.onDestroy(()=>yr(fr,Dr.toStyles)),void B.push(zn);Dr.timelines.forEach(js=>js.stretchStartingKeyframe=!0),T.append(fr,Dr.timelines),re.push({instruction:Dr,player:zn,element:fr}),Dr.queriedElements.forEach(js=>Jr(he,js,[]).push(zn)),Dr.preStyleProps.forEach((js,qu)=>{const fa=Object.keys(js);if(fa.length){let no=Oe.get(qu);no||Oe.set(qu,no=new Set),fa.forEach(ka=>no.add(ka))}}),Dr.postStyleProps.forEach((js,qu)=>{const fa=Object.keys(js);let no=et.get(qu);no||et.set(qu,no=new Set),fa.forEach(ka=>no.add(ka))})}});if(Fr.length){const Bt=[];Fr.forEach(zt=>{Bt.push(`@${zt.triggerName} has failed due to:\n`),zt.errors.forEach(nn=>Bt.push(`- ${nn}\n`))}),To.forEach(zt=>zt.destroy()),this.reportError(Bt)}const bi=new Map,Yn=new Map;re.forEach(Bt=>{const zt=Bt.element;T.has(zt)&&(Yn.set(zt,zt),this._beforeAnimationBuild(Bt.player.namespaceId,Bt.instruction,bi))}),B.forEach(Bt=>{const zt=Bt.element;this._getPreviousPlayers(zt,!1,Bt.namespaceId,Bt.triggerName,null).forEach(zn=>{Jr(bi,zt,[]).push(zn),zn.destroy()})});const Bs=On.filter(Bt=>Na(Bt,Oe,et)),So=new Map;aa(So,this.driver,hr,et,Wr).forEach(Bt=>{Na(Bt,Oe,et)&&Bs.push(Bt)});const Ao=new Map;kn.forEach((Bt,zt)=>{aa(Ao,this.driver,new Set(Bt),Oe,"!")}),Bs.forEach(Bt=>{const zt=So.get(Bt),nn=Ao.get(Bt);So.set(Bt,Object.assign(Object.assign({},zt),nn))});const da=[],ha=[],Is={};re.forEach(Bt=>{const{element:zt,player:nn,instruction:zn}=Bt;if(T.has(zt)){if(wt.has(zt))return nn.onDestroy(()=>yr(zt,zn.toStyles)),nn.disabled=!0,nn.overrideTotalTime(zn.totalTime),void B.push(nn);let fr=Is;if(Yn.size>1){let Ds=zt;const Ro=[];for(;Ds=Ds.parentNode;){const Dr=Yn.get(Ds);if(Dr){fr=Dr;break}Ro.push(Ds)}Ro.forEach(Dr=>Yn.set(Dr,fr))}const No=this._buildAnimation(nn.namespaceId,zn,bi,K,Ao,So);if(nn.setRealPlayer(No),fr===Is)da.push(nn);else{const Ds=this.playersByElement.get(fr);Ds&&Ds.length&&(nn.parentPlayer=dr(Ds)),B.push(nn)}}else $r(zt,zn.fromStyles),nn.onDestroy(()=>yr(zt,zn.toStyles)),ha.push(nn),wt.has(zt)&&B.push(nn)}),ha.forEach(Bt=>{const zt=K.get(Bt.element);if(zt&&zt.length){const nn=dr(zt);Bt.setRealPlayer(nn)}}),B.forEach(Bt=>{Bt.parentPlayer?Bt.syncPlayerEvents(Bt.parentPlayer):Bt.destroy()});for(let Bt=0;Bt<On.length;Bt++){const zt=On[Bt],nn=zt[Xn];if(Ho(zt,$e),nn&&nn.hasAnimation)continue;let zn=[];if(he.size){let No=he.get(zt);No&&No.length&&zn.push(...No);let Ds=this.driver.query(zt,me,!0);for(let Ro=0;Ro<Ds.length;Ro++){let Dr=he.get(Ds[Ro]);Dr&&Dr.length&&zn.push(...Dr)}}const fr=zn.filter(No=>!No.destroyed);fr.length?la(this,zt,fr):this.processLeaveNode(zt)}return On.length=0,da.forEach(Bt=>{this.players.push(Bt),Bt.onDone(()=>{Bt.destroy();const zt=this.players.indexOf(Bt);this.players.splice(zt,1)}),Bt.play()}),da}elementContainsData(m,y){let T=!1;const B=y[Xn];return B&&B.setForRemoval&&(T=!0),this.playersByElement.has(y)&&(T=!0),this.playersByQueriedElement.has(y)&&(T=!0),this.statesByElement.has(y)&&(T=!0),this._fetchNamespace(m).elementContainsData(y)||T}afterFlush(m){this._flushFns.push(m)}afterFlushAnimationsDone(m){this._whenQuietFns.push(m)}_getPreviousPlayers(m,y,T,B,K){let re=[];if(y){const he=this.playersByQueriedElement.get(m);he&&(re=he)}else{const he=this.playersByElement.get(m);if(he){const Oe=!K||K==Pi;he.forEach(et=>{et.queued||!Oe&&et.triggerName!=B||re.push(et)})}}return(T||B)&&(re=re.filter(he=>!(T&&T!=he.namespaceId||B&&B!=he.triggerName))),re}_beforeAnimationBuild(m,y,T){const K=y.element,re=y.isRemovalTransition?void 0:m,he=y.isRemovalTransition?void 0:y.triggerName;for(const Oe of y.timelines){const et=Oe.element,wt=et!==K,Gt=Jr(T,et,[]);this._getPreviousPlayers(et,wt,re,he,y.toState).forEach(kn=>{const Kt=kn.getRealPlayer();Kt.beforeDestroy&&Kt.beforeDestroy(),kn.destroy(),Gt.push(kn)})}$r(K,y.fromStyles)}_buildAnimation(m,y,T,B,K,re){const he=y.triggerName,Oe=y.element,et=[],wt=new Set,Gt=new Set,cn=y.timelines.map(Kt=>{const En=Kt.element;wt.add(En);const On=En[Xn];if(On&&On.removedBeforeQueried)return new ji(Kt.duration,Kt.delay);const Or=En!==Oe,hr=function(M){const m=[];return Cr(M,m),m}((T.get(En)||hu).map(bi=>bi.getRealPlayer())).filter(bi=>!!bi.element&&bi.element===En),cs=K.get(En),Xr=re.get(En),To=is(0,this._normalizer,0,Kt.keyframes,cs,Xr),Fr=this._buildPlayer(Kt,To,hr);if(Kt.subTimeline&&B&&Gt.add(En),Or){const bi=new pu(m,he,En);bi.setRealPlayer(Fr),et.push(bi)}return Fr});et.forEach(Kt=>{Jr(this.playersByQueriedElement,Kt.element,[]).push(Kt),Kt.onDone(()=>function(M,m,y){let T;if(M instanceof Map){if(T=M.get(m),T){if(T.length){const B=T.indexOf(y);T.splice(B,1)}0==T.length&&M.delete(m)}}else if(T=M[m],T){if(T.length){const B=T.indexOf(y);T.splice(B,1)}0==T.length&&delete M[m]}return T}(this.playersByQueriedElement,Kt.element,Kt))}),wt.forEach(Kt=>kr(Kt,Q));const kn=dr(cn);return kn.onDestroy(()=>{wt.forEach(Kt=>Ho(Kt,Q)),yr(Oe,y.toStyles)}),Gt.forEach(Kt=>{Jr(B,Kt,[]).push(kn)}),kn}_buildPlayer(m,y,T){return y.length>0?this.driver.animate(m.element,y,m.duration,m.delay,m.easing,T):new ji(m.duration,m.delay)}}class pu{constructor(m,y,T){this.namespaceId=m,this.triggerName=y,this.element=T,this._player=new ji,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(m){this._containsRealPlayer||(this._player=m,Object.keys(this._queuedCallbacks).forEach(y=>{this._queuedCallbacks[y].forEach(T=>zs(m,y,void 0,T))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(m.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(m){this.totalTime=m}syncPlayerEvents(m){const y=this._player;y.triggerCallback&&m.onStart(()=>y.triggerCallback("start")),m.onDone(()=>this.finish()),m.onDestroy(()=>this.destroy())}_queueEvent(m,y){Jr(this._queuedCallbacks,m,[]).push(y)}onDone(m){this.queued&&this._queueEvent("done",m),this._player.onDone(m)}onStart(m){this.queued&&this._queueEvent("start",m),this._player.onStart(m)}onDestroy(m){this.queued&&this._queueEvent("destroy",m),this._player.onDestroy(m)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(m){this.queued||this._player.setPosition(m)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(m){const y=this._player;y.triggerCallback&&y.triggerCallback(m)}}function jo(M){return M&&1===M.nodeType}function Io(M,m){const y=M.style.display;return M.style.display=null!=m?m:"none",y}function aa(M,m,y,T,B){const K=[];y.forEach(Oe=>K.push(Io(Oe)));const re=[];T.forEach((Oe,et)=>{const wt={};Oe.forEach(Gt=>{const cn=wt[Gt]=m.computeStyle(et,Gt,B);(!cn||0==cn.length)&&(et[Xn]=xi,re.push(et))}),M.set(et,wt)});let he=0;return y.forEach(Oe=>Io(Oe,K[he++])),re}function Ac(M,m){const y=new Map;if(M.forEach(he=>y.set(he,[])),0==m.length)return y;const B=new Set(m),K=new Map;function re(he){if(!he)return 1;let Oe=K.get(he);if(Oe)return Oe;const et=he.parentNode;return Oe=y.has(et)?et:B.has(et)?1:re(et),K.set(he,Oe),Oe}return m.forEach(he=>{const Oe=re(he);1!==Oe&&y.get(Oe).push(he)}),y}const Mr="$$classes";function kr(M,m){if(M.classList)M.classList.add(m);else{let y=M[Mr];y||(y=M[Mr]={}),y[m]=!0}}function Ho(M,m){if(M.classList)M.classList.remove(m);else{let y=M[Mr];y&&delete y[m]}}function la(M,m,y){dr(y).onDone(()=>M.processLeaveNode(m))}function Cr(M,m){for(let y=0;y<M.length;y++){const T=M[y];T instanceof vs?Cr(T.players,m):m.push(T)}}function Na(M,m,y){const T=y.get(M);if(!T)return!1;let B=m.get(M);return B?T.forEach(K=>B.add(K)):m.set(M,T),y.delete(M),!0}class Lt{constructor(m,y,T){this.bodyNode=m,this._driver=y,this._normalizer=T,this._triggerCache={},this.onRemovalComplete=(B,K)=>{},this._transitionEngine=new Co(m,y,T),this._timelineEngine=new Ja(m,y,T),this._transitionEngine.onRemovalComplete=(B,K)=>this.onRemovalComplete(B,K)}registerTrigger(m,y,T,B,K){const re=m+"-"+B;let he=this._triggerCache[re];if(!he){const Oe=[],et=Mi(this._driver,K,Oe);if(Oe.length)throw new Error(`The animation trigger "${B}" has failed to build due to the following errors:\n - ${Oe.join("\n - ")}`);he=function(M,m,y){return new Qa(M,m,y)}(B,et,this._normalizer),this._triggerCache[re]=he}this._transitionEngine.registerTrigger(y,B,he)}register(m,y){this._transitionEngine.register(m,y)}destroy(m,y){this._transitionEngine.destroy(m,y)}onInsert(m,y,T,B){this._transitionEngine.insertNode(m,y,T,B)}onRemove(m,y,T,B){this._transitionEngine.removeNode(m,y,B||!1,T)}disableAnimations(m,y){this._transitionEngine.markElementAsDisabled(m,y)}process(m,y,T,B){if("@"==T.charAt(0)){const[K,re]=Es(T);this._timelineEngine.command(K,y,re,B)}else this._transitionEngine.trigger(m,y,T,B)}listen(m,y,T,B,K){if("@"==T.charAt(0)){const[re,he]=Es(T);return this._timelineEngine.listen(re,y,he,K)}return this._transitionEngine.listen(m,y,T,B,K)}flush(m=-1){this._transitionEngine.flush(m)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function un(M,m){let y=null,T=null;return Array.isArray(m)&&m.length?(y=R(m[0]),m.length>1&&(T=R(m[m.length-1]))):m&&(y=R(m)),y||T?new Ra(M,y,T):null}class Ra{constructor(m,y,T){this._element=m,this._startStyles=y,this._endStyles=T,this._state=0;let B=Ra.initialStylesByElement.get(m);B||Ra.initialStylesByElement.set(m,B={}),this._initialStyles=B}start(){this._state<1&&(this._startStyles&&yr(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(yr(this._element,this._initialStyles),this._endStyles&&(yr(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(Ra.initialStylesByElement.delete(this._element),this._startStyles&&($r(this._element,this._startStyles),this._endStyles=null),this._endStyles&&($r(this._element,this._endStyles),this._endStyles=null),yr(this._element,this._initialStyles),this._state=3)}}function R(M){let m=null;const y=Object.keys(M);for(let T=0;T<y.length;T++){const B=y[T];b(B)&&(m=m||{},m[B]=M[B])}return m}function b(M){return"display"===M||"position"===M}Ra.initialStylesByElement=new WeakMap;const x="animation",H="animationend";class le{constructor(m,y,T,B,K,re,he){this._element=m,this._name=y,this._duration=T,this._delay=B,this._easing=K,this._fillMode=re,this._onDoneFn=he,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=Oe=>this._handleCallback(Oe)}apply(){(function(M,m){const y=Zr(M,"").trim();let T=0;y.length&&(function(M,m){let y=0;for(let T=0;T<M.length;T++)","===M.charAt(T)&&y++;return y}(y)+1,m=`${y}, ${m}`),Rt(M,"",m)})(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),or(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){Ee(this._element,this._name,"paused")}resume(){Ee(this._element,this._name,"running")}setPosition(m){const y=Ut(this._element,this._name);this._position=m*this._duration,Rt(this._element,"Delay",`-${this._position}ms`,y)}getPosition(){return this._position}_handleCallback(m){const y=m._ngTestManualTimestamp||Date.now(),T=1e3*parseFloat(m.elapsedTime.toFixed(3));m.animationName==this._name&&Math.max(y-this._startTime,0)>=this._delay&&T>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),or(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function(M,m){const T=Zr(M,"").split(","),B=vn(T,m);B>=0&&(T.splice(B,1),Rt(M,"",T.join(",")))}(this._element,this._name))}}function Ee(M,m,y){Rt(M,"PlayState",y,Ut(M,m))}function Ut(M,m){const y=Zr(M,"");return y.indexOf(",")>0?vn(y.split(","),m):vn([y],m)}function vn(M,m){for(let y=0;y<M.length;y++)if(M[y].indexOf(m)>=0)return y;return-1}function or(M,m,y){y?M.removeEventListener(H,m):M.addEventListener(H,m)}function Rt(M,m,y,T){const B=x+m;if(null!=T){const K=M.style[B];if(K.length){const re=K.split(",");re[T]=y,y=re.join(",")}}M.style[B]=y}function Zr(M,m){return M.style[x+m]||""}class Ki{constructor(m,y,T,B,K,re,he,Oe){this.element=m,this.keyframes=y,this.animationName=T,this._duration=B,this._delay=K,this._finalStyles=he,this._specialStyles=Oe,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this.currentSnapshot={},this._state=0,this.easing=re||"linear",this.totalTime=B+K,this._buildStyler()}onStart(m){this._onStartFns.push(m)}onDone(m){this._onDoneFns.push(m)}onDestroy(m){this._onDestroyFns.push(m)}destroy(){this.init(),!(this._state>=4)&&(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(m=>m()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(m=>m()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(m=>m()),this._onStartFns=[]}finish(){this.init(),!(this._state>=3)&&(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(m){this._styler.setPosition(m)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._state=0,this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new le(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",()=>this.finish())}triggerCallback(m){const y="start"==m?this._onStartFns:this._onDoneFns;y.forEach(T=>T()),y.length=0}beforeDestroy(){this.init();const m={};if(this.hasStarted()){const y=this._state>=3;Object.keys(this._finalStyles).forEach(T=>{"offset"!=T&&(m[T]=y?this._finalStyles[T]:Ks(this.element,T))})}this.currentSnapshot=m}}class ls extends ji{constructor(m,y){super(),this.element=m,this._startingStyles={},this.__initialized=!1,this._styles=qa(y)}init(){this.__initialized||!this._startingStyles||(this.__initialized=!0,Object.keys(this._styles).forEach(m=>{this._startingStyles[m]=this.element.style[m]}),super.init())}play(){!this._startingStyles||(this.init(),Object.keys(this._styles).forEach(m=>this.element.style.setProperty(m,this._styles[m])),super.play())}destroy(){!this._startingStyles||(Object.keys(this._startingStyles).forEach(m=>{const y=this._startingStyles[m];y?this.element.style.setProperty(m,y):this.element.style.removeProperty(m)}),this._startingStyles=null,super.destroy())}}class er{constructor(){this._count=0}validateStyleProperty(m){return go(m)}matchesElement(m,y){return as(m,y)}containsElement(m,y){return Kr(m,y)}query(m,y,T){return mo(m,y,T)}computeStyle(m,y,T){return window.getComputedStyle(m)[y]}buildKeyframeElement(m,y,T){T=T.map(he=>qa(he));let B=`@keyframes ${y} {\n`,K="";T.forEach(he=>{K=" ";const Oe=parseFloat(he.offset);B+=`${K}${100*Oe}% {\n`,K+=" ",Object.keys(he).forEach(et=>{const wt=he[et];switch(et){case"offset":return;case"easing":return void(wt&&(B+=`${K}animation-timing-function: ${wt};\n`));default:return void(B+=`${K}${et}: ${wt};\n`)}}),B+=`${K}}\n`}),B+="}\n";const re=document.createElement("style");return re.textContent=B,re}animate(m,y,T,B,K,re=[],he){const Oe=re.filter(On=>On instanceof Ki),et={};Pu(T,B)&&Oe.forEach(On=>{let Or=On.currentSnapshot;Object.keys(Or).forEach(hr=>et[hr]=Or[hr])});const wt=function(M){let m={};return M&&(Array.isArray(M)?M:[M]).forEach(T=>{Object.keys(T).forEach(B=>{"offset"==B||"easing"==B||(m[B]=T[B])})}),m}(y=Ka(m,y,et));if(0==T)return new ls(m,wt);const Gt="gen_css_kf_"+this._count++,cn=this.buildKeyframeElement(m,Gt,y);(function(M){var m;const y=null===(m=M.getRootNode)||void 0===m?void 0:m.call(M);return"undefined"!=typeof ShadowRoot&&y instanceof ShadowRoot?y:document.head})(m).appendChild(cn);const Kt=un(m,y),En=new Ki(m,y,Gt,T,B,K,wt,Kt);return En.onDestroy(()=>{var M;(M=cn).parentNode.removeChild(M)}),En}}class pl{constructor(m,y,T,B){this.element=m,this.keyframes=y,this.options=T,this._specialStyles=B,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=T.duration,this._delay=T.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(m=>m()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const m=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,m,this.options),this._finalKeyframe=m.length?m[m.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(m,y,T){return m.animate(y,T)}onStart(m){this._onStartFns.push(m)}onDone(m){this._onDoneFns.push(m)}onDestroy(m){this._onDestroyFns.push(m)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(m=>m()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(m=>m()),this._onDestroyFns=[])}setPosition(m){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=m*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const m={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(y=>{"offset"!=y&&(m[y]=this._finished?this._finalKeyframe[y]:Ks(this.element,y))}),this.currentSnapshot=m}triggerCallback(m){const y="start"==m?this._onStartFns:this._onDoneFns;y.forEach(T=>T()),y.length=0}}class ca{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(xa().toString()),this._cssKeyframesDriver=new er}validateStyleProperty(m){return go(m)}matchesElement(m,y){return as(m,y)}containsElement(m,y){return Kr(m,y)}query(m,y,T){return mo(m,y,T)}computeStyle(m,y,T){return window.getComputedStyle(m)[y]}overrideWebAnimationsSupport(m){this._isNativeImpl=m}animate(m,y,T,B,K,re=[],he){if(!he&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(m,y,T,B,K,re);const wt={duration:T,delay:B,fill:0==B?"both":"forwards"};K&&(wt.easing=K);const Gt={},cn=re.filter(Kt=>Kt instanceof pl);Pu(T,B)&&cn.forEach(Kt=>{let En=Kt.currentSnapshot;Object.keys(En).forEach(On=>Gt[On]=En[On])});const kn=un(m,y=Ka(m,y=y.map(Kt=>Ft(Kt,!1)),Gt));return new pl(m,y,wt,kn)}}function xa(){return Hi()&&Element.prototype.animate||{}}let gu=(()=>{class M extends ri{constructor(y,T){super(),this._nextAnimationId=0,this._renderer=y.createRenderer(T.body,{id:"0",encapsulation:U.ifc.None,styles:[],data:{animation:[]}})}build(y){const T=this._nextAnimationId.toString();this._nextAnimationId++;const B=Array.isArray(y)?qr(y):y;return eu(this._renderer,null,T,"register",[B]),new Xa(T,this._renderer)}}return M.\u0275fac=function(y){return new(y||M)(U.LFG(U.FYo),U.LFG(D.K0))},M.\u0275prov=U.Yz7({token:M,factory:M.\u0275fac}),M})();class Xa extends class{}{constructor(m,y){super(),this._id=m,this._renderer=y}create(m,y){return new mu(this._id,m,y||{},this._renderer)}}class mu{constructor(m,y,T,B){this.id=m,this.element=y,this._renderer=B,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",T)}_listen(m,y){return this._renderer.listen(this.element,`@@${this.id}:${m}`,y)}_command(m,...y){return eu(this._renderer,this.element,this.id,m,y)}onDone(m){this._listen("done",m)}onStart(m){this._listen("start",m)}onDestroy(m){this._listen("destroy",m)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(m){this._command("setPosition",m)}getPosition(){var m,y;return null!==(y=null===(m=this._renderer.engine.players[+this.id])||void 0===m?void 0:m.getPosition())&&void 0!==y?y:0}}function eu(M,m,y,T,B){return M.setProperty(m,`@@${y}:${T}`,B)}const Nc="@.disabled";let At=(()=>{class M{constructor(y,T,B){this.delegate=y,this.engine=T,this._zone=B,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),T.onRemovalComplete=(K,re)=>{re&&re.parentNode(K)&&re.removeChild(K.parentNode,K)}}createRenderer(y,T){const K=this.delegate.createRenderer(y,T);if(!(y&&T&&T.data&&T.data.animation)){let wt=this._rendererCache.get(K);return wt||(wt=new Xs("",K,this.engine),this._rendererCache.set(K,wt)),wt}const re=T.id,he=T.id+"-"+this._currentId;this._currentId++,this.engine.register(he,y);const Oe=wt=>{Array.isArray(wt)?wt.forEach(Oe):this.engine.registerTrigger(re,he,y,wt.name,wt)};return T.data.animation.forEach(Oe),new Ls(this,he,K,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(y,T,B){y>=0&&y<this._microtaskId?this._zone.run(()=>T(B)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(K=>{const[re,he]=K;re(he)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([T,B]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return M.\u0275fac=function(y){return new(y||M)(U.LFG(U.FYo),U.LFG(Lt),U.LFG(U.R0b))},M.\u0275prov=U.Yz7({token:M,factory:M.\u0275fac}),M})();class Xs{constructor(m,y,T){this.namespaceId=m,this.delegate=y,this.engine=T,this.destroyNode=this.delegate.destroyNode?B=>y.destroyNode(B):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(m,y){return this.delegate.createElement(m,y)}createComment(m){return this.delegate.createComment(m)}createText(m){return this.delegate.createText(m)}appendChild(m,y){this.delegate.appendChild(m,y),this.engine.onInsert(this.namespaceId,y,m,!1)}insertBefore(m,y,T,B=!0){this.delegate.insertBefore(m,y,T),this.engine.onInsert(this.namespaceId,y,m,B)}removeChild(m,y,T){this.engine.onRemove(this.namespaceId,y,this.delegate,T)}selectRootElement(m,y){return this.delegate.selectRootElement(m,y)}parentNode(m){return this.delegate.parentNode(m)}nextSibling(m){return this.delegate.nextSibling(m)}setAttribute(m,y,T,B){this.delegate.setAttribute(m,y,T,B)}removeAttribute(m,y,T){this.delegate.removeAttribute(m,y,T)}addClass(m,y){this.delegate.addClass(m,y)}removeClass(m,y){this.delegate.removeClass(m,y)}setStyle(m,y,T,B){this.delegate.setStyle(m,y,T,B)}removeStyle(m,y,T){this.delegate.removeStyle(m,y,T)}setProperty(m,y,T){"@"==y.charAt(0)&&y==Nc?this.disableAnimations(m,!!T):this.delegate.setProperty(m,y,T)}setValue(m,y){this.delegate.setValue(m,y)}listen(m,y,T){return this.delegate.listen(m,y,T)}disableAnimations(m,y){this.engine.disableAnimations(m,y)}}class Ls extends Xs{constructor(m,y,T,B){super(y,T,B),this.factory=m,this.namespaceId=y}setProperty(m,y,T){"@"==y.charAt(0)?"."==y.charAt(1)&&y==Nc?this.disableAnimations(m,T=void 0===T||!!T):this.engine.process(this.namespaceId,m,y.substr(1),T):this.delegate.setProperty(m,y,T)}listen(m,y,T){if("@"==y.charAt(0)){const B=function(M){switch(M){case"body":return document.body;case"document":return document;case"window":return window;default:return M}}(m);let K=y.substr(1),re="";return"@"!=K.charAt(0)&&([K,re]=function(M){const m=M.indexOf(".");return[M.substring(0,m),M.substr(m+1)]}(K)),this.engine.listen(this.namespaceId,B,K,re,he=>{this.factory.scheduleListenerCallback(he._data||-1,T,he)})}return this.delegate.listen(m,y,T)}}let Vs=(()=>{class M extends Lt{constructor(y,T,B){super(y.body,T,B)}ngOnDestroy(){this.flush()}}return M.\u0275fac=function(y){return new(y||M)(U.LFG(D.K0),U.LFG(us),U.LFG(na))},M.\u0275prov=U.Yz7({token:M,factory:M.\u0275fac}),M})();const Us=new U.OlP("AnimationModuleType"),$u=[{provide:ri,useClass:gu},{provide:na,useFactory:function(){return new ju}},{provide:Lt,useClass:Vs},{provide:U.FYo,useFactory:function(M,m,y){return new At(M,m,y)},deps:[Tn,Lt,U.R0b]}],Gu=[{provide:us,useFactory:function(){return"function"==typeof xa()?new ca:new er}},{provide:Us,useValue:"BrowserAnimations"},...$u],zl=[{provide:us,useClass:Ws},{provide:Us,useValue:"NoopAnimations"},...$u];let Wl=(()=>{class M{static withConfig(y){return{ngModule:M,providers:y.disableAnimations?zl:Gu}}}return M.\u0275fac=function(y){return new(y||M)},M.\u0275mod=U.oAB({type:M}),M.\u0275inj=U.cJS({providers:Gu,imports:[ei]}),M})();var fi=W(8006),Zi=W(1841);let Ir=(()=>{class M{}return M.\u0275fac=function(y){return new(y||M)},M.\u0275mod=U.oAB({type:M,bootstrap:[ni]}),M.\u0275inj=U.cJS({providers:[],imports:[[ei,an,Qr.u5,jr.hO.initializeApp(Bi_firebaseConfig),fi.ww,rs.yb,Wl,Zi.JF]]}),M})();(0,U.G48)(),Rn().bootstrapModule(Ir).catch(M=>console.error(M))},4762:(Mt,Ke,W)=>{"use strict";W.d(Ke,{ZT:()=>U,pi:()=>oe,_T:()=>Ie,mG:()=>Ce,Jh:()=>fe,XA:()=>pe,CR:()=>de,ev:()=>xe});var D=function(Ae,Le){return(D=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Be,ze){Be.__proto__=ze}||function(Be,ze){for(var He in ze)Object.prototype.hasOwnProperty.call(ze,He)&&(Be[He]=ze[He])})(Ae,Le)};function U(Ae,Le){if("function"!=typeof Le&&null!==Le)throw new TypeError("Class extends value "+String(Le)+" is not a constructor or null");function Be(){this.constructor=Ae}D(Ae,Le),Ae.prototype=null===Le?Object.create(Le):(Be.prototype=Le.prototype,new Be)}var oe=function(){return(oe=Object.assign||function(Le){for(var Be,ze=1,He=arguments.length;ze<He;ze++)for(var ue in Be=arguments[ze])Object.prototype.hasOwnProperty.call(Be,ue)&&(Le[ue]=Be[ue]);return Le}).apply(this,arguments)};function Ie(Ae,Le){var Be={};for(var ze in Ae)Object.prototype.hasOwnProperty.call(Ae,ze)&&Le.indexOf(ze)<0&&(Be[ze]=Ae[ze]);if(null!=Ae&&"function"==typeof Object.getOwnPropertySymbols){var He=0;for(ze=Object.getOwnPropertySymbols(Ae);He<ze.length;He++)Le.indexOf(ze[He])<0&&Object.prototype.propertyIsEnumerable.call(Ae,ze[He])&&(Be[ze[He]]=Ae[ze[He]])}return Be}function Ce(Ae,Le,Be,ze){return new(Be||(Be=Promise))(function(ue,at){function ut(It){try{ft(ze.next(It))}catch(en){at(en)}}function St(It){try{ft(ze.throw(It))}catch(en){at(en)}}function ft(It){It.done?ue(It.value):function(ue){return ue instanceof Be?ue:new Be(function(at){at(ue)})}(It.value).then(ut,St)}ft((ze=ze.apply(Ae,Le||[])).next())})}function fe(Ae,Le){var ze,He,ue,at,Be={label:0,sent:function(){if(1&ue[0])throw ue[1];return ue[1]},trys:[],ops:[]};return at={next:ut(0),throw:ut(1),return:ut(2)},"function"==typeof Symbol&&(at[Symbol.iterator]=function(){return this}),at;function ut(ft){return function(It){return function(ft){if(ze)throw new TypeError("Generator is already executing.");for(;Be;)try{if(ze=1,He&&(ue=2&ft[0]?He.return:ft[0]?He.throw||((ue=He.return)&&ue.call(He),0):He.next)&&!(ue=ue.call(He,ft[1])).done)return ue;switch(He=0,ue&&(ft=[2&ft[0],ue.value]),ft[0]){case 0:case 1:ue=ft;break;case 4:return Be.label++,{value:ft[1],done:!1};case 5:Be.label++,He=ft[1],ft=[0];continue;case 7:ft=Be.ops.pop(),Be.trys.pop();continue;default:if(!(ue=(ue=Be.trys).length>0&&ue[ue.length-1])&&(6===ft[0]||2===ft[0])){Be=0;continue}if(3===ft[0]&&(!ue||ft[1]>ue[0]&&ft[1]<ue[3])){Be.label=ft[1];break}if(6===ft[0]&&Be.label<ue[1]){Be.label=ue[1],ue=ft;break}if(ue&&Be.label<ue[2]){Be.label=ue[2],Be.ops.push(ft);break}ue[2]&&Be.ops.pop(),Be.trys.pop();continue}ft=Le.call(Ae,Be)}catch(It){ft=[6,It],He=0}finally{ze=ue=0}if(5&ft[0])throw ft[1];return{value:ft[0]?ft[1]:void 0,done:!0}}([ft,It])}}}function pe(Ae){var Le="function"==typeof Symbol&&Symbol.iterator,Be=Le&&Ae[Le],ze=0;if(Be)return Be.call(Ae);if(Ae&&"number"==typeof Ae.length)return{next:function(){return Ae&&ze>=Ae.length&&(Ae=void 0),{value:Ae&&Ae[ze++],done:!Ae}}};throw new TypeError(Le?"Object is not iterable.":"Symbol.iterator is not defined.")}function de(Ae,Le){var Be="function"==typeof Symbol&&Ae[Symbol.iterator];if(!Be)return Ae;var He,at,ze=Be.call(Ae),ue=[];try{for(;(void 0===Le||Le-- >0)&&!(He=ze.next()).done;)ue.push(He.value)}catch(ut){at={error:ut}}finally{try{He&&!He.done&&(Be=ze.return)&&Be.call(ze)}finally{if(at)throw at.error}}return ue}function xe(Ae,Le,Be){if(Be||2===arguments.length)for(var ue,ze=0,He=Le.length;ze<He;ze++)(ue||!(ze in Le))&&(ue||(ue=Array.prototype.slice.call(Le,0,ze)),ue[ze]=Le[ze]);return Ae.concat(ue||Array.prototype.slice.call(Le))}},8239:(Mt,Ke,W)=>{"use strict";function D(oe,Ie,Re,ve,Ue,Ce,fe){try{var ne=oe[Ce](fe),ae=ne.value}catch(pe){return void Re(pe)}ne.done?Ie(ae):Promise.resolve(ae).then(ve,Ue)}function U(oe){return function(){var Ie=this,Re=arguments;return new Promise(function(ve,Ue){var Ce=oe.apply(Ie,Re);function fe(ae){D(Ce,ve,Ue,fe,ne,"next",ae)}function ne(ae){D(Ce,ve,Ue,fe,ne,"throw",ae)}fe(void 0)})}}W.d(Ke,{Z:()=>U})}},Mt=>{Mt(Mt.s=5338)}]);