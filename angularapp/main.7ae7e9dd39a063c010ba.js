(self.webpackChunkejercicio_one=self.webpackChunkejercicio_one||[]).push([[179],{8255:Oe=>{function he(x){return Promise.resolve().then(()=>{var y=new Error("Cannot find module '"+x+"'");throw y.code="MODULE_NOT_FOUND",y})}he.keys=()=>[],he.resolve=he,he.id=8255,Oe.exports=he},3018:(Oe,he,x)=>{"use strict";x.d(he,{deG:()=>Gl,tb:()=>Kb,AFp:()=>h0,ip1:()=>d0,CZH:()=>Ua,hGG:()=>KS,z2F:()=>ep,sBO:()=>Bm,Sil:()=>wd,_Vd:()=>hi,EJc:()=>Qb,SBq:()=>Hs,qLn:()=>Ee,vpe:()=>rs,gxx:()=>Di,tBr:()=>_o,XFs:()=>ye,OlP:()=>Kt,zs3:()=>xt,ZZ4:()=>bf,aQg:()=>Um,soG:()=>Ed,YKP:()=>Rn,v3s:()=>GS,h0i:()=>$u,PXZ:()=>US,R0b:()=>gi,FiY:()=>Zi,Lbi:()=>uy,g9A:()=>Zb,Qsj:()=>xA,FYo:()=>Hu,JOm:()=>Rs,Tiy:()=>$s,q3G:()=>Qt,tp0:()=>Ki,EAV:()=>ol,Rgc:()=>Sf,dDg:()=>sl,DyG:()=>Hr,q4F:()=>Lm,GfV:()=>fE,s_b:()=>pi,ifc:()=>Rt,eFA:()=>cD,G48:()=>aD,Gpc:()=>G,X6Q:()=>_t,_c5:()=>Ha,VLi:()=>oD,c2e:()=>ly,zSh:()=>Vh,wAp:()=>je,vHH:()=>_e,EiD:()=>lc,mCW:()=>ya,qzn:()=>vo,JVY:()=>ic,pB0:()=>l_,eBb:()=>eg,L6k:()=>u_,LAX:()=>gh,cg1:()=>Us,Tjo:()=>vD,kL8:()=>oI,yhl:()=>Xp,dqk:()=>N,sIi:()=>Sc,CqO:()=>Jh,QGY:()=>Nu,F4k:()=>xa,RDi:()=>ea,AaK:()=>R,z3N:()=>$r,qOj:()=>er,TTD:()=>Er,_Bn:()=>cE,xp6:()=>xw,uIk:()=>Qg,ekj:()=>tf,Suo:()=>ey,Xpm:()=>qo,lG2:()=>wp,Yz7:()=>$t,cJS:()=>Pi,oAB:()=>Fi,Yjl:()=>Sd,Y36:()=>Sa,_UZ:()=>Sv,qZA:()=>Qh,TgZ:()=>Lc,n5z:()=>Gy,Ikx:()=>Am,LFG:()=>Yt,$8M:()=>jl,NdJ:()=>xv,CRH:()=>Eb,Q6J:()=>dm,DdM:()=>On,iGM:()=>GE,LSH:()=>_i,kYT:()=>Wa,_uU:()=>Vs});var y=x(9765),K=x(5319),O=x(7574),z=x(6682),se=x(2441);var oe=x(1307);function U(){return new y.xQ}function M(a){for(let u in a)if(a[u]===M)return u;throw Error("Could not find renamed property on target object.")}function k(a,u){for(const c in u)u.hasOwnProperty(c)&&!a.hasOwnProperty(c)&&(a[c]=u[c])}function R(a){if("string"==typeof a)return a;if(Array.isArray(a))return"["+a.map(R).join(", ")+"]";if(null==a)return""+a;if(a.overriddenName)return`${a.overriddenName}`;if(a.name)return`${a.name}`;const u=a.toString();if(null==u)return""+u;const c=u.indexOf("\n");return-1===c?u:u.substring(0,c)}function B(a,u){return null==a||""===a?null===u?"":u:null==u||""===u?a:a+" "+u}const ne=M({__forward_ref__:M});function G(a){return a.__forward_ref__=G,a.toString=function(){return R(this())},a}function q(a){return pe(a)?a():a}function pe(a){return"function"==typeof a&&a.hasOwnProperty(ne)&&a.__forward_ref__===G}class _e extends Error{constructor(u,c){super(function(a,u){return`${a?`NG0${a}: `:""}${u}`}(u,c)),this.code=u}}function De(a){return"string"==typeof a?a:null==a?"":String(a)}function te(a){return"function"==typeof a?a.name||a.toString():"object"==typeof a&&null!=a&&"function"==typeof a.type?a.type.name||a.type.toString():De(a)}function W(a,u){const c=u?` in ${u}`:"";throw new _e("201",`No provider for ${te(a)} found${c}`)}function ot(a,u){null==a&&function(a,u,c,i){throw new Error(`ASSERTION ERROR: ${a}`+(null==i?"":` [Expected=> ${c} ${i} ${u} <=Actual]`))}(u,a,null,"!=")}function $t(a){return{token:a.token,providedIn:a.providedIn||null,factory:a.factory,value:void 0}}function Pi(a){return{providers:a.providers||[],imports:a.imports||[]}}function kn(a){return Xs(a,En)||Xs(a,Pr)}function Xs(a,u){return a.hasOwnProperty(u)?a[u]:null}function ki(a){return a&&(a.hasOwnProperty(Jr)||a.hasOwnProperty(tt))?a[Jr]:null}const En=M({\u0275prov:M}),Jr=M({\u0275inj:M}),Pr=M({ngInjectableDef:M}),tt=M({ngInjectorDef:M});var ye=(()=>((ye=ye||{})[ye.Default=0]="Default",ye[ye.Host=1]="Host",ye[ye.Self=2]="Self",ye[ye.SkipSelf=4]="SkipSelf",ye[ye.Optional=8]="Optional",ye))();let It;function Lt(a){const u=It;return It=a,u}function Tt(a,u,c){const i=kn(a);return i&&"root"==i.providedIn?void 0===i.value?i.value=i.factory():i.value:c&ye.Optional?null:void 0!==u?u:void W(R(a),"Injector")}function Re(a){return{toString:a}.toString()}var ur=(()=>((ur=ur||{})[ur.OnPush=0]="OnPush",ur[ur.Default=1]="Default",ur))(),Rt=(()=>((Rt=Rt||{})[Rt.Emulated=0]="Emulated",Rt[Rt.None=2]="None",Rt[Rt.ShadowDom=3]="ShadowDom",Rt))();const lr="undefined"!=typeof globalThis&&globalThis,Td="undefined"!=typeof window&&window,Vt="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,F="undefined"!=typeof global&&global,N=lr||F||Td||Vt,j={},ce=[],Ue=M({\u0275cmp:M}),mt=M({\u0275dir:M}),ht=M({\u0275pipe:M}),at=M({\u0275mod:M}),nn=M({\u0275loc:M}),Zt=M({\u0275fac:M}),wn=M({__NG_ELEMENT_ID__:M});let us=0;function qo(a){return Re(()=>{const c={},i={type:a.type,providersResolver:null,decls:a.decls,vars:a.vars,factory:null,template:a.template||null,consts:a.consts||null,ngContentSelectors:a.ngContentSelectors,hostBindings:a.hostBindings||null,hostVars:a.hostVars||0,hostAttrs:a.hostAttrs||null,contentQueries:a.contentQueries||null,declaredInputs:c,inputs:null,outputs:null,exportAs:a.exportAs||null,onPush:a.changeDetection===ur.OnPush,directiveDefs:null,pipeDefs:null,selectors:a.selectors||ce,viewQuery:a.viewQuery||null,features:a.features||null,data:a.data||{},encapsulation:a.encapsulation||Rt.Emulated,id:"c",styles:a.styles||ce,_:null,setInput:null,schemas:a.schemas||null,tView:null},r=a.directives,s=a.features,o=a.pipes;return i.id+=us++,i.inputs=zo(a.inputs,c),i.outputs=zo(a.outputs),s&&s.forEach(l=>l(i)),i.directiveDefs=r?()=>("function"==typeof r?r():r).map(Wo):null,i.pipeDefs=o?()=>("function"==typeof o?o():o).map(pl):null,i})}function Wo(a){return An(a)||function(a){return a[mt]||null}(a)}function pl(a){return function(a){return a[ht]||null}(a)}const Ad={};function Fi(a){return Re(()=>{const u={type:a.type,bootstrap:a.bootstrap||ce,declarations:a.declarations||ce,imports:a.imports||ce,exports:a.exports||ce,transitiveCompileScopes:null,schemas:a.schemas||null,id:a.id||null};return null!=a.id&&(Ad[a.id]=a.type),u})}function Wa(a,u){return Re(()=>{const c=Et(a,!0);c.declarations=u.declarations||ce,c.imports=u.imports||ce,c.exports=u.exports||ce})}function zo(a,u){if(null==a)return j;const c={};for(const i in a)if(a.hasOwnProperty(i)){let r=a[i],s=r;Array.isArray(r)&&(s=r[1],r=r[0]),c[r]=i,u&&(u[r]=s)}return c}const wp=qo;function Sd(a){return{type:a.type,name:a.name,factory:null,pure:!1!==a.pure,onDestroy:a.type.prototype.ngOnDestroy||null}}function An(a){return a[Ue]||null}function Et(a,u){const c=a[at]||null;if(!c&&!0===u)throw new Error(`Type ${R(a)} does not have '\u0275mod' property.`);return c}function ei(a){return Array.isArray(a)&&"object"==typeof a[1]}function sn(a){return Array.isArray(a)&&!0===a[1]}function Vr(a){return 0!=(8&a.flags)}function ml(a){return 2==(2&a.flags)}function Jo(a){return 1==(1&a.flags)}function ti(a){return null!==a.template}function Rd(a){return 0!=(512&a[2])}function hs(a,u){return a.hasOwnProperty(Zt)?a[Zt]:null}class _l{constructor(u,c,i){this.previousValue=u,this.currentValue=c,this.firstChange=i}isFirstChange(){return this.firstChange}}function Er(){return vl}function vl(a){return a.type.prototype.ngOnChanges&&(a.setInput=Tp),rw}function rw(){const a=wl(this),u=null==a?void 0:a.current;if(u){const c=a.previous;if(c===j)a.previous=u;else for(let i in u)c[i]=u[i];a.current=null,this.ngOnChanges(u)}}function Tp(a,u,c,i){const r=wl(a)||function(a,u){return a[El]=u}(a,{previous:j,current:null}),s=r.current||(r.current={}),o=r.previous,l=this.declaredInputs[c],d=o[l];s[l]=new _l(d&&d.currentValue,u,o===j),a[i]=u}Er.ngInherit=!0;const El="__ngSimpleChanges__";function wl(a){return a[El]||null}let so;function ea(a){so=a}function Ut(a){return!!a.listen}const Tl={createRenderer:(a,u)=>void 0!==so?so:"undefined"!=typeof document?document:void 0};function Bt(a){for(;Array.isArray(a);)a=a[0];return a}function Cr(a,u){return Bt(u[a.index])}function fs(a,u){return a.data[u]}function zn(a,u){const c=u[a];return ei(c)?c:c[0]}function eu(a){return 4==(4&a[2])}function Ld(a){return 128==(128&a[2])}function gs(a,u){return null==u?null:a[u]}function xl(a){a[18]=0}function Vd(a,u){a[5]+=u;let c=a,i=a[3];for(;null!==i&&(1===u&&1===c[5]||-1===u&&0===c[5]);)i[5]+=u,c=i,i=i[3]}const qe={lFrame:Vy(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function Ud(){return qe.bindingsEnabled}function fe(){return qe.lFrame.lView}function ut(){return qe.lFrame.tView}function cn(){let a=Rl();for(;null!==a&&64===a.type;)a=a.parent;return a}function Rl(){return qe.lFrame.currentTNode}function Ur(a,u){const c=qe.lFrame;c.currentTNode=a,c.isParent=u}function Bd(){return qe.lFrame.isParent}function ta(){return qe.isInCheckNoChangesMode}function ys(a){qe.isInCheckNoChangesMode=a}function _s(){return qe.lFrame.bindingIndex++}function ru(a,u){const c=qe.lFrame;c.bindingIndex=c.bindingRootIndex=a,vs(u)}function vs(a){qe.lFrame.currentDirectiveIndex=a}function kp(){return qe.lFrame.currentQueryIndex}function Fp(a){qe.lFrame.currentQueryIndex=a}function ky(a){const u=a[1];return 2===u.type?u.declTNode:1===u.type?a[6]:null}function Fy(a,u,c){if(c&ye.SkipSelf){let r=u,s=a;for(;!(r=r.parent,null!==r||c&ye.Host||(r=ky(s),null===r||(s=s[15],10&r.type))););if(null===r)return!1;u=r,a=s}const i=qe.lFrame=Ly();return i.currentTNode=u,i.lView=a,!0}function iu(a){const u=Ly(),c=a[1];qe.lFrame=u,u.currentTNode=c.firstChild,u.lView=a,u.tView=c,u.contextLView=a,u.bindingIndex=c.bindingStartIndex,u.inI18n=!1}function Ly(){const a=qe.lFrame,u=null===a?null:a.child;return null===u?Vy(a):u}function Vy(a){const u={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:a,child:null,inI18n:!1};return null!==a&&(a.child=u),u}function Lp(){const a=qe.lFrame;return qe.lFrame=a.parent,a.currentTNode=null,a.lView=null,a}const sw=Lp;function Vp(){const a=Lp();a.isParent=!0,a.tView=null,a.selectedIndex=-1,a.contextLView=null,a.elementDepthCount=0,a.currentDirectiveIndex=-1,a.currentNamespace=null,a.bindingRootIndex=-1,a.bindingIndex=-1,a.currentQueryIndex=0}function Sn(){return qe.lFrame.selectedIndex}function dr(a){qe.lFrame.selectedIndex=a}function jt(){const a=qe.lFrame;return fs(a.tView,a.selectedIndex)}function Ol(a,u){for(let c=u.directiveStart,i=u.directiveEnd;c<i;c++){const s=a.data[c].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:l,ngAfterViewInit:d,ngAfterViewChecked:h,ngOnDestroy:g}=s;o&&(a.contentHooks||(a.contentHooks=[])).push(-c,o),l&&((a.contentHooks||(a.contentHooks=[])).push(c,l),(a.contentCheckHooks||(a.contentCheckHooks=[])).push(c,l)),d&&(a.viewHooks||(a.viewHooks=[])).push(-c,d),h&&((a.viewHooks||(a.viewHooks=[])).push(c,h),(a.viewCheckHooks||(a.viewCheckHooks=[])).push(c,h)),null!=g&&(a.destroyHooks||(a.destroyHooks=[])).push(c,g)}}function uo(a,u,c){Bp(a,u,3,c)}function Pl(a,u,c,i){(3&a[2])===c&&Bp(a,u,c,i)}function Up(a,u){let c=a[2];(3&c)===u&&(c&=2047,c+=1,a[2]=c)}function Bp(a,u,c,i){const s=null!=i?i:-1,o=u.length-1;let l=0;for(let d=void 0!==i?65535&a[18]:0;d<o;d++)if("number"==typeof u[d+1]){if(l=u[d],null!=i&&l>=i)break}else u[d]<0&&(a[18]+=65536),(l<s||-1==s)&&(jy(a,c,u,d),a[18]=(4294901760&a[18])+d+2),d++}function jy(a,u,c,i){const r=c[i]<0,s=c[i+1],l=a[r?-c[i]:c[i]];if(r){if(a[2]>>11<a[18]>>16&&(3&a[2])===u){a[2]+=2048;try{s.call(l)}finally{}}}else try{s.call(l)}finally{}}class Es{constructor(u,c,i){this.factory=u,this.resolving=!1,this.canSeeViewProviders=c,this.injectImpl=i}}function Is(a,u,c){const i=Ut(a);let r=0;for(;r<c.length;){const s=c[r];if("number"==typeof s){if(0!==s)break;r++;const o=c[r++],l=c[r++],d=c[r++];i?a.setAttribute(u,l,d,o):u.setAttributeNS(o,l,d)}else{const o=s,l=c[++r];Fl(o)?i&&a.setProperty(u,o,l):i?a.setAttribute(u,o,l):u.setAttribute(o,l),r++}}return r}function zd(a){return 3===a||4===a||6===a}function Fl(a){return 64===a.charCodeAt(0)}function Zd(a,u){if(null!==u&&0!==u.length)if(null===a||0===a.length)a=u.slice();else{let c=-1;for(let i=0;i<u.length;i++){const r=u[i];"number"==typeof r?c=r:0===c||Hy(a,c,r,null,-1===c||2===c?u[++i]:null)}}return a}function Hy(a,u,c,i,r){let s=0,o=a.length;if(-1===u)o=-1;else for(;s<a.length;){const l=a[s++];if("number"==typeof l){if(l===u){o=-1;break}if(l>u){o=s-1;break}}}for(;s<a.length;){const l=a[s];if("number"==typeof l)break;if(l===c){if(null===i)return void(null!==r&&(a[s+1]=r));if(i===a[s+1])return void(a[s+2]=r)}s++,null!==i&&s++,null!==r&&s++}-1!==o&&(a.splice(o,0,u),s=o+1),a.splice(s++,0,c),null!==i&&a.splice(s++,0,i),null!==r&&a.splice(s++,0,r)}function Kd(a){return-1!==a}function ou(a){return 32767&a}function na(a,u){let c=function(a){return a>>16}(a),i=u;for(;c>0;)i=i[15],c--;return i}let ra=!0;function ia(a){const u=ra;return ra=a,u}let Ir=0;function Ke(a,u){const c=Jd(a,u);if(-1!==c)return c;const i=u[1];i.firstCreatePass&&(a.injectorIndex=u.length,Vl(i.data,a),Vl(u,null),Vl(i.blueprint,null));const r=co(a,u),s=a.injectorIndex;if(Kd(r)){const o=ou(r),l=na(r,u),d=l[1].data;for(let h=0;h<8;h++)u[s+h]=l[o+h]|d[o+h]}return u[s+8]=r,s}function Vl(a,u){a.push(0,0,0,0,0,0,0,0,u)}function Jd(a,u){return-1===a.injectorIndex||a.parent&&a.parent.injectorIndex===a.injectorIndex||null===u[a.injectorIndex+8]?-1:a.injectorIndex}function co(a,u){if(a.parent&&-1!==a.parent.injectorIndex)return a.parent.injectorIndex;let c=0,i=null,r=u;for(;null!==r;){const s=r[1],o=s.type;if(i=2===o?s.declTNode:1===o?r[6]:null,null===i)return-1;if(c++,r=r[15],-1!==i.injectorIndex)return i.injectorIndex|c<<16}return-1}function Ul(a,u,c){!function(a,u,c){let i;"string"==typeof c?i=c.charCodeAt(0)||0:c.hasOwnProperty(wn)&&(i=c[wn]),null==i&&(i=c[wn]=Ir++);const r=255&i;u.data[a+(r>>5)]|=1<<r}(a,u,c)}function ri(a,u,c){if(c&ye.Optional)return a;W(u,"NodeInjector")}function Hp(a,u,c,i){if(c&ye.Optional&&void 0===i&&(i=null),0==(c&(ye.Self|ye.Host))){const r=a[9],s=Lt(void 0);try{return r?r.get(u,i,c&ye.Optional):Tt(u,i,c&ye.Optional)}finally{Lt(s)}}return ri(i,u,c)}function Xd(a,u,c,i=ye.Default,r){if(null!==a){const s=function(a){if("string"==typeof a)return a.charCodeAt(0)||0;const u=a.hasOwnProperty(wn)?a[wn]:void 0;return"number"==typeof u?u>=0?255&u:$y:u}(c);if("function"==typeof s){if(!Fy(u,a,i))return i&ye.Host?ri(r,c,i):Hp(u,c,i,r);try{const o=s(i);if(null!=o||i&ye.Optional)return o;W(c)}finally{sw()}}else if("number"==typeof s){let o=null,l=Jd(a,u),d=-1,h=i&ye.Host?u[16][6]:null;for((-1===l||i&ye.SkipSelf)&&(d=-1===l?co(a,u):u[l+8],-1!==d&&ji(i,!1)?(o=u[1],l=ou(d),u=na(d,u)):l=-1);-1!==l;){const g=u[1];if(dn(s,l,g.data)){const _=$p(l,u,c,o,i,h);if(_!==Bl)return _}d=u[l+8],-1!==d&&ji(i,u[1].data[l+8]===h)&&dn(s,l,u)?(o=g,l=ou(d),u=na(d,u)):l=-1}}}return Hp(u,c,i,r)}const Bl={};function $y(){return new sa(cn(),fe())}function $p(a,u,c,i,r,s){const o=u[1],l=o.data[a+8],g=Bi(l,o,c,null==i?ml(l)&&ra:i!=o&&0!=(3&l.type),r&ye.Host&&s===l);return null!==g?jr(u,o,g,l):Bl}function Bi(a,u,c,i,r){const s=a.providerIndexes,o=u.data,l=1048575&s,d=a.directiveStart,g=s>>20,w=r?l+g:a.directiveEnd;for(let C=i?l:l+g;C<w;C++){const I=o[C];if(C<d&&c===I||C>=d&&I.type===c)return C}if(r){const C=o[d];if(C&&ti(C)&&C.type===c)return d}return null}function jr(a,u,c,i){let r=a[c];const s=u.data;if(function(a){return a instanceof Es}(r)){const o=r;o.resolving&&function(a,u){throw new _e("200",`Circular dependency in DI detected for ${a}`)}(te(s[c]));const l=ia(o.canSeeViewProviders);o.resolving=!0;const d=o.injectImpl?Lt(o.injectImpl):null;Fy(a,i,ye.Default);try{r=a[c]=o.factory(void 0,s,a,i),u.firstCreatePass&&c>=i.directiveStart&&function(a,u,c){const{ngOnChanges:i,ngOnInit:r,ngDoCheck:s}=u.type.prototype;if(i){const o=vl(u);(c.preOrderHooks||(c.preOrderHooks=[])).push(a,o),(c.preOrderCheckHooks||(c.preOrderCheckHooks=[])).push(a,o)}r&&(c.preOrderHooks||(c.preOrderHooks=[])).push(0-a,r),s&&((c.preOrderHooks||(c.preOrderHooks=[])).push(a,s),(c.preOrderCheckHooks||(c.preOrderCheckHooks=[])).push(a,s))}(c,s[c],u)}finally{null!==d&&Lt(d),ia(l),o.resolving=!1,sw()}}return r}function dn(a,u,c){return!!(c[u+(a>>5)]&1<<a)}function ji(a,u){return!(a&ye.Self||a&ye.Host&&u)}class sa{constructor(u,c){this._tNode=u,this._lView=c}get(u,c){return Xd(this._tNode,this._lView,u,void 0,c)}}function Gy(a){return Re(()=>{const u=a.prototype.constructor,c=u[Zt]||oa(u),i=Object.prototype;let r=Object.getPrototypeOf(a.prototype).constructor;for(;r&&r!==i;){const s=r[Zt]||oa(r);if(s&&s!==c)return s;r=Object.getPrototypeOf(r)}return s=>new s})}function oa(a){return pe(a)?()=>{const u=oa(q(a));return u&&u()}:hs(a)}function jl(a){return function(a,u){if("class"===u)return a.classes;if("style"===u)return a.styles;const c=a.attrs;if(c){const i=c.length;let r=0;for(;r<i;){const s=c[r];if(zd(s))break;if(0===s)r+=2;else if("number"==typeof s)for(r++;r<i&&"string"==typeof c[r];)r++;else{if(s===u)return c[r+1];r+=2}}}return null}(cn(),a)}const fo="__parameters__";function bs(a,u,c){return Re(()=>{const i=function(a){return function(...c){if(a){const i=a(...c);for(const r in i)this[r]=i[r]}}}(u);function r(...s){if(this instanceof r)return i.apply(this,s),this;const o=new r(...s);return l.annotation=o,l;function l(d,h,g){const _=d.hasOwnProperty(fo)?d[fo]:Object.defineProperty(d,fo,{value:[]})[fo];for(;_.length<=g;)_.push(null);return(_[g]=_[g]||[]).push(o),d}}return c&&(r.prototype=Object.create(c.prototype)),r.prototype.ngMetadataName=a,r.annotationCls=r,r})}class Kt{constructor(u,c){this._desc=u,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof c?this.__NG_ELEMENT_ID__=c:void 0!==c&&(this.\u0275prov=$t({token:this,providedIn:c.providedIn||"root",factory:c.factory}))}toString(){return`InjectionToken ${this._desc}`}}const Gl=new Kt("AnalyzeForEntryComponents"),Hr=Function;function hr(a,u){void 0===u&&(u=a);for(let c=0;c<a.length;c++){let i=a[c];Array.isArray(i)?(u===a&&(u=a.slice(0,c)),hr(i,u)):u!==a&&u.push(i)}return u}function br(a,u){a.forEach(c=>Array.isArray(c)?br(c,u):u(c))}function Zn(a,u,c){u>=a.length?a.push(c):a.splice(u,0,c)}function Hi(a,u){return u>=a.length-1?a.pop():a.splice(u,1)[0]}function Kn(a,u,c){let i=$i(a,u);return i>=0?a[1|i]=c:(i=~i,function(a,u,c,i){let r=a.length;if(r==u)a.push(c,i);else if(1===r)a.push(i,a[0]),a[0]=c;else{for(r--,a.push(a[r-1],a[r]);r>u;)a[r]=a[r-2],r--;a[u]=c,a[u+1]=i}}(a,i,u,c)),i}function nh(a,u){const c=$i(a,u);if(c>=0)return a[1|c]}function $i(a,u){return function(a,u,c){let i=0,r=a.length>>c;for(;r!==i;){const s=i+(r-i>>1),o=a[s<<c];if(u===o)return s<<c;o>u?r=s:i=s+1}return~(r<<c)}(a,u,1)}const ii={},qi="__NG_DI_FLAG__",Tr="ngTempTokenPath",oh=/\n/gm,hu="__source",fu=M({provide:String,useValue:M});let yo;function Wi(a){const u=yo;return yo=a,u}function fa(a,u=ye.Default){if(void 0===yo)throw new Error("inject() must be called from an injection context");return null===yo?Tt(a,void 0,u):yo.get(a,u&ye.Optional?null:void 0,u)}function Yt(a,u=ye.Default){return(It||fa)(q(a),u)}function Ts(a){const u=[];for(let c=0;c<a.length;c++){const i=q(a[c]);if(Array.isArray(i)){if(0===i.length)throw new Error("Arguments array must have arguments.");let r,s=ye.Default;for(let o=0;o<i.length;o++){const l=i[o],d=Yl(l);"number"==typeof d?-1===d?r=l.token:s|=d:r=l}u.push(Yt(r,s))}else u.push(Yt(i))}return u}function zi(a,u){return a[qi]=u,a.prototype[qi]=u,a}function Yl(a){return a[qi]}function Ql(a,u,c,i){const r=a[Tr];throw u[hu]&&r.unshift(u[hu]),a.message=function(a,u,c,i=null){a=a&&"\n"===a.charAt(0)&&"\u0275"==a.charAt(1)?a.substr(2):a;let r=R(u);if(Array.isArray(u))r=u.map(R).join(" -> ");else if("object"==typeof u){let s=[];for(let o in u)if(u.hasOwnProperty(o)){let l=u[o];s.push(o+":"+("string"==typeof l?JSON.stringify(l):R(l)))}r=`{${s.join(", ")}}`}return`${c}${i?"("+i+")":""}[${r}]: ${a.replace(oh,"\n  ")}`}("\n"+a.message,r,c,i),a.ngTokenPath=r,a[Tr]=null,a}const _o=zi(bs("Inject",a=>({token:a})),-1),Zi=zi(bs("Optional"),8),Ki=zi(bs("SkipSelf"),4);let As;function Yi(a){var u;return(null===(u=function(){if(void 0===As&&(As=null,N.trustedTypes))try{As=N.trustedTypes.createPolicy("angular",{createHTML:a=>a,createScript:a=>a,createScriptURL:a=>a})}catch(a){}return As}())||void 0===u?void 0:u.createHTML(a))||a}class ma{constructor(u){this.changingThisBreaksApplicationSecurity=u}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class Ss extends ma{getTypeName(){return"HTML"}}class o_ extends ma{getTypeName(){return"Style"}}class dw extends ma{getTypeName(){return"Script"}}class mu extends ma{getTypeName(){return"URL"}}class a_ extends ma{getTypeName(){return"ResourceURL"}}function $r(a){return a instanceof ma?a.changingThisBreaksApplicationSecurity:a}function vo(a,u){const c=Xp(a);if(null!=c&&c!==u){if("ResourceURL"===c&&"URL"===u)return!0;throw new Error(`Required a safe ${u}, got a ${c} (see https://g.co/ng/security#xss)`)}return c===u}function Xp(a){return a instanceof ma&&a.getTypeName()||null}function ic(a){return new Ss(a)}function u_(a){return new o_(a)}function eg(a){return new dw(a)}function gh(a){return new mu(a)}function l_(a){return new a_(a)}class tg{constructor(u){this.inertDocumentHelper=u}getInertBodyElement(u){u="<body><remove></remove>"+u;try{const c=(new window.DOMParser).parseFromString(Yi(u),"text/html").body;return null===c?this.inertDocumentHelper.getInertBodyElement(u):(c.removeChild(c.firstChild),c)}catch(c){return null}}}class c_{constructor(u){if(this.defaultDoc=u,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const c=this.inertDocument.createElement("html");this.inertDocument.appendChild(c);const i=this.inertDocument.createElement("body");c.appendChild(i)}}getInertBodyElement(u){const c=this.inertDocument.createElement("template");if("content"in c)return c.innerHTML=Yi(u),c;const i=this.inertDocument.createElement("body");return i.innerHTML=Yi(u),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(i),i}stripCustomNsAttrs(u){const c=u.attributes;for(let r=c.length-1;0<r;r--){const o=c.item(r).name;("xmlns:ns1"===o||0===o.indexOf("ns1:"))&&u.removeAttribute(o)}let i=u.firstChild;for(;i;)i.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(i),i=i.nextSibling}}const rg=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,d_=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function ya(a){return(a=String(a)).match(rg)||a.match(d_)?a:"unsafe:"+a}function Ar(a){const u={};for(const c of a.split(","))u[c]=!0;return u}function oc(...a){const u={};for(const c of a)for(const i in c)c.hasOwnProperty(i)&&(u[i]=!0);return u}const h_=Ar("area,br,col,hr,img,wbr"),ac=Ar("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),yh=Ar("rp,rt"),ig=oc(h_,oc(ac,Ar("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),oc(yh,Ar("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),oc(yh,ac)),sg=Ar("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),$e=Ar("srcset"),Gr=oc(sg,$e,Ar("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Ar("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),_h=Ar("script,style,template");class si{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(u){let c=u.firstChild,i=!0;for(;c;)if(c.nodeType===Node.ELEMENT_NODE?i=this.startElement(c):c.nodeType===Node.TEXT_NODE?this.chars(c.nodeValue):this.sanitizedSomething=!0,i&&c.firstChild)c=c.firstChild;else for(;c;){c.nodeType===Node.ELEMENT_NODE&&this.endElement(c);let r=this.checkClobberedElement(c,c.nextSibling);if(r){c=r;break}c=this.checkClobberedElement(c,c.parentNode)}return this.buf.join("")}startElement(u){const c=u.nodeName.toLowerCase();if(!ig.hasOwnProperty(c))return this.sanitizedSomething=!0,!_h.hasOwnProperty(c);this.buf.push("<"),this.buf.push(c);const i=u.attributes;for(let r=0;r<i.length;r++){const s=i.item(r),o=s.name,l=o.toLowerCase();if(!Gr.hasOwnProperty(l)){this.sanitizedSomething=!0;continue}let d=s.value;sg[l]&&(d=ya(d)),$e[l]&&(a=d,d=(a=String(a)).split(",").map(u=>ya(u.trim())).join(", ")),this.buf.push(" ",o,'="',og(d),'"')}var a;return this.buf.push(">"),!0}endElement(u){const c=u.nodeName.toLowerCase();ig.hasOwnProperty(c)&&!h_.hasOwnProperty(c)&&(this.buf.push("</"),this.buf.push(c),this.buf.push(">"))}chars(u){this.buf.push(og(u))}checkClobberedElement(u,c){if(c&&(u.compareDocumentPosition(c)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${u.outerHTML}`);return c}}const f_=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,p_=/([^\#-~ |!])/g;function og(a){return a.replace(/&/g,"&amp;").replace(f_,function(u){return"&#"+(1024*(u.charCodeAt(0)-55296)+(u.charCodeAt(1)-56320)+65536)+";"}).replace(p_,function(u){return"&#"+u.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let _u;function lc(a,u){let c=null;try{_u=_u||function(a){const u=new c_(a);return function(){try{return!!(new window.DOMParser).parseFromString(Yi(""),"text/html")}catch(a){return!1}}()?new tg(u):u}(a);let i=u?String(u):"";c=_u.getInertBodyElement(i);let r=5,s=i;do{if(0===r)throw new Error("Failed to sanitize html because the input is unstable");r--,i=s,s=c.innerHTML,c=_u.getInertBodyElement(i)}while(i!==s);return Yi((new si).sanitizeChildren(_a(c)||c))}finally{if(c){const i=_a(c)||c;for(;i.firstChild;)i.removeChild(i.firstChild)}}}function _a(a){return"content"in a&&function(a){return a.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===a.nodeName}(a)?a.content:null}var Qt=(()=>((Qt=Qt||{})[Qt.NONE=0]="NONE",Qt[Qt.HTML=1]="HTML",Qt[Qt.STYLE=2]="STYLE",Qt[Qt.SCRIPT=3]="SCRIPT",Qt[Qt.URL=4]="URL",Qt[Qt.RESOURCE_URL=5]="RESOURCE_URL",Qt))();function _i(a){const u=function(){const a=fe();return a&&a[12]}();return u?u.sanitize(Qt.URL,a)||"":vo(a,"URL")?$r(a):ya(De(a))}const wu="__ngContext__";function bt(a,u){a[wu]=u}function xs(a){const u=function(a){return a[wu]||null}(a);return u?Array.isArray(u)?u:u.lView:null}function T(a){return a.ngOriginalError}function ie(a,...u){a.error(...u)}class Ee{constructor(){this._console=console}handleError(u){const c=this._findOriginalError(u),i=this._findContext(u),r=(a=u)&&a.ngErrorLogger||ie;var a;r(this._console,"ERROR",u),c&&r(this._console,"ORIGINAL ERROR",c),i&&r(this._console,"ERROR CONTEXT",i)}_findContext(u){return u?u.ngDebugContext||this._findContext(T(u)):null}_findOriginalError(u){let c=u&&T(u);for(;c&&T(c);)c=T(c);return c||null}}const bo=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(N))();function Ci(a){return a instanceof Function?a():a}var Rs=(()=>((Rs=Rs||{})[Rs.Important=1]="Important",Rs[Rs.DashCase=2]="DashCase",Rs))();function C_(a,u){return undefined(a,u)}function rt(a){const u=a[3];return sn(u)?u[3]:u}function gg(a){return gw(a[13])}function Ih(a){return gw(a[4])}function gw(a){for(;null!==a&&!sn(a);)a=a[4];return a}function hc(a,u,c,i,r){if(null!=i){let s,o=!1;sn(i)?s=i:ei(i)&&(o=!0,i=i[0]);const l=Bt(i);0===a&&null!==c?null==r?fc(u,c,l):it(u,c,l,r||null,!0):1===a&&null!==c?it(u,c,l,r||null,!0):2===a?function(a,u,c){const i=yg(a,u);i&&function(a,u,c,i){Ut(a)?a.removeChild(u,c,i):u.removeChild(c)}(a,i,u,c)}(u,l,o):3===a&&u.destroyNode(l),null!=s&&function(a,u,c,i,r){const s=c[7];s!==Bt(c)&&hc(u,a,i,s,r);for(let l=10;l<c.length;l++){const d=c[l];Th(d[1],d,a,u,i,s)}}(u,a,s,c,r)}}function mg(a,u,c){return Ut(a)?a.createElement(u,c):null===c?a.createElement(u):a.createElementNS(c,u)}function D_(a,u){const c=a[9],i=c.indexOf(u),r=u[3];1024&u[2]&&(u[2]&=-1025,Vd(r,-1)),c.splice(i,1)}function T_(a,u){if(a.length<=10)return;const c=10+u,i=a[c];if(i){const r=i[17];null!==r&&r!==a&&D_(r,i),u>0&&(a[c-1][4]=i[4]);const s=Hi(a,10+u);!function(a,u){Th(a,u,u[11],2,null,null),u[0]=null,u[6]=null}(i[1],i);const o=s[19];null!==o&&o.detachView(s[1]),i[3]=null,i[4]=null,i[2]&=-129}return i}function A_(a,u){if(!(256&u[2])){const c=u[11];Ut(c)&&c.destroyNode&&Th(a,u,c,3,null,null),function(a){let u=a[13];if(!u)return S_(a[1],a);for(;u;){let c=null;if(ei(u))c=u[13];else{const i=u[10];i&&(c=i)}if(!c){for(;u&&!u[4]&&u!==a;)ei(u)&&S_(u[1],u),u=u[3];null===u&&(u=a),ei(u)&&S_(u[1],u),c=u&&u[4]}u=c}}(u)}}function S_(a,u){if(!(256&u[2])){u[2]&=-129,u[2]|=256,function(a,u){let c;if(null!=a&&null!=(c=a.destroyHooks))for(let i=0;i<c.length;i+=2){const r=u[c[i]];if(!(r instanceof Es)){const s=c[i+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){const l=r[s[o]],d=s[o+1];try{d.call(l)}finally{}}else try{s.call(r)}finally{}}}}(a,u),function(a,u){const c=a.cleanup,i=u[7];let r=-1;if(null!==c)for(let s=0;s<c.length-1;s+=2)if("string"==typeof c[s]){const o=c[s+1],l="function"==typeof o?o(u):Bt(u[o]),d=i[r=c[s+2]],h=c[s+3];"boolean"==typeof h?l.removeEventListener(c[s],d,h):h>=0?i[r=h]():i[r=-h].unsubscribe(),s+=2}else{const o=i[r=c[s+1]];c[s].call(o)}if(null!==i){for(let s=r+1;s<i.length;s++)i[s]();u[7]=null}}(a,u),1===u[1].type&&Ut(u[11])&&u[11].destroy();const c=u[17];if(null!==c&&sn(u[3])){c!==u[3]&&D_(c,u);const i=u[19];null!==i&&i.detachView(a)}}}function bh(a,u,c){return function(a,u,c){let i=u;for(;null!==i&&40&i.type;)i=(u=i).parent;if(null===i)return c[0];if(2&i.flags){const r=a.data[i.directiveStart].encapsulation;if(r===Rt.None||r===Rt.Emulated)return null}return Cr(i,c)}(a,u.parent,c)}function it(a,u,c,i,r){Ut(a)?a.insertBefore(u,c,i,r):u.insertBefore(c,i,r)}function fc(a,u,c){Ut(a)?a.appendChild(u,c):u.appendChild(c)}function Ew(a,u,c,i,r){null!==i?it(a,u,c,i,r):fc(a,u,c)}function yg(a,u){return Ut(a)?a.parentNode(u):u.parentNode}let Dh=function(a,u,c){return 40&a.type?Cr(a,c):null};function Du(a,u,c,i){const r=bh(a,i,u),s=u[11],l=function(a,u,c){return Dh(a,u,c)}(i.parent||u[6],i,u);if(null!=r)if(Array.isArray(c))for(let d=0;d<c.length;d++)Ew(s,r,c[d],l,!1);else Ew(s,r,c,l,!1)}function _g(a,u){if(null!==u){const c=u.type;if(3&c)return Cr(u,a);if(4&c)return pc(-1,a[u.index]);if(8&c){const i=u.child;if(null!==i)return _g(a,i);{const r=a[u.index];return sn(r)?pc(-1,r):Bt(r)}}if(32&c)return C_(u,a)()||Bt(a[u.index]);{const i=vg(a,u);return null!==i?Array.isArray(i)?i[0]:_g(rt(a[16]),i):_g(a,u.next)}}return null}function vg(a,u){return null!==u?a[16][6].projection[u.projection]:null}function pc(a,u){const c=10+a+1;if(c<u.length){const i=u[c],r=i[1].firstChild;if(null!==r)return _g(i,r)}return u[7]}function Eg(a,u,c,i,r,s,o){for(;null!=c;){const l=i[c.index],d=c.type;if(o&&0===u&&(l&&bt(Bt(l),i),c.flags|=4),64!=(64&c.flags))if(8&d)Eg(a,u,c.child,i,r,s,!1),hc(u,a,r,l,s);else if(32&d){const h=C_(c,i);let g;for(;g=h();)hc(u,a,r,g,s);hc(u,a,r,l,s)}else 16&d?Cw(a,u,i,c,r,s):hc(u,a,r,l,s);c=o?c.projectionNext:c.next}}function Th(a,u,c,i,r,s){Eg(c,i,a.firstChild,u,r,s,!1)}function Cw(a,u,c,i,r,s){const o=c[16],d=o[6].projection[i.projection];if(Array.isArray(d))for(let h=0;h<d.length;h++)hc(u,a,r,d[h],s);else Eg(a,u,d,o[3],r,s,!0)}function Iw(a,u,c){Ut(a)?a.setAttribute(u,"style",c):u.style.cssText=c}function O_(a,u,c){Ut(a)?""===c?a.removeAttribute(u,"class"):a.setAttribute(u,"class",c):u.className=c}function bw(a,u,c){let i=a.length;for(;;){const r=a.indexOf(u,c);if(-1===r)return r;if(0===r||a.charCodeAt(r-1)<=32){const s=u.length;if(r+s===i||a.charCodeAt(r+s)<=32)return r}c=r+1}}const P_="ng-template";function k_(a,u,c){let i=0;for(;i<a.length;){let r=a[i++];if(c&&"class"===r){if(r=a[i],-1!==bw(r.toLowerCase(),u,0))return!0}else if(1===r){for(;i<a.length&&"string"==typeof(r=a[i++]);)if(r.toLowerCase()===u)return!0;return!1}}return!1}function Cg(a){return 4===a.type&&a.value!==P_}function Do(a,u,c){return u===(4!==a.type||c?a.value:P_)}function Ah(a,u,c){let i=4;const r=a.attrs||[],s=function(a){for(let u=0;u<a.length;u++)if(zd(a[u]))return u;return a.length}(r);let o=!1;for(let l=0;l<u.length;l++){const d=u[l];if("number"!=typeof d){if(!o)if(4&i){if(i=2|1&i,""!==d&&!Do(a,d,c)||""===d&&1===u.length){if(bi(i))return!1;o=!0}}else{const h=8&i?d:u[++l];if(8&i&&null!==a.attrs){if(!k_(a.attrs,h,c)){if(bi(i))return!1;o=!0}continue}const _=Dw(8&i?"class":d,r,Cg(a),c);if(-1===_){if(bi(i))return!1;o=!0;continue}if(""!==h){let w;w=_>s?"":r[_+1].toLowerCase();const C=8&i?w:null;if(C&&-1!==bw(C,h,0)||2&i&&h!==w){if(bi(i))return!1;o=!0}}}}else{if(!o&&!bi(i)&&!bi(d))return!1;if(o&&bi(d))continue;o=!1,i=d|1&i}}return bi(i)||o}function bi(a){return 0==(1&a)}function Dw(a,u,c,i){if(null===u)return-1;let r=0;if(i||!c){let s=!1;for(;r<u.length;){const o=u[r];if(o===a)return r;if(3===o||6===o)s=!0;else{if(1===o||2===o){let l=u[++r];for(;"string"==typeof l;)l=u[++r];continue}if(4===o)break;if(0===o){r+=4;continue}}r+=s?1:2}return-1}return function(a,u){let c=a.indexOf(4);if(c>-1)for(c++;c<a.length;){const i=a[c];if("number"==typeof i)return-1;if(i===u)return c;c++}return-1}(u,a)}function Tw(a,u,c=!1){for(let i=0;i<u.length;i++)if(Ah(a,u[i],c))return!0;return!1}function F_(a,u){return a?":not("+u.trim()+")":u}function L_(a){let u=a[0],c=1,i=2,r="",s=!1;for(;c<a.length;){let o=a[c];if("string"==typeof o)if(2&i){const l=a[++c];r+="["+o+(l.length>0?'="'+l+'"':"")+"]"}else 8&i?r+="."+o:4&i&&(r+=" "+o);else""!==r&&!bi(o)&&(u+=F_(s,r),r=""),i=o,s=s||!bi(i);c++}return""!==r&&(u+=F_(s,r)),u}const Ye={};function xw(a){Sh(ut(),fe(),Sn()+a,ta())}function Sh(a,u,c,i){if(!i)if(3==(3&u[2])){const s=a.preOrderCheckHooks;null!==s&&uo(u,s,c)}else{const s=a.preOrderHooks;null!==s&&Pl(u,s,0,c)}dr(c)}function xh(a,u){return a<<17|u<<2}function Qi(a){return a>>17&32767}function mc(a){return 2|a}function oi(a){return(131068&a)>>2}function Nh(a,u){return-131069&a|u<<2}function bg(a){return 1|a}function q_(a,u){const c=a.contentQueries;if(null!==c)for(let i=0;i<c.length;i+=2){const r=c[i],s=c[i+1];if(-1!==s){const o=a.data[s];Fp(r),o.contentQueries(2,u[s],s)}}}function Da(a,u,c,i,r,s,o,l,d,h){const g=u.blueprint.slice();return g[0]=r,g[2]=140|i,xl(g),g[3]=g[15]=a,g[8]=c,g[10]=o||a&&a[10],g[11]=l||a&&a[11],g[12]=d||a&&a[12]||null,g[9]=h||a&&a[9]||null,g[6]=s,g[16]=2==u.type?a[16]:g,g}function Au(a,u,c,i,r){let s=a.data[u];if(null===s)s=function(a,u,c,i,r){const s=Rl(),o=Bd(),d=a.data[u]=function(a,u,c,i,r,s){return{type:c,index:i,insertBeforeIndex:null,injectorIndex:u?u.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:r,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:u,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,c,u,i,r);return null===a.firstChild&&(a.firstChild=d),null!==s&&(o?null==s.child&&null!==d.parent&&(s.child=d):null===s.next&&(s.next=d)),d}(a,u,c,i,r),qe.lFrame.inI18n&&(s.flags|=64);else if(64&s.type){s.type=c,s.value=i,s.attrs=r;const o=function(){const a=qe.lFrame,u=a.currentTNode;return a.isParent?u:u.parent}();s.injectorIndex=null===o?-1:o.injectorIndex}return Ur(s,!0),s}function wc(a,u,c,i){if(0===c)return-1;const r=u.length;for(let s=0;s<c;s++)u.push(i),a.blueprint.push(i),a.data.push(null);return r}function Ph(a,u,c){iu(u);try{const i=a.viewQuery;null!==i&&Fh(1,i,c);const r=a.template;null!==r&&Rg(a,u,r,1,c),a.firstCreatePass&&(a.firstCreatePass=!1),a.staticContentQueries&&q_(a,u),a.staticViewQueries&&Fh(2,a.viewQuery,c);const s=a.components;null!==s&&function(a,u){for(let c=0;c<u.length;c++)bT(a,u[c])}(u,s)}catch(i){throw a.firstCreatePass&&(a.incompleteFirstPass=!0,a.firstCreatePass=!1),i}finally{u[2]&=-5,Vp()}}function Cc(a,u,c,i){const r=u[2];if(256==(256&r))return;iu(u);const s=ta();try{xl(u),function(a){qe.lFrame.bindingIndex=a}(a.bindingStartIndex),null!==c&&Rg(a,u,c,2,i);const o=3==(3&r);if(!s)if(o){const h=a.preOrderCheckHooks;null!==h&&uo(u,h,null)}else{const h=a.preOrderHooks;null!==h&&Pl(u,h,0,null),Up(u,0)}if(function(a){for(let u=gg(a);null!==u;u=Ih(u)){if(!u[2])continue;const c=u[9];for(let i=0;i<c.length;i++){const r=c[i],s=r[3];0==(1024&r[2])&&Vd(s,1),r[2]|=1024}}}(u),function(a){for(let u=gg(a);null!==u;u=Ih(u))for(let c=10;c<u.length;c++){const i=u[c],r=i[1];Ld(i)&&Cc(r,i,r.template,i[8])}}(u),null!==a.contentQueries&&q_(a,u),!s)if(o){const h=a.contentCheckHooks;null!==h&&uo(u,h)}else{const h=a.contentHooks;null!==h&&Pl(u,h,1),Up(u,1)}!function(a,u){const c=a.hostBindingOpCodes;if(null!==c)try{for(let i=0;i<c.length;i++){const r=c[i];if(r<0)dr(~r);else{const s=r,o=c[++i],l=c[++i];ru(o,s),l(2,u[s])}}}finally{dr(-1)}}(a,u);const l=a.components;null!==l&&function(a,u){for(let c=0;c<u.length;c++)IT(a,u[c])}(u,l);const d=a.viewQuery;if(null!==d&&Fh(2,d,i),!s)if(o){const h=a.viewCheckHooks;null!==h&&uo(u,h)}else{const h=a.viewHooks;null!==h&&Pl(u,h,2),Up(u,2)}!0===a.firstUpdatePass&&(a.firstUpdatePass=!1),s||(u[2]&=-73),1024&u[2]&&(u[2]&=-1025,Vd(u[3],-1))}finally{Vp()}}function dT(a,u,c,i){const r=u[10],s=!ta(),o=eu(u);try{s&&!o&&r.begin&&r.begin(),o&&Ph(a,u,i),Cc(a,u,c,i)}finally{s&&!o&&r.end&&r.end()}}function Rg(a,u,c,i,r){const s=Sn(),o=2&i;try{dr(-1),o&&u.length>20&&Sh(a,u,20,ta()),c(i,r)}finally{dr(s)}}function Vw(a){const u=a.tView;return null===u||u.incompleteFirstPass?a.tView=Og(1,null,a.template,a.decls,a.vars,a.directiveDefs,a.pipeDefs,a.viewQuery,a.schemas,a.consts):u}function Og(a,u,c,i,r,s,o,l,d,h){const g=20+i,_=g+r,w=function(a,u){const c=[];for(let i=0;i<u;i++)c.push(i<a?null:Ye);return c}(g,_),C="function"==typeof h?h():h;return w[1]={type:a,blueprint:w,template:c,queries:null,viewQuery:l,declTNode:u,data:w.slice().fill(null,g),bindingStartIndex:g,expandoStartIndex:_,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:d,consts:C,incompleteFirstPass:!1}}function jw(a,u,c,i){const r=eC(u);null===c?r.push(i):(r.push(c),a.firstCreatePass&&tC(a).push(i,r.length-1))}function Hw(a,u,c){for(let i in a)if(a.hasOwnProperty(i)){const r=a[i];(c=null===c?{}:c).hasOwnProperty(i)?c[i].push(u,r):c[i]=[u,r]}return c}function ui(a,u,c,i,r,s,o,l){const d=Cr(u,c);let g,h=u.inputs;!l&&null!=h&&(g=h[i])?(tv(a,c,g,i,r),ml(u)&&function(a,u){const c=zn(u,a);16&c[2]||(c[2]|=64)}(c,u.index)):3&u.type&&(i=function(a){return"class"===a?"className":"for"===a?"htmlFor":"formaction"===a?"formAction":"innerHtml"===a?"innerHTML":"readonly"===a?"readOnly":"tabindex"===a?"tabIndex":a}(i),r=null!=o?o(r,u.value||"",i):r,Ut(s)?s.setProperty(d,i,r):Fl(i)||(d.setProperty?d.setProperty(i,r):d[i]=r))}function Gw(a,u,c,i,r,s){const o=s.hostBindings;if(o){let l=a.hostBindingOpCodes;null===l&&(l=a.hostBindingOpCodes=[]);const d=~u.index;(function(a){let u=a.length;for(;u>0;){const c=a[--u];if("number"==typeof c&&c<0)return c}return 0})(l)!=d&&l.push(d),l.push(i,r,o)}}function ET(a,u){null!==a.hostBindings&&a.hostBindings(1,u)}function Z_(a,u){u.flags|=2,(a.components||(a.components=[])).push(u.index)}function Zw(a,u,c){if(c){if(u.exportAs)for(let i=0;i<u.exportAs.length;i++)c[u.exportAs[i]]=a;ti(u)&&(c[""]=a)}}function Kw(a,u,c){a.flags|=1,a.directiveStart=u,a.directiveEnd=u+c,a.providerIndexes=u}function Yw(a,u,c,i,r){a.data[i]=r;const s=r.factory||(r.factory=hs(r.type)),o=new Es(s,ti(r),null);a.blueprint[i]=o,c[i]=o,Gw(a,u,0,i,wc(a,c,r.hostVars,Ye),r)}function wT(a,u,c){const i=Cr(u,a),r=Vw(c),s=a[10],o=Fg(a,Da(a,r,null,c.onPush?64:16,i,u,s,s.createRenderer(i,c),null,null));a[u.index]=o}function Os(a,u,c,i,r,s){const o=Cr(a,u);!function(a,u,c,i,r,s,o){if(null==s)Ut(a)?a.removeAttribute(u,r,c):u.removeAttribute(r);else{const l=null==o?De(s):o(s,i||"",r);Ut(a)?a.setAttribute(u,r,l,c):c?u.setAttributeNS(c,r,l):u.setAttribute(r,l)}}(u[11],o,s,a.value,c,i,r)}function Y_(a,u,c,i,r,s){const o=s[u];if(null!==o){const l=i.setInput;for(let d=0;d<o.length;){const h=o[d++],g=o[d++],_=o[d++];null!==l?i.setInput(c,_,h,g):c[g]=_}}}function CT(a,u){let c=null,i=0;for(;i<u.length;){const r=u[i];if(0!==r)if(5!==r){if("number"==typeof r)break;a.hasOwnProperty(r)&&(null===c&&(c=[]),c.push(r,a[r],u[i+1])),i+=2}else i+=2;else i+=4}return c}function IT(a,u){const c=zn(u,a);if(Ld(c)){const i=c[1];80&c[2]?Cc(i,c,i.template,c[8]):c[5]>0&&Ta(c)}}function Ta(a){for(let i=gg(a);null!==i;i=Ih(i))for(let r=10;r<i.length;r++){const s=i[r];if(1024&s[2]){const o=s[1];Cc(o,s,o.template,s[8])}else s[5]>0&&Ta(s)}const c=a[1].components;if(null!==c)for(let i=0;i<c.length;i++){const r=zn(c[i],a);Ld(r)&&r[5]>0&&Ta(r)}}function bT(a,u){const c=zn(u,a),i=c[1];(function(a,u){for(let c=u.length;c<a.blueprint.length;c++)u.push(a.blueprint[c])})(i,c),Ph(i,c,c[8])}function Fg(a,u){return a[13]?a[14][4]=u:a[13]=u,a[14]=u,u}function J_(a){for(;a;){a[2]|=64;const u=rt(a);if(Rd(a)&&!u)return a;a=u}return null}function ev(a,u,c){const i=u[10];i.begin&&i.begin();try{Cc(a,u,a.template,c)}catch(r){throw nC(u,r),r}finally{i.end&&i.end()}}function pr(a){!function(a){for(let u=0;u<a.components.length;u++){const c=a.components[u],i=xs(c),r=i[1];dT(r,i,r.template,c)}}(a[8])}function Fh(a,u,c){Fp(0),u(a,c)}const Dc=(()=>Promise.resolve(null))();function eC(a){return a[7]||(a[7]=[])}function tC(a){return a.cleanup||(a.cleanup=[])}function nC(a,u){const c=a[9],i=c?c.get(Ee,null):null;i&&i.handleError(u)}function tv(a,u,c,i,r){for(let s=0;s<c.length;){const o=c[s++],l=c[s++],d=u[o],h=a.data[o];null!==h.setInput?h.setInput(d,r,i,l):d[l]=r}}function Lh(a,u,c){let i=c?a.styles:null,r=c?a.classes:null,s=0;if(null!==u)for(let o=0;o<u.length;o++){const l=u[o];"number"==typeof l?s=l:1==s?r=B(r,l):2==s&&(i=B(i,l+": "+u[++o]+";"))}c?a.styles=i:a.stylesWithoutHost=i,c?a.classes=r:a.classesWithoutHost=r}const Di=new Kt("INJECTOR",-1);class rv{get(u,c=ii){if(c===ii){const i=new Error(`NullInjectorError: No provider for ${R(u)}!`);throw i.name="NullInjectorError",i}return c}}const Vh=new Kt("Set Injector scope."),Uh={},AT={};let Ug;function iC(){return void 0===Ug&&(Ug=new rv),Ug}function sC(a,u=null,c=null,i){return new oC(a,c,u||iC(),i)}class oC{constructor(u,c,i,r=null){this.parent=i,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const s=[];c&&br(c,l=>this.processProvider(l,u,c)),br([u],l=>this.processInjectorType(l,[],s)),this.records.set(Di,Tc(void 0,this));const o=this.records.get(Vh);this.scope=null!=o?o.value:null,this.source=r||("object"==typeof u?null:R(u))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(u=>u.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(u,c=ii,i=ye.Default){this.assertNotDestroyed();const r=Wi(this),s=Lt(void 0);try{if(!(i&ye.SkipSelf)){let l=this.records.get(u);if(void 0===l){const d=("function"==typeof(a=u)||"object"==typeof a&&a instanceof Kt)&&kn(u);l=d&&this.injectableDefInScope(d)?Tc(iv(u),Uh):null,this.records.set(u,l)}if(null!=l)return this.hydrate(u,l)}return(i&ye.Self?iC():this.parent).get(u,c=i&ye.Optional&&c===ii?null:c)}catch(o){if("NullInjectorError"===o.name){if((o[Tr]=o[Tr]||[]).unshift(R(u)),r)throw o;return Ql(o,u,"R3InjectorError",this.source)}throw o}finally{Lt(s),Wi(r)}var a}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(u=>this.get(u))}toString(){const u=[];return this.records.forEach((i,r)=>u.push(R(r))),`R3Injector[${u.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(u,c,i){if(!(u=q(u)))return!1;let r=ki(u);const s=null==r&&u.ngModule||void 0,o=void 0===s?u:s,l=-1!==i.indexOf(o);if(void 0!==s&&(r=ki(s)),null==r)return!1;if(null!=r.imports&&!l){let g;i.push(o);try{br(r.imports,_=>{this.processInjectorType(_,c,i)&&(void 0===g&&(g=[]),g.push(_))})}finally{}if(void 0!==g)for(let _=0;_<g.length;_++){const{ngModule:w,providers:C}=g[_];br(C,I=>this.processProvider(I,w,C||ce))}}this.injectorDefTypes.add(o);const d=hs(o)||(()=>new o);this.records.set(o,Tc(d,Uh));const h=r.providers;if(null!=h&&!l){const g=u;br(h,_=>this.processProvider(_,g,h))}return void 0!==s&&void 0!==u.providers}processProvider(u,c,i){let r=Bh(u=q(u))?u:q(u&&u.provide);const s=aC(a=u)?Tc(void 0,a.useValue):Tc(Bg(a),Uh);var a;if(Bh(u)||!0!==u.multi)this.records.get(r);else{let o=this.records.get(r);o||(o=Tc(void 0,Uh,!0),o.factory=()=>Ts(o.multi),this.records.set(r,o)),r=u,o.multi.push(u)}this.records.set(r,s)}hydrate(u,c){return c.value===Uh&&(c.value=AT,c.value=c.factory()),"object"==typeof c.value&&c.value&&null!==(a=c.value)&&"object"==typeof a&&"function"==typeof a.ngOnDestroy&&this.onDestroy.add(c.value),c.value;var a}injectableDefInScope(u){if(!u.providedIn)return!1;const c=q(u.providedIn);return"string"==typeof c?"any"===c||c===this.scope:this.injectorDefTypes.has(c)}}function iv(a){const u=kn(a),c=null!==u?u.factory:hs(a);if(null!==c)return c;if(a instanceof Kt)throw new Error(`Token ${R(a)} is missing a \u0275prov definition.`);if(a instanceof Function)return function(a){const u=a.length;if(u>0){const i=function(a,u){const c=[];for(let i=0;i<a;i++)c.push(u);return c}(u,"?");throw new Error(`Can't resolve all parameters for ${R(a)}: (${i.join(", ")}).`)}const c=function(a){const u=a&&(a[En]||a[Pr]);if(u){const c=function(a){if(a.hasOwnProperty("name"))return a.name;const u=(""+a).match(/^function\s*([^\s(]+)/);return null===u?"":u[1]}(a);return console.warn(`DEPRECATED: DI is instantiating a token "${c}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${c}" class.`),u}return null}(a);return null!==c?()=>c.factory(a):()=>new a}(a);throw new Error("unreachable")}function Bg(a,u,c){let i;if(Bh(a)){const r=q(a);return hs(r)||iv(r)}if(aC(a))i=()=>q(a.useValue);else if(function(a){return!(!a||!a.useFactory)}(a))i=()=>a.useFactory(...Ts(a.deps||[]));else if(function(a){return!(!a||!a.useExisting)}(a))i=()=>Yt(q(a.useExisting));else{const r=q(a&&(a.useClass||a.provide));if(!function(a){return!!a.deps}(a))return hs(r)||iv(r);i=()=>new r(...Ts(a.deps))}return i}function Tc(a,u,c=!1){return{factory:a,value:u,multi:c?[]:void 0}}function aC(a){return null!==a&&"object"==typeof a&&fu in a}function Bh(a){return"function"==typeof a}const lC=function(a,u,c){return function(a,u=null,c=null,i){const r=sC(a,u,c,i);return r._resolveInjectorDefTypes(),r}({name:c},u,a,c)};class xt{static create(u,c){return Array.isArray(u)?lC(u,c,""):lC(u.providers,u.parent,u.name||"")}}function mC(a,u){Ol(xs(a)[1],cn())}function er(a){let u=function(a){return Object.getPrototypeOf(a.prototype).constructor}(a.type),c=!0;const i=[a];for(;u;){let r;if(ti(a))r=u.\u0275cmp||u.\u0275dir;else{if(u.\u0275cmp)throw new Error("Directives cannot inherit Components");r=u.\u0275dir}if(r){if(c){i.push(r);const o=a;o.inputs=Zg(a.inputs),o.declaredInputs=Zg(a.declaredInputs),o.outputs=Zg(a.outputs);const l=r.hostBindings;l&&vC(a,l);const d=r.viewQuery,h=r.contentQueries;if(d&&hv(a,d),h&&_C(a,h),k(a.inputs,r.inputs),k(a.declaredInputs,r.declaredInputs),k(a.outputs,r.outputs),ti(r)&&r.data.animation){const g=a.data;g.animation=(g.animation||[]).concat(r.data.animation)}}const s=r.features;if(s)for(let o=0;o<s.length;o++){const l=s[o];l&&l.ngInherit&&l(a),l===er&&(c=!1)}}u=Object.getPrototypeOf(u)}!function(a){let u=0,c=null;for(let i=a.length-1;i>=0;i--){const r=a[i];r.hostVars=u+=r.hostVars,r.hostAttrs=Zd(r.hostAttrs,c=Zd(c,r.hostAttrs))}}(i)}function Zg(a){return a===j?{}:a===ce?[]:a}function hv(a,u){const c=a.viewQuery;a.viewQuery=c?(i,r)=>{u(i,r),c(i,r)}:u}function _C(a,u){const c=a.contentQueries;a.contentQueries=c?(i,r,s)=>{u(i,r,s),c(i,r,s)}:u}function vC(a,u){const c=a.hostBindings;a.hostBindings=c?(i,r)=>{u(i,r),c(i,r)}:u}xt.THROW_IF_NOT_FOUND=ii,xt.NULL=new rv,xt.\u0275prov=$t({token:xt,providedIn:"any",factory:()=>Yt(Di)}),xt.__NG_ELEMENT_ID__=-1;let Kg=null;function es(){if(!Kg){const a=N.Symbol;if(a&&a.iterator)Kg=a.iterator;else{const u=Object.getOwnPropertyNames(Map.prototype);for(let c=0;c<u.length;++c){const i=u[c];"entries"!==i&&"size"!==i&&Map.prototype[i]===Map.prototype.entries&&(Kg=i)}}}return Kg}function Sc(a){return!!xc(a)&&(Array.isArray(a)||!(a instanceof Map)&&es()in a)}function xc(a){return null!==a&&("function"==typeof a||"object"==typeof a)}function Ln(a,u,c){return!Object.is(a[u],c)&&(a[u]=c,!0)}function Qg(a,u,c,i){const r=fe();return Ln(r,_s(),u)&&(ut(),Os(jt(),r,a,u,c,i)),Qg}function Sa(a,u=ye.Default){const c=fe();return null===c?Yt(a,u):Xd(cn(),c,q(a),u)}function dm(a,u,c){const i=fe();return Ln(i,_s(),u)&&ui(ut(),jt(),i,a,u,i[11],c,!1),dm}function Tv(a,u,c,i,r){const o=r?"class":"style";tv(a,c,u.inputs[o],o,i)}function Lc(a,u,c,i){const r=fe(),s=ut(),o=20+a,l=r[11],d=r[o]=mg(l,u,qe.lFrame.currentNamespace),h=s.firstCreatePass?function(a,u,c,i,r,s,o){const l=u.consts,h=Au(u,a,2,r,gs(l,s));return function(a,u,c,i){let r=!1;if(Ud()){const s=function(a,u,c){const i=a.directiveRegistry;let r=null;if(i)for(let s=0;s<i.length;s++){const o=i[s];Tw(c,o.selectors,!1)&&(r||(r=[]),Ul(Ke(c,u),a,o.type),ti(o)?(Z_(a,c),r.unshift(o)):r.push(o))}return r}(a,u,c),o=null===i?null:{"":-1};if(null!==s){r=!0,Kw(c,a.data.length,s.length);for(let g=0;g<s.length;g++){const _=s[g];_.providersResolver&&_.providersResolver(_)}let l=!1,d=!1,h=wc(a,u,s.length,null);for(let g=0;g<s.length;g++){const _=s[g];c.mergedAttrs=Zd(c.mergedAttrs,_.hostAttrs),Yw(a,c,u,h,_),Zw(h,_,o),null!==_.contentQueries&&(c.flags|=8),(null!==_.hostBindings||null!==_.hostAttrs||0!==_.hostVars)&&(c.flags|=128);const w=_.type.prototype;!l&&(w.ngOnChanges||w.ngOnInit||w.ngDoCheck)&&((a.preOrderHooks||(a.preOrderHooks=[])).push(c.index),l=!0),!d&&(w.ngOnChanges||w.ngDoCheck)&&((a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(c.index),d=!0),h++}!function(a,u){const i=u.directiveEnd,r=a.data,s=u.attrs,o=[];let l=null,d=null;for(let h=u.directiveStart;h<i;h++){const g=r[h],_=g.inputs,w=null===s||Cg(u)?null:CT(_,s);o.push(w),l=Hw(_,h,l),d=Hw(g.outputs,h,d)}null!==l&&(l.hasOwnProperty("class")&&(u.flags|=16),l.hasOwnProperty("style")&&(u.flags|=32)),u.initialInputs=o,u.inputs=l,u.outputs=d}(a,c)}o&&function(a,u,c){if(u){const i=a.localNames=[];for(let r=0;r<u.length;r+=2){const s=c[u[r+1]];if(null==s)throw new _e("301",`Export of name '${u[r+1]}' not found!`);i.push(u[r],s)}}}(c,i,o)}c.mergedAttrs=Zd(c.mergedAttrs,c.attrs)}(u,c,h,gs(l,o)),null!==h.attrs&&Lh(h,h.attrs,!1),null!==h.mergedAttrs&&Lh(h,h.mergedAttrs,!0),null!==u.queries&&u.queries.elementStart(u,h),h}(o,s,r,0,u,c,i):s.data[o];Ur(h,!0);const g=h.mergedAttrs;null!==g&&Is(l,d,g);const _=h.classes;null!==_&&O_(l,d,_);const w=h.styles;null!==w&&Iw(l,d,w),64!=(64&h.flags)&&Du(s,r,d,h),0===qe.lFrame.elementDepthCount&&bt(d,r),qe.lFrame.elementDepthCount++,Jo(h)&&(function(a,u,c){!Ud()||(function(a,u,c,i){const r=c.directiveStart,s=c.directiveEnd;a.firstCreatePass||Ke(c,u),bt(i,u);const o=c.initialInputs;for(let l=r;l<s;l++){const d=a.data[l],h=ti(d);h&&wT(u,c,d);const g=jr(u,a,l,c);bt(g,u),null!==o&&Y_(0,l-r,g,d,0,o),h&&(zn(c.index,u)[8]=g)}}(a,u,c,Cr(c,u)),128==(128&c.flags)&&function(a,u,c){const i=c.directiveStart,r=c.directiveEnd,o=c.index,l=qe.lFrame.currentDirectiveIndex;try{dr(o);for(let d=i;d<r;d++){const h=a.data[d],g=u[d];vs(d),(null!==h.hostBindings||0!==h.hostVars||null!==h.hostAttrs)&&ET(h,g)}}finally{dr(-1),vs(l)}}(a,u,c))}(s,r,h),function(a,u,c){if(Vr(u)){const r=u.directiveEnd;for(let s=u.directiveStart;s<r;s++){const o=a.data[s];o.contentQueries&&o.contentQueries(1,c[s],s)}}}(s,h,r)),null!==i&&function(a,u,c=Cr){const i=u.localNames;if(null!==i){let r=u.index+1;for(let s=0;s<i.length;s+=2){const o=i[s+1],l=-1===o?c(u,a):a[o];a[r++]=l}}}(r,h)}function Qh(){let a=cn();Bd()?qe.lFrame.isParent=!1:(a=a.parent,Ur(a,!1));const u=a;qe.lFrame.elementDepthCount--;const c=ut();c.firstCreatePass&&(Ol(c,a),Vr(a)&&c.queries.elementEnd(a)),null!=u.classesWithoutHost&&function(a){return 0!=(16&a.flags)}(u)&&Tv(c,u,fe(),u.classesWithoutHost,!0),null!=u.stylesWithoutHost&&function(a){return 0!=(32&a.flags)}(u)&&Tv(c,u,fe(),u.stylesWithoutHost,!1)}function Sv(a,u,c,i){Lc(a,u,c,i),Qh()}function Nu(a){return!!a&&"function"==typeof a.then}function xa(a){return!!a&&"function"==typeof a.subscribe}const Jh=xa;function xv(a,u,c,i){const r=fe(),s=ut(),o=cn();return function(a,u,c,i,r,s,o,l){const d=Jo(i),g=a.firstCreatePass&&tC(a),_=u[8],w=eC(u);let C=!0;if(3&i.type||l){const D=Cr(i,u),P=l?l(D):D,L=w.length,ae=l?Ie=>l(Bt(Ie[i.index])):i.index;if(Ut(c)){let Ie=null;if(!l&&d&&(Ie=function(a,u,c,i){const r=a.cleanup;if(null!=r)for(let s=0;s<r.length-1;s+=2){const o=r[s];if(o===c&&r[s+1]===i){const l=u[7],d=r[s+2];return l.length>d?l[d]:null}"string"==typeof o&&(s+=2)}return null}(a,u,r,i.index)),null!==Ie)(Ie.__ngLastListenerFn__||Ie).__ngNextListenerFn__=s,Ie.__ngLastListenerFn__=s,C=!1;else{s=gm(i,u,_,s,!1);const Se=c.listen(P,r,s);w.push(s,Se),g&&g.push(r,ae,L,L+1)}}else s=gm(i,u,_,s,!0),P.addEventListener(r,s,o),w.push(s),g&&g.push(r,ae,L,o)}else s=gm(i,u,_,s,!1);const I=i.outputs;let A;if(C&&null!==I&&(A=I[r])){const D=A.length;if(D)for(let P=0;P<D;P+=2){const Be=u[A[P]][A[P+1]].subscribe(s),lt=w.length;w.push(s,Be),g&&g.push(r,i.index,lt,-(lt+1))}}}(s,r,r[11],o,a,u,!!c,i),xv}function Na(a,u,c,i){try{return!1!==c(i)}catch(r){return nC(a,r),!1}}function gm(a,u,c,i,r){return function s(o){if(o===Function)return i;const l=2&a.flags?zn(a.index,u):u;0==(32&u[2])&&J_(l);let d=Na(u,0,i,o),h=s.__ngNextListenerFn__;for(;h;)d=Na(u,0,h,o)&&d,h=h.__ngNextListenerFn__;return r&&!1===d&&(o.preventDefault(),o.returnValue=!1),d}}function HC(a,u,c,i,r){const s=a[c+1],o=null===u;let l=i?Qi(s):oi(s),d=!1;for(;0!==l&&(!1===d||o);){const g=a[l+1];sA(a[l],u)&&(d=!0,a[l+1]=i?bg(g):mc(g)),l=i?Qi(g):oi(g)}d&&(a[c+1]=i?mc(s):bg(s))}function sA(a,u){return null===a||null==u||(Array.isArray(a)?a[1]:a)===u||!(!Array.isArray(a)||"string"!=typeof u)&&$i(a,u)>=0}function tf(a,u){return function(a,u,c,i){const r=fe(),s=ut(),o=function(a){const u=qe.lFrame,c=u.bindingIndex;return u.bindingIndex=u.bindingIndex+a,c}(2);s.firstUpdatePass&&function(a,u,c,i){const r=a.data;if(null===r[c+1]){const s=r[Sn()],o=function(a,u){return u>=a.expandoStartIndex}(a,c);(function(a,u){return 0!=(a.flags&(u?16:32))})(s,i)&&null===u&&!o&&(u=!1),u=function(a,u,c,i){const r=function(a){const u=qe.lFrame.currentDirectiveIndex;return-1===u?null:a[u]}(a);let s=i?u.residualClasses:u.residualStyles;if(null===r)0===(i?u.classBindings:u.styleBindings)&&(c=sf(c=vm(null,a,u,c,i),u.attrs,i),s=null);else{const o=u.directiveStylingLast;if(-1===o||a[o]!==r)if(c=vm(r,a,u,c,i),null===s){let d=function(a,u,c){const i=c?u.classBindings:u.styleBindings;if(0!==oi(i))return a[Qi(i)]}(a,u,i);void 0!==d&&Array.isArray(d)&&(d=vm(null,a,u,d[1],i),d=sf(d,u.attrs,i),function(a,u,c,i){a[Qi(c?u.classBindings:u.styleBindings)]=i}(a,u,i,d))}else s=function(a,u,c){let i;const r=u.directiveEnd;for(let s=1+u.directiveStylingLast;s<r;s++)i=sf(i,a[s].hostAttrs,c);return sf(i,u.attrs,c)}(a,u,i)}return void 0!==s&&(i?u.residualClasses=s:u.residualStyles=s),c}(r,s,u,i),function(a,u,c,i,r,s){let o=s?u.classBindings:u.styleBindings,l=Qi(o),d=oi(o);a[i]=c;let g,h=!1;if(Array.isArray(c)){const _=c;g=_[1],(null===g||$i(_,g)>0)&&(h=!0)}else g=c;if(r)if(0!==d){const w=Qi(a[l+1]);a[i+1]=xh(w,l),0!==w&&(a[w+1]=Nh(a[w+1],i)),a[l+1]=function(a,u){return 131071&a|u<<17}(a[l+1],i)}else a[i+1]=xh(l,0),0!==l&&(a[l+1]=Nh(a[l+1],i)),l=i;else a[i+1]=xh(d,0),0===l?l=i:a[d+1]=Nh(a[d+1],i),d=i;h&&(a[i+1]=mc(a[i+1])),HC(a,g,i,!0),HC(a,g,i,!1),function(a,u,c,i,r){const s=r?a.residualClasses:a.residualStyles;null!=s&&"string"==typeof u&&$i(s,u)>=0&&(c[i+1]=bg(c[i+1]))}(u,g,a,i,s),o=xh(l,d),s?u.classBindings=o:u.styleBindings=o}(r,s,u,c,o,i)}}(s,a,o,i),u!==Ye&&Ln(r,o,u)&&function(a,u,c,i,r,s,o,l){if(!(3&u.type))return;const d=a.data,h=d[l+1];of(function(a){return 1==(1&a)}(h)?Lv(d,u,c,r,oi(h),o):void 0)||(of(s)||function(a){return 2==(2&a)}(h)&&(s=Lv(d,null,c,r,l,o)),function(a,u,c,i,r){const s=Ut(a);if(u)r?s?a.addClass(c,i):c.classList.add(i):s?a.removeClass(c,i):c.classList.remove(i);else{let o=-1===i.indexOf("-")?void 0:Rs.DashCase;if(null==r)s?a.removeStyle(c,i,o):c.style.removeProperty(i);else{const l="string"==typeof r&&r.endsWith("!important");l&&(r=r.slice(0,-10),o|=Rs.Important),s?a.setStyle(c,i,r,o):c.style.setProperty(i,r,l?"important":"")}}}(i,o,function(a,u){return Bt(u[a])}(Sn(),c),r,s))}(s,s.data[Sn()],r,r[11],a,r[o+1]=function(a,u){return null==a||("string"==typeof u?a+=u:"object"==typeof a&&(a=R($r(a)))),a}(u,c),i,o)}(a,u,null,!0),tf}function vm(a,u,c,i,r){let s=null;const o=c.directiveEnd;let l=c.directiveStylingLast;for(-1===l?l=c.directiveStart:l++;l<o&&(s=u[l],i=sf(i,s.hostAttrs,r),s!==a);)l++;return null!==a&&(c.directiveStylingLast=l),i}function sf(a,u,c){const i=c?1:2;let r=-1;if(null!==u)for(let s=0;s<u.length;s++){const o=u[s];"number"==typeof o?r=o:r===i&&(Array.isArray(a)||(a=void 0===a?[]:["",a]),Kn(a,o,!!c||u[++s]))}return void 0===a?null:a}function Lv(a,u,c,i,r,s){const o=null===u;let l;for(;r>0;){const d=a[r],h=Array.isArray(d),g=h?d[1]:d,_=null===g;let w=c[r+1];w===Ye&&(w=_?ce:void 0);let C=_?nh(w,i):g===i?w:void 0;if(h&&!of(C)&&(C=nh(d,i)),of(C)&&(l=C,o))return l;const I=a[r+1];r=o?Qi(I):oi(I)}if(null!==u){let d=s?u.residualClasses:u.residualStyles;null!=d&&(l=nh(d,i))}return l}function of(a){return void 0!==a}function Vs(a,u=""){const c=fe(),i=ut(),r=a+20,s=i.firstCreatePass?Au(i,r,1,u,null):i.data[r],o=c[r]=function(a,u){return Ut(a)?a.createText(u):a.createTextNode(u)}(c[11],u);Du(i,c,o,s),Ur(s,!1)}function Am(a,u,c){const i=fe();return Ln(i,_s(),u)&&ui(ut(),jt(),i,a,u,i[11],c,!0),Am}const Ra=void 0;var sN=["en",[["a","p"],["AM","PM"],Ra],[["AM","PM"],Ra,Ra],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Ra,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Ra,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Ra,"{1} 'at' {0}",Ra],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(a){const u=Math.floor(Math.abs(a)),c=a.toString().replace(/^[^.]*\.?/,"").length;return 1===u&&0===c?1:5}];let hn={};function Us(a){const u=function(a){return a.toLowerCase().replace(/_/g,"-")}(a);let c=we(u);if(c)return c;const i=u.split("-")[0];if(c=we(i),c)return c;if("en"===i)return sN;throw new Error(`Missing locale data for the locale "${a}".`)}function oI(a){return Us(a)[je.PluralCase]}function we(a){return a in hn||(hn[a]=N.ng&&N.ng.common&&N.ng.common.locales&&N.ng.common.locales[a]),hn[a]}var je=(()=>((je=je||{})[je.LocaleId=0]="LocaleId",je[je.DayPeriodsFormat=1]="DayPeriodsFormat",je[je.DayPeriodsStandalone=2]="DayPeriodsStandalone",je[je.DaysFormat=3]="DaysFormat",je[je.DaysStandalone=4]="DaysStandalone",je[je.MonthsFormat=5]="MonthsFormat",je[je.MonthsStandalone=6]="MonthsStandalone",je[je.Eras=7]="Eras",je[je.FirstDayOfWeek=8]="FirstDayOfWeek",je[je.WeekendRange=9]="WeekendRange",je[je.DateFormat=10]="DateFormat",je[je.TimeFormat=11]="TimeFormat",je[je.DateTimeFormat=12]="DateTimeFormat",je[je.NumberSymbols=13]="NumberSymbols",je[je.NumberFormats=14]="NumberFormats",je[je.CurrencyCode=15]="CurrencyCode",je[je.CurrencySymbol=16]="CurrencySymbol",je[je.CurrencyName=17]="CurrencyName",je[je.Currencies=18]="Currencies",je[je.Directionality=19]="Directionality",je[je.PluralCase=20]="PluralCase",je[je.ExtraData=21]="ExtraData",je))();const Sm="en-US";let aI=Sm;function Jv(a){ot(a,"Expected localeId to be defined"),"string"==typeof a&&(aI=a.toLowerCase().replace(/_/g,"-"))}function km(a,u,c,i,r){if(a=q(a),Array.isArray(a))for(let s=0;s<a.length;s++)km(a[s],u,c,i,r);else{const s=ut(),o=fe();let l=Bh(a)?a:q(a.provide),d=Bg(a);const h=cn(),g=1048575&h.providerIndexes,_=h.directiveStart,w=h.providerIndexes>>20;if(Bh(a)||!a.multi){const C=new Es(d,r,Sa),I=_f(l,u,r?g:g+w,_);-1===I?(Ul(Ke(h,o),s,l),Bu(s,a,u.length),u.push(l),h.directiveStart++,h.directiveEnd++,r&&(h.providerIndexes+=1048576),c.push(C),o.push(C)):(c[I]=C,o[I]=C)}else{const C=_f(l,u,g+w,_),I=_f(l,u,g,g+w),A=C>=0&&c[C],D=I>=0&&c[I];if(r&&!D||!r&&!A){Ul(Ke(h,o),s,l);const P=function(a,u,c,i,r){const s=new Es(a,c,Sa);return s.multi=[],s.index=u,s.componentProviders=0,uE(s,r,i&&!c),s}(r?DI:vf,c.length,r,i,d);!r&&D&&(c[I].providerFactory=P),Bu(s,a,u.length,0),u.push(l),h.directiveStart++,h.directiveEnd++,r&&(h.providerIndexes+=1048576),c.push(P),o.push(P)}else Bu(s,a,C>-1?C:I,uE(c[r?I:C],d,!r&&i));!r&&i&&D&&c[I].componentProviders++}}}function Bu(a,u,c,i){const r=Bh(u);if(r||function(a){return!!a.useClass}(u)){const o=(u.useClass||u).prototype.ngOnDestroy;if(o){const l=a.destroyHooks||(a.destroyHooks=[]);if(!r&&u.multi){const d=l.indexOf(c);-1===d?l.push(c,[i,o]):l[d+1].push(i,o)}else l.push(c,o)}}}function uE(a,u,c){return c&&a.componentProviders++,a.multi.push(u)-1}function _f(a,u,c,i){for(let r=c;r<i;r++)if(u[r]===a)return r;return-1}function vf(a,u,c,i){return lE(this.multi,[])}function DI(a,u,c,i){const r=this.multi;let s;if(this.providerFactory){const o=this.providerFactory.componentProviders,l=jr(c,c[1],this.providerFactory.index,i);s=l.slice(0,o),lE(r,s);for(let d=o;d<l.length;d++)s.push(l[d])}else s=[],lE(r,s);return s}function lE(a,u){for(let c=0;c<a.length;c++)u.push((0,a[c])());return u}function cE(a,u=[]){return c=>{c.providersResolver=(i,r)=>function(a,u,c){const i=ut();if(i.firstCreatePass){const r=ti(a);km(c,i.data,i.blueprint,r,!0),km(u,i.data,i.blueprint,r,!1)}}(i,r?r(a):a,u)}}class Ef{}const xI="ngComponent";class ed{resolveComponentFactory(u){throw function(a){const u=Error(`No component factory found for ${R(a)}. Did you add it to @NgModule.entryComponents?`);return u[xI]=a,u}(u)}}class hi{}function wf(...a){}function ju(a,u){return new Hs(Cr(a,u))}hi.NULL=new ed;const SA=function(){return ju(cn(),fe())};let Hs=(()=>{class a{constructor(c){this.nativeElement=c}}return a.__NG_ELEMENT_ID__=SA,a})();function mn(a){return a instanceof Hs?a.nativeElement:a}class Hu{}let xA=(()=>{class a{}return a.__NG_ELEMENT_ID__=()=>RI(),a})();const RI=function(){const a=fe(),c=zn(cn().index,a);return function(a){return a[11]}(ei(c)?c:a)};let $s=(()=>{class a{}return a.\u0275prov=$t({token:a,providedIn:"root",factory:()=>null}),a})();class fE{constructor(u){this.full=u,this.major=u.split(".")[0],this.minor=u.split(".")[1],this.patch=u.split(".").slice(2).join(".")}}const Lm=new fE("12.2.3");class pE{constructor(){}supports(u){return Sc(u)}create(u){return new NA(u)}}const If=(a,u)=>u;class NA{constructor(u){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=u||If}forEachItem(u){let c;for(c=this._itHead;null!==c;c=c._next)u(c)}forEachOperation(u){let c=this._itHead,i=this._removalsHead,r=0,s=null;for(;c||i;){const o=!i||c&&c.currentIndex<mE(i,r,s)?c:i,l=mE(o,r,s),d=o.currentIndex;if(o===i)r--,i=i._nextRemoved;else if(c=c._next,null==o.previousIndex)r++;else{s||(s=[]);const h=l-r,g=d-r;if(h!=g){for(let w=0;w<h;w++){const C=w<s.length?s[w]:s[w]=0,I=C+w;g<=I&&I<h&&(s[w]=C+1)}s[o.previousIndex]=g-h}}l!==d&&u(o,l,d)}}forEachPreviousItem(u){let c;for(c=this._previousItHead;null!==c;c=c._nextPrevious)u(c)}forEachAddedItem(u){let c;for(c=this._additionsHead;null!==c;c=c._nextAdded)u(c)}forEachMovedItem(u){let c;for(c=this._movesHead;null!==c;c=c._nextMoved)u(c)}forEachRemovedItem(u){let c;for(c=this._removalsHead;null!==c;c=c._nextRemoved)u(c)}forEachIdentityChange(u){let c;for(c=this._identityChangesHead;null!==c;c=c._nextIdentityChange)u(c)}diff(u){if(null==u&&(u=[]),!Sc(u))throw new Error(`Error trying to diff '${R(u)}'. Only arrays and iterables are allowed`);return this.check(u)?this:null}onDestroy(){}check(u){this._reset();let r,s,o,c=this._itHead,i=!1;if(Array.isArray(u)){this.length=u.length;for(let l=0;l<this.length;l++)s=u[l],o=this._trackByFn(l,s),null!==c&&Object.is(c.trackById,o)?(i&&(c=this._verifyReinsertion(c,s,o,l)),Object.is(c.item,s)||this._addIdentityChange(c,s)):(c=this._mismatch(c,s,o,l),i=!0),c=c._next}else r=0,function(a,u){if(Array.isArray(a))for(let c=0;c<a.length;c++)u(a[c]);else{const c=a[es()]();let i;for(;!(i=c.next()).done;)u(i.value)}}(u,l=>{o=this._trackByFn(r,l),null!==c&&Object.is(c.trackById,o)?(i&&(c=this._verifyReinsertion(c,l,o,r)),Object.is(c.item,l)||this._addIdentityChange(c,l)):(c=this._mismatch(c,l,o,r),i=!0),c=c._next,r++}),this.length=r;return this._truncate(c),this.collection=u,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let u;for(u=this._previousItHead=this._itHead;null!==u;u=u._next)u._nextPrevious=u._next;for(u=this._additionsHead;null!==u;u=u._nextAdded)u.previousIndex=u.currentIndex;for(this._additionsHead=this._additionsTail=null,u=this._movesHead;null!==u;u=u._nextMoved)u.previousIndex=u.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(u,c,i,r){let s;return null===u?s=this._itTail:(s=u._prev,this._remove(u)),null!==(u=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null))?(Object.is(u.item,c)||this._addIdentityChange(u,c),this._reinsertAfter(u,s,r)):null!==(u=null===this._linkedRecords?null:this._linkedRecords.get(i,r))?(Object.is(u.item,c)||this._addIdentityChange(u,c),this._moveAfter(u,s,r)):u=this._addAfter(new bn(c,i),s,r),u}_verifyReinsertion(u,c,i,r){let s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null);return null!==s?u=this._reinsertAfter(s,u._prev,r):u.currentIndex!=r&&(u.currentIndex=r,this._addToMoves(u,r)),u}_truncate(u){for(;null!==u;){const c=u._next;this._addToRemovals(this._unlink(u)),u=c}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(u,c,i){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(u);const r=u._prevRemoved,s=u._nextRemoved;return null===r?this._removalsHead=s:r._nextRemoved=s,null===s?this._removalsTail=r:s._prevRemoved=r,this._insertAfter(u,c,i),this._addToMoves(u,i),u}_moveAfter(u,c,i){return this._unlink(u),this._insertAfter(u,c,i),this._addToMoves(u,i),u}_addAfter(u,c,i){return this._insertAfter(u,c,i),this._additionsTail=null===this._additionsTail?this._additionsHead=u:this._additionsTail._nextAdded=u,u}_insertAfter(u,c,i){const r=null===c?this._itHead:c._next;return u._next=r,u._prev=c,null===r?this._itTail=u:r._prev=u,null===c?this._itHead=u:c._next=u,null===this._linkedRecords&&(this._linkedRecords=new gE),this._linkedRecords.put(u),u.currentIndex=i,u}_remove(u){return this._addToRemovals(this._unlink(u))}_unlink(u){null!==this._linkedRecords&&this._linkedRecords.remove(u);const c=u._prev,i=u._next;return null===c?this._itHead=i:c._next=i,null===i?this._itTail=c:i._prev=c,u}_addToMoves(u,c){return u.previousIndex===c||(this._movesTail=null===this._movesTail?this._movesHead=u:this._movesTail._nextMoved=u),u}_addToRemovals(u){return null===this._unlinkedRecords&&(this._unlinkedRecords=new gE),this._unlinkedRecords.put(u),u.currentIndex=null,u._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=u,u._prevRemoved=null):(u._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=u),u}_addIdentityChange(u,c){return u.item=c,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=u:this._identityChangesTail._nextIdentityChange=u,u}}class bn{constructor(u,c){this.item=u,this.trackById=c,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class vt{constructor(){this._head=null,this._tail=null}add(u){null===this._head?(this._head=this._tail=u,u._nextDup=null,u._prevDup=null):(this._tail._nextDup=u,u._prevDup=this._tail,u._nextDup=null,this._tail=u)}get(u,c){let i;for(i=this._head;null!==i;i=i._nextDup)if((null===c||c<=i.currentIndex)&&Object.is(i.trackById,u))return i;return null}remove(u){const c=u._prevDup,i=u._nextDup;return null===c?this._head=i:c._nextDup=i,null===i?this._tail=c:i._prevDup=c,null===this._head}}class gE{constructor(){this.map=new Map}put(u){const c=u.trackById;let i=this.map.get(c);i||(i=new vt,this.map.set(c,i)),i.add(u)}get(u,c){const r=this.map.get(u);return r?r.get(u,c):null}remove(u){const c=u.trackById;return this.map.get(c).remove(u)&&this.map.delete(c),u}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function mE(a,u,c){const i=a.previousIndex;if(null===i)return i;let r=0;return c&&i<c.length&&(r=c[i]),i+u+r}class Dn{constructor(){}supports(u){return u instanceof Map||xc(u)}create(){return new Vm}}class Vm{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(u){let c;for(c=this._mapHead;null!==c;c=c._next)u(c)}forEachPreviousItem(u){let c;for(c=this._previousMapHead;null!==c;c=c._nextPrevious)u(c)}forEachChangedItem(u){let c;for(c=this._changesHead;null!==c;c=c._nextChanged)u(c)}forEachAddedItem(u){let c;for(c=this._additionsHead;null!==c;c=c._nextAdded)u(c)}forEachRemovedItem(u){let c;for(c=this._removalsHead;null!==c;c=c._nextRemoved)u(c)}diff(u){if(u){if(!(u instanceof Map||xc(u)))throw new Error(`Error trying to diff '${R(u)}'. Only maps and objects are allowed`)}else u=new Map;return this.check(u)?this:null}onDestroy(){}check(u){this._reset();let c=this._mapHead;if(this._appendAfter=null,this._forEach(u,(i,r)=>{if(c&&c.key===r)this._maybeAddToChanges(c,i),this._appendAfter=c,c=c._next;else{const s=this._getOrCreateRecordForKey(r,i);c=this._insertBeforeOrAppend(c,s)}}),c){c._prev&&(c._prev._next=null),this._removalsHead=c;for(let i=c;null!==i;i=i._nextRemoved)i===this._mapHead&&(this._mapHead=null),this._records.delete(i.key),i._nextRemoved=i._next,i.previousValue=i.currentValue,i.currentValue=null,i._prev=null,i._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(u,c){if(u){const i=u._prev;return c._next=u,c._prev=i,u._prev=c,i&&(i._next=c),u===this._mapHead&&(this._mapHead=c),this._appendAfter=u,u}return this._appendAfter?(this._appendAfter._next=c,c._prev=this._appendAfter):this._mapHead=c,this._appendAfter=c,null}_getOrCreateRecordForKey(u,c){if(this._records.has(u)){const r=this._records.get(u);this._maybeAddToChanges(r,c);const s=r._prev,o=r._next;return s&&(s._next=o),o&&(o._prev=s),r._next=null,r._prev=null,r}const i=new nr(u);return this._records.set(u,i),i.currentValue=c,this._addToAdditions(i),i}_reset(){if(this.isDirty){let u;for(this._previousMapHead=this._mapHead,u=this._previousMapHead;null!==u;u=u._next)u._nextPrevious=u._next;for(u=this._changesHead;null!==u;u=u._nextChanged)u.previousValue=u.currentValue;for(u=this._additionsHead;null!=u;u=u._nextAdded)u.previousValue=u.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(u,c){Object.is(c,u.currentValue)||(u.previousValue=u.currentValue,u.currentValue=c,this._addToChanges(u))}_addToAdditions(u){null===this._additionsHead?this._additionsHead=this._additionsTail=u:(this._additionsTail._nextAdded=u,this._additionsTail=u)}_addToChanges(u){null===this._changesHead?this._changesHead=this._changesTail=u:(this._changesTail._nextChanged=u,this._changesTail=u)}_forEach(u,c){u instanceof Map?u.forEach(c):Object.keys(u).forEach(i=>c(u[i],i))}}class nr{constructor(u){this.key=u,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function an(){return new bf([new pE])}let bf=(()=>{class a{constructor(c){this.factories=c}static create(c,i){if(null!=i){const r=i.factories.slice();c=c.concat(r)}return new a(c)}static extend(c){return{provide:a,useFactory:i=>a.create(c,i||an()),deps:[[a,new Ki,new Zi]]}}find(c){const i=this.factories.find(r=>r.supports(c));if(null!=i)return i;throw new Error(`Cannot find a differ supporting object '${c}' of type '${function(a){return a.name||typeof a}(c)}'`)}}return a.\u0275prov=$t({token:a,providedIn:"root",factory:an}),a})();function fi(){return new Um([new Dn])}let Um=(()=>{class a{constructor(c){this.factories=c}static create(c,i){if(i){const r=i.factories.slice();c=c.concat(r)}return new a(c)}static extend(c){return{provide:a,useFactory:i=>a.create(c,i||fi()),deps:[[a,new Ki,new Zi]]}}find(c){const i=this.factories.find(r=>r.supports(c));if(i)return i;throw new Error(`Cannot find a differ supporting object '${c}'`)}}return a.\u0275prov=$t({token:a,providedIn:"root",factory:fi}),a})();function nd(a,u,c,i,r=!1){for(;null!==c;){const s=u[c.index];if(null!==s&&i.push(Bt(s)),sn(s))for(let l=10;l<s.length;l++){const d=s[l],h=d[1].firstChild;null!==h&&nd(d[1],d,h,i)}const o=c.type;if(8&o)nd(a,u,c.child,i);else if(32&o){const l=C_(c,u);let d;for(;d=l();)i.push(d)}else if(16&o){const l=vg(u,c);if(Array.isArray(l))i.push(...l);else{const d=rt(u[16]);nd(d[1],d,l,i,!0)}}c=r?c.projectionNext:c.next}return i}class Df{constructor(u,c){this._lView=u,this._cdRefInjectingView=c,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const u=this._lView,c=u[1];return nd(c,u,c.firstChild,[])}get context(){return this._lView[8]}set context(u){this._lView[8]=u}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const u=this._lView[3];if(sn(u)){const c=u[8],i=c?c.indexOf(this):-1;i>-1&&(T_(u,i),Hi(c,i))}this._attachedToViewContainer=!1}A_(this._lView[1],this._lView)}onDestroy(u){jw(this._lView[1],this._lView,null,u)}markForCheck(){J_(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){ev(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(a,u,c){ys(!0);try{ev(a,u,c)}finally{ys(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var u;this._appRef=null,Th(this._lView[1],u=this._lView,u[11],2,null,null)}attachToAppRef(u){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=u}}class PI extends Df{constructor(u){super(u),this._view=u}detectChanges(){pr(this._view)}checkNoChanges(){!function(a){ys(!0);try{pr(a)}finally{ys(!1)}}(this._view)}get context(){return null}}const OA=function(a){return function(a,u,c){if(ml(a)&&!c){const i=zn(a.index,u);return new Df(i,i)}return 47&a.type?new Df(u[16],u):null}(cn(),fe(),16==(16&a))};let Bm=(()=>{class a{}return a.__NG_ELEMENT_ID__=OA,a})();const jm=[new Dn],FI=new bf([new pE]),LI=new Um(jm),VI=function(){return Nf(cn(),fe())};let Sf=(()=>{class a{}return a.__NG_ELEMENT_ID__=VI,a})();const FA=Sf,LA=class extends FA{constructor(u,c,i){super(),this._declarationLView=u,this._declarationTContainer=c,this.elementRef=i}createEmbeddedView(u){const c=this._declarationTContainer.tViews,i=Da(this._declarationLView,c,u,16,null,c.declTNode,null,null,null,null);i[17]=this._declarationLView[this._declarationTContainer.index];const s=this._declarationLView[19];return null!==s&&(i[19]=s.createEmbeddedView(c)),Ph(c,i,u),new Df(i)}};function Nf(a,u){return 4&a.type?new LA(u,a,ju(a,u)):null}class $u{}class Rn{}const Rf=function(){return EE(cn(),fe())};let pi=(()=>{class a{}return a.__NG_ELEMENT_ID__=Rf,a})();const UI=pi,rd=class extends UI{constructor(u,c,i){super(),this._lContainer=u,this._hostTNode=c,this._hostLView=i}get element(){return ju(this._hostTNode,this._hostLView)}get injector(){return new sa(this._hostTNode,this._hostLView)}get parentInjector(){const u=co(this._hostTNode,this._hostLView);if(Kd(u)){const c=na(u,this._hostLView),i=ou(u);return new sa(c[1].data[i+8],c)}return new sa(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(u){const c=vE(this._lContainer);return null!==c&&c[u]||null}get length(){return this._lContainer.length-10}createEmbeddedView(u,c,i){const r=u.createEmbeddedView(c||{});return this.insert(r,i),r}createComponent(u,c,i,r,s){const o=i||this.parentInjector;if(!s&&null==u.ngModule&&o){const d=o.get($u,null);d&&(s=d)}const l=u.create(o,r,void 0,s);return this.insert(l.hostView,c),l}insert(u,c){const i=u._lView,r=i[1];if(sn(i[3])){const g=this.indexOf(u);if(-1!==g)this.detach(g);else{const _=i[3],w=new rd(_,_[6],_[3]);w.detach(w.indexOf(u))}}const s=this._adjustIndex(c),o=this._lContainer;!function(a,u,c,i){const r=10+i,s=c.length;i>0&&(c[r-1][4]=u),i<s-10?(u[4]=c[r],Zn(c,10+i,u)):(c.push(u),u[4]=null),u[3]=c;const o=u[17];null!==o&&c!==o&&function(a,u){const c=a[9];u[16]!==u[3][3][16]&&(a[2]=!0),null===c?a[9]=[u]:c.push(u)}(o,u);const l=u[19];null!==l&&l.insertView(a),u[2]|=128}(r,i,o,s);const l=pc(s,o),d=i[11],h=yg(d,o[7]);return null!==h&&function(a,u,c,i,r,s){i[0]=r,i[6]=u,Th(a,i,c,1,r,s)}(r,o[6],d,i,h,l),u.attachToViewContainerRef(),Zn(Hm(o),s,u),u}move(u,c){return this.insert(u,c)}indexOf(u){const c=vE(this._lContainer);return null!==c?c.indexOf(u):-1}remove(u){const c=this._adjustIndex(u,-1),i=T_(this._lContainer,c);i&&(Hi(Hm(this._lContainer),c),A_(i[1],i))}detach(u){const c=this._adjustIndex(u,-1),i=T_(this._lContainer,c);return i&&null!=Hi(Hm(this._lContainer),c)?new Df(i):null}_adjustIndex(u,c=0){return null==u?this.length+c:u}};function vE(a){return a[8]}function Hm(a){return a[8]||(a[8]=[])}function EE(a,u){let c;const i=u[a.index];if(sn(i))c=i;else{let r;if(8&a.type)r=Bt(i);else{const s=u[11];r=s.createComment("");const o=Cr(a,u);it(s,yg(s,o),r,function(a,u){return Ut(a)?a.nextSibling(u):u.nextSibling}(s,o),!1)}u[a.index]=c=function(a,u,c,i){return new Array(a,!0,!1,u,null,0,i,c,null,null)}(i,u,r,a),Fg(u,c)}return new rd(c,a,u)}const Fa={};class FE extends hi{constructor(u){super(),this.ngModule=u}resolveComponentFactory(u){const c=An(u);return new Xu(c,this.ngModule)}}function lb(a){const u=[];for(let c in a)a.hasOwnProperty(c)&&u.push({propName:a[c],templateName:c});return u}const iS=new Kt("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>bo});class Xu extends Ef{constructor(u,c){super(),this.componentDef=u,this.ngModule=c,this.componentType=u.type,this.selector=u.selectors.map(L_).join(","),this.ngContentSelectors=u.ngContentSelectors?u.ngContentSelectors:[],this.isBoundToModule=!!c}get inputs(){return lb(this.componentDef.inputs)}get outputs(){return lb(this.componentDef.outputs)}create(u,c,i,r){const s=(r=r||this.ngModule)?function(a,u){return{get:(c,i,r)=>{const s=a.get(c,Fa,r);return s!==Fa||i===Fa?s:u.get(c,i,r)}}}(u,r.injector):u,o=s.get(Hu,Tl),l=s.get($s,null),d=o.createRenderer(null,this.componentDef),h=this.componentDef.selectors[0][0]||"div",g=i?function(a,u,c){if(Ut(a))return a.selectRootElement(u,c===Rt.ShadowDom);let i="string"==typeof u?a.querySelector(u):u;return i.textContent="",i}(d,i,this.componentDef.encapsulation):mg(o.createRenderer(null,this.componentDef),h,function(a){const u=a.toLowerCase();return"svg"===u?"http://www.w3.org/2000/svg":"math"===u?"http://www.w3.org/1998/MathML/":null}(h)),_=this.componentDef.onPush?576:528,w=function(a,u){return{components:[],scheduler:a||bo,clean:Dc,playerHandler:u||null,flags:0}}(),C=Og(0,null,null,1,0,null,null,null,null,null),I=Da(null,C,w,_,null,null,o,d,l,s);let A,D;iu(I);try{const P=function(a,u,c,i,r,s){const o=c[1];c[20]=a;const d=Au(o,20,2,"#host",null),h=d.mergedAttrs=u.hostAttrs;null!==h&&(Lh(d,h,!0),null!==a&&(Is(r,a,h),null!==d.classes&&O_(r,a,d.classes),null!==d.styles&&Iw(r,a,d.styles)));const g=i.createRenderer(a,u),_=Da(c,Vw(u),null,u.onPush?64:16,c[20],d,i,g,s||null,null);return o.firstCreatePass&&(Ul(Ke(d,c),o,u.type),Z_(o,d),Kw(d,c.length,1)),Fg(c,_),c[20]=_}(g,this.componentDef,I,o,d);if(g)if(i)Is(d,g,["ng-version",Lm.full]);else{const{attrs:L,classes:ae}=function(a){const u=[],c=[];let i=1,r=2;for(;i<a.length;){let s=a[i];if("string"==typeof s)2===r?""!==s&&u.push(s,a[++i]):8===r&&c.push(s);else{if(!bi(r))break;r=s}i++}return{attrs:u,classes:c}}(this.componentDef.selectors[0]);L&&Is(d,g,L),ae&&ae.length>0&&O_(d,g,ae.join(" "))}if(D=fs(C,20),void 0!==c){const L=D.projection=[];for(let ae=0;ae<this.ngContentSelectors.length;ae++){const Ie=c[ae];L.push(null!=Ie?Array.from(Ie):null)}}A=function(a,u,c,i,r){const s=c[1],o=function(a,u,c){const i=cn();a.firstCreatePass&&(c.providersResolver&&c.providersResolver(c),Yw(a,i,u,wc(a,u,1,null),c));const r=jr(u,a,i.directiveStart,i);bt(r,u);const s=Cr(i,u);return s&&bt(s,u),r}(s,c,u);if(i.components.push(o),a[8]=o,r&&r.forEach(d=>d(o,u)),u.contentQueries){const d=cn();u.contentQueries(1,o,d.directiveStart)}const l=cn();return!s.firstCreatePass||null===u.hostBindings&&null===u.hostAttrs||(dr(l.index),Gw(c[1],l,0,l.directiveStart,l.directiveEnd,u),ET(u,o)),o}(P,this.componentDef,I,w,[mC]),Ph(C,I,null)}finally{Vp()}return new db(this.componentType,A,ju(D,I),I,D)}}class db extends class{}{constructor(u,c,i,r,s){super(),this.location=i,this._rootLView=r,this._tNode=s,this.instance=c,this.hostView=this.changeDetectorRef=new PI(r),this.componentType=u}get injector(){return new sa(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(u){this.hostView.onDestroy(u)}}const fd=new Map;class sS extends $u{constructor(u,c){super(),this._parent=c,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new FE(this);const i=Et(u),r=u[nn]||null;r&&Jv(r),this._bootstrapComponents=Ci(i.bootstrap),this._r3Injector=sC(u,c,[{provide:$u,useValue:this},{provide:hi,useValue:this.componentFactoryResolver}],R(u)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(u)}get(u,c=xt.THROW_IF_NOT_FOUND,i=ye.Default){return u===xt||u===$u||u===Di?this:this._r3Injector.get(u,c,i)}destroy(){const u=this._r3Injector;!u.destroyed&&u.destroy(),this.destroyCbs.forEach(c=>c()),this.destroyCbs=null}onDestroy(u){this.destroyCbs.push(u)}}class Uf extends Rn{constructor(u){super(),this.moduleType=u,null!==Et(u)&&function(a){const u=new Set;!function c(i){const r=Et(i,!0),s=r.id;null!==s&&(function(a,u,c){if(u&&u!==c)throw new Error(`Duplicate module registered for ${a} - ${R(u)} vs ${R(u.name)}`)}(s,fd.get(s),i),fd.set(s,i));const o=Ci(r.imports);for(const l of o)u.has(l)||(u.add(l),c(l))}(a)}(u)}create(u){return new sS(this.moduleType,u)}}function On(a,u,c){const i=function(){const a=qe.lFrame;let u=a.bindingRootIndex;return-1===u&&(u=a.bindingRootIndex=a.tView.bindingStartIndex),u}()+a,r=fe();return r[i]===Ye?function(a,u,c){return a[u]=c}(r,i,c?u.call(c):u()):function(a,u){return a[u]}(r,i)}function $f(a){return u=>{setTimeout(a,void 0,u)}}const rs=class extends y.xQ{constructor(u=!1){super(),this.__isAsync=u}emit(u){super.next(u)}subscribe(u,c,i){var r,s,o;let l=u,d=c||(()=>null),h=i;if(u&&"object"==typeof u){const _=u;l=null===(r=_.next)||void 0===r?void 0:r.bind(_),d=null===(s=_.error)||void 0===s?void 0:s.bind(_),h=null===(o=_.complete)||void 0===o?void 0:o.bind(_)}this.__isAsync&&(d=$f(d),l&&(l=$f(l)),h&&(h=$f(h)));const g=super.subscribe({next:l,error:d,complete:h});return u instanceof K.w&&u.add(g),g}};function mS(){return this._results[es()]()}class Jm{constructor(u=!1){this._emitDistinctChangesOnly=u,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const c=es(),i=Jm.prototype;i[c]||(i[c]=mS)}get changes(){return this._changes||(this._changes=new rs)}get(u){return this._results[u]}map(u){return this._results.map(u)}filter(u){return this._results.filter(u)}find(u){return this._results.find(u)}reduce(u,c){return this._results.reduce(u,c)}forEach(u){this._results.forEach(u)}some(u){return this._results.some(u)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(u,c){const i=this;i.dirty=!1;const r=hr(u);(this._changesDetected=!function(a,u,c){if(a.length!==u.length)return!1;for(let i=0;i<a.length;i++){let r=a[i],s=u[i];if(c&&(r=c(r),s=c(s)),s!==r)return!1}return!0}(i._results,r,c))&&(i._results=r,i.length=r.length,i.last=r[this.length-1],i.first=r[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;class tl{constructor(u){this.queryList=u,this.matches=null}clone(){return new tl(this.queryList)}setDirty(){this.queryList.setDirty()}}class Gf{constructor(u=[]){this.queries=u}createEmbeddedView(u){const c=u.queries;if(null!==c){const i=null!==u.contentQueries?u.contentQueries[0]:c.length,r=[];for(let s=0;s<i;s++){const o=c.getByIndex(s);r.push(this.queries[o.indexInDeclarationView].clone())}return new Gf(r)}return null}insertView(u){this.dirtyQueriesWithMatches(u)}detachView(u){this.dirtyQueriesWithMatches(u)}dirtyQueriesWithMatches(u){for(let c=0;c<this.queries.length;c++)null!==ry(u,c).matches&&this.queries[c].setDirty()}}class nl{constructor(u,c,i=null){this.predicate=u,this.flags=c,this.read=i}}class qf{constructor(u=[]){this.queries=u}elementStart(u,c){for(let i=0;i<this.queries.length;i++)this.queries[i].elementStart(u,c)}elementEnd(u){for(let c=0;c<this.queries.length;c++)this.queries[c].elementEnd(u)}embeddedTView(u){let c=null;for(let i=0;i<this.length;i++){const r=null!==c?c.length:0,s=this.getByIndex(i).embeddedTView(u,r);s&&(s.indexInDeclarationView=i,null!==c?c.push(s):c=[s])}return null!==c?new qf(c):null}template(u,c){for(let i=0;i<this.queries.length;i++)this.queries[i].template(u,c)}getByIndex(u){return this.queries[u]}get length(){return this.queries.length}track(u){this.queries.push(u)}}class md{constructor(u,c=-1){this.metadata=u,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=c}elementStart(u,c){this.isApplyingToNode(c)&&this.matchTNode(u,c)}elementEnd(u){this._declarationNodeIndex===u.index&&(this._appliesToNextNode=!1)}template(u,c){this.elementStart(u,c)}embeddedTView(u,c){return this.isApplyingToNode(u)?(this.crossesNgTemplate=!0,this.addMatch(-u.index,c),new md(this.metadata)):null}isApplyingToNode(u){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const c=this._declarationNodeIndex;let i=u.parent;for(;null!==i&&8&i.type&&i.index!==c;)i=i.parent;return c===(null!==i?i.index:-1)}return this._appliesToNextNode}matchTNode(u,c){const i=this.metadata.predicate;if(Array.isArray(i))for(let r=0;r<i.length;r++){const s=i[r];this.matchTNodeWithReadOption(u,c,Wf(c,s)),this.matchTNodeWithReadOption(u,c,Bi(c,u,s,!1,!1))}else i===Sf?4&c.type&&this.matchTNodeWithReadOption(u,c,-1):this.matchTNodeWithReadOption(u,c,Bi(c,u,i,!1,!1))}matchTNodeWithReadOption(u,c,i){if(null!==i){const r=this.metadata.read;if(null!==r)if(r===Hs||r===pi||r===Sf&&4&c.type)this.addMatch(c.index,-2);else{const s=Bi(c,u,r,!1,!1);null!==s&&this.addMatch(c.index,s)}else this.addMatch(c.index,i)}}addMatch(u,c){null===this.matches?this.matches=[u,c]:this.matches.push(u,c)}}function Wf(a,u){const c=a.localNames;if(null!==c)for(let i=0;i<c.length;i+=2)if(c[i]===u)return c[i+1];return null}function vb(a,u,c,i){return-1===c?function(a,u){return 11&a.type?ju(a,u):4&a.type?Nf(a,u):null}(u,a):-2===c?function(a,u,c){return c===Hs?ju(u,a):c===Sf?Nf(u,a):c===pi?EE(u,a):void 0}(a,u,i):jr(a,a[1],c,u)}function Xm(a,u,c,i){const r=u[19].queries[i];if(null===r.matches){const s=a.data,o=c.matches,l=[];for(let d=0;d<o.length;d+=2){const h=o[d];l.push(h<0?null:vb(u,s[h],o[d+1],c.metadata.read))}r.matches=l}return r.matches}function zs(a,u,c,i){const r=a.queries.getByIndex(c),s=r.matches;if(null!==s){const o=Xm(a,u,r,c);for(let l=0;l<s.length;l+=2){const d=s[l];if(d>0)i.push(o[l/2]);else{const h=s[l+1],g=u[-d];for(let _=10;_<g.length;_++){const w=g[_];w[17]===w[3]&&zs(w[1],w,h,i)}if(null!==g[9]){const _=g[9];for(let w=0;w<_.length;w++){const C=_[w];zs(C[1],C,h,i)}}}}}return i}function GE(a){const u=fe(),c=ut(),i=kp();Fp(i+1);const r=ry(c,i);if(a.dirty&&eu(u)===(2==(2&r.metadata.flags))){if(null===r.matches)a.reset([]);else{const s=r.crossesNgTemplate?zs(c,u,i,[]):Xm(c,u,r,i);a.reset(s,mn),a.notifyOnChanges()}return!0}return!1}function ey(a,u,c,i){const r=ut();if(r.firstCreatePass){const s=cn();(function(a,u,c){null===a.queries&&(a.queries=new qf),a.queries.track(new md(u,c))})(r,new nl(u,c,i),s.index),function(a,u){const c=a.contentQueries||(a.contentQueries=[]);u!==(c.length?c[c.length-1]:-1)&&c.push(a.queries.length-1,u)}(r,a),2==(2&c)&&(r.staticContentQueries=!0)}!function(a,u,c){const i=new Jm(4==(4&c));jw(a,u,i,i.destroy),null===u[19]&&(u[19]=new Gf),u[19].queries.push(new tl(i))}(r,fe(),c)}function Eb(){return a=fe(),u=kp(),a[19].queries[u].queryList;var a,u}function ry(a,u){return a.queries.getByIndex(u)}const d0=new Kt("Application Initializer");let Ua=(()=>{class a{constructor(c){this.appInits=c,this.resolve=wf,this.reject=wf,this.initialized=!1,this.done=!1,this.donePromise=new Promise((i,r)=>{this.resolve=i,this.reject=r})}runInitializers(){if(this.initialized)return;const c=[],i=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let r=0;r<this.appInits.length;r++){const s=this.appInits[r]();if(Nu(s))c.push(s);else if(Jh(s)){const o=new Promise((l,d)=>{s.subscribe({complete:l,error:d})});c.push(o)}}Promise.all(c).then(()=>{i()}).catch(r=>{this.reject(r)}),0===c.length&&i(),this.initialized=!0}}return a.\u0275fac=function(c){return new(c||a)(Yt(d0,8))},a.\u0275prov=$t({token:a,factory:a.\u0275fac}),a})();const h0=new Kt("AppId"),zb={provide:h0,useFactory:function(){return`${p0()}${p0()}${p0()}`},deps:[]};function p0(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Zb=new Kt("Platform Initializer"),uy=new Kt("Platform ID"),Kb=new Kt("appBootstrapListener");let ly=(()=>{class a{log(c){console.log(c)}warn(c){console.warn(c)}}return a.\u0275fac=function(c){return new(c||a)},a.\u0275prov=$t({token:a,factory:a.\u0275fac}),a})();const Ed=new Kt("LocaleId"),Qb=new Kt("DefaultCurrencyCode");class MS{constructor(u,c){this.ngModuleFactory=u,this.componentFactories=c}}const m0=function(a){return new Uf(a)},Jb=m0,y0=function(a){return Promise.resolve(m0(a))},cy=function(a){const u=m0(a),i=Ci(Et(a).declarations).reduce((r,s)=>{const o=An(s);return o&&r.push(new Xu(o)),r},[]);return new MS(u,i)},dy=cy,_0=function(a){return Promise.resolve(cy(a))};let wd=(()=>{class a{constructor(){this.compileModuleSync=Jb,this.compileModuleAsync=y0,this.compileModuleAndAllComponentsSync=dy,this.compileModuleAndAllComponentsAsync=_0}clearCache(){}clearCacheFor(c){}getModuleId(c){}}return a.\u0275fac=function(c){return new(c||a)},a.\u0275prov=$t({token:a,factory:a.\u0275fac}),a})();const E0=(()=>Promise.resolve(0))();function w0(a){"undefined"==typeof Zone?E0.then(()=>{a&&a.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",a)}class gi{constructor({enableLongStackTrace:u=!1,shouldCoalesceEventChangeDetection:c=!1,shouldCoalesceRunChangeDetection:i=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new rs(!1),this.onMicrotaskEmpty=new rs(!1),this.onStable=new rs(!1),this.onError=new rs(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const r=this;r._nesting=0,r._outer=r._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(r._inner=r._inner.fork(new Zone.TaskTrackingZoneSpec)),u&&Zone.longStackTraceZoneSpec&&(r._inner=r._inner.fork(Zone.longStackTraceZoneSpec)),r.shouldCoalesceEventChangeDetection=!i&&c,r.shouldCoalesceRunChangeDetection=i,r.lastRequestAnimationFrameId=-1,r.nativeRequestAnimationFrame=function(){let a=N.requestAnimationFrame,u=N.cancelAnimationFrame;if("undefined"!=typeof Zone&&a&&u){const c=a[Zone.__symbol__("OriginalDelegate")];c&&(a=c);const i=u[Zone.__symbol__("OriginalDelegate")];i&&(u=i)}return{nativeRequestAnimationFrame:a,nativeCancelAnimationFrame:u}}().nativeRequestAnimationFrame,function(a){const u=()=>{!function(a){a.isCheckStableRunning||-1!==a.lastRequestAnimationFrameId||(a.lastRequestAnimationFrameId=a.nativeRequestAnimationFrame.call(N,()=>{a.fakeTopEventTask||(a.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{a.lastRequestAnimationFrameId=-1,I0(a),a.isCheckStableRunning=!0,C0(a),a.isCheckStableRunning=!1},void 0,()=>{},()=>{})),a.fakeTopEventTask.invoke()}),I0(a))}(a)};a._inner=a._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(c,i,r,s,o,l)=>{try{return iD(a),c.invokeTask(r,s,o,l)}finally{(a.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||a.shouldCoalesceRunChangeDetection)&&u(),sD(a)}},onInvoke:(c,i,r,s,o,l,d)=>{try{return iD(a),c.invoke(r,s,o,l,d)}finally{a.shouldCoalesceRunChangeDetection&&u(),sD(a)}},onHasTask:(c,i,r,s)=>{c.hasTask(r,s),i===r&&("microTask"==s.change?(a._hasPendingMicrotasks=s.microTask,I0(a),C0(a)):"macroTask"==s.change&&(a.hasPendingMacrotasks=s.macroTask))},onHandleError:(c,i,r,s)=>(c.handleError(r,s),a.runOutsideAngular(()=>a.onError.emit(s)),!1)})}(r)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!gi.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(gi.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(u,c,i){return this._inner.run(u,c,i)}runTask(u,c,i,r){const s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+r,u,nD,wf,wf);try{return s.runTask(o,c,i)}finally{s.cancelTask(o)}}runGuarded(u,c,i){return this._inner.runGuarded(u,c,i)}runOutsideAngular(u){return this._outer.run(u)}}const nD={};function C0(a){if(0==a._nesting&&!a.hasPendingMicrotasks&&!a.isStable)try{a._nesting++,a.onMicrotaskEmpty.emit(null)}finally{if(a._nesting--,!a.hasPendingMicrotasks)try{a.runOutsideAngular(()=>a.onStable.emit(null))}finally{a.isStable=!0}}}function I0(a){a.hasPendingMicrotasks=!!(a._hasPendingMicrotasks||(a.shouldCoalesceEventChangeDetection||a.shouldCoalesceRunChangeDetection)&&-1!==a.lastRequestAnimationFrameId)}function iD(a){a._nesting++,a.isStable&&(a.isStable=!1,a.onUnstable.emit(null))}function sD(a){a._nesting--,C0(a)}class LS{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new rs,this.onMicrotaskEmpty=new rs,this.onStable=new rs,this.onError=new rs}run(u,c,i){return u.apply(c,i)}runGuarded(u,c,i){return u.apply(c,i)}runOutsideAngular(u){return u()}runTask(u,c,i,r){return u.apply(c,i)}}let sl=(()=>{class a{constructor(c){this._ngZone=c,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),c.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{gi.assertNotInAngularZone(),w0(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())w0(()=>{for(;0!==this._callbacks.length;){let c=this._callbacks.pop();clearTimeout(c.timeoutId),c.doneCb(this._didWork)}this._didWork=!1});else{let c=this.getPendingTasks();this._callbacks=this._callbacks.filter(i=>!i.updateCb||!i.updateCb(c)||(clearTimeout(i.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(c=>({source:c.source,creationLocation:c.creationLocation,data:c.data})):[]}addCallback(c,i,r){let s=-1;i&&i>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(o=>o.timeoutId!==s),c(this._didWork,this.getPendingTasks())},i)),this._callbacks.push({doneCb:c,timeoutId:s,updateCb:r})}whenStable(c,i,r){if(r&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(c,i,r),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(c,i,r){return[]}}return a.\u0275fac=function(c){return new(c||a)(Yt(gi))},a.\u0275prov=$t({token:a,factory:a.\u0275fac}),a})(),b0=(()=>{class a{constructor(){this._applications=new Map,hy.addToWindow(this)}registerApplication(c,i){this._applications.set(c,i)}unregisterApplication(c){this._applications.delete(c)}unregisterAllApplications(){this._applications.clear()}getTestability(c){return this._applications.get(c)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(c,i=!0){return hy.findTestabilityInTree(this,c,i)}}return a.\u0275fac=function(c){return new(c||a)},a.\u0275prov=$t({token:a,factory:a.\u0275fac}),a})();class D0{addToWindow(u){}findTestabilityInTree(u,c,i){return null}}function oD(a){hy=a}let hy=new D0,T0=!0,Jf=!1;function _t(){return Jf=!0,T0}function aD(){if(Jf)throw new Error("Cannot enable prod mode after platform setup.");T0=!1}let Mi;const S0=new Kt("AllowMultipleToken");class US{constructor(u,c){this.name=u,this.token=c}}function cD(a,u,c=[]){const i=`Platform: ${u}`,r=new Kt(i);return(s=[])=>{let o=jS();if(!o||o.injector.get(S0,!1))if(a)a(c.concat(s).concat({provide:r,useValue:!0}));else{const l=c.concat(s).concat({provide:r,useValue:!0},{provide:Vh,useValue:"platform"});!function(a){if(Mi&&!Mi.destroyed&&!Mi.injector.get(S0,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");Mi=a.get(HS);const u=a.get(Zb,null);u&&u.forEach(c=>c())}(xt.create({providers:l,name:i}))}return function(a){const u=jS();if(!u)throw new Error("No platform exists!");if(!u.injector.get(a,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return u}(r)}}function jS(){return Mi&&!Mi.destroyed?Mi:null}let HS=(()=>{class a{constructor(c){this._injector=c,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(c,i){const l=function(a,u){let c;return c="noop"===a?new LS:("zone.js"===a?void 0:a)||new gi({enableLongStackTrace:_t(),shouldCoalesceEventChangeDetection:!!(null==u?void 0:u.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==u?void 0:u.ngZoneRunCoalescing)}),c}(i?i.ngZone:void 0,{ngZoneEventCoalescing:i&&i.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:i&&i.ngZoneRunCoalescing||!1}),d=[{provide:gi,useValue:l}];return l.run(()=>{const h=xt.create({providers:d,parent:this.injector,name:c.moduleType.name}),g=c.create(h),_=g.injector.get(Ee,null);if(!_)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return l.runOutsideAngular(()=>{const w=l.onError.subscribe({next:C=>{_.handleError(C)}});g.onDestroy(()=>{fy(this._modules,g),w.unsubscribe()})}),function(a,u,c){try{const i=c();return Nu(i)?i.catch(r=>{throw u.runOutsideAngular(()=>a.handleError(r)),r}):i}catch(i){throw u.runOutsideAngular(()=>a.handleError(i)),i}}(_,l,()=>{const w=g.injector.get(Ua);return w.runInitializers(),w.donePromise.then(()=>(Jv(g.injector.get(Ed,Sm)||Sm),this._moduleDoBootstrap(g),g))})})}bootstrapModule(c,i=[]){const r=hD({},i);return function(a,u,c){const i=new Uf(c);return Promise.resolve(i)}(0,0,c).then(s=>this.bootstrapModuleFactory(s,r))}_moduleDoBootstrap(c){const i=c.injector.get(ep);if(c._bootstrapComponents.length>0)c._bootstrapComponents.forEach(r=>i.bootstrap(r));else{if(!c.instance.ngDoBootstrap)throw new Error(`The module ${R(c.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);c.instance.ngDoBootstrap(i)}this._modules.push(c)}onDestroy(c){this._destroyListeners.push(c)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(c=>c.destroy()),this._destroyListeners.forEach(c=>c()),this._destroyed=!0}get destroyed(){return this._destroyed}}return a.\u0275fac=function(c){return new(c||a)(Yt(xt))},a.\u0275prov=$t({token:a,factory:a.\u0275fac}),a})();function hD(a,u){return Array.isArray(u)?u.reduce(hD,a):Object.assign(Object.assign({},a),u)}let ep=(()=>{class a{constructor(c,i,r,s,o){this._zone=c,this._injector=i,this._exceptionHandler=r,this._componentFactoryResolver=s,this._initStatus=o,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const l=new O.y(h=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{h.next(this._stable),h.complete()})}),d=new O.y(h=>{let g;this._zone.runOutsideAngular(()=>{g=this._zone.onStable.subscribe(()=>{gi.assertNotInAngularZone(),w0(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,h.next(!0))})})});const _=this._zone.onUnstable.subscribe(()=>{gi.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{h.next(!1)}))});return()=>{g.unsubscribe(),_.unsubscribe()}});this.isStable=(0,z.T)(l,d.pipe(a=>(0,oe.x)()(function(a,u){return function(i){let r;r="function"==typeof a?a:function(){return a};const s=Object.create(i,se.N);return s.source=i,s.subjectFactory=r,s}}(U)(a))))}bootstrap(c,i){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let r;r=c instanceof Ef?c:this._componentFactoryResolver.resolveComponentFactory(c),this.componentTypes.push(r.componentType);const s=function(a){return a.isBoundToModule}(r)?void 0:this._injector.get($u),l=r.create(xt.NULL,[],i||r.selector,s),d=l.location.nativeElement,h=l.injector.get(sl,null),g=h&&l.injector.get(b0);return h&&g&&g.registerApplication(d,h),l.onDestroy(()=>{this.detachView(l.hostView),fy(this.components,l),g&&g.unregisterApplication(d)}),this._loadComponent(l),l}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let c of this._views)c.detectChanges()}catch(c){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(c))}finally{this._runningTick=!1}}attachView(c){const i=c;this._views.push(i),i.attachToAppRef(this)}detachView(c){const i=c;fy(this._views,i),i.detachFromAppRef()}_loadComponent(c){this.attachView(c.hostView),this.tick(),this.components.push(c),this._injector.get(Kb,[]).concat(this._bootstrapListeners).forEach(r=>r(c))}ngOnDestroy(){this._views.slice().forEach(c=>c.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return a.\u0275fac=function(c){return new(c||a)(Yt(gi),Yt(xt),Yt(Ee),Yt(hi),Yt(Ua))},a.\u0275prov=$t({token:a,factory:a.\u0275fac}),a})();function fy(a,u){const c=a.indexOf(u);c>-1&&a.splice(c,1)}class GS{}class SN{}const Ys={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let ol=(()=>{class a{constructor(c,i){this._compiler=c,this._config=i||Ys}load(c){return this.loadAndCompile(c)}loadAndCompile(c){let[i,r]=c.split("#");return void 0===r&&(r="default"),x(8255)(i).then(s=>s[r]).then(s=>tp(s,i,r)).then(s=>this._compiler.compileModuleAsync(s))}loadFactory(c){let[i,r]=c.split("#"),s="NgFactory";return void 0===r&&(r="default",s=""),x(8255)(this._config.factoryPathPrefix+i+this._config.factoryPathSuffix).then(o=>o[r+s]).then(o=>tp(o,i,r))}}return a.\u0275fac=function(c){return new(c||a)(Yt(wd),Yt(SN,8))},a.\u0275prov=$t({token:a,factory:a.\u0275fac}),a})();function tp(a,u,c){if(!a)throw new Error(`Cannot find '${c}' in '${u}'`);return a}const vD=function(a){return null},Ha=cD(null,"core",[{provide:uy,useValue:"unknown"},{provide:HS,deps:[xt]},{provide:b0,deps:[]},{provide:ly,deps:[]}]),zS=[{provide:ep,useClass:ep,deps:[gi,xt,Ee,hi,Ua]},{provide:iS,deps:[gi],useFactory:function(a){let u=[];return a.onStable.subscribe(()=>{for(;u.length;)u.pop()()}),function(c){u.push(c)}}},{provide:Ua,useClass:Ua,deps:[[new Zi,d0]]},{provide:wd,useClass:wd,deps:[]},zb,{provide:bf,useFactory:function(){return FI},deps:[]},{provide:Um,useFactory:function(){return LI},deps:[]},{provide:Ed,useFactory:function(a){return Jv(a=a||"undefined"!=typeof $localize&&$localize.locale||Sm),a},deps:[[new _o(Ed),new Zi,new Ki]]},{provide:Qb,useValue:"USD"}];let KS=(()=>{class a{constructor(c){}}return a.\u0275fac=function(c){return new(c||a)(Yt(ep))},a.\u0275mod=Fi({type:a}),a.\u0275inj=Pi({providers:zS}),a})()},9958:(Oe,he,x)=>{"use strict";x.d(he,{hO:()=>ne,xv:()=>M,Dh:()=>S,GT:()=>oe,on:()=>k,pX:()=>le});var y=x(3018),K=x(4486);K.Z.registerVersion("firebase","9.0.1","app-compat");var se=x(9126);Oe=x.hmd(Oe);const Z=["ngOnDestroy"],le=(G,q,pe,de={})=>new Proxy(G,{get:(_e,Ce)=>pe.runOutsideAngular(()=>{var be;if(G[Ce])return(null===(be=null==de?void 0:de.spy)||void 0===be?void 0:be.get)&&de.spy.get(Ce,G[Ce]),G[Ce];if(Z.indexOf(Ce)>-1)return()=>{};const De=q.toPromise().then(te=>{const Xe=te&&te[Ce];return"function"==typeof Xe?Xe.bind(te):Xe&&Xe.then?Xe.then(Ze=>pe.run(()=>Ze)):pe.run(()=>Xe)});return new Proxy(()=>{},{get:(te,Xe)=>De[Xe],apply:(te,Xe,Ze)=>De.then(Q=>{var W;const J=Q&&Q(...Ze);return(null===(W=null==de?void 0:de.spy)||void 0===W?void 0:W.apply)&&de.spy.apply(Ce,Ze,J),J})})})}),oe=(G,q)=>{q.forEach(pe=>{Object.getOwnPropertyNames(pe.prototype||pe).forEach(de=>{Object.defineProperty(G.prototype,de,Object.getOwnPropertyDescriptor(pe.prototype||pe,de))})})};class U{constructor(q){return q}}const S=new y.OlP("angularfire2.app.options"),M=new y.OlP("angularfire2.app.name");function k(G,q,pe){const _e="object"==typeof pe&&pe||{};_e.name=_e.name||"string"==typeof pe&&pe||"[DEFAULT]";const be=K.Z.apps.filter(De=>De&&De.name===_e.name)[0]||q.runOutsideAngular(()=>K.Z.initializeApp(G,_e));try{JSON.stringify(G)!==JSON.stringify(be.options)&&R("error",`${be.name} Firebase App already initialized with different options${Oe.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(De){}return new U(be)}const R=(G,...q)=>{(0,y.X6Q)()&&"undefined"!=typeof console&&console[G](...q)},B={provide:U,useFactory:k,deps:[S,y.R0b,[new y.FiY,M]]};let ne=(()=>{class G{constructor(pe){K.Z.registerVersion("angularfire",se.q4.full,`compat-${pe.toString()}`),K.Z.registerVersion("angular",y.q4F.full)}static initializeApp(pe,de){return{ngModule:G,providers:[{provide:S,useValue:pe},{provide:M,useValue:de}]}}}return G.\u0275fac=function(pe){return new(pe||G)(y.LFG(y.Lbi))},G.\u0275mod=y.oAB({type:G}),G.\u0275inj=y.cJS({providers:[B]}),G})()},9126:(Oe,he,x)=>{"use strict";x.d(he,{q4:()=>S,iC:()=>Q,f6:()=>Ze,HU:()=>Ce,cc:()=>R});var y=x(3018);(0,x(5452).registerVersion)("firebase","9.0.1","app");var se=x(7771),Z=x(3637),le=x(3342),oe=x(309),U=x(3101);Oe=x.hmd(Oe);const S=new y.GfV("7.0.1"),M=!!Oe.hot,k=(X,...H)=>{(0,y.X6Q)()&&"undefined"!=typeof console&&console[X](...H)};function R(X,H,ve,Pe,ct){const[,ke,et]=globalThis.\u0275AngularfireInstanceCache.find(Nt=>Nt[0]===X)||[];if(ke)return function(X,H){try{return X.toString()===H.toString()}catch(ve){return X===H}}(ct,et)||(k("error",`${H} was already initialized on the ${ve} Firebase App with different settings.${M?" You may need to reload as Firebase is not HMR aware.":""}`),k("warn",{is:ct,was:et})),ke;{const Nt=Pe();return globalThis.\u0275AngularfireInstanceCache.push([X,Nt,ct]),Nt}}function pe(){}globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[]);class de{constructor(H,ve=se.N){this.zone=H,this.delegate=ve}now(){return this.delegate.now()}schedule(H,ve,Pe){const ct=this.zone;return this.delegate.schedule(function(et){ct.runGuarded(()=>{H.apply(this,[et])})},ve,Pe)}}class _e{constructor(H){this.zone=H,this.task=null}call(H,ve){const Pe=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",pe,{},pe,pe)),ve.pipe((0,le.b)({next:Pe,complete:Pe,error:Pe})).subscribe(H).add(Pe)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Ce=(()=>{class X{constructor(ve){this.ngZone=ve,this.outsideAngular=ve.runOutsideAngular(()=>new de(Zone.current)),this.insideAngular=ve.run(()=>new de(Zone.current,Z.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return X.\u0275fac=function(ve){return new(ve||X)(y.LFG(y.R0b))},X.\u0275prov=y.Yz7({token:X,factory:X.\u0275fac,providedIn:"root"}),X})();function be(){const X=globalThis.\u0275AngularFireScheduler;if(!X)throw new Error("AngularFireModule has not been provided");return X}function Ze(X){return X.pipe((0,oe.QV)(be().insideAngular))}function Q(X){return be(),function(X){return function(ve){return(ve=ve.lift(new _e(X.ngZone))).pipe((0,U.R)(X.outsideAngular),(0,oe.QV)(X.insideAngular))}}(be())(X)}},4486:(Oe,he,x)=>{"use strict";x.d(he,{Z:()=>G});var y=x(4685),K=x(6034),O=x(5452),z=x(300);class se{constructor(pe,de){this._delegate=pe,this.firebase=de,(0,O._addComponent)(pe,new K.wA("app-compat",()=>this,"PUBLIC")),this.container=pe.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(pe){this._delegate.automaticDataCollectionEnabled=pe}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(pe=>{this._delegate.checkDestroyed(),pe()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,O.deleteApp)(this._delegate)))}_getService(pe,de=O._DEFAULT_ENTRY_NAME){var _e;this._delegate.checkDestroyed();const Ce=this._delegate.container.getProvider(pe);return!Ce.isInitialized()&&"EXPLICIT"===(null===(_e=Ce.getComponent())||void 0===_e?void 0:_e.instantiationMode)&&Ce.initialize(),Ce.getImmediate({identifier:de})}_removeServiceInstance(pe,de=O._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(pe).clearInstance(de)}_addComponent(pe){(0,O._addComponent)(this._delegate,pe)}_addOrOverwriteComponent(pe){(0,O._addOrOverwriteComponent)(this._delegate,pe)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const le=new y.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),S=function U(){const q=function(q){const pe={},de={__esModule:!0,initializeApp:function(Ze,Q={}){const W=O.initializeApp(Ze,Q);if((0,y.r3)(pe,W.name))return pe[W.name];const J=new q(W,de);return pe[W.name]=J,J},app:Ce,registerVersion:O.registerVersion,setLogLevel:O.setLogLevel,onLog:O.onLog,apps:null,SDK_VERSION:O.SDK_VERSION,INTERNAL:{registerComponent:function(Ze){const Q=Ze.name,W=Q.replace("-compat","");if(O._registerComponent(Ze)&&"PUBLIC"===Ze.type){const J=(re=Ce())=>{if("function"!=typeof re[W])throw le.create("invalid-app-argument",{appName:Q});return re[W]()};void 0!==Ze.serviceProps&&(0,y.ZB)(J,Ze.serviceProps),de[W]=J,q.prototype[W]=function(...re){return this._getService.bind(this,Q).apply(this,Ze.multipleInstances?re:[])}}return"PUBLIC"===Ze.type?de[W]:null},removeApp:function(Ze){delete pe[Ze]},useAsService:function(Ze,Q){return"serverAuth"===Q?null:Q},modularAPIs:O}};function Ce(Ze){if(!(0,y.r3)(pe,Ze=Ze||O._DEFAULT_ENTRY_NAME))throw le.create("no-app",{appName:Ze});return pe[Ze]}return de.default=de,Object.defineProperty(de,"apps",{get:function(){return Object.keys(pe).map(Ze=>pe[Ze])}}),Ce.App=q,de}(se);return q.INTERNAL=Object.assign(Object.assign({},q.INTERNAL),{createFirebaseNamespace:U,extendNamespace:function(de){(0,y.ZB)(q,de)},createSubscribe:y.ne,ErrorFactory:y.LL,deepExtend:y.ZB}),q}(),M=new z.Yd("@firebase/app-compat");if((0,y.jU)()&&void 0!==self.firebase){M.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const q=self.firebase.SDK_VERSION;q&&q.indexOf("LITE")>=0&&M.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const ne=S;(0,O.registerVersion)("@firebase/app-compat","0.1.1",undefined);const G=ne},5452:(Oe,he,x)=>{"use strict";x.r(he),x.d(he,{FirebaseError:()=>z.ZR,SDK_VERSION:()=>Ga,_DEFAULT_ENTRY_NAME:()=>ct,_addComponent:()=>un,_addOrOverwriteComponent:()=>mi,_apps:()=>et,_clearComponents:()=>qn,_components:()=>Nt,_getProvider:()=>ot,_registerComponent:()=>Ot,_removeServiceInstance:()=>pt,deleteApp:()=>Go,getApp:()=>kn,getApps:()=>Xs,initializeApp:()=>Pi,onLog:()=>En,registerVersion:()=>ki,setLogLevel:()=>Jr});var y=x(8239),K=x(6034),O=x(300),z=x(4685);class se{constructor(ye){this.container=ye}getPlatformInfoString(){return this.container.getProviders().map(It=>{if(function(tt){const ye=tt.getComponent();return"VERSION"===(null==ye?void 0:ye.type)}(It)){const Pt=It.getImmediate();return`${Pt.library}/${Pt.version}`}return null}).filter(It=>It).join(" ")}}const le="@firebase/app",U=new O.Yd("@firebase/app"),ct="[DEFAULT]",ke={[le]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},et=new Map,Nt=new Map;function un(tt,ye){try{tt.container.addComponent(ye)}catch(It){U.debug(`Component ${ye.name} failed to register with FirebaseApp ${tt.name}`,It)}}function mi(tt,ye){tt.container.addOrOverwriteComponent(ye)}function Ot(tt){const ye=tt.name;if(Nt.has(ye))return U.debug(`There were multiple attempts to register component ${ye}.`),!1;Nt.set(ye,tt);for(const It of et.values())un(It,tt);return!0}function ot(tt,ye){return tt.container.getProvider(ye)}function pt(tt,ye,It=ct){ot(tt,ye).clearInstance(It)}function qn(){Nt.clear()}const ar=new z.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function."});class $t{constructor(ye,It,Pt){this._isDeleted=!1,this._options=Object.assign({},ye),this._config=Object.assign({},It),this._name=It.name,this._automaticDataCollectionEnabled=It.automaticDataCollectionEnabled,this._container=Pt,this.container.addComponent(new K.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ye){this.checkDestroyed(),this._automaticDataCollectionEnabled=ye}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(ye){this._isDeleted=ye}checkDestroyed(){if(this.isDeleted)throw ar.create("app-deleted",{appName:this._name})}}const Ga="9.0.0";function Pi(tt,ye={}){"object"!=typeof ye&&(ye={name:ye});const It=Object.assign({name:ct,automaticDataCollectionEnabled:!1},ye),Pt=It.name;if("string"!=typeof Pt||!Pt)throw ar.create("bad-app-name",{appName:String(Pt)});const Lt=et.get(Pt);if(Lt){if((0,z.vZ)(tt,Lt.options)&&(0,z.vZ)(It,Lt.config))return Lt;throw ar.create("duplicate-app",{appName:Pt})}const Tt=new K.H0(Pt);for(const Re of Nt.values())Tt.addComponent(Re);const xe=new $t(tt,It,Tt);return et.set(Pt,xe),xe}function kn(tt=ct){const ye=et.get(tt);if(!ye)throw ar.create("no-app",{appName:tt});return ye}function Xs(){return Array.from(et.values())}function Go(tt){return eo.apply(this,arguments)}function eo(){return(eo=(0,y.Z)(function*(tt){const ye=tt.name;et.has(ye)&&(et.delete(ye),yield Promise.all(tt.container.getProviders().map(It=>It.delete())),tt.isDeleted=!0)})).apply(this,arguments)}function ki(tt,ye,It){var Pt;let Lt=null!==(Pt=ke[tt])&&void 0!==Pt?Pt:tt;It&&(Lt+=`-${It}`);const Tt=Lt.match(/\s|\//),xe=ye.match(/\s|\//);if(Tt||xe){const Re=[`Unable to register library "${Lt}" with version "${ye}":`];return Tt&&Re.push(`library name "${Lt}" contains illegal characters (whitespace or "/")`),Tt&&xe&&Re.push("and"),xe&&Re.push(`version name "${ye}" contains illegal characters (whitespace or "/")`),void U.warn(Re.join(" "))}Ot(new K.wA(`${Lt}-version`,()=>({library:Lt,version:ye}),"VERSION"))}function En(tt,ye){if(null!==tt&&"function"!=typeof tt)throw ar.create("invalid-log-argument");(0,O.Am)(tt,ye)}function Jr(tt){(0,O.Ub)(tt)}Ot(new K.wA("platform-logger",ye=>new se(ye),"PRIVATE")),ki(le,"0.7.0",undefined),ki("fire-js","")},6034:(Oe,he,x)=>{"use strict";x.d(he,{wA:()=>O,H0:()=>oe});var y=x(4762),K=x(4685),O=function(){function U(S,M,k){this.name=S,this.instanceFactory=M,this.type=k,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return U.prototype.setInstantiationMode=function(S){return this.instantiationMode=S,this},U.prototype.setMultipleInstances=function(S){return this.multipleInstances=S,this},U.prototype.setServiceProps=function(S){return this.serviceProps=S,this},U.prototype.setInstanceCreatedCallback=function(S){return this.onInstanceCreated=S,this},U}(),z="[DEFAULT]",se=function(){function U(S,M){this.name=S,this.container=M,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return U.prototype.get=function(S){var M=this.normalizeInstanceIdentifier(S);if(!this.instancesDeferred.has(M)){var k=new K.BH;if(this.instancesDeferred.set(M,k),this.isInitialized(M)||this.shouldAutoInitialize())try{var R=this.getOrInitializeService({instanceIdentifier:M});R&&k.resolve(R)}catch(B){}}return this.instancesDeferred.get(M).promise},U.prototype.getImmediate=function(S){var M,k=this.normalizeInstanceIdentifier(null==S?void 0:S.identifier),R=null!==(M=null==S?void 0:S.optional)&&void 0!==M&&M;if(!this.isInitialized(k)&&!this.shouldAutoInitialize()){if(R)return null;throw Error("Service "+this.name+" is not available")}try{return this.getOrInitializeService({instanceIdentifier:k})}catch(B){if(R)return null;throw B}},U.prototype.getComponent=function(){return this.component},U.prototype.setComponent=function(S){var M,k;if(S.name!==this.name)throw Error("Mismatching Component "+S.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=S,this.shouldAutoInitialize()){if(function(U){return"EAGER"===U.instantiationMode}(S))try{this.getOrInitializeService({instanceIdentifier:z})}catch(_e){}try{for(var R=(0,y.XA)(this.instancesDeferred.entries()),B=R.next();!B.done;B=R.next()){var ne=(0,y.CR)(B.value,2),q=ne[1],pe=this.normalizeInstanceIdentifier(ne[0]);try{var de=this.getOrInitializeService({instanceIdentifier:pe});q.resolve(de)}catch(_e){}}}catch(_e){M={error:_e}}finally{try{B&&!B.done&&(k=R.return)&&k.call(R)}finally{if(M)throw M.error}}}},U.prototype.clearInstance=function(S){void 0===S&&(S=z),this.instancesDeferred.delete(S),this.instancesOptions.delete(S),this.instances.delete(S)},U.prototype.delete=function(){return(0,y.mG)(this,void 0,void 0,function(){var S;return(0,y.Jh)(this,function(M){switch(M.label){case 0:return S=Array.from(this.instances.values()),[4,Promise.all((0,y.ev)((0,y.ev)([],(0,y.CR)(S.filter(function(k){return"INTERNAL"in k}).map(function(k){return k.INTERNAL.delete()}))),(0,y.CR)(S.filter(function(k){return"_delete"in k}).map(function(k){return k._delete()}))))];case 1:return M.sent(),[2]}})})},U.prototype.isComponentSet=function(){return null!=this.component},U.prototype.isInitialized=function(S){return void 0===S&&(S=z),this.instances.has(S)},U.prototype.getOptions=function(S){return void 0===S&&(S=z),this.instancesOptions.get(S)||{}},U.prototype.initialize=function(S){var M,k;void 0===S&&(S={});var R=S.options,B=void 0===R?{}:R,ne=this.normalizeInstanceIdentifier(S.instanceIdentifier);if(this.isInitialized(ne))throw Error(this.name+"("+ne+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var G=this.getOrInitializeService({instanceIdentifier:ne,options:B});try{for(var q=(0,y.XA)(this.instancesDeferred.entries()),pe=q.next();!pe.done;pe=q.next()){var de=(0,y.CR)(pe.value,2),Ce=de[1];ne===this.normalizeInstanceIdentifier(de[0])&&Ce.resolve(G)}}catch(De){M={error:De}}finally{try{pe&&!pe.done&&(k=q.return)&&k.call(q)}finally{if(M)throw M.error}}return G},U.prototype.onInit=function(S,M){var k,R=this.normalizeInstanceIdentifier(M),B=null!==(k=this.onInitCallbacks.get(R))&&void 0!==k?k:new Set;B.add(S),this.onInitCallbacks.set(R,B);var ne=this.instances.get(R);return ne&&S(ne,R),function(){B.delete(S)}},U.prototype.invokeOnInitCallbacks=function(S,M){var k,R,B=this.onInitCallbacks.get(M);if(B)try{for(var ne=(0,y.XA)(B),G=ne.next();!G.done;G=ne.next()){var q=G.value;try{q(S,M)}catch(pe){}}}catch(pe){k={error:pe}}finally{try{G&&!G.done&&(R=ne.return)&&R.call(ne)}finally{if(k)throw k.error}}},U.prototype.getOrInitializeService=function(S){var M=S.instanceIdentifier,k=S.options,R=void 0===k?{}:k,B=this.instances.get(M);if(!B&&this.component&&(B=this.component.instanceFactory(this.container,{instanceIdentifier:Z(M),options:R}),this.instances.set(M,B),this.instancesOptions.set(M,R),this.invokeOnInitCallbacks(B,M),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,M,B)}catch(ne){}return B||null},U.prototype.normalizeInstanceIdentifier=function(S){return void 0===S&&(S=z),this.component?this.component.multipleInstances?S:z:S},U.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},U}();function Z(U){return U===z?void 0:U}var oe=function(){function U(S){this.name=S,this.providers=new Map}return U.prototype.addComponent=function(S){var M=this.getProvider(S.name);if(M.isComponentSet())throw new Error("Component "+S.name+" has already been registered with "+this.name);M.setComponent(S)},U.prototype.addOrOverwriteComponent=function(S){this.getProvider(S.name).isComponentSet()&&this.providers.delete(S.name),this.addComponent(S)},U.prototype.getProvider=function(S){if(this.providers.has(S))return this.providers.get(S);var M=new se(S,this);return this.providers.set(S,M),M},U.prototype.getProviders=function(){return Array.from(this.providers.values())},U}()},300:(Oe,he,x)=>{"use strict";function y(){for(var k=0,R=0,B=arguments.length;R<B;R++)k+=arguments[R].length;var ne=Array(k),G=0;for(R=0;R<B;R++)for(var q=arguments[R],pe=0,de=q.length;pe<de;pe++,G++)ne[G]=q[pe];return ne}x.d(he,{in:()=>z,Yd:()=>U,Ub:()=>S,Am:()=>M});var K,O=[],z=(()=>{return(k=z||(z={}))[k.DEBUG=0]="DEBUG",k[k.VERBOSE=1]="VERBOSE",k[k.INFO=2]="INFO",k[k.WARN=3]="WARN",k[k.ERROR=4]="ERROR",k[k.SILENT=5]="SILENT",z;var k})(),se={debug:z.DEBUG,verbose:z.VERBOSE,info:z.INFO,warn:z.WARN,error:z.ERROR,silent:z.SILENT},Z=z.INFO,le=((K={})[z.DEBUG]="log",K[z.VERBOSE]="log",K[z.INFO]="info",K[z.WARN]="warn",K[z.ERROR]="error",K),oe=function(k,R){for(var B=[],ne=2;ne<arguments.length;ne++)B[ne-2]=arguments[ne];if(!(R<k.logLevel)){var G=(new Date).toISOString(),q=le[R];if(!q)throw new Error("Attempted to log a message with an invalid logType (value: "+R+")");console[q].apply(console,y(["["+G+"]  "+k.name+":"],B))}},U=function(){function k(R){this.name=R,this._logLevel=Z,this._logHandler=oe,this._userLogHandler=null,O.push(this)}return Object.defineProperty(k.prototype,"logLevel",{get:function(){return this._logLevel},set:function(R){if(!(R in z))throw new TypeError('Invalid value "'+R+'" assigned to `logLevel`');this._logLevel=R},enumerable:!1,configurable:!0}),k.prototype.setLogLevel=function(R){this._logLevel="string"==typeof R?se[R]:R},Object.defineProperty(k.prototype,"logHandler",{get:function(){return this._logHandler},set:function(R){if("function"!=typeof R)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=R},enumerable:!1,configurable:!0}),Object.defineProperty(k.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(R){this._userLogHandler=R},enumerable:!1,configurable:!0}),k.prototype.debug=function(){for(var R=[],B=0;B<arguments.length;B++)R[B]=arguments[B];this._userLogHandler&&this._userLogHandler.apply(this,y([this,z.DEBUG],R)),this._logHandler.apply(this,y([this,z.DEBUG],R))},k.prototype.log=function(){for(var R=[],B=0;B<arguments.length;B++)R[B]=arguments[B];this._userLogHandler&&this._userLogHandler.apply(this,y([this,z.VERBOSE],R)),this._logHandler.apply(this,y([this,z.VERBOSE],R))},k.prototype.info=function(){for(var R=[],B=0;B<arguments.length;B++)R[B]=arguments[B];this._userLogHandler&&this._userLogHandler.apply(this,y([this,z.INFO],R)),this._logHandler.apply(this,y([this,z.INFO],R))},k.prototype.warn=function(){for(var R=[],B=0;B<arguments.length;B++)R[B]=arguments[B];this._userLogHandler&&this._userLogHandler.apply(this,y([this,z.WARN],R)),this._logHandler.apply(this,y([this,z.WARN],R))},k.prototype.error=function(){for(var R=[],B=0;B<arguments.length;B++)R[B]=arguments[B];this._userLogHandler&&this._userLogHandler.apply(this,y([this,z.ERROR],R)),this._logHandler.apply(this,y([this,z.ERROR],R))},k}();function S(k){O.forEach(function(R){R.setLogLevel(k)})}function M(k,R){for(var B=function(pe){var de=null;R&&R.level&&(de=se[R.level]),pe.userLogHandler=null===k?null:function(_e,Ce){for(var be=[],De=2;De<arguments.length;De++)be[De-2]=arguments[De];var te=be.map(function(Xe){if(null==Xe)return null;if("string"==typeof Xe)return Xe;if("number"==typeof Xe||"boolean"==typeof Xe)return Xe.toString();if(Xe instanceof Error)return Xe.message;try{return JSON.stringify(Xe)}catch(Ze){return null}}).filter(function(Xe){return Xe}).join(" ");Ce>=(null!=de?de:_e.logLevel)&&k({level:z[Ce].toLowerCase(),message:te,args:be,type:_e.name})}},ne=0,G=O;ne<G.length;ne++)B(G[ne])}},4685:(Oe,he,x)=>{"use strict";x.d(he,{BH:()=>B,LL:()=>ve,ZR:()=>H,tV:()=>S,r3:()=>pt,Sg:()=>ne,ne:()=>eo,vZ:()=>$t,ZB:()=>k,pd:()=>Xs,m9:()=>Vt,z$:()=>G,jU:()=>de,ru:()=>_e,d:()=>be,xb:()=>as,w1:()=>De,hl:()=>Q,uI:()=>q,UG:()=>pe,b$:()=>Ce,G6:()=>Ze,Mn:()=>te,xO:()=>Pi,zd:()=>kn});var y=x(4762),se=function(F){for(var N=[],$=0,Y=0;Y<F.length;Y++){var j=F.charCodeAt(Y);j<128?N[$++]=j:j<2048?(N[$++]=j>>6|192,N[$++]=63&j|128):55296==(64512&j)&&Y+1<F.length&&56320==(64512&F.charCodeAt(Y+1))?(j=65536+((1023&j)<<10)+(1023&F.charCodeAt(++Y)),N[$++]=j>>18|240,N[$++]=j>>12&63|128,N[$++]=j>>6&63|128,N[$++]=63&j|128):(N[$++]=j>>12|224,N[$++]=j>>6&63|128,N[$++]=63&j|128)}return N},le={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(F,N){if(!Array.isArray(F))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var $=N?this.byteToCharMapWebSafe_:this.byteToCharMap_,Y=[],j=0;j<F.length;j+=3){var ce=F[j],Ue=j+1<F.length,mt=Ue?F[j+1]:0,ht=j+2<F.length,at=ht?F[j+2]:0,wn=(15&mt)<<2|at>>6,us=63&at;ht||(us=64,Ue||(wn=64)),Y.push($[ce>>2],$[(3&ce)<<4|mt>>4],$[wn],$[us])}return Y.join("")},encodeString:function(F,N){return this.HAS_NATIVE_SUPPORT&&!N?btoa(F):this.encodeByteArray(se(F),N)},decodeString:function(F,N){return this.HAS_NATIVE_SUPPORT&&!N?atob(F):function(F){for(var N=[],$=0,Y=0;$<F.length;){var j=F[$++];if(j<128)N[Y++]=String.fromCharCode(j);else if(j>191&&j<224){var ce=F[$++];N[Y++]=String.fromCharCode((31&j)<<6|63&ce)}else if(j>239&&j<365){var ht=((7&j)<<18|(63&(ce=F[$++]))<<12|(63&(Ue=F[$++]))<<6|63&F[$++])-65536;N[Y++]=String.fromCharCode(55296+(ht>>10)),N[Y++]=String.fromCharCode(56320+(1023&ht))}else{ce=F[$++];var Ue=F[$++];N[Y++]=String.fromCharCode((15&j)<<12|(63&ce)<<6|63&Ue)}}return N.join("")}(this.decodeStringToByteArray(F,N))},decodeStringToByteArray:function(F,N){this.init_();for(var $=N?this.charToByteMapWebSafe_:this.charToByteMap_,Y=[],j=0;j<F.length;){var ce=$[F.charAt(j++)],mt=j<F.length?$[F.charAt(j)]:0,at=++j<F.length?$[F.charAt(j)]:64,Zt=++j<F.length?$[F.charAt(j)]:64;if(++j,null==ce||null==mt||null==at||null==Zt)throw Error();Y.push(ce<<2|mt>>4),64!==at&&(Y.push(mt<<4&240|at>>2),64!==Zt&&Y.push(at<<6&192|Zt))}return Y},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var F=0;F<this.ENCODED_VALS.length;F++)this.byteToCharMap_[F]=this.ENCODED_VALS.charAt(F),this.charToByteMap_[this.byteToCharMap_[F]]=F,this.byteToCharMapWebSafe_[F]=this.ENCODED_VALS_WEBSAFE.charAt(F),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[F]]=F,F>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(F)]=F,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(F)]=F)}}},U=function(F){return function(F){var N=se(F);return le.encodeByteArray(N,!0)}(F).replace(/\./g,"")},S=function(F){try{return le.decodeString(F,!0)}catch(N){console.error("base64Decode failed: ",N)}return null};function k(F,N){if(!(N instanceof Object))return N;switch(N.constructor){case Date:return new Date(N.getTime());case Object:void 0===F&&(F={});break;case Array:F=[];break;default:return N}for(var Y in N)!N.hasOwnProperty(Y)||!R(Y)||(F[Y]=k(F[Y],N[Y]));return F}function R(F){return"__proto__"!==F}var B=function(){function F(){var N=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function($,Y){N.resolve=$,N.reject=Y})}return F.prototype.wrapCallback=function(N){var $=this;return function(Y,j){Y?$.reject(Y):$.resolve(j),"function"==typeof N&&($.promise.catch(function(){}),1===N.length?N(Y):N(Y,j))}},F}();function ne(F,N){if(F.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var Y=N||"demo-project",j=F.iat||0,ce=F.sub||F.user_id;if(!ce)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var Ue=(0,y.pi)({iss:"https://securetoken.google.com/"+Y,aud:Y,iat:j,exp:j+3600,auth_time:j,sub:ce,user_id:ce,firebase:{sign_in_provider:"custom",identities:{}}},F);return[U(JSON.stringify({alg:"none",type:"JWT"})),U(JSON.stringify(Ue)),""].join(".")}function G(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function q(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(G())}function pe(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(F){return!1}}function de(){return"object"==typeof self&&self.self===self}function _e(){var F="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof F&&void 0!==F.id}function Ce(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function be(){return G().indexOf("Electron/")>=0}function De(){var F=G();return F.indexOf("MSIE ")>=0||F.indexOf("Trident/")>=0}function te(){return G().indexOf("MSAppHost/")>=0}function Ze(){return!pe()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Q(){return"indexedDB"in self&&null!=indexedDB}var H=function(F){function N($,Y,j){var ce=F.call(this,Y)||this;return ce.code=$,ce.customData=j,ce.name="FirebaseError",Object.setPrototypeOf(ce,N.prototype),Error.captureStackTrace&&Error.captureStackTrace(ce,ve.prototype.create),ce}return(0,y.ZT)(N,F),N}(Error),ve=function(){function F(N,$,Y){this.service=N,this.serviceName=$,this.errors=Y}return F.prototype.create=function(N){for(var $=[],Y=1;Y<arguments.length;Y++)$[Y-1]=arguments[Y];var j=$[0]||{},ce=this.service+"/"+N,Ue=this.errors[N],mt=Ue?Pe(Ue,j):"Error",ht=this.serviceName+": "+mt+" ("+ce+").",at=new H(ce,ht,j);return at},F}();function Pe(F,N){return F.replace(ct,function($,Y){var j=N[Y];return null!=j?String(j):"<"+Y+"?>"})}var ct=/\{\$([^}]+)}/g;function pt(F,N){return Object.prototype.hasOwnProperty.call(F,N)}function as(F){for(var N in F)if(Object.prototype.hasOwnProperty.call(F,N))return!1;return!0}function $t(F,N){if(F===N)return!0;for(var $=Object.keys(F),Y=Object.keys(N),j=0,ce=$;j<ce.length;j++){if(!Y.includes(Ue=ce[j]))return!1;var mt=F[Ue],ht=N[Ue];if(Ga(mt)&&Ga(ht)){if(!$t(mt,ht))return!1}else if(mt!==ht)return!1}for(var at=0,nn=Y;at<nn.length;at++){var Ue;if(!$.includes(Ue=nn[at]))return!1}return!0}function Ga(F){return null!==F&&"object"==typeof F}function Pi(F){for(var N=[],$=function(ht,at){Array.isArray(at)?at.forEach(function(nn){N.push(encodeURIComponent(ht)+"="+encodeURIComponent(nn))}):N.push(encodeURIComponent(ht)+"="+encodeURIComponent(at))},Y=0,j=Object.entries(F);Y<j.length;Y++){var ce=j[Y];$(ce[0],ce[1])}return N.length?"&"+N.join("&"):""}function kn(F){var N={};return F.replace(/^\?/,"").split("&").forEach(function(Y){if(Y){var j=Y.split("="),Ue=j[1];N[decodeURIComponent(j[0])]=decodeURIComponent(Ue)}}),N}function Xs(F){var N=F.indexOf("?");if(!N)return"";var $=F.indexOf("#",N);return F.substring(N,$>0?$:void 0)}function eo(F,N){var $=new ki(F,N);return $.subscribe.bind($)}!function(){function F(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var N=1;N<this.blockSize;++N)this.pad_[N]=0;this.reset()}F.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},F.prototype.compress_=function(N,$){$||($=0);var Y=this.W_;if("string"==typeof N)for(var j=0;j<16;j++)Y[j]=N.charCodeAt($)<<24|N.charCodeAt($+1)<<16|N.charCodeAt($+2)<<8|N.charCodeAt($+3),$+=4;else for(j=0;j<16;j++)Y[j]=N[$]<<24|N[$+1]<<16|N[$+2]<<8|N[$+3],$+=4;for(j=16;j<80;j++)Y[j]=4294967295&((ce=Y[j-3]^Y[j-8]^Y[j-14]^Y[j-16])<<1|ce>>>31);var Zt,wn,Ue=this.chain_[0],mt=this.chain_[1],ht=this.chain_[2],at=this.chain_[3],nn=this.chain_[4];for(j=0;j<80;j++){j<40?j<20?(Zt=at^mt&(ht^at),wn=1518500249):(Zt=mt^ht^at,wn=1859775393):j<60?(Zt=mt&ht|at&(mt|ht),wn=2400959708):(Zt=mt^ht^at,wn=3395469782);var ce=(Ue<<5|Ue>>>27)+Zt+nn+wn+Y[j]&4294967295;nn=at,at=ht,ht=4294967295&(mt<<30|mt>>>2),mt=Ue,Ue=ce}this.chain_[0]=this.chain_[0]+Ue&4294967295,this.chain_[1]=this.chain_[1]+mt&4294967295,this.chain_[2]=this.chain_[2]+ht&4294967295,this.chain_[3]=this.chain_[3]+at&4294967295,this.chain_[4]=this.chain_[4]+nn&4294967295},F.prototype.update=function(N,$){if(null!=N){void 0===$&&($=N.length);for(var Y=$-this.blockSize,j=0,ce=this.buf_,Ue=this.inbuf_;j<$;){if(0===Ue)for(;j<=Y;)this.compress_(N,j),j+=this.blockSize;if("string"==typeof N){for(;j<$;)if(ce[Ue]=N.charCodeAt(j),++j,++Ue===this.blockSize){this.compress_(ce),Ue=0;break}}else for(;j<$;)if(ce[Ue]=N[j],++j,++Ue===this.blockSize){this.compress_(ce),Ue=0;break}}this.inbuf_=Ue,this.total_+=$}},F.prototype.digest=function(){var N=[],$=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(var Y=this.blockSize-1;Y>=56;Y--)this.buf_[Y]=255&$,$/=256;this.compress_(this.buf_);var j=0;for(Y=0;Y<5;Y++)for(var ce=24;ce>=0;ce-=8)N[j]=this.chain_[Y]>>ce&255,++j;return N}}();var ki=function(){function F(N,$){var Y=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=$,this.task.then(function(){N(Y)}).catch(function(j){Y.error(j)})}return F.prototype.next=function(N){this.forEachObserver(function($){$.next(N)})},F.prototype.error=function(N){this.forEachObserver(function($){$.error(N)}),this.close(N)},F.prototype.complete=function(){this.forEachObserver(function(N){N.complete()}),this.close()},F.prototype.subscribe=function(N,$,Y){var ce,j=this;if(void 0===N&&void 0===$&&void 0===Y)throw new Error("Missing Observer.");void 0===(ce=function(F,N){if("object"!=typeof F||null===F)return!1;for(var $=0,Y=["next","error","complete"];$<Y.length;$++){var j=Y[$];if(j in F&&"function"==typeof F[j])return!0}return!1}(N)?N:{next:N,error:$,complete:Y}).next&&(ce.next=Pr),void 0===ce.error&&(ce.error=Pr),void 0===ce.complete&&(ce.complete=Pr);var Ue=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{j.finalError?ce.error(j.finalError):ce.complete()}catch(mt){}}),this.observers.push(ce),Ue},F.prototype.unsubscribeOne=function(N){void 0===this.observers||void 0===this.observers[N]||(delete this.observers[N],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},F.prototype.forEachObserver=function(N){if(!this.finalized)for(var $=0;$<this.observers.length;$++)this.sendOne($,N)},F.prototype.sendOne=function(N,$){var Y=this;this.task.then(function(){if(void 0!==Y.observers&&void 0!==Y.observers[N])try{$(Y.observers[N])}catch(j){"undefined"!=typeof console&&console.error&&console.error(j)}})},F.prototype.close=function(N){var $=this;this.finalized||(this.finalized=!0,void 0!==N&&(this.finalError=N),this.task.then(function(){$.observers=void 0,$.onNoObservers=void 0}))},F}();function Pr(){}function Vt(F){return F&&F._delegate?F._delegate:F}},9083:(Oe,he,x)=>{"use strict";x.r(he);var y=x(8239),K=x(4486),O=x(4685),z=x(5452),se=x(4762),Z=x(300),le=x(6034);const ne=function(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},q=new O.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),de=new Z.Yd("@firebase/auth");function _e(v,...f){de.logLevel<=Z.in.ERROR&&de.error(`Auth (${z.SDK_VERSION}): ${v}`,...f)}function Ce(v,...f){throw De(v,...f)}function be(v,...f){return De(v,...f)}function De(v,...f){if("string"!=typeof v){const m=f[0],E=[...f.slice(1)];return E[0]&&(E[0].appName=v.name),v._errorFactory.create(m,...E)}return q.create(v,...f)}function te(v,f,...m){if(!v)throw De(f,...m)}function Xe(v){const f="INTERNAL ASSERTION FAILED: "+v;throw _e(f),new Error(f)}function Ze(v,f){v||Xe(f)}const Q=new Map;function W(v){Ze(v instanceof Function,"Expected a class definition");let f=Q.get(v);return f?(Ze(f instanceof v,"Instance stored in cache mismatched with class"),f):(f=new v,Q.set(v,f),f)}function X(){var v;return"undefined"!=typeof self&&(null===(v=self.location)||void 0===v?void 0:v.href)||""}function H(){return"http:"===ve()||"https:"===ve()}function ve(){var v;return"undefined"!=typeof self&&(null===(v=self.location)||void 0===v?void 0:v.protocol)||null}class ke{constructor(f,m){this.shortDelay=f,this.longDelay=m,Ze(m>f,"Short delay should be less than long delay!"),this.isMobile=(0,O.uI)()||(0,O.b$)()}get(){return"undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(H()||(0,O.ru)()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function et(v,f){Ze(v.emulator,"Emulator should always be set here");const{url:m}=v.emulator;return f?`${m}${f.startsWith("/")?f.slice(1):f}`:m}class Nt{static initialize(f,m,E){this.fetchImpl=f,m&&(this.headersImpl=m),E&&(this.responseImpl=E)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void Xe("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void Xe("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void Xe("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const un={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded"},mi=new ke(3e4,6e4);function Ot(v,f){return v.tenantId&&!f.tenantId?Object.assign(Object.assign({},f),{tenantId:v.tenantId}):f}function ot(v,f,m,E){return pt.apply(this,arguments)}function pt(){return(pt=(0,y.Z)(function*(v,f,m,E,b={}){return qn(v,b,()=>{let T={},V={};E&&("GET"===f?V=E:T={body:JSON.stringify(E)});const ie=(0,O.xO)(Object.assign({key:v.config.apiKey},V)).slice(1),Ee=new(Nt.headers());return Ee.set("Content-Type","application/json"),Ee.set("X-Client-Version",v._getSdkClientVersion()),v.languageCode&&Ee.set("X-Firebase-Locale",v.languageCode),Nt.fetch()(Ga(v,v.config.apiHost,m,ie),Object.assign({method:f,headers:Ee,referrerPolicy:"no-referrer"},T))})})).apply(this,arguments)}function qn(v,f,m){return as.apply(this,arguments)}function as(){return(as=(0,y.Z)(function*(v,f,m){v._canInitEmulator=!1;const E=Object.assign(Object.assign({},un),f);try{const b=new Pi(v),T=yield Promise.race([m(),b.promise]);b.clearNetworkTimeout();const V=yield T.json();if("needConfirmation"in V)throw kn(v,"account-exists-with-different-credential",V);if(T.ok&&!("errorMessage"in V))return V;{const Ee=(T.ok?V.errorMessage:V.error.message).split(" : ")[0];if("FEDERATED_USER_ID_ALREADY_LINKED"===Ee)throw kn(v,"credential-already-in-use",V);if("EMAIL_EXISTS"===Ee)throw kn(v,"email-already-in-use",V);Ce(v,E[Ee]||Ee.toLowerCase().replace(/[_\s]+/g,"-"))}}catch(b){if(b instanceof O.ZR)throw b;Ce(v,"network-request-failed")}})).apply(this,arguments)}function ar(v,f,m,E){return $t.apply(this,arguments)}function $t(){return($t=(0,y.Z)(function*(v,f,m,E,b={}){const T=yield ot(v,f,m,E,b);return"mfaPendingCredential"in T&&Ce(v,"multi-factor-auth-required",{serverResponse:T}),T})).apply(this,arguments)}function Ga(v,f,m,E){const b=`${f}${m}?${E}`;return v.config.emulator?et(v.config,b):`${v.config.apiScheme}://${b}`}class Pi{constructor(f){this.auth=f,this.timer=null,this.promise=new Promise((m,E)=>{this.timer=setTimeout(()=>E(be(this.auth,"timeout")),mi.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function kn(v,f,m){const E={appName:v.name};m.email&&(E.email=m.email),m.phoneNumber&&(E.phoneNumber=m.phoneNumber);const b=be(v,f,E);return b.customData._tokenResponse=m,b}function Go(){return(Go=(0,y.Z)(function*(v,f){return ot(v,"POST","/v1/accounts:delete",f)})).apply(this,arguments)}function eo(v,f){return ki.apply(this,arguments)}function ki(){return(ki=(0,y.Z)(function*(v,f){return ot(v,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function En(v,f){return Jr.apply(this,arguments)}function Jr(){return(Jr=(0,y.Z)(function*(v,f){return ot(v,"POST","/v1/accounts:lookup",f)})).apply(this,arguments)}function Pr(v){if(v)try{const f=new Date(Number(v));if(!isNaN(f.getTime()))return f.toUTCString()}catch(f){}}function It(){return(It=(0,y.Z)(function*(v,f=!1){const m=(0,O.m9)(v),E=yield m.getIdToken(f),b=Lt(E);te(b&&b.exp&&b.auth_time&&b.iat,m.auth,"internal-error");const T="object"==typeof b.firebase?b.firebase:void 0,V=null==T?void 0:T.sign_in_provider;return{claims:b,token:E,authTime:Pr(Pt(b.auth_time)),issuedAtTime:Pr(Pt(b.iat)),expirationTime:Pr(Pt(b.exp)),signInProvider:V||null,signInSecondFactor:(null==T?void 0:T.sign_in_second_factor)||null}})).apply(this,arguments)}function Pt(v){return 1e3*Number(v)}function Lt(v){const[f,m,E]=v.split(".");if(void 0===f||void 0===m||void 0===E)return _e("JWT malformed, contained fewer than 3 sections"),null;try{const b=(0,O.tV)(m);return b?JSON.parse(b):(_e("Failed to decode base64 JWT payload"),null)}catch(b){return _e("Caught error parsing JWT payload as JSON",b),null}}function xe(v,f){return Re.apply(this,arguments)}function Re(){return(Re=(0,y.Z)(function*(v,f,m=!1){if(m)return f;try{return yield f}catch(E){throw E instanceof O.ZR&&ur(E)&&v.auth.currentUser===v&&(yield v.auth.signOut()),E}})).apply(this,arguments)}function ur({code:v}){return"auth/user-disabled"===v||"auth/user-token-expired"===v}class qa{constructor(f){this.user=f,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(f){var m;if(f){const E=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),E}{this.errorBackoff=3e4;const b=(null!==(m=this.user.stsTokenManager.expirationTime)&&void 0!==m?m:0)-Date.now()-3e5;return Math.max(0,b)}}schedule(f=!1){var m=this;if(!this.isRunning)return;const E=this.getInterval(f);this.timerId=setTimeout((0,y.Z)(function*(){yield m.iteration()}),E)}iteration(){var f=this;return(0,y.Z)(function*(){try{yield f.user.getIdToken(!0)}catch(m){return void("auth/network-request-failed"===m.code&&f.schedule(!0))}f.schedule()})()}}class Xr{constructor(f,m){this.createdAt=f,this.lastLoginAt=m,this._initializeTime()}_initializeTime(){this.lastSignInTime=Pr(this.lastLoginAt),this.creationTime=Pr(this.createdAt)}_copy(f){this.createdAt=f.createdAt,this.lastLoginAt=f.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Rt(v){return lr.apply(this,arguments)}function lr(){return(lr=(0,y.Z)(function*(v){var f;const m=v.auth,E=yield v.getIdToken(),b=yield xe(v,En(m,{idToken:E}));te(null==b?void 0:b.users.length,m,"internal-error");const T=b.users[0];v._notifyReloadListener(T);const V=(null===(f=T.providerUserInfo)||void 0===f?void 0:f.length)?N(T.providerUserInfo):[],ie=F(v.providerData,V),We=!!v.isAnonymous&&!(v.email&&T.passwordHash||(null==ie?void 0:ie.length)),He={uid:T.localId,displayName:T.displayName||null,photoURL:T.photoUrl||null,email:T.email||null,emailVerified:T.emailVerified||!1,phoneNumber:T.phoneNumber||null,tenantId:T.tenantId||null,providerData:ie,metadata:new Xr(T.createdAt,T.lastLoginAt),isAnonymous:We};Object.assign(v,He)})).apply(this,arguments)}function Vt(){return(Vt=(0,y.Z)(function*(v){const f=(0,O.m9)(v);yield Rt(f),yield f.auth._persistUserIfCurrent(f),f.auth._notifyListenersIfCurrent(f)})).apply(this,arguments)}function F(v,f){return[...v.filter(E=>!f.some(b=>b.providerId===E.providerId)),...f]}function N(v){return v.map(f=>{var{providerId:m}=f,E=(0,se._T)(f,["providerId"]);return{providerId:m,uid:E.rawId||"",displayName:E.displayName||null,email:E.email||null,phoneNumber:E.phoneNumber||null,photoURL:E.photoUrl||null}})}function Y(){return(Y=(0,y.Z)(function*(v,f){const m=yield qn(v,{},()=>{const E=(0,O.xO)({grant_type:"refresh_token",refresh_token:f}).slice(1),{tokenApiHost:b,apiKey:T}=v.config,V=Ga(v,b,"/v1/token",`key=${T}`);return Nt.fetch()(V,{method:"POST",headers:{"X-Client-Version":v._getSdkClientVersion(),"Content-Type":"application/x-www-form-urlencoded"},body:E})});return{accessToken:m.access_token,expiresIn:m.expires_in,refreshToken:m.refresh_token}})).apply(this,arguments)}class j{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(f){te(f.idToken,"internal-error"),te(void 0!==f.idToken,"internal-error"),te(void 0!==f.refreshToken,"internal-error");const m="expiresIn"in f&&void 0!==f.expiresIn?Number(f.expiresIn):function(v){const f=Lt(v);return te(f,"internal-error"),te(void 0!==f.exp,"internal-error"),te(void 0!==f.iat,"internal-error"),Number(f.exp)-Number(f.iat)}(f.idToken);this.updateTokensAndExpiration(f.idToken,f.refreshToken,m)}getToken(f,m=!1){var E=this;return(0,y.Z)(function*(){return te(!E.accessToken||E.refreshToken,f,"user-token-expired"),m||!E.accessToken||E.isExpired?E.refreshToken?(yield E.refresh(f,E.refreshToken),E.accessToken):null:E.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(f,m){var E=this;return(0,y.Z)(function*(){const{accessToken:b,refreshToken:T,expiresIn:V}=yield function(v,f){return Y.apply(this,arguments)}(f,m);E.updateTokensAndExpiration(b,T,Number(V))})()}updateTokensAndExpiration(f,m,E){this.refreshToken=m||null,this.accessToken=f||null,this.expirationTime=Date.now()+1e3*E}static fromJSON(f,m){const{refreshToken:E,accessToken:b,expirationTime:T}=m,V=new j;return E&&(te("string"==typeof E,"internal-error",{appName:f}),V.refreshToken=E),b&&(te("string"==typeof b,"internal-error",{appName:f}),V.accessToken=b),T&&(te("number"==typeof T,"internal-error",{appName:f}),V.expirationTime=T),V}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(f){this.accessToken=f.accessToken,this.refreshToken=f.refreshToken,this.expirationTime=f.expirationTime}_clone(){return Object.assign(new j,this.toJSON())}_performRefresh(){return Xe("not implemented")}}function ce(v,f){te("string"==typeof v||void 0===v,"internal-error",{appName:f})}class Ue{constructor(f){var{uid:m,auth:E,stsTokenManager:b}=f,T=(0,se._T)(f,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.emailVerified=!1,this.isAnonymous=!1,this.tenantId=null,this.providerData=[],this.proactiveRefresh=new qa(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=m,this.auth=E,this.stsTokenManager=b,this.accessToken=b.accessToken,this.displayName=T.displayName||null,this.email=T.email||null,this.phoneNumber=T.phoneNumber||null,this.photoURL=T.photoURL||null,this.isAnonymous=T.isAnonymous||!1,this.metadata=new Xr(T.createdAt||void 0,T.lastLoginAt||void 0)}getIdToken(f){var m=this;return(0,y.Z)(function*(){const E=yield xe(m,m.stsTokenManager.getToken(m.auth,f));return te(E,m.auth,"internal-error"),m.accessToken!==E&&(m.accessToken=E,yield m.auth._persistUserIfCurrent(m),m.auth._notifyListenersIfCurrent(m)),E})()}getIdTokenResult(f){return function(v){return It.apply(this,arguments)}(this,f)}reload(){return function(v){return Vt.apply(this,arguments)}(this)}_assign(f){this!==f&&(te(this.uid===f.uid,this.auth,"internal-error"),this.displayName=f.displayName,this.photoURL=f.photoURL,this.email=f.email,this.emailVerified=f.emailVerified,this.phoneNumber=f.phoneNumber,this.isAnonymous=f.isAnonymous,this.tenantId=f.tenantId,this.providerData=f.providerData.map(m=>Object.assign({},m)),this.metadata._copy(f.metadata),this.stsTokenManager._assign(f.stsTokenManager))}_clone(f){return new Ue(Object.assign(Object.assign({},this),{auth:f,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(f){te(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=f,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(f){this.reloadListener?this.reloadListener(f):this.reloadUserInfo=f}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(f,m=!1){var E=this;return(0,y.Z)(function*(){let b=!1;f.idToken&&f.idToken!==E.stsTokenManager.accessToken&&(E.stsTokenManager.updateFromServerResponse(f),b=!0),m&&(yield Rt(E)),yield E.auth._persistUserIfCurrent(E),b&&E.auth._notifyListenersIfCurrent(E)})()}delete(){var f=this;return(0,y.Z)(function*(){const m=yield f.getIdToken();return yield xe(f,function(v,f){return Go.apply(this,arguments)}(f.auth,{idToken:m})),f.stsTokenManager.clearRefreshToken(),f.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(f=>Object.assign({},f)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(f,m){var E,b,T,V,ie,Ee,Me,We;const He=null!==(E=m.displayName)&&void 0!==E?E:void 0,Ft=null!==(b=m.email)&&void 0!==b?b:void 0,qt=null!==(T=m.phoneNumber)&&void 0!==T?T:void 0,Io=null!==(V=m.photoURL)&&void 0!==V?V:void 0,fr=null!==(ie=m.tenantId)&&void 0!==ie?ie:void 0,cc=null!==(Ee=m._redirectEventId)&&void 0!==Ee?Ee:void 0,hg=null!==(Me=m.createdAt)&&void 0!==Me?Me:void 0,fg=null!==(We=m.lastLoginAt)&&void 0!==We?We:void 0,{uid:Wr,emailVerified:Ch,isAnonymous:bo,providerData:dc,stsTokenManager:pg}=m;te(Wr&&pg,f,"internal-error");const v_=j.fromJSON(this.name,pg);te("string"==typeof Wr,f,"internal-error"),ce(He,f.name),ce(Ft,f.name),te("boolean"==typeof Ch,f,"internal-error"),te("boolean"==typeof bo,f,"internal-error"),ce(qt,f.name),ce(Io,f.name),ce(fr,f.name),ce(cc,f.name),ce(hg,f.name),ce(fg,f.name);const Ns=new Ue({uid:Wr,auth:f,email:Ft,emailVerified:Ch,displayName:He,isAnonymous:bo,photoURL:Io,phoneNumber:qt,tenantId:fr,stsTokenManager:v_,createdAt:hg,lastLoginAt:fg});return dc&&Array.isArray(dc)&&(Ns.providerData=dc.map(Ci=>Object.assign({},Ci))),cc&&(Ns._redirectEventId=cc),Ns}static _fromIdTokenResponse(f,m,E=!1){return(0,y.Z)(function*(){const b=new j;b.updateFromServerResponse(m);const T=new Ue({uid:m.localId,auth:f,stsTokenManager:b,isAnonymous:E});return yield Rt(T),T})()}}const ht=(()=>{class v{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,y.Z)(function*(){return!0})()}_set(m,E){var b=this;return(0,y.Z)(function*(){b.storage[m]=E})()}_get(m){var E=this;return(0,y.Z)(function*(){const b=E.storage[m];return void 0===b?null:b})()}_remove(m){var E=this;return(0,y.Z)(function*(){delete E.storage[m]})()}_addListener(m,E){}_removeListener(m,E){}}return v.type="NONE",v})();function at(v,f,m){return`firebase:${v}:${f}:${m}`}class nn{constructor(f,m,E){this.persistence=f,this.auth=m,this.userKey=E;const{config:b,name:T}=this.auth;this.fullUserKey=at(this.userKey,b.apiKey,T),this.fullPersistenceKey=at("persistence",b.apiKey,T),this.boundEventHandler=m._onStorageEvent.bind(m),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(f){return this.persistence._set(this.fullUserKey,f.toJSON())}getCurrentUser(){var f=this;return(0,y.Z)(function*(){const m=yield f.persistence._get(f.fullUserKey);return m?Ue._fromJSON(f.auth,m):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(f){var m=this;return(0,y.Z)(function*(){if(m.persistence===f)return;const E=yield m.getCurrentUser();return yield m.removeCurrentUser(),m.persistence=f,E?m.setCurrentUser(E):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(f,m,E="authUser"){return(0,y.Z)(function*(){if(!m.length)return new nn(W(ht),f,E);const b=(yield Promise.all(m.map(function(){var Me=(0,y.Z)(function*(We){if(yield We._isAvailable())return We});return function(We){return Me.apply(this,arguments)}}()))).filter(Me=>Me);let T=b[0]||W(ht);const V=at(E,f.config.apiKey,f.name);let ie=null;for(const Me of m)try{const We=yield Me._get(V);if(We){const He=Ue._fromJSON(f,We);Me!==T&&(ie=He),T=Me;break}}catch(We){}const Ee=b.filter(Me=>Me._shouldAllowMigration);return T._shouldAllowMigration&&Ee.length?(T=Ee[0],ie&&(yield T._set(V,ie.toJSON())),yield Promise.all(m.map(function(){var Me=(0,y.Z)(function*(We){if(We!==T)try{yield We._remove(V)}catch(He){}});return function(We){return Me.apply(this,arguments)}}())),new nn(T,f,E)):new nn(T,f,E)})()}}function Zt(v){const f=v.toLowerCase();if(f.includes("opera/")||f.includes("opr/")||f.includes("opios/"))return"Opera";if(Ep(f))return"IEMobile";if(f.includes("msie")||f.includes("trident/"))return"IE";if(f.includes("edge/"))return"Edge";if(wn(f))return"Firefox";if(f.includes("silk/"))return"Silk";if(pl(f))return"Blackberry";if(Ad(f))return"Webos";if(us(f))return"Safari";if((f.includes("chrome/")||qo(f))&&!f.includes("edge/"))return"Chrome";if(Wo(f))return"Android";{const E=v.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==E?void 0:E.length))return E[1]}return"Other"}function wn(v=(0,O.z$)()){return/firefox\//i.test(v)}function us(v=(0,O.z$)()){const f=v.toLowerCase();return f.includes("safari/")&&!f.includes("chrome/")&&!f.includes("crios/")&&!f.includes("android")}function qo(v=(0,O.z$)()){return/crios\//i.test(v)}function Ep(v=(0,O.z$)()){return/iemobile/i.test(v)}function Wo(v=(0,O.z$)()){return/android/i.test(v)}function pl(v=(0,O.z$)()){return/blackberry/i.test(v)}function Ad(v=(0,O.z$)()){return/webos/i.test(v)}function Fi(v=(0,O.z$)()){return/iphone|ipad|ipod/i.test(v)}function Sd(v=(0,O.z$)()){return Fi(v)||Wo(v)||Ad(v)||pl(v)||/windows phone/i.test(v)||Ep(v)}function yi(v,f=[]){let m;switch(v){case"Browser":m=Zt((0,O.z$)());break;case"Worker":m=`${Zt((0,O.z$)())}-${v}`;break;default:m=v}const E=f.length?f.join(","):"FirebaseCore-web";return`${m}/JsCore/${z.SDK_VERSION}/${E}`}class to{constructor(f,m){this.app=f,this.config=m,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Cp(this),this.idTokenSubscription=new Cp(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=q,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=f.name,this.clientVersion=m.sdkClientVersion}_initializeWithPersistence(f,m){var E=this;return m&&(this._popupRedirectResolver=W(m)),this._initializationPromise=this.queue((0,y.Z)(function*(){var b;E._deleted||(E.persistenceManager=yield nn.create(E,f),!E._deleted&&((null===(b=E._popupRedirectResolver)||void 0===b?void 0:b._shouldInitProactively)&&(yield E._popupRedirectResolver._initialize(E)),yield E.initializeCurrentUser(m),!E._deleted&&(E._isInitialized=!0)))})),this._initializationPromise}_onStorageEvent(){var f=this;return(0,y.Z)(function*(){if(f._deleted)return;const m=yield f.assertedPersistence.getCurrentUser();if(f.currentUser||m){if(f.currentUser&&m&&f.currentUser.uid===m.uid)return f._currentUser._assign(m),void(yield f.currentUser.getIdToken());yield f._updateCurrentUser(m)}})()}initializeCurrentUser(f){var m=this;return(0,y.Z)(function*(){var E;let b=yield m.assertedPersistence.getCurrentUser();if(f&&m.config.authDomain){yield m.getOrInitRedirectPersistenceManager();const T=null===(E=m.redirectUser)||void 0===E?void 0:E._redirectEventId,V=null==b?void 0:b._redirectEventId,ie=yield m.tryRedirectSignIn(f);(!T||T===V)&&(null==ie?void 0:ie.user)&&(b=ie.user)}return b?b._redirectEventId?(te(m._popupRedirectResolver,m,"argument-error"),yield m.getOrInitRedirectPersistenceManager(),m.redirectUser&&m.redirectUser._redirectEventId===b._redirectEventId?m.directlySetCurrentUser(b):m.reloadAndSetCurrentUserOrClear(b)):m.reloadAndSetCurrentUserOrClear(b):m.directlySetCurrentUser(null)})()}tryRedirectSignIn(f){var m=this;return(0,y.Z)(function*(){let E=null;try{E=yield m._popupRedirectResolver._completeRedirectFn(m,f,!0)}catch(b){yield m._setRedirectUser(null)}return E})()}reloadAndSetCurrentUserOrClear(f){var m=this;return(0,y.Z)(function*(){try{yield Rt(f)}catch(E){if("auth/network-request-failed"!==E.code)return m.directlySetCurrentUser(null)}return m.directlySetCurrentUser(f)})()}useDeviceLanguage(){this.languageCode=function(){if("undefined"==typeof navigator)return null;const v=navigator;return v.languages&&v.languages[0]||v.language||null}()}_delete(){var f=this;return(0,y.Z)(function*(){f._deleted=!0})()}updateCurrentUser(f){var m=this;return(0,y.Z)(function*(){const E=f?(0,O.m9)(f):null;return E&&te(E.auth.config.apiKey===m.config.apiKey,m,"invalid-user-token"),m._updateCurrentUser(E&&E._clone(m))})()}_updateCurrentUser(f){var m=this;return(0,y.Z)(function*(){if(!m._deleted)return f&&te(m.tenantId===f.tenantId,m,"tenant-id-mismatch"),m.queue((0,y.Z)(function*(){yield m.directlySetCurrentUser(f),m.notifyAuthListeners()}))})()}signOut(){var f=this;return(0,y.Z)(function*(){return(f.redirectPersistenceManager||f._popupRedirectResolver)&&(yield f._setRedirectUser(null)),f._updateCurrentUser(null)})()}setPersistence(f){var m=this;return this.queue((0,y.Z)(function*(){yield m.assertedPersistence.setPersistence(W(f))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(f){this._errorFactory=new O.LL("auth","Firebase",f())}onAuthStateChanged(f,m,E){return this.registerStateListener(this.authStateSubscription,f,m,E)}onIdTokenChanged(f,m,E){return this.registerStateListener(this.idTokenSubscription,f,m,E)}toJSON(){var f;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(f=this._currentUser)||void 0===f?void 0:f.toJSON()}}_setRedirectUser(f,m){var E=this;return(0,y.Z)(function*(){const b=yield E.getOrInitRedirectPersistenceManager(m);return null===f?b.removeCurrentUser():b.setCurrentUser(f)})()}getOrInitRedirectPersistenceManager(f){var m=this;return(0,y.Z)(function*(){if(!m.redirectPersistenceManager){const E=f&&W(f)||m._popupRedirectResolver;te(E,m,"argument-error"),m.redirectPersistenceManager=yield nn.create(m,[W(E._redirectPersistence)],"redirectUser"),m.redirectUser=yield m.redirectPersistenceManager.getCurrentUser()}return m.redirectPersistenceManager})()}_redirectUserForId(f){var m=this;return(0,y.Z)(function*(){var E,b;return m._isInitialized&&(yield m.queue((0,y.Z)(function*(){}))),(null===(E=m._currentUser)||void 0===E?void 0:E._redirectEventId)===f?m._currentUser:(null===(b=m.redirectUser)||void 0===b?void 0:b._redirectEventId)===f?m.redirectUser:null})()}_persistUserIfCurrent(f){var m=this;return(0,y.Z)(function*(){if(f===m.currentUser)return m.queue((0,y.Z)(function*(){return m.directlySetCurrentUser(f)}))})()}_notifyListenersIfCurrent(f){f===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var f,m;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const E=null!==(m=null===(f=this.currentUser)||void 0===f?void 0:f.uid)&&void 0!==m?m:null;this.lastNotifiedUid!==E&&(this.lastNotifiedUid=E,this.authStateSubscription.next(this.currentUser))}registerStateListener(f,m,E,b){if(this._deleted)return()=>{};const T="function"==typeof m?m:m.next.bind(m),V=this._isInitialized?Promise.resolve():this._initializationPromise;return te(V,this,"internal-error"),V.then(()=>T(this.currentUser)),"function"==typeof m?f.addObserver(m,E,b):f.addObserver(m)}directlySetCurrentUser(f){var m=this;return(0,y.Z)(function*(){m.currentUser&&m.currentUser!==f&&(m._currentUser._stopProactiveRefresh(),f&&m.isProactiveRefreshEnabled&&f._startProactiveRefresh()),m.currentUser=f,f?yield m.assertedPersistence.setCurrentUser(f):yield m.assertedPersistence.removeCurrentUser()})()}queue(f){return this.operations=this.operations.then(f,f),this.operations}get assertedPersistence(){return te(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(f){!f||this.frameworks.includes(f)||(this.frameworks.push(f),this.frameworks.sort(),this.clientVersion=yi(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getSdkClientVersion(){return this.clientVersion}}function Et(v){return(0,O.m9)(v)}class Cp{constructor(f){this.auth=f,this.observer=null,this.addObserver=(0,O.ne)(m=>this.observer=m)}get next(){return te(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Ae(v){const f=v.indexOf(":");return f<0?"":v.substr(0,f+1)}function kt(v){if(!v)return null;const f=Number(v);return isNaN(f)?null:f}class Fr{constructor(f,m){this.providerId=f,this.signInMethod=m}toJSON(){return Xe("not implemented")}_getIdTokenResponse(f){return Xe("not implemented")}_linkToIdToken(f,m){return Xe("not implemented")}_getReauthenticationResolver(f){return Xe("not implemented")}}function rn(v,f){return Lr.apply(this,arguments)}function Lr(){return(Lr=(0,y.Z)(function*(v,f){return ot(v,"POST","/v1/accounts:resetPassword",Ot(v,f))})).apply(this,arguments)}function Gt(v,f){return no.apply(this,arguments)}function no(){return(no=(0,y.Z)(function*(v,f){return ot(v,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function za(v,f){return Qe.apply(this,arguments)}function Qe(){return(Qe=(0,y.Z)(function*(v,f){return ot(v,"POST","/v1/accounts:update",Ot(v,f))})).apply(this,arguments)}function ls(){return(ls=(0,y.Z)(function*(v,f){return ar(v,"POST","/v1/accounts:signInWithPassword",Ot(v,f))})).apply(this,arguments)}function Zo(v,f){return cs.apply(this,arguments)}function cs(){return(cs=(0,y.Z)(function*(v,f){return ot(v,"POST","/v1/accounts:sendOobCode",Ot(v,f))})).apply(this,arguments)}function Wn(v,f){return ro.apply(this,arguments)}function ro(){return(ro=(0,y.Z)(function*(v,f){return Zo(v,f)})).apply(this,arguments)}function Ko(v,f){return vr.apply(this,arguments)}function vr(){return(vr=(0,y.Z)(function*(v,f){return Zo(v,f)})).apply(this,arguments)}function St(v,f){return Za.apply(this,arguments)}function Za(){return(Za=(0,y.Z)(function*(v,f){return Zo(v,f)})).apply(this,arguments)}function xd(v,f){return Yo.apply(this,arguments)}function Yo(){return(Yo=(0,y.Z)(function*(v,f){return Zo(v,f)})).apply(this,arguments)}function Qo(){return(Qo=(0,y.Z)(function*(v,f){return ar(v,"POST","/v1/accounts:signInWithEmailLink",Ot(v,f))})).apply(this,arguments)}function Li(){return(Li=(0,y.Z)(function*(v,f){return ar(v,"POST","/v1/accounts:signInWithEmailLink",Ot(v,f))})).apply(this,arguments)}class ln extends Fr{constructor(f,m,E,b=null){super("password",E),this._email=f,this._password=m,this._tenantId=b}static _fromEmailAndPassword(f,m){return new ln(f,m,"password")}static _fromEmailAndCode(f,m,E=null){return new ln(f,m,"emailLink",E)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(f){const m="string"==typeof f?JSON.parse(f):f;if((null==m?void 0:m.email)&&(null==m?void 0:m.password)){if("password"===m.signInMethod)return this._fromEmailAndPassword(m.email,m.password);if("emailLink"===m.signInMethod)return this._fromEmailAndCode(m.email,m.password,m.tenantId)}return null}_getIdTokenResponse(f){var m=this;return(0,y.Z)(function*(){switch(m.signInMethod){case"password":return function(v,f){return ls.apply(this,arguments)}(f,{returnSecureToken:!0,email:m._email,password:m._password});case"emailLink":return function(v,f){return Qo.apply(this,arguments)}(f,{email:m._email,oobCode:m._password});default:Ce(f,"internal-error")}})()}_linkToIdToken(f,m){var E=this;return(0,y.Z)(function*(){switch(E.signInMethod){case"password":return Gt(f,{idToken:m,returnSecureToken:!0,email:E._email,password:E._password});case"emailLink":return function(v,f){return Li.apply(this,arguments)}(f,{idToken:m,email:E._email,oobCode:E._password});default:Ce(f,"internal-error")}})()}_getReauthenticationResolver(f){return this._getIdTokenResponse(f)}}function Vi(v,f){return ei.apply(this,arguments)}function ei(){return(ei=(0,y.Z)(function*(v,f){return ar(v,"POST","/v1/accounts:signInWithIdp",Ot(v,f))})).apply(this,arguments)}class Vr extends Fr{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(f){const m=new Vr(f.providerId,f.signInMethod);return f.idToken||f.accessToken?(f.idToken&&(m.idToken=f.idToken),f.accessToken&&(m.accessToken=f.accessToken),f.nonce&&!f.pendingToken&&(m.nonce=f.nonce),f.pendingToken&&(m.pendingToken=f.pendingToken)):f.oauthToken&&f.oauthTokenSecret?(m.accessToken=f.oauthToken,m.secret=f.oauthTokenSecret):Ce("argument-error"),m}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(f){const m="string"==typeof f?JSON.parse(f):f,{providerId:E,signInMethod:b}=m,T=(0,se._T)(m,["providerId","signInMethod"]);if(!E||!b)return null;const V=new Vr(E,b);return Object.assign(V,T),V}_getIdTokenResponse(f){return Vi(f,this.buildRequest())}_linkToIdToken(f,m){const E=this.buildRequest();return E.idToken=m,Vi(f,E)}_getReauthenticationResolver(f){const m=this.buildRequest();return m.autoCreate=!1,Vi(f,m)}buildRequest(){const f={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)f.pendingToken=this.pendingToken;else{const m={};this.idToken&&(m.id_token=this.idToken),this.accessToken&&(m.access_token=this.accessToken),this.secret&&(m.oauth_token_secret=this.secret),m.providerId=this.providerId,this.nonce&&!this.pendingToken&&(m.nonce=this.nonce),f.postBody=(0,O.xO)(m)}return f}}function ml(v,f){return Jo.apply(this,arguments)}function Jo(){return(Jo=(0,y.Z)(function*(v,f){return ot(v,"POST","/v1/accounts:sendVerificationCode",Ot(v,f))})).apply(this,arguments)}function Rd(){return(Rd=(0,y.Z)(function*(v,f){return ar(v,"POST","/v1/accounts:signInWithPhoneNumber",Ot(v,f))})).apply(this,arguments)}function Md(){return(Md=(0,y.Z)(function*(v,f){const m=yield ar(v,"POST","/v1/accounts:signInWithPhoneNumber",Ot(v,f));if(m.temporaryProof)throw kn(v,"account-exists-with-different-credential",m);return m})).apply(this,arguments)}const xy={USER_NOT_FOUND:"user-not-found"};function Ip(){return(Ip=(0,y.Z)(function*(v,f){return ar(v,"POST","/v1/accounts:signInWithPhoneNumber",Ot(v,Object.assign(Object.assign({},f),{operation:"REAUTH"})),xy)})).apply(this,arguments)}class Xo extends Fr{constructor(f){super("phone","phone"),this.params=f}static _fromVerification(f,m){return new Xo({verificationId:f,verificationCode:m})}static _fromTokenResponse(f,m){return new Xo({phoneNumber:f,temporaryProof:m})}_getIdTokenResponse(f){return function(v,f){return Rd.apply(this,arguments)}(f,this._makeVerificationRequest())}_linkToIdToken(f,m){return function(v,f){return Md.apply(this,arguments)}(f,Object.assign({idToken:m},this._makeVerificationRequest()))}_getReauthenticationResolver(f){return function(v,f){return Ip.apply(this,arguments)}(f,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:f,phoneNumber:m,verificationId:E,verificationCode:b}=this.params;return f&&m?{temporaryProof:f,phoneNumber:m}:{sessionInfo:E,code:b}}toJSON(){const f={providerId:this.providerId};return this.params.phoneNumber&&(f.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(f.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(f.verificationCode=this.params.verificationCode),this.params.verificationId&&(f.verificationId=this.params.verificationId),f}static fromJSON(f){"string"==typeof f&&(f=JSON.parse(f));const{verificationId:m,verificationCode:E,phoneNumber:b,temporaryProof:T}=f;return E||m||b||T?new Xo({verificationId:m,verificationCode:E,phoneNumber:b,temporaryProof:T}):null}}class yl{constructor(f){var m,E,b,T,V,ie;const Ee=(0,O.zd)((0,O.pd)(f)),Me=null!==(m=Ee.apiKey)&&void 0!==m?m:null,We=null!==(E=Ee.oobCode)&&void 0!==E?E:null,He=function(v){switch(v){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(b=Ee.mode)&&void 0!==b?b:null);te(Me&&We&&He,"argument-error"),this.apiKey=Me,this.operation=He,this.code=We,this.continueUrl=null!==(T=Ee.continueUrl)&&void 0!==T?T:null,this.languageCode=null!==(V=Ee.languageCode)&&void 0!==V?V:null,this.tenantId=null!==(ie=Ee.tenantId)&&void 0!==ie?ie:null}static parseLink(f){const m=function(v){const f=(0,O.zd)((0,O.pd)(v)).link,m=f?(0,O.zd)((0,O.pd)(f)).deep_link_id:null,E=(0,O.zd)((0,O.pd)(v)).deep_link_id;return(E?(0,O.zd)((0,O.pd)(E)).link:null)||E||m||f||v}(f);try{return new yl(m)}catch(E){return null}}}let bp=(()=>{class v{constructor(){this.providerId=v.PROVIDER_ID}static credential(m,E){return ln._fromEmailAndPassword(m,E)}static credentialWithLink(m,E){const b=yl.parseLink(E);return te(b,"argument-error"),ln._fromEmailAndCode(m,b.code,b.tenantId)}}return v.PROVIDER_ID="password",v.EMAIL_PASSWORD_SIGN_IN_METHOD="password",v.EMAIL_LINK_SIGN_IN_METHOD="emailLink",v})();class ds{constructor(f){this.providerId=f,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(f){this.defaultLanguageCode=f}setCustomParameters(f){return this.customParameters=f,this}getCustomParameters(){return this.customParameters}}class Ya extends ds{constructor(){super(...arguments),this.scopes=[]}addScope(f){return this.scopes.includes(f)||this.scopes.push(f),this}getScopes(){return[...this.scopes]}}class Qa extends Ya{static credentialFromJSON(f){const m="string"==typeof f?JSON.parse(f):f;return te("providerId"in m&&"signInMethod"in m,"argument-error"),Vr._fromParams(m)}credential(f){return this._credential(f)}_credential(f){return te(f.idToken||f.accessToken,"argument-error"),Vr._fromParams(Object.assign(Object.assign({},f),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(f){return Qa.oauthCredentialFromTaggedObject(f)}static credentialFromError(f){return Qa.oauthCredentialFromTaggedObject(f.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{oauthIdToken:m,oauthAccessToken:E,oauthTokenSecret:b,pendingToken:T,nonce:V,providerId:ie}=f;if(!E&&!b&&!m&&!T||!ie)return null;try{return new Qa(ie)._credential({idToken:m,accessToken:E,rawNonce:V,pendingToken:T})}catch(Ee){return null}}}let Ny=(()=>{class v extends Ya{constructor(){super("facebook.com")}static credential(m){return Vr._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.FACEBOOK_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return v.credentialFromTaggedObject(m)}static credentialFromError(m){return v.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return v.credential(m.oauthAccessToken)}catch(E){return null}}}return v.FACEBOOK_SIGN_IN_METHOD="facebook.com",v.PROVIDER_ID="facebook.com",v})(),Od=(()=>{class v extends Ya{constructor(){super("google.com"),this.addScope("profile")}static credential(m,E){return Vr._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.GOOGLE_SIGN_IN_METHOD,idToken:m,accessToken:E})}static credentialFromResult(m){return v.credentialFromTaggedObject(m)}static credentialFromError(m){return v.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthIdToken:E,oauthAccessToken:b}=m;if(!E&&!b)return null;try{return v.credential(E,b)}catch(T){return null}}}return v.GOOGLE_SIGN_IN_METHOD="google.com",v.PROVIDER_ID="google.com",v})(),Pd=(()=>{class v extends Ya{constructor(){super("github.com")}static credential(m){return Vr._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.GITHUB_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return v.credentialFromTaggedObject(m)}static credentialFromError(m){return v.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return v.credential(m.oauthAccessToken)}catch(E){return null}}}return v.GITHUB_SIGN_IN_METHOD="github.com",v.PROVIDER_ID="github.com",v})();class io extends Fr{constructor(f,m){super(f,f),this.pendingToken=m}_getIdTokenResponse(f){return Vi(f,this.buildRequest())}_linkToIdToken(f,m){const E=this.buildRequest();return E.idToken=m,Vi(f,E)}_getReauthenticationResolver(f){const m=this.buildRequest();return m.autoCreate=!1,Vi(f,m)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(f){const m="string"==typeof f?JSON.parse(f):f,{providerId:E,signInMethod:b,pendingToken:T}=m;return E&&b&&T&&E===b?new io(E,T):null}static _create(f,m){return new io(f,m)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}let Ry=(()=>{class v extends Ya{constructor(){super("twitter.com")}static credential(m,E){return Vr._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.TWITTER_SIGN_IN_METHOD,oauthToken:m,oauthTokenSecret:E})}static credentialFromResult(m){return v.credentialFromTaggedObject(m)}static credentialFromError(m){return v.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthAccessToken:E,oauthTokenSecret:b}=m;if(!E||!b)return null;try{return v.credential(E,b)}catch(T){return null}}}return v.TWITTER_SIGN_IN_METHOD="twitter.com",v.PROVIDER_ID="twitter.com",v})();function hs(v,f){return _l.apply(this,arguments)}function _l(){return(_l=(0,y.Z)(function*(v,f){return ar(v,"POST","/v1/accounts:signUp",Ot(v,f))})).apply(this,arguments)}class Er{constructor(f){this.user=f.user,this.providerId=f.providerId,this._tokenResponse=f._tokenResponse,this.operationType=f.operationType}static _fromIdTokenResponse(f,m,E,b=!1){return(0,y.Z)(function*(){const T=yield Ue._fromIdTokenResponse(f,E,b),V=vl(E);return new Er({user:T,providerId:V,_tokenResponse:E,operationType:m})})()}static _forOperation(f,m,E){return(0,y.Z)(function*(){yield f._updateTokensIfNecessary(E,!0);const b=vl(E);return new Er({user:f,providerId:b,_tokenResponse:E,operationType:m})})()}}function vl(v){return v.providerId?v.providerId:"phoneNumber"in v?"phone":null}function Tp(){return(Tp=(0,y.Z)(function*(v){var f;const m=Et(v);if(yield m._initializationPromise,null===(f=m.currentUser)||void 0===f?void 0:f.isAnonymous)return new Er({user:m.currentUser,providerId:null,operationType:"signIn"});const E=yield hs(m,{returnSecureToken:!0}),b=yield Er._fromIdTokenResponse(m,"signIn",E,!0);return yield m._updateCurrentUser(b.user),b})).apply(this,arguments)}class El extends O.ZR{constructor(f,m,E,b){var T;super(m.code,m.message),this.operationType=E,this.user=b,this.name="FirebaseError",Object.setPrototypeOf(this,El.prototype),this.appName=f.name,this.code=m.code,this.tenantId=null!==(T=f.tenantId)&&void 0!==T?T:void 0,this.serverResponse=m.customData.serverResponse}static _fromErrorAndOperation(f,m,E,b){return new El(f,m,E,b)}}function wl(v,f,m,E){return("reauthenticate"===f?m._getReauthenticationResolver(v):m._getIdTokenResponse(v)).catch(T=>{throw"auth/multi-factor-auth-required"===T.code?El._fromErrorAndOperation(v,T,f,E):T})}function Ap(v){return new Set(v.map(({providerId:f})=>f).filter(f=>!!f))}function Fd(){return(Fd=(0,y.Z)(function*(v,f){const m=(0,O.m9)(v);yield Ja(!0,m,f);const{providerUserInfo:E}=yield eo(m.auth,{idToken:yield m.getIdToken(),deleteProvider:[f]}),b=Ap(E||[]);return m.providerData=m.providerData.filter(T=>b.has(T.providerId)),b.has("phone")||(m.phoneNumber=null),yield m.auth._persistUserIfCurrent(m),m})).apply(this,arguments)}function wr(v,f){return Il.apply(this,arguments)}function Il(){return(Il=(0,y.Z)(function*(v,f,m=!1){const E=yield xe(v,f._linkToIdToken(v.auth,yield v.getIdToken()),m);return Er._forOperation(v,"link",E)})).apply(this,arguments)}function Ja(v,f,m){return so.apply(this,arguments)}function so(){return(so=(0,y.Z)(function*(v,f,m){yield Rt(f);const b=!1===v?"provider-already-linked":"no-such-provider";te(Ap(f.providerData).has(m)===v,f.auth,b)})).apply(this,arguments)}function ea(v,f){return Xa.apply(this,arguments)}function Xa(){return(Xa=(0,y.Z)(function*(v,f,m=!1){const{auth:E}=v,b="reauthenticate";try{const T=yield xe(v,wl(E,b,f,v),m);te(T.idToken,E,"internal-error");const V=Lt(T.idToken);te(V,E,"internal-error");const{sub:ie}=V;return te(v.uid===ie,E,"user-mismatch"),Er._forOperation(v,b,T)}catch(T){throw"auth/user-not-found"===(null==T?void 0:T.code)&&Ce(E,"user-mismatch"),T}})).apply(this,arguments)}function bl(v,f){return Ut.apply(this,arguments)}function Ut(){return(Ut=(0,y.Z)(function*(v,f,m=!1){const E="signIn",b=yield wl(v,E,f),T=yield Er._fromIdTokenResponse(v,E,b);return m||(yield v._updateCurrentUser(T.user)),T})).apply(this,arguments)}function Dl(v,f){return Tl.apply(this,arguments)}function Tl(){return(Tl=(0,y.Z)(function*(v,f){return bl(Et(v),f)})).apply(this,arguments)}function Sp(v,f){return Bt.apply(this,arguments)}function Bt(){return(Bt=(0,y.Z)(function*(v,f){const m=(0,O.m9)(v);return yield Ja(!1,m,f.providerId),wr(m,f)})).apply(this,arguments)}function xp(v,f){return Np.apply(this,arguments)}function Np(){return(Np=(0,y.Z)(function*(v,f){return ea((0,O.m9)(v),f)})).apply(this,arguments)}function Al(v,f){return Cr.apply(this,arguments)}function Cr(){return(Cr=(0,y.Z)(function*(v,f){return ar(v,"POST","/v1/accounts:signInWithCustomToken",Ot(v,f))})).apply(this,arguments)}function fs(){return(fs=(0,y.Z)(function*(v,f){const m=Et(v),E=yield Al(m,{token:f,returnSecureToken:!0}),b=yield Er._fromIdTokenResponse(m,"signIn",E);return yield m._updateCurrentUser(b.user),b})).apply(this,arguments)}class ps{constructor(f,m){this.factorId=f,this.uid=m.mfaEnrollmentId,this.enrollmentTime=new Date(m.enrolledAt).toUTCString(),this.displayName=m.displayName}static _fromServerResponse(f,m){return"phoneInfo"in m?zn._fromServerResponse(f,m):Ce(f,"internal-error")}}class zn extends ps{constructor(f){super("phone",f),this.phoneNumber=f.phoneInfo}static _fromServerResponse(f,m){return new zn(m)}}function eu(v,f,m){var E;te((null===(E=m.url)||void 0===E?void 0:E.length)>0,v,"invalid-continue-uri"),te(void 0===m.dynamicLinkDomain||m.dynamicLinkDomain.length>0,v,"invalid-dynamic-link-domain"),f.continueUrl=m.url,f.dynamicLinkDomain=m.dynamicLinkDomain,f.canHandleCodeInApp=m.handleCodeInApp,m.iOS&&(te(m.iOS.bundleId.length>0,v,"missing-ios-bundle-id"),f.iosBundleId=m.iOS.bundleId),m.android&&(te(m.android.packageName.length>0,v,"missing-android-pkg-name"),f.androidInstallApp=m.android.installApp,f.androidMinimumVersionCode=m.android.minimumVersion,f.androidPackageName=m.android.packageName)}function Sl(){return(Sl=(0,y.Z)(function*(v,f,m){const E=(0,O.m9)(v),b={requestType:"PASSWORD_RESET",email:f};m&&eu(E,b,m),yield Ko(E,b)})).apply(this,arguments)}function xl(){return(xl=(0,y.Z)(function*(v,f,m){yield rn((0,O.m9)(v),{oobCode:f,newPassword:m})})).apply(this,arguments)}function qe(){return(qe=(0,y.Z)(function*(v,f){yield za((0,O.m9)(v),{oobCode:f})})).apply(this,arguments)}function My(v,f){return oo.apply(this,arguments)}function oo(){return(oo=(0,y.Z)(function*(v,f){const m=(0,O.m9)(v),E=yield rn(m,{oobCode:f}),b=E.requestType;switch(te(b,m,"internal-error"),b){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":te(E.newEmail,m,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":te(E.mfaInfo,m,"internal-error");default:te(E.email,m,"internal-error")}let T=null;return E.mfaInfo&&(T=ps._fromServerResponse(Et(m),E.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===E.requestType?E.newEmail:E.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===E.requestType?E.email:E.newEmail)||null,multiFactorInfo:T},operation:b}})).apply(this,arguments)}function tu(){return(tu=(0,y.Z)(function*(v,f){const{data:m}=yield My((0,O.m9)(v),f);return m.email})).apply(this,arguments)}function ao(){return(ao=(0,y.Z)(function*(v,f,m){const E=Et(v),b=yield hs(E,{returnSecureToken:!0,email:f,password:m}),T=yield Er._fromIdTokenResponse(E,"signIn",b);return yield E._updateCurrentUser(T.user),T})).apply(this,arguments)}function ut(){return(ut=(0,y.Z)(function*(v,f,m){const E=(0,O.m9)(v),b={requestType:"EMAIL_SIGNIN",email:f};te(m.handleCodeInApp,E,"argument-error"),m&&eu(E,b,m),yield St(E,b)})).apply(this,arguments)}function Rl(){return(Rl=(0,y.Z)(function*(v,f,m){const E=(0,O.m9)(v),b=bp.credentialWithLink(f,m||X());return te(b._tenantId===(E.tenantId||null),E,"tenant-id-mismatch"),Dl(E,b)})).apply(this,arguments)}function nu(v,f){return Ur.apply(this,arguments)}function Ur(){return(Ur=(0,y.Z)(function*(v,f){return ot(v,"POST","/v1/accounts:createAuthUri",Ot(v,f))})).apply(this,arguments)}function ms(){return(ms=(0,y.Z)(function*(v,f){const E={identifier:f,continueUri:H()?X():"http://localhost"},{signinMethods:b}=yield nu((0,O.m9)(v),E);return b||[]})).apply(this,arguments)}function Op(){return(Op=(0,y.Z)(function*(v,f){const m=(0,O.m9)(v),b={requestType:"VERIFY_EMAIL",idToken:yield v.getIdToken()};f&&eu(m.auth,b,f);const{email:T}=yield Wn(m.auth,b);T!==v.email&&(yield v.reload())})).apply(this,arguments)}function ys(){return(ys=(0,y.Z)(function*(v,f,m){const E=(0,O.m9)(v),T={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield v.getIdToken(),newEmail:f};m&&eu(E.auth,T,m);const{email:V}=yield xd(E.auth,T);V!==v.email&&(yield v.reload())})).apply(this,arguments)}function cr(v,f){return Br.apply(this,arguments)}function Br(){return(Br=(0,y.Z)(function*(v,f){return ot(v,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function _s(){return(_s=(0,y.Z)(function*(v,{displayName:f,photoURL:m}){if(void 0===f&&void 0===m)return;const E=(0,O.m9)(v),T={idToken:yield E.getIdToken(),displayName:f,photoUrl:m,returnSecureToken:!0},V=yield xe(E,cr(E.auth,T));E.displayName=V.displayName||null,E.photoURL=V.photoUrl||null;const ie=E.providerData.find(({providerId:Ee})=>"password"===Ee);ie&&(ie.displayName=E.displayName,ie.photoURL=E.photoURL),yield E._updateTokensIfNecessary(V)})).apply(this,arguments)}function Hd(v,f,m){return ru.apply(this,arguments)}function ru(){return(ru=(0,y.Z)(function*(v,f,m){const{auth:E}=v,T={idToken:yield v.getIdToken(),returnSecureToken:!0};f&&(T.email=f),m&&(T.password=m);const V=yield xe(v,Gt(E,T));yield v._updateTokensIfNecessary(V,!0)})).apply(this,arguments)}class vs{constructor(f,m,E={}){this.isNewUser=f,this.providerId=m,this.profile=E}}class Ml extends vs{constructor(f,m,E,b){super(f,m,E),this.username=b}}class kp extends vs{constructor(f,m){super(f,"facebook.com",m)}}class Fp extends Ml{constructor(f,m){super(f,"github.com",m,"string"==typeof(null==m?void 0:m.login)?null==m?void 0:m.login:null)}}class ky extends vs{constructor(f,m){super(f,"google.com",m)}}class Fy extends Ml{constructor(f,m,E){super(f,"twitter.com",m,E)}}function iu(v){const{user:f,_tokenResponse:m}=v;return f.isAnonymous&&!m?{providerId:null,isNewUser:!1,profile:null}:function(v){var f,m;if(!v)return null;const{providerId:E}=v,b=v.rawUserInfo?JSON.parse(v.rawUserInfo):{},T=v.isNewUser||"identitytoolkit#SignupNewUserResponse"===v.kind;if(!E&&(null==v?void 0:v.idToken)){const V=null===(m=null===(f=Lt(v.idToken))||void 0===f?void 0:f.firebase)||void 0===m?void 0:m.sign_in_provider;if(V)return new vs(T,"anonymous"!==V&&"custom"!==V?V:null)}if(!E)return null;switch(E){case"facebook.com":return new kp(T,b);case"github.com":return new Fp(T,b);case"google.com":return new ky(T,b);case"twitter.com":return new Fy(T,b,v.screenName||null);case"custom":case"anonymous":return new vs(T,null);default:return new vs(T,E,b)}}(m)}class dr{constructor(f,m){this.type=f,this.credential=m}static _fromIdtoken(f){return new dr("enroll",f)}static _fromMfaPendingCredential(f){return new dr("signin",f)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(f){var m,E;if(null==f?void 0:f.multiFactorSession){if(null===(m=f.multiFactorSession)||void 0===m?void 0:m.pendingCredential)return dr._fromMfaPendingCredential(f.multiFactorSession.pendingCredential);if(null===(E=f.multiFactorSession)||void 0===E?void 0:E.idToken)return dr._fromIdtoken(f.multiFactorSession.idToken)}return null}}class jt{constructor(f,m,E){this.session=f,this.hints=m,this.signInResolver=E}static _fromError(f,m){const E=Et(f),b=(m.serverResponse.mfaInfo||[]).map(V=>ps._fromServerResponse(E,V));te(m.serverResponse.mfaPendingCredential,E,"internal-error");const T=dr._fromMfaPendingCredential(m.serverResponse.mfaPendingCredential);return new jt(T,b,function(){var V=(0,y.Z)(function*(ie){const Ee=yield ie._process(E,T);delete m.serverResponse.mfaInfo,delete m.serverResponse.mfaPendingCredential;const Me=Object.assign(Object.assign({},m.serverResponse),{idToken:Ee.idToken,refreshToken:Ee.refreshToken});switch(m.operationType){case"signIn":const We=yield Er._fromIdTokenResponse(E,m.operationType,Me);return yield E._updateCurrentUser(We.user),We;case"reauthenticate":return te(m.user,E,"internal-error"),Er._forOperation(m.user,m.operationType,Me);default:Ce(E,"internal-error")}});return function(ie){return V.apply(this,arguments)}}())}resolveSignIn(f){var m=this;return(0,y.Z)(function*(){return m.signInResolver(f)})()}}function Uy(v,f){return ot(v,"POST","/v2/accounts/mfaEnrollment:start",Object.assign({tenantId:v.tenantId},f))}class qd{constructor(f){this.user=f,this.enrolledFactors=[],f._onReload(m=>{m.mfaInfo&&(this.enrolledFactors=m.mfaInfo.map(E=>ps._fromServerResponse(f.auth,E)))})}static _fromUser(f){return new qd(f)}getSession(){var f=this;return(0,y.Z)(function*(){return dr._fromIdtoken(yield f.user.getIdToken())})()}enroll(f,m){var E=this;return(0,y.Z)(function*(){const b=f,T=yield E.getSession(),V=yield xe(E.user,b._process(E.user.auth,T,m));return yield E.user._updateTokensIfNecessary(V),E.user.reload()})()}unenroll(f){var m=this;return(0,y.Z)(function*(){const E="string"==typeof f?f:f.uid,b=yield m.user.getIdToken(),T=yield xe(m.user,function(v,f){return ot(v,"POST","/v2/accounts/mfaEnrollment:withdraw",Object.assign({tenantId:v.tenantId},f))}(m.user.auth,{idToken:b,mfaEnrollmentId:E}));m.enrolledFactors=m.enrolledFactors.filter(({uid:V})=>V!==E),yield m.user._updateTokensIfNecessary(T);try{yield m.user.reload()}catch(V){if("auth/user-token-expired"!==V.code)throw V}})()}}const Wd=new WeakMap,uo="__sak";class Pl{constructor(f,m){this.storage=f,this.type=m}_isAvailable(){try{return this.storage?(this.storage.setItem(uo,"1"),this.storage.removeItem(uo),Promise.resolve(!0)):Promise.resolve(!1)}catch(f){return Promise.resolve(!1)}}_set(f,m){return this.storage.setItem(f,JSON.stringify(m)),Promise.resolve()}_get(f){const m=this.storage.getItem(f);return Promise.resolve(m?JSON.parse(m):null)}_remove(f){return this.storage.removeItem(f),Promise.resolve()}}const Es=(()=>{class v extends Pl{constructor(){super(window.localStorage,"LOCAL"),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const v=(0,O.z$)();return us(v)||Fi(v)}()&&function(){try{return!(!window||window===window.top)}catch(v){return!1}}(),this.fallbackToPolling=Sd(),this._shouldAllowMigration=!0,this.boundEventHandler=this.onStorageEvent.bind(this)}forAllChangedKeys(m){for(const E of Object.keys(this.listeners)){const b=this.storage.getItem(E),T=this.localCache[E];b!==T&&m(E,T,b)}}onStorageEvent(m,E=!1){if(!m.key)return void this.forAllChangedKeys((ie,Ee,Me)=>{this.notifyListeners(ie,Me)});const b=m.key;if(E?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const ie=this.storage.getItem(b);if(m.newValue!==ie)null!==m.newValue?this.storage.setItem(b,m.newValue):this.storage.removeItem(b);else if(this.localCache[b]===m.newValue&&!E)return}const T=()=>{const ie=this.storage.getItem(b);!E&&this.localCache[b]===ie||this.notifyListeners(b,ie)},V=this.storage.getItem(b);(0,O.w1)()&&10===document.documentMode&&V!==m.newValue&&m.newValue!==m.oldValue?setTimeout(T,10):T()}notifyListeners(m,E){this.localCache[m]=E;const b=this.listeners[m];if(b)for(const T of Array.from(b))T(E&&JSON.parse(E))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((m,E,b)=>{this.onStorageEvent(new StorageEvent("storage",{key:m,oldValue:E,newValue:b}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(m,E){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[m]||(this.listeners[m]=new Set,this.localCache[m]=this.storage.getItem(m)),this.listeners[m].add(E)}_removeListener(m,E){this.listeners[m]&&(this.listeners[m].delete(E),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(m,E){var b=()=>super._set,T=this;return(0,y.Z)(function*(){yield b().call(T,m,E),T.localCache[m]=JSON.stringify(E)})()}_get(m){var E=()=>super._get,b=this;return(0,y.Z)(function*(){const T=yield E().call(b,m);return b.localCache[m]=JSON.stringify(T),T})()}_remove(m){var E=()=>super._remove,b=this;return(0,y.Z)(function*(){yield E().call(b,m),delete b.localCache[m]})()}}return v.type="LOCAL",v})(),ws=(()=>{class v extends Pl{constructor(){super(window.sessionStorage,"SESSION")}_addListener(m,E){}_removeListener(m,E){}}return v.type="SESSION",v})();let jp=(()=>{class v{constructor(m){this.eventTarget=m,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(m){const E=this.receivers.find(T=>T.isListeningto(m));if(E)return E;const b=new v(m);return this.receivers.push(b),b}isListeningto(m){return this.eventTarget===m}handleEvent(m){var E=this;return(0,y.Z)(function*(){const b=m,{eventId:T,eventType:V,data:ie}=b.data,Ee=E.handlersMap[V];if(!(null==Ee?void 0:Ee.size))return;b.ports[0].postMessage({status:"ack",eventId:T,eventType:V});const Me=Array.from(Ee).map(function(){var He=(0,y.Z)(function*(Ft){return Ft(b.origin,ie)});return function(Ft){return He.apply(this,arguments)}}()),We=yield function(v){return Promise.all(v.map(function(){var f=(0,y.Z)(function*(m){try{return{fulfilled:!0,value:yield m}}catch(E){return{fulfilled:!1,reason:E}}});return function(m){return f.apply(this,arguments)}}()))}(Me);b.ports[0].postMessage({status:"done",eventId:T,eventType:V,response:We})})()}_subscribe(m,E){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[m]||(this.handlersMap[m]=new Set),this.handlersMap[m].add(E)}_unsubscribe(m,E){this.handlersMap[m]&&E&&this.handlersMap[m].delete(E),(!E||0===this.handlersMap[m].size)&&delete this.handlersMap[m],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return v.receivers=[],v})();function su(v="",f=10){let m="";for(let E=0;E<f;E++)m+=Math.floor(10*Math.random());return v+m}class Cs{constructor(f){this.target=f,this.handlers=new Set}removeMessageHandler(f){f.messageChannel&&(f.messageChannel.port1.removeEventListener("message",f.onMessage),f.messageChannel.port1.close()),this.handlers.delete(f)}_send(f,m,E=50){var b=this;return(0,y.Z)(function*(){const T="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!T)throw new Error("connection_unavailable");let V,ie;return new Promise((Ee,Me)=>{const We=su("",20);T.port1.start();const He=setTimeout(()=>{Me(new Error("unsupported_event"))},E);ie={messageChannel:T,onMessage(Ft){const qt=Ft;if(qt.data.eventId===We)switch(qt.data.status){case"ack":clearTimeout(He),V=setTimeout(()=>{Me(new Error("timeout"))},3e3);break;case"done":clearTimeout(V),Ee(qt.data.response);break;default:clearTimeout(He),clearTimeout(V),Me(new Error("invalid_response"))}}},b.handlers.add(ie),T.port1.addEventListener("message",ie.onMessage),b.target.postMessage({eventType:f,eventId:We,data:m},[T.port2])}).finally(()=>{ie&&b.removeMessageHandler(ie)})})()}}function Cn(){return window}function Is(){return void 0!==Cn().WorkerGlobalScope&&"function"==typeof Cn().importScripts}function Fl(){return(Fl=(0,y.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(v){return null}})).apply(this,arguments)}const Kd="firebaseLocalStorageDb",Ll="firebaseLocalStorage",na="fbase_key";class ra{constructor(f){this.request=f}toPromise(){return new Promise((f,m)=>{this.request.addEventListener("success",()=>{f(this.request.result)}),this.request.addEventListener("error",()=>{m(this.request.error)})})}}function ia(v,f){return v.transaction([Ll],f?"readwrite":"readonly").objectStore(Ll)}function Yd(){const v=indexedDB.open(Kd,1);return new Promise((f,m)=>{v.addEventListener("error",()=>{m(v.error)}),v.addEventListener("upgradeneeded",()=>{const E=v.result;try{E.createObjectStore(Ll,{keyPath:na})}catch(b){m(b)}}),v.addEventListener("success",(0,y.Z)(function*(){const E=v.result;E.objectStoreNames.contains(Ll)?f(E):(E.close(),yield function(){const v=indexedDB.deleteDatabase(Kd);return new ra(v).toPromise()}(),f(yield Yd()))}))})}function Ht(v,f,m){return Ir.apply(this,arguments)}function Ir(){return(Ir=(0,y.Z)(function*(v,f,m){const E=ia(v,!0).put({[na]:f,value:m});return new ra(E).toPromise()})).apply(this,arguments)}function Ke(){return(Ke=(0,y.Z)(function*(v,f){const m=ia(v,!1).get(f),E=yield new ra(m).toPromise();return void 0===E?null:E.value})).apply(this,arguments)}function Vl(v,f){const m=ia(v,!0).delete(f);return new ra(m).toPromise()}const ni=(()=>{class v{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var m=this;return(0,y.Z)(function*(){return m.db||(m.db=yield Yd()),m.db})()}_withRetries(m){var E=this;return(0,y.Z)(function*(){let b=0;for(;;)try{const T=yield E._openDb();return yield m(T)}catch(T){if(b++>3)throw T;E.db&&(E.db.close(),E.db=void 0)}})()}initializeServiceWorkerMessaging(){var m=this;return(0,y.Z)(function*(){return Is()?m.initializeReceiver():m.initializeSender()})()}initializeReceiver(){var m=this;return(0,y.Z)(function*(){m.receiver=jp._getInstance(Is()?self:null),m.receiver._subscribe("keyChanged",function(){var E=(0,y.Z)(function*(b,T){return{keyProcessed:(yield m._poll()).includes(T.key)}});return function(b,T){return E.apply(this,arguments)}}()),m.receiver._subscribe("ping",function(){var E=(0,y.Z)(function*(b,T){return["keyChanged"]});return function(b,T){return E.apply(this,arguments)}}())})()}initializeSender(){var m=this;return(0,y.Z)(function*(){var E,b;if(m.activeServiceWorker=yield function(){return Fl.apply(this,arguments)}(),!m.activeServiceWorker)return;m.sender=new Cs(m.activeServiceWorker);const T=yield m.sender._send("ping",{},800);!T||(null===(E=T[0])||void 0===E?void 0:E.fulfilled)&&(null===(b=T[0])||void 0===b?void 0:b.value.includes("keyChanged"))&&(m.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(m){var E=this;return(0,y.Z)(function*(){if(E.sender&&E.activeServiceWorker&&function(){var v;return(null===(v=null==navigator?void 0:navigator.serviceWorker)||void 0===v?void 0:v.controller)||null}()===E.activeServiceWorker)try{yield E.sender._send("keyChanged",{key:m},E.serviceWorkerReceiverAvailable?800:50)}catch(b){}})()}_isAvailable(){return(0,y.Z)(function*(){try{if(!indexedDB)return!1;const m=yield Yd();return yield Ht(m,uo,"1"),yield Vl(m,uo),!0}catch(m){}return!1})()}_withPendingWrite(m){var E=this;return(0,y.Z)(function*(){E.pendingWrites++;try{yield m()}finally{E.pendingWrites--}})()}_set(m,E){var b=this;return(0,y.Z)(function*(){return b._withPendingWrite((0,y.Z)(function*(){return yield b._withRetries(T=>Ht(T,m,E)),b.localCache[m]=E,b.notifyServiceWorker(m)}))})()}_get(m){var E=this;return(0,y.Z)(function*(){const b=yield E._withRetries(T=>function(v,f){return Ke.apply(this,arguments)}(T,m));return E.localCache[m]=b,b})()}_remove(m){var E=this;return(0,y.Z)(function*(){return E._withPendingWrite((0,y.Z)(function*(){return yield E._withRetries(b=>Vl(b,m)),delete E.localCache[m],E.notifyServiceWorker(m)}))})()}_poll(){var m=this;return(0,y.Z)(function*(){const E=yield m._withRetries(V=>{const ie=ia(V,!1).getAll();return new ra(ie).toPromise()});if(!E)return[];if(0!==m.pendingWrites)return[];const b=[],T=new Set;for(const{fbase_key:V,value:ie}of E)T.add(V),JSON.stringify(m.localCache[V])!==JSON.stringify(ie)&&(m.notifyListeners(V,ie),b.push(V));for(const V of Object.keys(m.localCache))m.localCache[V]&&!T.has(V)&&(m.notifyListeners(V,null),b.push(V));return b})()}notifyListeners(m,E){this.localCache[m]=E;const b=this.listeners[m];if(b)for(const T of Array.from(b))T(E)}startPolling(){var m=this;this.stopPolling(),this.pollTimer=setInterval((0,y.Z)(function*(){return m._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(m,E){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[m]||(this.listeners[m]=new Set,this._get(m)),this.listeners[m].add(E)}_removeListener(m,E){this.listeners[m]&&(this.listeners[m].delete(E),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return v.type="LOCAL",v})();function ri(v,f){return ot(v,"POST","/v2/accounts/mfaSignIn:start",Object.assign({tenantId:v.tenantId},f))}function Bl(){return(Bl=(0,y.Z)(function*(v){return(yield ot(v,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function $p(v){return new Promise((f,m)=>{const E=document.createElement("script");E.setAttribute("src",v),E.onload=f,E.onerror=b=>{const T=be("internal-error");T.customData=b,m(T)},E.type="text/javascript",E.charset="UTF-8",function(){var v,f;return null!==(f=null===(v=document.getElementsByTagName("head"))||void 0===v?void 0:v[0])&&void 0!==f?f:document}().appendChild(E)})}function Bi(v){return`__${v}${Math.floor(1e6*Math.random())}`}const dn=1e12;class ji{constructor(f){this.auth=f,this.counter=dn,this._widgets=new Map}render(f,m){const E=this.counter;return this._widgets.set(E,new sa(f,this.auth.name,m||{})),this.counter++,E}reset(f){var m;const E=f||dn;null===(m=this._widgets.get(E))||void 0===m||m.delete(),this._widgets.delete(E)}getResponse(f){var m;return(null===(m=this._widgets.get(f||dn))||void 0===m?void 0:m.getResponse())||""}execute(f){var m=this;return(0,y.Z)(function*(){var E;return null===(E=m._widgets.get(f||dn))||void 0===E||E.execute(),""})()}}class sa{constructor(f,m,E){this.params=E,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const b="string"==typeof f?document.getElementById(f):f;te(b,"argument-error",{appName:m}),this.container=b,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function(v){const f=[],m="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let E=0;E<50;E++)f.push(m.charAt(Math.floor(Math.random()*m.length)));return f.join("")}();const{callback:f,"expired-callback":m}=this.params;if(f)try{f(this.responseToken)}catch(E){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,m)try{m()}catch(E){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const oa=Bi("rcb"),jl=new ke(3e4,6e4);class fo{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!Cn().grecaptcha}load(f,m=""){return te((v=m).length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(v),f,"argument-error"),this.shouldResolveImmediately(m)?Promise.resolve(Cn().grecaptcha):new Promise((E,b)=>{const T=Cn().setTimeout(()=>{b(be(f,"network-request-failed"))},jl.get());Cn()[oa]=()=>{Cn().clearTimeout(T),delete Cn()[oa];const ie=Cn().grecaptcha;if(!ie)return void b(be(f,"internal-error"));const Ee=ie.render;ie.render=(Me,We)=>{const He=Ee(Me,We);return this.counter++,He},this.hostLanguage=m,E(ie)},$p(`https://www.google.com/recaptcha/api.js??${(0,O.xO)({onload:oa,render:"explicit",hl:m})}`).catch(()=>{clearTimeout(T),b(be(f,"internal-error"))})});var v}clearedOneInstance(){this.counter--}shouldResolveImmediately(f){return!!Cn().grecaptcha&&(f===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class aa{load(f){return(0,y.Z)(function*(){return new ji(f)})()}clearedOneInstance(){}}const au="recaptcha",bs={theme:"light",type:"image"};class go{constructor(f,m=Object.assign({},bs),E){this.parameters=m,this.type=au,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Et(E),this.isInvisible="invisible"===this.parameters.size,te("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const b="string"==typeof f?document.getElementById(f):f;te(b,this.auth,"argument-error"),this.container=b,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new aa:new fo,this.validateStartingState()}verify(){var f=this;return(0,y.Z)(function*(){f.assertNotDestroyed();const m=yield f.render(),E=f.getAssertedRecaptcha();return E.getResponse(m)||new Promise(T=>{const V=ie=>{!ie||(f.tokenChangeListeners.delete(V),T(ie))};f.tokenChangeListeners.add(V),f.isInvisible&&E.execute(m)})})()}render(){try{this.assertNotDestroyed()}catch(f){return Promise.reject(f)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(f=>{throw this.renderPromise=null,f})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(f=>{this.container.removeChild(f)})}validateStartingState(){te(!this.parameters.sitekey,this.auth,"argument-error"),te(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),te("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(f){return m=>{if(this.tokenChangeListeners.forEach(E=>E(m)),"function"==typeof f)f(m);else if("string"==typeof f){const E=Cn()[f];"function"==typeof E&&E(m)}}}assertNotDestroyed(){te(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var f=this;return(0,y.Z)(function*(){if(yield f.init(),!f.widgetId){let m=f.container;if(!f.isInvisible){const E=document.createElement("div");m.appendChild(E),m=E}f.widgetId=f.getAssertedRecaptcha().render(m,f.parameters)}return f.widgetId})()}init(){var f=this;return(0,y.Z)(function*(){te(H()&&!Is(),f.auth,"internal-error"),yield function(){let v=null;return new Promise(f=>{"complete"!==document.readyState?(v=()=>f(),window.addEventListener("load",v)):f()}).catch(f=>{throw v&&window.removeEventListener("load",v),f})}(),f.recaptcha=yield f._recaptchaLoader.load(f.auth,f.auth.languageCode||void 0);const m=yield function(v){return Bl.apply(this,arguments)}(f.auth);te(m,f.auth,"internal-error"),f.parameters.sitekey=m})()}getAssertedRecaptcha(){return te(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Hl{constructor(f,m){this.verificationId=f,this.onConfirmation=m}confirm(f){const m=Xo._fromVerification(this.verificationId,f);return this.onConfirmation(m)}}function $l(){return($l=(0,y.Z)(function*(v,f,m){const E=Et(v),b=yield Wl(E,f,(0,O.m9)(m));return new Hl(b,T=>Dl(E,T))})).apply(this,arguments)}function Gl(){return(Gl=(0,y.Z)(function*(v,f,m){const E=(0,O.m9)(v);yield Ja(!1,E,"phone");const b=yield Wl(E.auth,f,(0,O.m9)(m));return new Hl(b,T=>Sp(E,T))})).apply(this,arguments)}function ql(){return(ql=(0,y.Z)(function*(v,f,m){const E=(0,O.m9)(v),b=yield Wl(E.auth,f,(0,O.m9)(m));return new Hl(b,T=>xp(E,T))})).apply(this,arguments)}function Wl(v,f,m){return zl.apply(this,arguments)}function zl(){return(zl=(0,y.Z)(function*(v,f,m){var E;const b=yield m.verify();try{let T;if(te("string"==typeof b,v,"argument-error"),te(m.type===au,v,"argument-error"),T="string"==typeof f?{phoneNumber:f}:f,"session"in T){const V=T.session;if("phoneNumber"in T)return te("enroll"===V.type,v,"internal-error"),(yield Uy(v,{idToken:V.credential,phoneEnrollmentInfo:{phoneNumber:T.phoneNumber,recaptchaToken:b}})).phoneSessionInfo.sessionInfo;{te("signin"===V.type,v,"internal-error");const ie=(null===(E=T.multiFactorHint)||void 0===E?void 0:E.uid)||T.multiFactorUid;return te(ie,v,"missing-multi-factor-info"),(yield ri(v,{mfaPendingCredential:V.credential,mfaEnrollmentId:ie,phoneSignInInfo:{recaptchaToken:b}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:V}=yield ml(v,{phoneNumber:T.phoneNumber,recaptchaToken:b});return V}}finally{m._reset()}})).apply(this,arguments)}function th(){return(th=(0,y.Z)(function*(v,f){yield wr((0,O.m9)(v),f)})).apply(this,arguments)}let uu=(()=>{class v{constructor(m){this.providerId=v.PROVIDER_ID,this.auth=Et(m)}verifyPhoneNumber(m,E){return Wl(this.auth,m,(0,O.m9)(E))}static credential(m,E){return Xo._fromVerification(m,E)}static credentialFromResult(m){return v.credentialFromTaggedObject(m)}static credentialFromError(m){return v.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{phoneNumber:E,temporaryProof:b}=m;return E&&b?Xo._fromTokenResponse(E,b):null}}return v.PROVIDER_ID="phone",v.PHONE_SIGN_IN_METHOD="phone",v})();function Ds(v,f){return f?W(f):(te(v._popupRedirectResolver,v,"argument-error"),v._popupRedirectResolver)}class lu extends Fr{constructor(f){super("custom","custom"),this.params=f}_getIdTokenResponse(f){return Vi(f,this._buildIdpRequest())}_linkToIdToken(f,m){return Vi(f,this._buildIdpRequest(m))}_getReauthenticationResolver(f){return Vi(f,this._buildIdpRequest())}_buildIdpRequest(f){const m={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return f&&(m.idToken=f),m}}function Zy(v){return bl(v.auth,new lu(v),v.bypassAuthState)}function ua(v){const{auth:f,user:m}=v;return te(m,f,"internal-error"),ea(m,new lu(v),v.bypassAuthState)}function Ky(v){return ft.apply(this,arguments)}function ft(){return(ft=(0,y.Z)(function*(v){const{auth:f,user:m}=v;return te(m,f,"internal-error"),wr(m,new lu(v),v.bypassAuthState)})).apply(this,arguments)}class Hr{constructor(f,m,E,b,T=!1){this.auth=f,this.resolver=E,this.user=b,this.bypassAuthState=T,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(m)?m:[m]}execute(){var f=this;return new Promise(function(){var m=(0,y.Z)(function*(E,b){f.pendingPromise={resolve:E,reject:b};try{f.eventManager=yield f.resolver._initialize(f.auth),yield f.onExecution(),f.eventManager.registerConsumer(f)}catch(T){f.reject(T)}});return function(E,b){return m.apply(this,arguments)}}())}onAuthEvent(f){var m=this;return(0,y.Z)(function*(){const{urlResponse:E,sessionId:b,postBody:T,tenantId:V,error:ie,type:Ee}=f;if(ie)return void m.reject(ie);const Me={auth:m.auth,requestUri:E,sessionId:b,tenantId:V||void 0,postBody:T||void 0,user:m.user,bypassAuthState:m.bypassAuthState};try{m.resolve(yield m.getIdpTask(Ee)(Me))}catch(We){m.reject(We)}})()}onError(f){this.reject(f)}getIdpTask(f){switch(f){case"signInViaPopup":case"signInViaRedirect":return Zy;case"linkViaPopup":case"linkViaRedirect":return Ky;case"reauthViaPopup":case"reauthViaRedirect":return ua;default:Ce(this.auth,"internal-error")}}resolve(f){Ze(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(f),this.unregisterAndCleanUp()}reject(f){Ze(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(f),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const cu=new ke(2e3,1e4);function qp(){return(qp=(0,y.Z)(function*(v,f,m){const E=Et(v);te(f instanceof ds,v,"argument-error");const b=Ds(E,m);return new Dr(E,"signInViaPopup",f,b).executeNotNull()})).apply(this,arguments)}function br(){return(br=(0,y.Z)(function*(v,f,m){const E=(0,O.m9)(v);te(f instanceof ds,E.auth,"argument-error");const b=Ds(E.auth,m);return new Dr(E.auth,"reauthViaPopup",f,b,E).executeNotNull()})).apply(this,arguments)}function Hi(){return(Hi=(0,y.Z)(function*(v,f,m){const E=(0,O.m9)(v);te(f instanceof ds,E.auth,"argument-error");const b=Ds(E.auth,m);return new Dr(E.auth,"linkViaPopup",f,b,E).executeNotNull()})).apply(this,arguments)}let Dr=(()=>{class v extends Hr{constructor(m,E,b,T,V){super(m,E,T,V),this.provider=b,this.authWindow=null,this.pollId=null,v.currentPopupAction&&v.currentPopupAction.cancel(),v.currentPopupAction=this}executeNotNull(){var m=this;return(0,y.Z)(function*(){const E=yield m.execute();return te(E,m.auth,"internal-error"),E})()}onExecution(){var m=this;return(0,y.Z)(function*(){Ze(1===m.filter.length,"Popup operations only handle one event");const E=su();m.authWindow=yield m.resolver._openPopup(m.auth,m.provider,m.filter[0],E),m.authWindow.associatedEvent=E,m.resolver._originValidation(m.auth).catch(b=>{m.reject(b)}),m.resolver._isIframeWebStorageSupported(m.auth,b=>{b||m.reject(be(m.auth,"web-storage-unsupported"))}),m.pollUserCancellation()})()}get eventId(){var m;return(null===(m=this.authWindow)||void 0===m?void 0:m.associatedEvent)||null}cancel(){this.reject(be(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,v.currentPopupAction=null}pollUserCancellation(){const m=()=>{var E,b;this.pollId=(null===(b=null===(E=this.authWindow)||void 0===E?void 0:E.window)||void 0===b?void 0:b.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(be(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(m,cu.get())};m()}}return v.currentPopupAction=null,v})();const ca=new Map;class Zl extends Hr{constructor(f,m,E=!1){super(f,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],m,void 0,E),this.eventId=null}execute(){var f=()=>super.execute,m=this;return(0,y.Z)(function*(){let E=ca.get(m.auth._key());if(!E){try{const T=(yield function(v,f){return Kl.apply(this,arguments)}(m.resolver,m.auth))?yield f().call(m):null;E=()=>Promise.resolve(T)}catch(b){E=()=>Promise.reject(b)}ca.set(m.auth._key(),E)}return E()})()}onAuthEvent(f){var m=()=>super.onAuthEvent,E=this;return(0,y.Z)(function*(){if("signInViaRedirect"===f.type)return m().call(E,f);if("unknown"!==f.type){if(f.eventId){const b=yield E.auth._redirectUserForId(f.eventId);if(b)return E.user=b,m().call(E,f);E.resolve(null)}}else E.resolve(null)})()}onExecution(){return(0,y.Z)(function*(){})()}cleanUp(){}}function Kl(){return(Kl=(0,y.Z)(function*(v,f){const m=Yy(f),E="true"===(yield $i(v)._get(m));return yield $i(v)._remove(m),E})).apply(this,arguments)}function mo(v,f){return Kn.apply(this,arguments)}function Kn(){return(Kn=(0,y.Z)(function*(v,f){return $i(v)._set(Yy(f),"true")})).apply(this,arguments)}function $i(v){return W(v._redirectPersistence)}function Yy(v){return at("pendingRedirect",v.config.apiKey,v.name)}function Wp(){return(Wp=(0,y.Z)(function*(v,f,m){const E=Et(v);te(f instanceof ds,v,"argument-error");const b=Ds(E,m);return yield mo(b,E),b._openRedirect(E,f,"signInViaRedirect")})).apply(this,arguments)}function sh(){return(sh=(0,y.Z)(function*(v,f,m){const E=(0,O.m9)(v);te(f instanceof ds,E.auth,"argument-error");const b=Ds(E.auth,m);yield mo(b,E.auth);const T=yield ha(E);return b._openRedirect(E.auth,f,"reauthViaRedirect",T)})).apply(this,arguments)}function Gi(){return(Gi=(0,y.Z)(function*(v,f,m){const E=(0,O.m9)(v);te(f instanceof ds,E.auth,"argument-error");const b=Ds(E.auth,m);yield Ja(!1,E,f.providerId),yield mo(b,E.auth);const T=yield ha(E);return b._openRedirect(E.auth,f,"linkViaRedirect",T)})).apply(this,arguments)}function ii(){return(ii=(0,y.Z)(function*(v,f){return yield Et(v)._initializationPromise,qi(v,f,!1)})).apply(this,arguments)}function qi(v,f){return Tr.apply(this,arguments)}function Tr(){return(Tr=(0,y.Z)(function*(v,f,m=!1){const E=Et(v),b=Ds(E,f),V=yield new Zl(E,b,m).execute();return V&&!m&&(delete V.user._redirectEventId,yield E._persistUserIfCurrent(V.user),yield E._setRedirectUser(null,f)),V})).apply(this,arguments)}function ha(v){return oh.apply(this,arguments)}function oh(){return(oh=(0,y.Z)(function*(v){const f=su(`${v.uid}:::`);return v._redirectEventId=f,yield v.auth._setRedirectUser(v),yield v.auth._persistUserIfCurrent(v),f})).apply(this,arguments)}class hu{constructor(f){this.auth=f,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(f){this.consumers.add(f),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,f)&&(this.sendToConsumer(this.queuedRedirectEvent,f),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(f){this.consumers.delete(f)}onEvent(f){if(this.hasEventBeenHandled(f))return!1;let m=!1;return this.consumers.forEach(E=>{this.isEventForConsumer(f,E)&&(m=!0,this.sendToConsumer(f,E),this.saveEventToCache(f))}),this.hasHandledPotentialRedirect||!function(v){switch(v.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return fu(v);default:return!1}}(f)||(this.hasHandledPotentialRedirect=!0,m||(this.queuedRedirectEvent=f,m=!0)),m}sendToConsumer(f,m){var E;if(f.error&&!fu(f)){const b=(null===(E=f.error.code)||void 0===E?void 0:E.split("auth/")[1])||"internal-error";m.onError(be(this.auth,b))}else m.onAuthEvent(f)}isEventForConsumer(f,m){const E=null===m.eventId||!!f.eventId&&f.eventId===m.eventId;return m.filter.includes(f.type)&&E}hasEventBeenHandled(f){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(uh(f))}saveEventToCache(f){this.cachedEventUids.add(uh(f)),this.lastProcessedEventTime=Date.now()}}function uh(v){return[v.type,v.eventId,v.sessionId,v.tenantId].filter(f=>f).join("-")}function fu({type:v,error:f}){return"unknown"===v&&"auth/no-auth-event"===(null==f?void 0:f.code)}function Wi(v){return fa.apply(this,arguments)}function fa(){return(fa=(0,y.Z)(function*(v,f={}){return ot(v,"GET","/v1/projects",f)})).apply(this,arguments)}const Yt=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,zp=/^https?/;function Ts(){return(Ts=(0,y.Z)(function*(v){if(v.config.emulator)return;const{authorizedDomains:f}=yield Wi(v);for(const m of f)try{if(zi(m))return}catch(E){}Ce(v,"unauthorized-domain")})).apply(this,arguments)}function zi(v){const f=X(),{protocol:m,hostname:E}=new URL(f);if(v.startsWith("chrome-extension://")){const V=new URL(v);return""===V.hostname&&""===E?"chrome-extension:"===m&&v.replace("chrome-extension://","")===f.replace("chrome-extension://",""):"chrome-extension:"===m&&V.hostname===E}if(!zp.test(m))return!1;if(Yt.test(v))return E===v;const b=v.replace(/\./g,"\\.");return new RegExp("^(.+\\."+b+"|"+b+")$","i").test(E)}const Yl=new ke(3e4,6e4);function Ql(){const v=Cn().___jsl;if(null==v?void 0:v.H)for(const f of Object.keys(v.H))if(v.H[f].r=v.H[f].r||[],v.H[f].L=v.H[f].L||[],v.H[f].r=[...v.H[f].L],v.CP)for(let m=0;m<v.CP.length;m++)v.CP[m]=null}let lh=null;function _o(v){return lh=lh||function(v){return new Promise((f,m)=>{var E,b,T;function V(){Ql(),gapi.load("gapi.iframes",{callback:()=>{f(gapi.iframes.getContext())},ontimeout:()=>{Ql(),m(be(v,"network-request-failed"))},timeout:Yl.get()})}if(null===(b=null===(E=Cn().gapi)||void 0===E?void 0:E.iframes)||void 0===b?void 0:b.Iframe)f(gapi.iframes.getContext());else{if(!(null===(T=Cn().gapi)||void 0===T?void 0:T.load)){const ie=Bi("iframefcb");return Cn()[ie]=()=>{gapi.load?V():m(be(v,"network-request-failed"))},$p(`https://apis.google.com/js/api.js?onload=${ie}`)}V()}}).catch(f=>{throw lh=null,f})}(v),lh}const Zi=new ke(5e3,15e3),Jl={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dh=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function hh(v){const f=v.config;te(f.authDomain,v,"auth-domain-config-required");const m=f.emulator?et(f,"emulator/auth/iframe"):`https://${v.config.authDomain}/__/auth/iframe`,E={apiKey:f.apiKey,appName:v.name,v:z.SDK_VERSION},b=dh.get(v.config.apiHost);b&&(E.eid=b);const T=v._getFrameworks();return T.length&&(E.fw=T.join(",")),`${m}?${(0,O.xO)(E).slice(1)}`}function Xl(){return(Xl=(0,y.Z)(function*(v){const f=yield _o(v),m=Cn().gapi;return te(m,v,"internal-error"),f.open({where:document.body,url:hh(v),messageHandlersFilter:m.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Jl,dontclear:!0},E=>new Promise(function(){var b=(0,y.Z)(function*(T,V){yield E.restyle({setHideOnLeave:!1});const ie=be(v,"network-request-failed"),Ee=Cn().setTimeout(()=>{V(ie)},Zi.get());function Me(){Cn().clearTimeout(Ee),T(E)}E.ping(Me).then(Me,()=>{V(ie)})});return function(T,V){return b.apply(this,arguments)}}()))})).apply(this,arguments)}const cw={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Kp{constructor(f){this.window=f,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(f){}}}function gu(v,f,m,E,b,T){te(v.config.authDomain,v,"auth-domain-config-required"),te(v.config.apiKey,v,"invalid-api-key");const V={apiKey:v.config.apiKey,appName:v.name,authType:m,redirectUrl:E,v:z.SDK_VERSION,eventId:b};if(f instanceof ds){f.setDefaultLanguage(v.languageCode),V.providerId=f.providerId||"",(0,O.xb)(f.getCustomParameters())||(V.customParameters=JSON.stringify(f.getCustomParameters()));for(const[Ee,Me]of Object.entries(T||{}))V[Ee]=Me}if(f instanceof Ya){const Ee=f.getScopes().filter(Me=>""!==Me);Ee.length>0&&(V.scopes=Ee.join(","))}v.tenantId&&(V.tid=v.tenantId);const ie=V;for(const Ee of Object.keys(ie))void 0===ie[Ee]&&delete ie[Ee];return`${function({config:v}){return v.emulator?et(v,"emulator/auth/handler"):`https://${v.authDomain}/__/auth/handler`}(v)}?${(0,O.xO)(ie).slice(1)}`}const As="webStorageSupport";class ph extends class{constructor(f){this.factorId=f}_process(f,m,E){switch(m.type){case"enroll":return this._finalizeEnroll(f,m.credential,E);case"signin":return this._finalizeSignIn(f,m.credential);default:return Xe("unexpected MultiFactorSessionType")}}}{constructor(f){super("phone"),this.credential=f}static _fromCredential(f){return new ph(f)}_finalizeEnroll(f,m,E){return function(v,f){return ot(v,"POST","/v2/accounts/mfaEnrollment:finalize",Object.assign({tenantId:v.tenantId},f))}(f,{idToken:m,displayName:E,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(f,m){return function(v,f){return ot(v,"POST","/v2/accounts/mfaSignIn:finalize",Object.assign({tenantId:v.tenantId},f))}(f,{mfaPendingCredential:m,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}class s_{constructor(){}static assertion(f){return ph._fromCredential(f)}}var v;class Qp{constructor(f){this.auth=f,this.internalListeners=new Map}getUid(){var f;return this.assertAuthConfigured(),(null===(f=this.auth.currentUser)||void 0===f?void 0:f.uid)||null}getToken(f){var m=this;return(0,y.Z)(function*(){return m.assertAuthConfigured(),yield m.auth._initializationPromise,m.auth.currentUser?{accessToken:yield m.auth.currentUser.getIdToken(f)}:null})()}addAuthTokenListener(f){if(this.assertAuthConfigured(),this.internalListeners.has(f))return;const m=this.auth.onIdTokenChanged(E=>{var b;f((null===(b=E)||void 0===b?void 0:b.stsTokenManager.accessToken)||null)});this.internalListeners.set(f,m),this.updateProactiveRefresh()}removeAuthTokenListener(f){this.assertAuthConfigured();const m=this.internalListeners.get(f);!m||(this.internalListeners.delete(f),m(),this.updateProactiveRefresh())}assertAuthConfigured(){te(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Ss(){return window}function mu(){return(mu=(0,y.Z)(function*(v,f,m){var E;const{BuildInfo:b}=Ss();Ze(f.sessionId,"AuthEvent did not contain a session ID");const T=yield eg(f.sessionId),V={};return Fi()?V.ibi=b.packageName:Wo()?V.apn=b.packageName:Ce(v,"operation-not-supported-in-this-environment"),b.displayName&&(V.appDisplayName=b.displayName),V.sessionId=T,gu(v,m,f.type,void 0,null!==(E=f.eventId)&&void 0!==E?E:void 0,V)})).apply(this,arguments)}function $r(){return($r=(0,y.Z)(function*(v){const{BuildInfo:f}=Ss(),m={};Fi()?m.iosBundleId=f.packageName:Wo()?m.androidPackageName=f.packageName:Ce(v,"operation-not-supported-in-this-environment"),yield Wi(v,m)})).apply(this,arguments)}function ic(){return(ic=(0,y.Z)(function*(v,f,m){const{cordova:E}=Ss();let b=()=>{};try{yield new Promise((T,V)=>{let ie=null;function Ee(){var He;T();const Ft=null===(He=E.plugins.browsertab)||void 0===He?void 0:He.close;"function"==typeof Ft&&Ft(),"function"==typeof(null==m?void 0:m.close)&&m.close()}function Me(){ie||(ie=window.setTimeout(()=>{V(be(v,"redirect-cancelled-by-user"))},2e3))}function We(){"visible"===(null==document?void 0:document.visibilityState)&&Me()}f.addPassiveListener(Ee),document.addEventListener("resume",Me,!1),Wo()&&document.addEventListener("visibilitychange",We,!1),b=()=>{f.removePassiveListener(Ee),document.removeEventListener("resume",Me,!1),document.removeEventListener("visibilitychange",We,!1),ie&&window.clearTimeout(ie)}})}finally{b()}})).apply(this,arguments)}function eg(v){return gh.apply(this,arguments)}function gh(){return(gh=(0,y.Z)(function*(v){const f=l_(v),m=yield crypto.subtle.digest("SHA-256",f);return Array.from(new Uint8Array(m)).map(b=>b.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function l_(v){if(Ze(/[0-9a-zA-Z]+/.test(v),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(v);const f=new ArrayBuffer(v.length),m=new Uint8Array(f);for(let E=0;E<v.length;E++)m[E]=v.charCodeAt(E);return m}v="Browser",(0,z._registerComponent)(new le.wA("auth",(f,{options:m})=>{const E=f.getProvider("app").getImmediate(),{apiKey:b,authDomain:T}=E.options;return(V=>{te(b&&!b.includes(":"),"invalid-api-key",{appName:V.name}),te(!(null==T?void 0:T.includes(":")),"argument-error",{appName:V.name});const ie={apiKey:b,authDomain:T,clientPlatform:v,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:yi(v)},Ee=new to(V,ie);return function(v,f){const m=(null==f?void 0:f.persistence)||[],E=(Array.isArray(m)?m:[m]).map(W);(null==f?void 0:f.errorMap)&&v._updateErrorMap(f.errorMap),v._initializeWithPersistence(E,null==f?void 0:f.popupRedirectResolver)}(Ee,m),Ee})(E)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((f,m,E)=>{f.getProvider("auth-internal").initialize()})),(0,z._registerComponent)(new le.wA("auth-internal",f=>{const m=Et(f.getProvider("auth").getImmediate());return new Qp(m)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,z.registerVersion)("@firebase/auth","0.17.1",void 0);class tg extends hu{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(f=>{this.resolveInialized=f})}addPassiveListener(f){this.passiveListeners.add(f)}removePassiveListener(f){this.passiveListeners.delete(f)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(f){return this.resolveInialized(),this.passiveListeners.forEach(m=>m(f)),super.onEvent(f)}initialized(){var f=this;return(0,y.Z)(function*(){yield f.initPromise})()}}function rg(v){return mh.apply(this,arguments)}function mh(){return(mh=(0,y.Z)(function*(v){const f=yield sc()._get(Ar(v));return f&&(yield sc()._remove(Ar(v))),f})).apply(this,arguments)}function ya(){const v=[],f="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let m=0;m<20;m++){const E=Math.floor(Math.random()*f.length);v.push(f.charAt(E))}return v.join("")}function sc(){return W(Es)}function Ar(v){return at("authEvent",v.config.apiKey,v.name)}function ac(v){if(!(null==v?void 0:v.includes("?")))return{};const[f,...m]=v.split("?");return(0,O.zd)(m.join("?"))}function fw(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:be("no-auth-event")}}function uc(){var v;return(null===(v=null==self?void 0:self.location)||void 0===v?void 0:v.protocol)||null}function _h(v=(0,O.z$)()){return!("file:"!==uc()&&"ionic:"!==uc()||!v.toLowerCase().match(/iphone|ipad|ipod|android/))}function _u(){try{const v=self.localStorage,f=su();if(v)return v.setItem(f,"1"),v.removeItem(f),!function(v=(0,O.z$)()){return(0,O.w1)()&&11===(null==document?void 0:document.documentMode)||function(v=(0,O.z$)()){return/Edge\/\d+/.test(v)}(v)}()||(0,O.hl)()}catch(v){return lc()&&(0,O.hl)()}return!1}function lc(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function _a(){return("http:"===uc()||"https:"===uc()||(0,O.ru)()||_h())&&!((0,O.b$)()||(0,O.UG)())&&_u()&&!lc()}function ag(){return _h()&&"undefined"!=typeof document}function vh(){return(vh=(0,y.Z)(function*(){return!!ag()&&new Promise(v=>{const f=setTimeout(()=>{v(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(f),v(!0)})})})).apply(this,arguments)}const qr={LOCAL:"local",NONE:"none",SESSION:"session"},_i=te,va="persistence";function vu(v){return vi.apply(this,arguments)}function vi(){return(vi=(0,y.Z)(function*(v){yield v._initializationPromise;const f=lg(),m=at(va,v.config.apiKey,v.name);(null==f?void 0:f.sessionStorage)&&f.sessionStorage.setItem(m,v._getPersistence())})).apply(this,arguments)}function lg(){return"undefined"!=typeof window?window:null}const Eu=te;class Jt{constructor(){this.browserResolver=W(class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ws,this._completeRedirectFn=qi}_openPopup(f,m,E,b){var T=this;return(0,y.Z)(function*(){var V;Ze(null===(V=T.eventManagers[f._key()])||void 0===V?void 0:V.manager,"_initialize() not called before _openPopup()");const ie=gu(f,m,E,X(),b);return function(v,f,m,E=500,b=600){const T=Math.max((window.screen.availHeight-b)/2,0).toString(),V=Math.max((window.screen.availWidth-E)/2,0).toString();let ie="";const Ee=Object.assign(Object.assign({},cw),{width:E.toString(),height:b.toString(),top:T,left:V}),Me=(0,O.z$)().toLowerCase();m&&(ie=qo(Me)?"_blank":m),wn(Me)&&(f=f||"http://localhost",Ee.scrollbars="yes");const We=Object.entries(Ee).reduce((Ft,[qt,Io])=>`${Ft}${qt}=${Io},`,"");if(function(v=(0,O.z$)()){var f;return Fi(v)&&!!(null===(f=window.navigator)||void 0===f?void 0:f.standalone)}(Me)&&"_self"!==ie)return function(v,f){const m=document.createElement("a");m.href=v,m.target=f;const E=document.createEvent("MouseEvent");E.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),m.dispatchEvent(E)}(f||"",ie),new Kp(null);const He=window.open(f||"",ie,We);te(He,v,"popup-blocked");try{He.focus()}catch(Ft){}return new Kp(He)}(f,ie,su())})()}_openRedirect(f,m,E,b){var T=this;return(0,y.Z)(function*(){return yield T._originValidation(f),v=gu(f,m,E,X(),b),Cn().location.href=v,new Promise(()=>{});var v})()}_initialize(f){const m=f._key();if(this.eventManagers[m]){const{manager:b,promise:T}=this.eventManagers[m];return b?Promise.resolve(b):(Ze(T,"If manager is not set, promise should be"),T)}const E=this.initAndGetManager(f);return this.eventManagers[m]={promise:E},E}initAndGetManager(f){var m=this;return(0,y.Z)(function*(){const E=yield function(v){return Xl.apply(this,arguments)}(f),b=new hu(f);return E.register("authEvent",T=>(te(null==T?void 0:T.authEvent,f,"invalid-auth-event"),{status:b.onEvent(T.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),m.eventManagers[f._key()]={manager:b},m.iframes[f._key()]=E,b})()}_isIframeWebStorageSupported(f,m){this.iframes[f._key()].send(As,{type:As},b=>{var T;const V=null===(T=null==b?void 0:b[0])||void 0===T?void 0:T[As];void 0!==V&&m(!!V),Ce(f,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(f){const m=f._key();return this.originValidationPromises[m]||(this.originValidationPromises[m]=function(v){return Ts.apply(this,arguments)}(f)),this.originValidationPromises[m]}get _shouldInitProactively(){return Sd()||us()||Fi()}}),this.cordovaResolver=W(class{constructor(){this._redirectPersistence=ws,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=qi}_initialize(f){var m=this;return(0,y.Z)(function*(){const E=f._key();let b=m.eventManagers.get(E);return b||(b=new tg(f),m.eventManagers.set(E,b),m.attachCallbackListeners(f,b)),b})()}_openPopup(f){Ce(f,"operation-not-supported-in-this-environment")}_openRedirect(f,m,E,b){var T=this;return(0,y.Z)(function*(){!function(v){var f,m,E,b,T,V,ie,Ee,Me,We;const He=Ss();te("function"==typeof(null===(f=null==He?void 0:He.universalLinks)||void 0===f?void 0:f.subscribe),v,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),te(void 0!==(null===(m=null==He?void 0:He.BuildInfo)||void 0===m?void 0:m.packageName),v,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),te("function"==typeof(null===(T=null===(b=null===(E=null==He?void 0:He.cordova)||void 0===E?void 0:E.plugins)||void 0===b?void 0:b.browsertab)||void 0===T?void 0:T.openUrl),v,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),te("function"==typeof(null===(Ee=null===(ie=null===(V=null==He?void 0:He.cordova)||void 0===V?void 0:V.plugins)||void 0===ie?void 0:ie.browsertab)||void 0===Ee?void 0:Ee.isAvailable),v,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),te("function"==typeof(null===(We=null===(Me=null==He?void 0:He.cordova)||void 0===Me?void 0:Me.InAppBrowser)||void 0===We?void 0:We.open),v,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(f);const V=yield T._initialize(f);yield V.initialized(),V.resetRedirect(),ca.clear(),yield T._originValidation(f);const ie=function(v,f,m=null){return{type:f,eventId:m,urlResponse:null,sessionId:ya(),postBody:null,tenantId:v.tenantId,error:be(v,"no-auth-event")}}(f,E,b);yield function(v,f){return sc()._set(Ar(v),f)}(f,ie);const Ee=yield function(v,f,m){return mu.apply(this,arguments)}(f,ie,m),Me=yield function(v){const{cordova:f}=Ss();return new Promise(m=>{f.plugins.browsertab.isAvailable(E=>{let b=null;E?f.plugins.browsertab.openUrl(v):b=f.InAppBrowser.open(v,function(v=(0,O.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(v)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(v)}()?"_blank":"_system","location=yes"),m(b)})})}(Ee);return function(v,f,m){return ic.apply(this,arguments)}(f,V,Me)})()}_isIframeWebStorageSupported(f,m){throw new Error("Method not implemented.")}_originValidation(f){const m=f._key();return this.originValidationPromises[m]||(this.originValidationPromises[m]=function(v){return $r.apply(this,arguments)}(f)),this.originValidationPromises[m]}attachCallbackListeners(f,m){const{universalLinks:E,handleOpenURL:b,BuildInfo:T}=Ss(),V=setTimeout((0,y.Z)(function*(){yield rg(f),m.onEvent(fw())}),500),ie=function(){var We=(0,y.Z)(function*(He){clearTimeout(V);const Ft=yield rg(f);let qt=null;Ft&&(null==He?void 0:He.url)&&(qt=function(v,f){var m,E;const b=function(v){const f=ac(v),m=f.link?decodeURIComponent(f.link):void 0,E=ac(m).link,b=f.deep_link_id?decodeURIComponent(f.deep_link_id):void 0;return ac(b).link||b||E||m||v}(f);if(b.includes("/__/auth/callback")){const T=ac(b),V=T.firebaseError?function(v){try{return JSON.parse(v)}catch(f){return null}}(decodeURIComponent(T.firebaseError)):null,ie=null===(E=null===(m=null==V?void 0:V.code)||void 0===m?void 0:m.split("auth/"))||void 0===E?void 0:E[1],Ee=ie?be(ie):null;return Ee?{type:v.type,eventId:v.eventId,tenantId:v.tenantId,error:Ee,urlResponse:null,sessionId:null,postBody:null}:{type:v.type,eventId:v.eventId,tenantId:v.tenantId,sessionId:v.sessionId,urlResponse:b,postBody:null}}return null}(Ft,He.url)),m.onEvent(qt||fw())});return function(Ft){return We.apply(this,arguments)}}();void 0!==E&&"function"==typeof E.subscribe&&E.subscribe(null,ie);const Ee=b,Me=`${T.packageName.toLowerCase()}://`;Ss().handleOpenURL=function(){var We=(0,y.Z)(function*(He){if(He.toLowerCase().startsWith(Me)&&ie({url:He}),"function"==typeof Ee)try{Ee(He)}catch(Ft){console.error(Ft)}});return function(He){return We.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=ws,this._completeRedirectFn=qi}_initialize(f){var m=this;return(0,y.Z)(function*(){return yield m.selectUnderlyingResolver(),m.assertedUnderlyingResolver._initialize(f)})()}_openPopup(f,m,E,b){var T=this;return(0,y.Z)(function*(){return yield T.selectUnderlyingResolver(),T.assertedUnderlyingResolver._openPopup(f,m,E,b)})()}_openRedirect(f,m,E,b){var T=this;return(0,y.Z)(function*(){return yield T.selectUnderlyingResolver(),T.assertedUnderlyingResolver._openRedirect(f,m,E,b)})()}_isIframeWebStorageSupported(f,m){this.assertedUnderlyingResolver._isIframeWebStorageSupported(f,m)}_originValidation(f){return this.assertedUnderlyingResolver._originValidation(f)}get _shouldInitProactively(){return ag()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Eu(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var f=this;return(0,y.Z)(function*(){if(f.underlyingResolver)return;const m=yield function(){return vh.apply(this,arguments)}();f.underlyingResolver=m?f.cordovaResolver:f.browserResolver})()}}function Ea(v){return v.unwrap()}function cg(v){return wu(v)}function Eh(v,f){var m;const E=null===(m=f.customData)||void 0===m?void 0:m._tokenResponse;if("auth/multi-factor-auth-required"===f.code)f.resolver=new m_(v,function(v,f){var m;const E=(0,O.m9)(v),b=f;return te(f.operationType,E,"argument-error"),te(null===(m=b.serverResponse)||void 0===m?void 0:m.mfaPendingCredential,E,"argument-error"),jt._fromError(E,b)}(v,f));else if(E){const b=wu(f),T=f;b&&(T.credential=b,T.tenantId=E.tenantId||void 0,T.email=E.email||void 0,T.phoneNumber=E.phoneNumber||void 0)}}function wu(v){const{_tokenResponse:f}=v instanceof O.ZR?v.customData:v;if(!f)return null;if(!(v instanceof O.ZR)&&"temporaryProof"in f&&"phoneNumber"in f)return uu.credentialFromResult(v);const m=f.providerId;if(!m||"password"===m)return null;let E;switch(m){case"google.com":E=Od;break;case"facebook.com":E=Ny;break;case"github.com":E=Pd;break;case"twitter.com":E=Ry;break;default:const{oauthIdToken:b,oauthAccessToken:T,oauthTokenSecret:V,pendingToken:ie,nonce:Ee}=f;return T||V||b||ie?ie?m.startsWith("saml.")?io._create(m,ie):Vr._fromParams({providerId:m,signInMethod:m,pendingToken:ie,idToken:b,accessToken:T}):new Qa(m).credential({idToken:b,accessToken:T,rawNonce:Ee}):null}return v instanceof O.ZR?E.credentialFromError(v):E.credentialFromResult(v)}function bt(v,f){return wo.apply(this,arguments)}function wo(){return(wo=(0,y.Z)(function*(v,f){let m;try{m=yield f}catch(T){throw T instanceof O.ZR&&Eh(v,T),T}const{operationType:E,user:b}=m;return{operationType:E,credential:cg(m),additionalUserInfo:iu(m),user:Ei.getOrCreate(b)}})).apply(this,arguments)}function xs(v,f){return Co.apply(this,arguments)}function Co(){return(Co=(0,y.Z)(function*(v,f){const m=yield f;return{verificationId:m.verificationId,confirm:E=>bt(v,m.confirm(E))}})).apply(this,arguments)}class m_{constructor(f,m){this.resolver=m,this.auth=function(v){return v.wrapped()}(f)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(f){return bt(Ea(this.auth),this.resolver.resolveSignIn(f))}}class Ei{constructor(f){this._delegate=f,this.multiFactor=function(v){const f=(0,O.m9)(v);return Wd.has(f)||Wd.set(f,qd._fromUser(f)),Wd.get(f)}(f)}static getOrCreate(f){return Ei.USER_MAP.has(f)||Ei.USER_MAP.set(f,new Ei(f)),Ei.USER_MAP.get(f)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(f){return this._delegate.getIdTokenResult(f)}getIdToken(f){return this._delegate.getIdToken(f)}linkAndRetrieveDataWithCredential(f){return this.linkWithCredential(f)}linkWithCredential(f){var m=this;return(0,y.Z)(function*(){return bt(m.auth,Sp(m._delegate,f))})()}linkWithPhoneNumber(f,m){var E=this;return(0,y.Z)(function*(){return xs(E.auth,function(v,f,m){return Gl.apply(this,arguments)}(E._delegate,f,m))})()}linkWithPopup(f){var m=this;return(0,y.Z)(function*(){return bt(m.auth,function(v,f,m){return Hi.apply(this,arguments)}(m._delegate,f,Jt))})()}linkWithRedirect(f){var m=this;return(0,y.Z)(function*(){return yield vu(Et(m.auth)),function(v,f,m){return function(v,f,m){return Gi.apply(this,arguments)}(v,f,m)}(m._delegate,f,Jt)})()}reauthenticateAndRetrieveDataWithCredential(f){return this.reauthenticateWithCredential(f)}reauthenticateWithCredential(f){var m=this;return(0,y.Z)(function*(){return bt(m.auth,xp(m._delegate,f))})()}reauthenticateWithPhoneNumber(f,m){return xs(this.auth,function(v,f,m){return ql.apply(this,arguments)}(this._delegate,f,m))}reauthenticateWithPopup(f){return bt(this.auth,function(v,f,m){return br.apply(this,arguments)}(this._delegate,f,Jt))}reauthenticateWithRedirect(f){var m=this;return(0,y.Z)(function*(){return yield vu(Et(m.auth)),function(v,f,m){return function(v,f,m){return sh.apply(this,arguments)}(v,f,m)}(m._delegate,f,Jt)})()}sendEmailVerification(f){return function(v,f){return Op.apply(this,arguments)}(this._delegate,f)}unlink(f){var m=this;return(0,y.Z)(function*(){return yield function(v,f){return Fd.apply(this,arguments)}(m._delegate,f),m})()}updateEmail(f){return function(v,f){return Hd((0,O.m9)(v),f,null)}(this._delegate,f)}updatePassword(f){return function(v,f){return Hd((0,O.m9)(v),null,f)}(this._delegate,f)}updatePhoneNumber(f){return function(v,f){return th.apply(this,arguments)}(this._delegate,f)}updateProfile(f){return function(v,f){return _s.apply(this,arguments)}(this._delegate,f)}verifyBeforeUpdateEmail(f,m){return function(v,f,m){return ys.apply(this,arguments)}(this._delegate,f,m)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Ei.USER_MAP=new WeakMap;const Sr=te;let wh=(()=>{class v{constructor(m,E){if(this.app=m,E.isInitialized())return this._delegate=E.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:b}=m.options;Sr(b,"invalid-api-key",{appName:m.name});let T=[ht];if("undefined"!=typeof window){T=function(v,f){const m=lg();if(!(null==m?void 0:m.sessionStorage))return[];const E=at(va,v,f);switch(m.sessionStorage.getItem(E)){case qr.NONE:return[ht];case qr.LOCAL:return[ni,ws];case qr.SESSION:return[ws];default:return[]}}(b,m.name);for(const ie of[ni,Es,ws])T.includes(ie)||T.push(ie)}Sr(b,"invalid-api-key",{appName:m.name});const V="undefined"!=typeof window?Jt:void 0;this._delegate=E.initialize({options:{persistence:T,popupRedirectResolver:V}}),this._delegate._updateErrorMap(ne),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Ei.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(m){this._delegate.languageCode=m}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(m){this._delegate.tenantId=m}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(m,E){!function(v,f,m){const E=Et(v);te(E._canInitEmulator,E,"emulator-config-failed"),te(/^https?:\/\//.test(f),E,"invalid-emulator-scheme");const b=!!(null==m?void 0:m.disableWarnings),T=Ae(f),{host:V,port:ie}=function(v){const f=Ae(v),m=/(\/\/)?([^?#/]+)/.exec(v.substr(f.length));if(!m)return{host:"",port:null};const E=m[2].split("@").pop()||"",b=/^(\[[^\]]+\])(:|$)/.exec(E);if(b){const T=b[1];return{host:T,port:kt(E.substr(T.length+1))}}{const[T,V]=E.split(":");return{host:T,port:kt(V)}}}(f);E.config.emulator={url:`${T}//${V}${null===ie?"":`:${ie}`}/`},E.settings.appVerificationDisabledForTesting=!0,E.emulatorConfig=Object.freeze({host:V,port:ie,protocol:T.replace(":",""),options:Object.freeze({disableWarnings:b})}),function(v){function f(){const m=document.createElement("p"),E=m.style;m.innerText="Running in emulator mode. Do not use with production credentials.",E.position="fixed",E.width="100%",E.backgroundColor="#ffffff",E.border=".1em solid #000000",E.color="#b50000",E.bottom="0px",E.left="0px",E.margin="0px",E.zIndex="10000",E.textAlign="center",m.classList.add("firebase-emulator-warning"),document.body.appendChild(m)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&!v&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",f):f())}(b)}(this._delegate,m,E)}applyActionCode(m){return function(v,f){return qe.apply(this,arguments)}(this._delegate,m)}checkActionCode(m){return My(this._delegate,m)}confirmPasswordReset(m,E){return function(v,f,m){return xl.apply(this,arguments)}(this._delegate,m,E)}createUserWithEmailAndPassword(m,E){var b=this;return(0,y.Z)(function*(){return bt(b._delegate,function(v,f,m){return ao.apply(this,arguments)}(b._delegate,m,E))})()}fetchProvidersForEmail(m){return this.fetchSignInMethodsForEmail(m)}fetchSignInMethodsForEmail(m){return function(v,f){return ms.apply(this,arguments)}(this._delegate,m)}isSignInWithEmailLink(m){return function(v,f){const m=yl.parseLink(f);return"EMAIL_SIGNIN"===(null==m?void 0:m.operation)}(0,m)}getRedirectResult(){var m=this;return(0,y.Z)(function*(){Sr(_a(),m._delegate,"operation-not-supported-in-this-environment");const E=yield function(v,f){return ii.apply(this,arguments)}(m._delegate,Jt);return E?bt(m._delegate,Promise.resolve(E)):{credential:null,user:null}})()}addFrameworkForLogging(m){!function(v,f){Et(v)._logFramework(f)}(this._delegate,m)}onAuthStateChanged(m,E,b){const{next:T,error:V,complete:ie}=dg(m,E,b);return this._delegate.onAuthStateChanged(T,V,ie)}onIdTokenChanged(m,E,b){const{next:T,error:V,complete:ie}=dg(m,E,b);return this._delegate.onIdTokenChanged(T,V,ie)}sendSignInLinkToEmail(m,E){return function(v,f,m){return ut.apply(this,arguments)}(this._delegate,m,E)}sendPasswordResetEmail(m,E){return function(v,f,m){return Sl.apply(this,arguments)}(this._delegate,m,E||void 0)}setPersistence(m){var E=this;return(0,y.Z)(function*(){let b;switch(function(v,f){_i(Object.values(qr).includes(f),v,"invalid-persistence-type"),(0,O.b$)()?_i(f!==qr.SESSION,v,"unsupported-persistence-type"):(0,O.UG)()?_i(f===qr.NONE,v,"unsupported-persistence-type"):lc()?_i(f===qr.NONE||f===qr.LOCAL&&(0,O.hl)(),v,"unsupported-persistence-type"):_i(f===qr.NONE||_u(),v,"unsupported-persistence-type")}(E._delegate,m),m){case qr.SESSION:b=ws;break;case qr.LOCAL:b=(yield W(ni)._isAvailable())?ni:Es;break;case qr.NONE:b=ht;break;default:return Ce("argument-error",{appName:E._delegate.name})}return E._delegate.setPersistence(b)})()}signInAndRetrieveDataWithCredential(m){return this.signInWithCredential(m)}signInAnonymously(){return bt(this._delegate,function(v){return Tp.apply(this,arguments)}(this._delegate))}signInWithCredential(m){return bt(this._delegate,Dl(this._delegate,m))}signInWithCustomToken(m){return bt(this._delegate,function(v,f){return fs.apply(this,arguments)}(this._delegate,m))}signInWithEmailAndPassword(m,E){return bt(this._delegate,function(v,f,m){return Dl((0,O.m9)(v),bp.credential(f,m))}(this._delegate,m,E))}signInWithEmailLink(m,E){return bt(this._delegate,function(v,f,m){return Rl.apply(this,arguments)}(this._delegate,m,E))}signInWithPhoneNumber(m,E){return xs(this._delegate,function(v,f,m){return $l.apply(this,arguments)}(this._delegate,m,E))}signInWithPopup(m){var E=this;return(0,y.Z)(function*(){return Sr(_a(),E._delegate,"operation-not-supported-in-this-environment"),bt(E._delegate,function(v,f,m){return qp.apply(this,arguments)}(E._delegate,m,Jt))})()}signInWithRedirect(m){var E=this;return(0,y.Z)(function*(){return Sr(_a(),E._delegate,"operation-not-supported-in-this-environment"),yield vu(E._delegate),function(v,f,m){return function(v,f,m){return Wp.apply(this,arguments)}(v,f,m)}(E._delegate,m,Jt)})()}updateCurrentUser(m){return this._delegate.updateCurrentUser(m)}verifyPasswordResetCode(m){return function(v,f){return tu.apply(this,arguments)}(this._delegate,m)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return v.Persistence=qr,v})();function dg(v,f,m){let E=v;"function"!=typeof v&&({next:E,error:f,complete:m}=v);const b=E;return{next:V=>b(V&&Ei.getOrCreate(V)),error:f,complete:m}}class wi{constructor(){this.providerId="phone",this._delegate=new uu(Ea(K.Z.auth()))}static credential(f,m){return uu.credential(f,m)}verifyPhoneNumber(f,m){return this._delegate.verifyPhoneNumber(f,m)}unwrap(){return this._delegate}}wi.PHONE_SIGN_IN_METHOD=uu.PHONE_SIGN_IN_METHOD,wi.PROVIDER_ID=uu.PROVIDER_ID;const y_=te;class __{constructor(f,m,E=K.Z.app()){var b;y_(null===(b=E.options)||void 0===b?void 0:b.apiKey,"invalid-api-key",{appName:E.name}),this._delegate=new go(f,m,E.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function(v){v.INTERNAL.registerComponent(new le.wA("auth-compat",f=>{const m=f.getProvider("app-compat").getImmediate(),E=f.getProvider("auth");return new wh(m,E)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:bp,FacebookAuthProvider:Ny,GithubAuthProvider:Pd,GoogleAuthProvider:Od,OAuthProvider:Qa,PhoneAuthProvider:wi,PhoneMultiFactorGenerator:s_,RecaptchaVerifier:__,TwitterAuthProvider:Ry,Auth:wh,AuthCredential:Fr,Error:O.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),v.registerVersion("@firebase/auth-compat","0.1.1")}(K.Z)},7574:(Oe,he,x)=>{"use strict";x.d(he,{y:()=>M});var y=x(7393),O=x(9181),z=x(6490),Z=x(6554),le=x(4487);var S=x(2494);let M=(()=>{class R{constructor(ne){this._isScalar=!1,ne&&(this._subscribe=ne)}lift(ne){const G=new R;return G.source=this,G.operator=ne,G}subscribe(ne,G,q){const{operator:pe}=this,de=function(R,B,ne){if(R){if(R instanceof y.L)return R;if(R[O.b])return R[O.b]()}return R||B||ne?new y.L(R,B,ne):new y.L(z.c)}(ne,G,q);if(de.add(pe?pe.call(de,this.source):this.source||S.v.useDeprecatedSynchronousErrorHandling&&!de.syncErrorThrowable?this._subscribe(de):this._trySubscribe(de)),S.v.useDeprecatedSynchronousErrorHandling&&de.syncErrorThrowable&&(de.syncErrorThrowable=!1,de.syncErrorThrown))throw de.syncErrorValue;return de}_trySubscribe(ne){try{return this._subscribe(ne)}catch(G){S.v.useDeprecatedSynchronousErrorHandling&&(ne.syncErrorThrown=!0,ne.syncErrorValue=G),function(R){for(;R;){const{closed:B,destination:ne,isStopped:G}=R;if(B||G)return!1;R=ne&&ne instanceof y.L?ne:null}return!0}(ne)?ne.error(G):console.warn(G)}}forEach(ne,G){return new(G=k(G))((q,pe)=>{let de;de=this.subscribe(_e=>{try{ne(_e)}catch(Ce){pe(Ce),de&&de.unsubscribe()}},pe,q)})}_subscribe(ne){const{source:G}=this;return G&&G.subscribe(ne)}[Z.L](){return this}pipe(...ne){return 0===ne.length?this:function(R){return 0===R.length?le.y:1===R.length?R[0]:function(ne){return R.reduce((G,q)=>q(G),ne)}}(ne)(this)}toPromise(ne){return new(ne=k(ne))((G,q)=>{let pe;this.subscribe(de=>pe=de,de=>q(de),()=>G(pe))})}}return R.create=B=>new R(B),R})();function k(R){if(R||(R=S.v.Promise||Promise),!R)throw new Error("no Promise impl found");return R}},6490:(Oe,he,x)=>{"use strict";x.d(he,{c:()=>O});var y=x(2494),K=x(4449);const O={closed:!0,next(z){},error(z){if(y.v.useDeprecatedSynchronousErrorHandling)throw z;(0,K.z)(z)},complete(){}}},9765:(Oe,he,x)=>{"use strict";x.d(he,{Yc:()=>le,xQ:()=>oe});var y=x(7574),K=x(7393),O=x(5319),z=x(7971),se=x(8858),Z=x(9181);class le extends K.L{constructor(M){super(M),this.destination=M}}let oe=(()=>{class S extends y.y{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[Z.b](){return new le(this)}lift(k){const R=new U(this,this);return R.operator=k,R}next(k){if(this.closed)throw new z.N;if(!this.isStopped){const{observers:R}=this,B=R.length,ne=R.slice();for(let G=0;G<B;G++)ne[G].next(k)}}error(k){if(this.closed)throw new z.N;this.hasError=!0,this.thrownError=k,this.isStopped=!0;const{observers:R}=this,B=R.length,ne=R.slice();for(let G=0;G<B;G++)ne[G].error(k);this.observers.length=0}complete(){if(this.closed)throw new z.N;this.isStopped=!0;const{observers:k}=this,R=k.length,B=k.slice();for(let ne=0;ne<R;ne++)B[ne].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(k){if(this.closed)throw new z.N;return super._trySubscribe(k)}_subscribe(k){if(this.closed)throw new z.N;return this.hasError?(k.error(this.thrownError),O.w.EMPTY):this.isStopped?(k.complete(),O.w.EMPTY):(this.observers.push(k),new se.W(this,k))}asObservable(){const k=new y.y;return k.source=this,k}}return S.create=(M,k)=>new U(M,k),S})();class U extends oe{constructor(M,k){super(),this.destination=M,this.source=k}next(M){const{destination:k}=this;k&&k.next&&k.next(M)}error(M){const{destination:k}=this;k&&k.error&&this.destination.error(M)}complete(){const{destination:M}=this;M&&M.complete&&this.destination.complete()}_subscribe(M){const{source:k}=this;return k?this.source.subscribe(M):O.w.EMPTY}}},8858:(Oe,he,x)=>{"use strict";x.d(he,{W:()=>K});var y=x(5319);class K extends y.w{constructor(z,se){super(),this.subject=z,this.subscriber=se,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const z=this.subject,se=z.observers;if(this.subject=null,!se||0===se.length||z.isStopped||z.closed)return;const Z=se.indexOf(this.subscriber);-1!==Z&&se.splice(Z,1)}}},7393:(Oe,he,x)=>{"use strict";x.d(he,{L:()=>le});var y=x(9105),K=x(6490),O=x(5319),z=x(9181),se=x(2494),Z=x(4449);class le extends O.w{constructor(S,M,k){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=K.c;break;case 1:if(!S){this.destination=K.c;break}if("object"==typeof S){S instanceof le?(this.syncErrorThrowable=S.syncErrorThrowable,this.destination=S,S.add(this)):(this.syncErrorThrowable=!0,this.destination=new oe(this,S));break}default:this.syncErrorThrowable=!0,this.destination=new oe(this,S,M,k)}}[z.b](){return this}static create(S,M,k){const R=new le(S,M,k);return R.syncErrorThrowable=!1,R}next(S){this.isStopped||this._next(S)}error(S){this.isStopped||(this.isStopped=!0,this._error(S))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(S){this.destination.next(S)}_error(S){this.destination.error(S),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:S}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=S,this}}class oe extends le{constructor(S,M,k,R){super(),this._parentSubscriber=S;let B,ne=this;(0,y.m)(M)?B=M:M&&(B=M.next,k=M.error,R=M.complete,M!==K.c&&(ne=Object.create(M),(0,y.m)(ne.unsubscribe)&&this.add(ne.unsubscribe.bind(ne)),ne.unsubscribe=this.unsubscribe.bind(this))),this._context=ne,this._next=B,this._error=k,this._complete=R}next(S){if(!this.isStopped&&this._next){const{_parentSubscriber:M}=this;se.v.useDeprecatedSynchronousErrorHandling&&M.syncErrorThrowable?this.__tryOrSetError(M,this._next,S)&&this.unsubscribe():this.__tryOrUnsub(this._next,S)}}error(S){if(!this.isStopped){const{_parentSubscriber:M}=this,{useDeprecatedSynchronousErrorHandling:k}=se.v;if(this._error)k&&M.syncErrorThrowable?(this.__tryOrSetError(M,this._error,S),this.unsubscribe()):(this.__tryOrUnsub(this._error,S),this.unsubscribe());else if(M.syncErrorThrowable)k?(M.syncErrorValue=S,M.syncErrorThrown=!0):(0,Z.z)(S),this.unsubscribe();else{if(this.unsubscribe(),k)throw S;(0,Z.z)(S)}}}complete(){if(!this.isStopped){const{_parentSubscriber:S}=this;if(this._complete){const M=()=>this._complete.call(this._context);se.v.useDeprecatedSynchronousErrorHandling&&S.syncErrorThrowable?(this.__tryOrSetError(S,M),this.unsubscribe()):(this.__tryOrUnsub(M),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(S,M){try{S.call(this._context,M)}catch(k){if(this.unsubscribe(),se.v.useDeprecatedSynchronousErrorHandling)throw k;(0,Z.z)(k)}}__tryOrSetError(S,M,k){if(!se.v.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{M.call(this._context,k)}catch(R){return se.v.useDeprecatedSynchronousErrorHandling?(S.syncErrorValue=R,S.syncErrorThrown=!0,!0):((0,Z.z)(R),!0)}return!1}_unsubscribe(){const{_parentSubscriber:S}=this;this._context=null,this._parentSubscriber=null,S.unsubscribe()}}},5319:(Oe,he,x)=>{"use strict";x.d(he,{w:()=>Z});var y=x(9796),K=x(1555),O=x(9105);const se=(()=>{function oe(U){return Error.call(this),this.message=U?`${U.length} errors occurred during unsubscription:\n${U.map((S,M)=>`${M+1}) ${S.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=U,this}return oe.prototype=Object.create(Error.prototype),oe})();class Z{constructor(U){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,U&&(this._ctorUnsubscribe=!0,this._unsubscribe=U)}unsubscribe(){let U;if(this.closed)return;let{_parentOrParents:S,_ctorUnsubscribe:M,_unsubscribe:k,_subscriptions:R}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,S instanceof Z)S.remove(this);else if(null!==S)for(let B=0;B<S.length;++B)S[B].remove(this);if((0,O.m)(k)){M&&(this._unsubscribe=void 0);try{k.call(this)}catch(B){U=B instanceof se?le(B.errors):[B]}}if((0,y.k)(R)){let B=-1,ne=R.length;for(;++B<ne;){const G=R[B];if((0,K.K)(G))try{G.unsubscribe()}catch(q){U=U||[],q instanceof se?U=U.concat(le(q.errors)):U.push(q)}}}if(U)throw new se(U)}add(U){let S=U;if(!U)return Z.EMPTY;switch(typeof U){case"function":S=new Z(U);case"object":if(S===this||S.closed||"function"!=typeof S.unsubscribe)return S;if(this.closed)return S.unsubscribe(),S;if(!(S instanceof Z)){const R=S;S=new Z,S._subscriptions=[R]}break;default:throw new Error("unrecognized teardown "+U+" added to Subscription.")}let{_parentOrParents:M}=S;if(null===M)S._parentOrParents=this;else if(M instanceof Z){if(M===this)return S;S._parentOrParents=[M,this]}else{if(-1!==M.indexOf(this))return S;M.push(this)}const k=this._subscriptions;return null===k?this._subscriptions=[S]:k.push(S),S}remove(U){const S=this._subscriptions;if(S){const M=S.indexOf(U);-1!==M&&S.splice(M,1)}}}var oe;function le(oe){return oe.reduce((U,S)=>U.concat(S instanceof se?S.errors:S),[])}Z.EMPTY=((oe=new Z).closed=!0,oe)},2494:(Oe,he,x)=>{"use strict";x.d(he,{v:()=>K});let y=!1;const K={Promise:void 0,set useDeprecatedSynchronousErrorHandling(O){if(O){const z=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+z.stack)}else y&&console.log("RxJS: Back to a better error behavior. Thank you. <3");y=O},get useDeprecatedSynchronousErrorHandling(){return y}}},5345:(Oe,he,x)=>{"use strict";x.d(he,{IY:()=>z,Ds:()=>Z,ft:()=>oe});var y=x(7393),K=x(7574),O=x(7444);class z extends y.L{constructor(S){super(),this.parent=S}_next(S){this.parent.notifyNext(S)}_error(S){this.parent.notifyError(S),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class Z extends y.L{notifyNext(S){this.destination.next(S)}notifyError(S){this.destination.error(S)}notifyComplete(){this.destination.complete()}}function oe(U,S){if(S.closed)return;if(U instanceof K.y)return U.subscribe(S);let M;try{M=(0,O.s)(U)(S)}catch(k){S.error(k)}return M}},2441:(Oe,he,x)=>{"use strict";x.d(he,{c:()=>se,N:()=>Z});var y=x(9765),K=x(7574),O=x(5319),z=x(1307);class se extends K.y{constructor(M,k){super(),this.source=M,this.subjectFactory=k,this._refCount=0,this._isComplete=!1}_subscribe(M){return this.getSubject().subscribe(M)}getSubject(){const M=this._subject;return(!M||M.isStopped)&&(this._subject=this.subjectFactory()),this._subject}connect(){let M=this._connection;return M||(this._isComplete=!1,M=this._connection=new O.w,M.add(this.source.subscribe(new le(this.getSubject(),this))),M.closed&&(this._connection=null,M=O.w.EMPTY)),M}refCount(){return(0,z.x)()(this)}}const Z=(()=>{const S=se.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:S._subscribe},_isComplete:{value:S._isComplete,writable:!0},getSubject:{value:S.getSubject},connect:{value:S.connect},refCount:{value:S.refCount}}})();class le extends y.Yc{constructor(M,k){super(M),this.connectable=k}_error(M){this._unsubscribe(),super._error(M)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const M=this.connectable;if(M){this.connectable=null;const k=M._connection;M._refCount=0,M._subject=null,M._connection=null,k&&k.unsubscribe()}}}},9193:(Oe,he,x)=>{"use strict";x.d(he,{E:()=>K,c:()=>O});var y=x(7574);const K=new y.y(se=>se.complete());function O(se){return se?function(se){return new y.y(Z=>se.schedule(()=>Z.complete()))}(se):K}},4402:(Oe,he,x)=>{"use strict";x.d(he,{D:()=>ne});var y=x(7574),K=x(7444),O=x(5319),z=x(6554),le=x(4087),oe=x(377),M=x(4072),k=x(9489);function ne(G,q){return q?function(G,q){if(null!=G){if(function(G){return G&&"function"==typeof G[z.L]}(G))return function(G,q){return new y.y(pe=>{const de=new O.w;return de.add(q.schedule(()=>{const _e=G[z.L]();de.add(_e.subscribe({next(Ce){de.add(q.schedule(()=>pe.next(Ce)))},error(Ce){de.add(q.schedule(()=>pe.error(Ce)))},complete(){de.add(q.schedule(()=>pe.complete()))}}))})),de})}(G,q);if((0,M.t)(G))return function(G,q){return new y.y(pe=>{const de=new O.w;return de.add(q.schedule(()=>G.then(_e=>{de.add(q.schedule(()=>{pe.next(_e),de.add(q.schedule(()=>pe.complete()))}))},_e=>{de.add(q.schedule(()=>pe.error(_e)))}))),de})}(G,q);if((0,k.z)(G))return(0,le.r)(G,q);if(function(G){return G&&"function"==typeof G[oe.hZ]}(G)||"string"==typeof G)return function(G,q){if(!G)throw new Error("Iterable cannot be null");return new y.y(pe=>{const de=new O.w;let _e;return de.add(()=>{_e&&"function"==typeof _e.return&&_e.return()}),de.add(q.schedule(()=>{_e=G[oe.hZ](),de.add(q.schedule(function(){if(pe.closed)return;let Ce,be;try{const De=_e.next();Ce=De.value,be=De.done}catch(De){return void pe.error(De)}be?pe.complete():(pe.next(Ce),this.schedule())}))})),de})}(G,q)}throw new TypeError((null!==G&&typeof G||G)+" is not observable")}(G,q):G instanceof y.y?G:new y.y((0,K.s)(G))}},6693:(Oe,he,x)=>{"use strict";x.d(he,{n:()=>z});var y=x(7574),K=x(5015),O=x(4087);function z(se,Z){return Z?(0,O.r)(se,Z):new y.y((0,K.V)(se))}},6682:(Oe,he,x)=>{"use strict";x.d(he,{T:()=>se});var y=x(7574),K=x(4869),O=x(3282),z=x(6693);function se(...Z){let le=Number.POSITIVE_INFINITY,oe=null,U=Z[Z.length-1];return(0,K.K)(U)?(oe=Z.pop(),Z.length>1&&"number"==typeof Z[Z.length-1]&&(le=Z.pop())):"number"==typeof U&&(le=Z.pop()),null===oe&&1===Z.length&&Z[0]instanceof y.y?Z[0]:(0,O.J)(le)((0,z.n)(Z,oe))}},5917:(Oe,he,x)=>{"use strict";x.d(he,{of:()=>z});var y=x(4869),K=x(6693),O=x(4087);function z(...se){let Z=se[se.length-1];return(0,y.K)(Z)?(se.pop(),(0,O.r)(se,Z)):(0,K.n)(se)}},8002:(Oe,he,x)=>{"use strict";x.d(he,{U:()=>K});var y=x(7393);function K(se,Z){return function(oe){if("function"!=typeof se)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return oe.lift(new O(se,Z))}}class O{constructor(Z,le){this.project=Z,this.thisArg=le}call(Z,le){return le.subscribe(new z(Z,this.project,this.thisArg))}}class z extends y.L{constructor(Z,le,oe){super(Z),this.project=le,this.count=0,this.thisArg=oe||this}_next(Z){let le;try{le=this.project.call(this.thisArg,Z,this.count++)}catch(oe){return void this.destination.error(oe)}this.destination.next(le)}}},3282:(Oe,he,x)=>{"use strict";x.d(he,{J:()=>O});var y=x(9773),K=x(4487);function O(z=Number.POSITIVE_INFINITY){return(0,y.zg)(K.y,z)}},9773:(Oe,he,x)=>{"use strict";x.d(he,{zg:()=>z});var y=x(8002),K=x(4402),O=x(5345);function z(oe,U,S=Number.POSITIVE_INFINITY){return"function"==typeof U?M=>M.pipe(z((k,R)=>(0,K.D)(oe(k,R)).pipe((0,y.U)((B,ne)=>U(k,B,R,ne))),S)):("number"==typeof U&&(S=U),M=>M.lift(new se(oe,S)))}class se{constructor(U,S=Number.POSITIVE_INFINITY){this.project=U,this.concurrent=S}call(U,S){return S.subscribe(new Z(U,this.project,this.concurrent))}}class Z extends O.Ds{constructor(U,S,M=Number.POSITIVE_INFINITY){super(U),this.project=S,this.concurrent=M,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(U){this.active<this.concurrent?this._tryNext(U):this.buffer.push(U)}_tryNext(U){let S;const M=this.index++;try{S=this.project(U,M)}catch(k){return void this.destination.error(k)}this.active++,this._innerSub(S)}_innerSub(U){const S=new O.IY(this),M=this.destination;M.add(S);const k=(0,O.ft)(U,S);k!==S&&M.add(k)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(U){this.destination.next(U)}notifyComplete(){const U=this.buffer;this.active--,U.length>0?this._next(U.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},309:(Oe,he,x)=>{"use strict";x.d(he,{ht:()=>M,QV:()=>U});var y=x(7393),K=x(9193),O=x(5917),z=x(7574);class oe{constructor(B,ne,G){this.kind=B,this.value=ne,this.error=G,this.hasValue="N"===B}observe(B){switch(this.kind){case"N":return B.next&&B.next(this.value);case"E":return B.error&&B.error(this.error);case"C":return B.complete&&B.complete()}}do(B,ne,G){switch(this.kind){case"N":return B&&B(this.value);case"E":return ne&&ne(this.error);case"C":return G&&G()}}accept(B,ne,G){return B&&"function"==typeof B.next?this.observe(B):this.do(B,ne,G)}toObservable(){switch(this.kind){case"N":return(0,O.of)(this.value);case"E":return R=this.error,new z.y(ne=>ne.error(R));case"C":return(0,K.c)()}var R;throw new Error("unexpected notification kind value")}static createNext(B){return void 0!==B?new oe("N",B):oe.undefinedValueNotification}static createError(B){return new oe("E",void 0,B)}static createComplete(){return oe.completeNotification}}function U(R,B=0){return function(G){return G.lift(new S(R,B))}}oe.completeNotification=new oe("C"),oe.undefinedValueNotification=new oe("N",void 0);class S{constructor(B,ne=0){this.scheduler=B,this.delay=ne}call(B,ne){return ne.subscribe(new M(B,this.scheduler,this.delay))}}class M extends y.L{constructor(B,ne,G=0){super(B),this.scheduler=ne,this.delay=G}static dispatch(B){const{notification:ne,destination:G}=B;ne.observe(G),this.unsubscribe()}scheduleMessage(B){this.destination.add(this.scheduler.schedule(M.dispatch,this.delay,new k(B,this.destination)))}_next(B){this.scheduleMessage(oe.createNext(B))}_error(B){this.scheduleMessage(oe.createError(B)),this.unsubscribe()}_complete(){this.scheduleMessage(oe.createComplete()),this.unsubscribe()}}class k{constructor(B,ne){this.notification=B,this.destination=ne}}},1307:(Oe,he,x)=>{"use strict";x.d(he,{x:()=>K});var y=x(7393);function K(){return function(Z){return Z.lift(new O(Z))}}class O{constructor(Z){this.connectable=Z}call(Z,le){const{connectable:oe}=this;oe._refCount++;const U=new z(Z,oe),S=le.subscribe(U);return U.closed||(U.connection=oe.connect()),S}}class z extends y.L{constructor(Z,le){super(Z),this.connectable=le}_unsubscribe(){const{connectable:Z}=this;if(!Z)return void(this.connection=null);this.connectable=null;const le=Z._refCount;if(le<=0)return void(this.connection=null);if(Z._refCount=le-1,le>1)return void(this.connection=null);const{connection:oe}=this,U=Z._connection;this.connection=null,U&&(!oe||U===oe)&&U.unsubscribe()}}},3101:(Oe,he,x)=>{"use strict";x.d(he,{R:()=>q});var y=x(7574);let K=1;const O=Promise.resolve(),z={};function se(de){return de in z&&(delete z[de],!0)}const Z={setImmediate(de){const _e=K++;return z[_e]=!0,O.then(()=>se(_e)&&de()),_e},clearImmediate(de){se(de)}};var oe=x(6465),S=x(6102);const R=new class extends S.v{flush(_e){this.active=!0,this.scheduled=void 0;const{actions:Ce}=this;let be,De=-1,te=Ce.length;_e=_e||Ce.shift();do{if(be=_e.execute(_e.state,_e.delay))break}while(++De<te&&(_e=Ce.shift()));if(this.active=!1,be){for(;++De<te&&(_e=Ce.shift());)_e.unsubscribe();throw be}}}(class extends oe.o{constructor(_e,Ce){super(_e,Ce),this.scheduler=_e,this.work=Ce}requestAsyncId(_e,Ce,be=0){return null!==be&&be>0?super.requestAsyncId(_e,Ce,be):(_e.actions.push(this),_e.scheduled||(_e.scheduled=Z.setImmediate(_e.flush.bind(_e,null))))}recycleAsyncId(_e,Ce,be=0){if(null!==be&&be>0||null===be&&this.delay>0)return super.recycleAsyncId(_e,Ce,be);0===_e.actions.length&&(Z.clearImmediate(Ce),_e.scheduled=void 0)}});var B=x(9796);class G extends y.y{constructor(_e,Ce=0,be=R){var de;super(),this.source=_e,this.delayTime=Ce,this.scheduler=be,(!(!(0,B.k)(de=Ce)&&de-parseFloat(de)+1>=0)||Ce<0)&&(this.delayTime=0),(!be||"function"!=typeof be.schedule)&&(this.scheduler=R)}static create(_e,Ce=0,be=R){return new G(_e,Ce,be)}static dispatch(_e){const{source:Ce,subscriber:be}=_e;return this.add(Ce.subscribe(be))}_subscribe(_e){return this.scheduler.schedule(G.dispatch,this.delayTime,{source:this.source,subscriber:_e})}}function q(de,_e=0){return function(be){return be.lift(new pe(de,_e))}}class pe{constructor(_e,Ce){this.scheduler=_e,this.delay=Ce}call(_e,Ce){return new G(Ce,this.delay,this.scheduler).subscribe(_e)}}},3342:(Oe,he,x)=>{"use strict";x.d(he,{b:()=>z});var y=x(7393);function K(){}var O=x(9105);function z(le,oe,U){return function(M){return M.lift(new se(le,oe,U))}}class se{constructor(oe,U,S){this.nextOrObserver=oe,this.error=U,this.complete=S}call(oe,U){return U.subscribe(new Z(oe,this.nextOrObserver,this.error,this.complete))}}class Z extends y.L{constructor(oe,U,S,M){super(oe),this._tapNext=K,this._tapError=K,this._tapComplete=K,this._tapError=S||K,this._tapComplete=M||K,(0,O.m)(U)?(this._context=this,this._tapNext=U):U&&(this._context=U,this._tapNext=U.next||K,this._tapError=U.error||K,this._tapComplete=U.complete||K)}_next(oe){try{this._tapNext.call(this._context,oe)}catch(U){return void this.destination.error(U)}this.destination.next(oe)}_error(oe){try{this._tapError.call(this._context,oe)}catch(U){return void this.destination.error(U)}this.destination.error(oe)}_complete(){try{this._tapComplete.call(this._context)}catch(oe){return void this.destination.error(oe)}return this.destination.complete()}}},4087:(Oe,he,x)=>{"use strict";x.d(he,{r:()=>O});var y=x(7574),K=x(5319);function O(z,se){return new y.y(Z=>{const le=new K.w;let oe=0;return le.add(se.schedule(function(){oe!==z.length?(Z.next(z[oe++]),Z.closed||le.add(this.schedule())):Z.complete()})),le})}},6465:(Oe,he,x)=>{"use strict";x.d(he,{o:()=>O});var y=x(5319);class K extends y.w{constructor(se,Z){super()}schedule(se,Z=0){return this}}class O extends K{constructor(se,Z){super(se,Z),this.scheduler=se,this.work=Z,this.pending=!1}schedule(se,Z=0){if(this.closed)return this;this.state=se;const le=this.id,oe=this.scheduler;return null!=le&&(this.id=this.recycleAsyncId(oe,le,Z)),this.pending=!0,this.delay=Z,this.id=this.id||this.requestAsyncId(oe,this.id,Z),this}requestAsyncId(se,Z,le=0){return setInterval(se.flush.bind(se,this),le)}recycleAsyncId(se,Z,le=0){if(null!==le&&this.delay===le&&!1===this.pending)return Z;clearInterval(Z)}execute(se,Z){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const le=this._execute(se,Z);if(le)return le;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(se,Z){let oe,le=!1;try{this.work(se)}catch(U){le=!0,oe=!!U&&U||new Error(U)}if(le)return this.unsubscribe(),oe}_unsubscribe(){const se=this.id,Z=this.scheduler,le=Z.actions,oe=le.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==oe&&le.splice(oe,1),null!=se&&(this.id=this.recycleAsyncId(Z,se,null)),this.delay=null}}},6102:(Oe,he,x)=>{"use strict";x.d(he,{v:()=>K});let y=(()=>{class O{constructor(se,Z=O.now){this.SchedulerAction=se,this.now=Z}schedule(se,Z=0,le){return new this.SchedulerAction(this,se).schedule(le,Z)}}return O.now=()=>Date.now(),O})();class K extends y{constructor(z,se=y.now){super(z,()=>K.delegate&&K.delegate!==this?K.delegate.now():se()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(z,se=0,Z){return K.delegate&&K.delegate!==this?K.delegate.schedule(z,se,Z):super.schedule(z,se,Z)}flush(z){const{actions:se}=this;if(this.active)return void se.push(z);let Z;this.active=!0;do{if(Z=z.execute(z.state,z.delay))break}while(z=se.shift());if(this.active=!1,Z){for(;z=se.shift();)z.unsubscribe();throw Z}}}},3637:(Oe,he,x)=>{"use strict";x.d(he,{z:()=>O});var y=x(6465);const O=new(x(6102).v)(y.o)},7771:(Oe,he,x)=>{"use strict";x.d(he,{c:()=>Z,N:()=>se});var y=x(6465),O=x(6102);const se=new class extends O.v{}(class extends y.o{constructor(oe,U){super(oe,U),this.scheduler=oe,this.work=U}schedule(oe,U=0){return U>0?super.schedule(oe,U):(this.delay=U,this.state=oe,this.scheduler.flush(this),this)}execute(oe,U){return U>0||this.closed?super.execute(oe,U):this._execute(oe,U)}requestAsyncId(oe,U,S=0){return null!==S&&S>0||null===S&&this.delay>0?super.requestAsyncId(oe,U,S):oe.flush(this)}}),Z=se},377:(Oe,he,x)=>{"use strict";x.d(he,{hZ:()=>K});const K="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"},6554:(Oe,he,x)=>{"use strict";x.d(he,{L:()=>y});const y="function"==typeof Symbol&&Symbol.observable||"@@observable"},9181:(Oe,he,x)=>{"use strict";x.d(he,{b:()=>y});const y="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},7971:(Oe,he,x)=>{"use strict";x.d(he,{N:()=>K});const K=(()=>{function O(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return O.prototype=Object.create(Error.prototype),O})()},4449:(Oe,he,x)=>{"use strict";function y(K){setTimeout(()=>{throw K},0)}x.d(he,{z:()=>y})},4487:(Oe,he,x)=>{"use strict";function y(K){return K}x.d(he,{y:()=>y})},9796:(Oe,he,x)=>{"use strict";x.d(he,{k:()=>y});const y=Array.isArray||(K=>K&&"number"==typeof K.length)},9489:(Oe,he,x)=>{"use strict";x.d(he,{z:()=>y});const y=K=>K&&"number"==typeof K.length&&"function"!=typeof K},9105:(Oe,he,x)=>{"use strict";function y(K){return"function"==typeof K}x.d(he,{m:()=>y})},1555:(Oe,he,x)=>{"use strict";function y(K){return null!==K&&"object"==typeof K}x.d(he,{K:()=>y})},4072:(Oe,he,x)=>{"use strict";function y(K){return!!K&&"function"!=typeof K.subscribe&&"function"==typeof K.then}x.d(he,{t:()=>y})},4869:(Oe,he,x)=>{"use strict";function y(K){return K&&"function"==typeof K.schedule}x.d(he,{K:()=>y})},7444:(Oe,he,x)=>{"use strict";x.d(he,{s:()=>M});var y=x(5015),K=x(4449),z=x(377),Z=x(6554),oe=x(9489),U=x(4072),S=x(1555);const M=k=>{if(k&&"function"==typeof k[Z.L])return(k=>R=>{const B=k[Z.L]();if("function"!=typeof B.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return B.subscribe(R)})(k);if((0,oe.z)(k))return(0,y.V)(k);if((0,U.t)(k))return(k=>R=>(k.then(B=>{R.closed||(R.next(B),R.complete())},B=>R.error(B)).then(null,K.z),R))(k);if(k&&"function"==typeof k[z.hZ])return(k=>R=>{const B=k[z.hZ]();for(;;){let ne;try{ne=B.next()}catch(G){return R.error(G),R}if(ne.done){R.complete();break}if(R.next(ne.value),R.closed)break}return"function"==typeof B.return&&R.add(()=>{B.return&&B.return()}),R})(k);{const B=`You provided ${(0,S.K)(k)?"an invalid object":`'${k}'`} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`;throw new TypeError(B)}}},5015:(Oe,he,x)=>{"use strict";x.d(he,{V:()=>y});const y=K=>O=>{for(let z=0,se=K.length;z<se&&!O.closed;z++)O.next(K[z]);O.complete()}},1728:(Oe,he,x)=>{"use strict";var y=x(3018);let K=null;function O(){return K}const le=new y.OlP("DocumentToken");let oe=(()=>{class i{historyGo(s){throw new Error("Not implemented")}}return i.\u0275fac=function(s){return new(s||i)},i.\u0275prov=(0,y.Yz7)({factory:U,token:i,providedIn:"platform"}),i})();function U(){return(0,y.LFG)(M)}const S=new y.OlP("Location Initialized");let M=(()=>{class i extends oe{constructor(s){super(),this._doc=s,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return O().getBaseHref(this._doc)}onPopState(s){const o=O().getGlobalEventTarget(this._doc,"window");return o.addEventListener("popstate",s,!1),()=>o.removeEventListener("popstate",s)}onHashChange(s){const o=O().getGlobalEventTarget(this._doc,"window");return o.addEventListener("hashchange",s,!1),()=>o.removeEventListener("hashchange",s)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(s){this.location.pathname=s}pushState(s,o,l){k()?this._history.pushState(s,o,l):this.location.hash=l}replaceState(s,o,l){k()?this._history.replaceState(s,o,l):this.location.hash=l}forward(){this._history.forward()}back(){this._history.back()}historyGo(s=0){this._history.go(s)}getState(){return this._history.state}}return i.\u0275fac=function(s){return new(s||i)(y.LFG(le))},i.\u0275prov=(0,y.Yz7)({factory:R,token:i,providedIn:"platform"}),i})();function k(){return!!window.history.pushState}function R(){return new M((0,y.LFG)(le))}function B(i,r){if(0==i.length)return r;if(0==r.length)return i;let s=0;return i.endsWith("/")&&s++,r.startsWith("/")&&s++,2==s?i+r.substring(1):1==s?i+r:i+"/"+r}function ne(i){const r=i.match(/#|\?|$/),s=r&&r.index||i.length;return i.slice(0,s-("/"===i[s-1]?1:0))+i.slice(s)}function G(i){return i&&"?"!==i[0]?"?"+i:i}let q=(()=>{class i{historyGo(s){throw new Error("Not implemented")}}return i.\u0275fac=function(s){return new(s||i)},i.\u0275prov=(0,y.Yz7)({factory:pe,token:i,providedIn:"root"}),i})();function pe(i){const r=(0,y.LFG)(le).location;return new _e((0,y.LFG)(oe),r&&r.origin||"")}const de=new y.OlP("appBaseHref");let _e=(()=>{class i extends q{constructor(s,o){if(super(),this._platformLocation=s,this._removeListenerFns=[],null==o&&(o=this._platformLocation.getBaseHrefFromDOM()),null==o)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=o}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(s){this._removeListenerFns.push(this._platformLocation.onPopState(s),this._platformLocation.onHashChange(s))}getBaseHref(){return this._baseHref}prepareExternalUrl(s){return B(this._baseHref,s)}path(s=!1){const o=this._platformLocation.pathname+G(this._platformLocation.search),l=this._platformLocation.hash;return l&&s?`${o}${l}`:o}pushState(s,o,l,d){const h=this.prepareExternalUrl(l+G(d));this._platformLocation.pushState(s,o,h)}replaceState(s,o,l,d){const h=this.prepareExternalUrl(l+G(d));this._platformLocation.replaceState(s,o,h)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(s=0){var o,l;null===(l=(o=this._platformLocation).historyGo)||void 0===l||l.call(o,s)}}return i.\u0275fac=function(s){return new(s||i)(y.LFG(oe),y.LFG(de,8))},i.\u0275prov=y.Yz7({token:i,factory:i.\u0275fac}),i})(),Ce=(()=>{class i extends q{constructor(s,o){super(),this._platformLocation=s,this._baseHref="",this._removeListenerFns=[],null!=o&&(this._baseHref=o)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(s){this._removeListenerFns.push(this._platformLocation.onPopState(s),this._platformLocation.onHashChange(s))}getBaseHref(){return this._baseHref}path(s=!1){let o=this._platformLocation.hash;return null==o&&(o="#"),o.length>0?o.substring(1):o}prepareExternalUrl(s){const o=B(this._baseHref,s);return o.length>0?"#"+o:o}pushState(s,o,l,d){let h=this.prepareExternalUrl(l+G(d));0==h.length&&(h=this._platformLocation.pathname),this._platformLocation.pushState(s,o,h)}replaceState(s,o,l,d){let h=this.prepareExternalUrl(l+G(d));0==h.length&&(h=this._platformLocation.pathname),this._platformLocation.replaceState(s,o,h)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(s=0){var o,l;null===(l=(o=this._platformLocation).historyGo)||void 0===l||l.call(o,s)}}return i.\u0275fac=function(s){return new(s||i)(y.LFG(oe),y.LFG(de,8))},i.\u0275prov=y.Yz7({token:i,factory:i.\u0275fac}),i})(),be=(()=>{class i{constructor(s,o){this._subject=new y.vpe,this._urlChangeListeners=[],this._platformStrategy=s;const l=this._platformStrategy.getBaseHref();this._platformLocation=o,this._baseHref=ne(Xe(l)),this._platformStrategy.onPopState(d=>{this._subject.emit({url:this.path(!0),pop:!0,state:d.state,type:d.type})})}path(s=!1){return this.normalize(this._platformStrategy.path(s))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(s,o=""){return this.path()==this.normalize(s+G(o))}normalize(s){return i.stripTrailingSlash(function(i,r){return i&&r.startsWith(i)?r.substring(i.length):r}(this._baseHref,Xe(s)))}prepareExternalUrl(s){return s&&"/"!==s[0]&&(s="/"+s),this._platformStrategy.prepareExternalUrl(s)}go(s,o="",l=null){this._platformStrategy.pushState(l,"",s,o),this._notifyUrlChangeListeners(this.prepareExternalUrl(s+G(o)),l)}replaceState(s,o="",l=null){this._platformStrategy.replaceState(l,"",s,o),this._notifyUrlChangeListeners(this.prepareExternalUrl(s+G(o)),l)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(s=0){var o,l;null===(l=(o=this._platformStrategy).historyGo)||void 0===l||l.call(o,s)}onUrlChange(s){this._urlChangeListeners.push(s),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(o=>{this._notifyUrlChangeListeners(o.url,o.state)}))}_notifyUrlChangeListeners(s="",o){this._urlChangeListeners.forEach(l=>l(s,o))}subscribe(s,o,l){return this._subject.subscribe({next:s,error:o,complete:l})}}return i.\u0275fac=function(s){return new(s||i)(y.LFG(q),y.LFG(oe))},i.normalizeQueryParams=G,i.joinWithSlash=B,i.stripTrailingSlash=ne,i.\u0275prov=(0,y.Yz7)({factory:De,token:i,providedIn:"root"}),i})();function De(){return new be((0,y.LFG)(q),(0,y.LFG)(oe))}function Xe(i){return i.replace(/\/index.html$/,"")}var W=(()=>((W=W||{})[W.Zero=0]="Zero",W[W.One=1]="One",W[W.Two=2]="Two",W[W.Few=3]="Few",W[W.Many=4]="Many",W[W.Other=5]="Other",W))();const kn=y.kL8;class Lr{}let no=(()=>{class i extends Lr{constructor(s){super(),this.locale=s}getPluralCategory(s,o){switch(kn(o||this.locale)(s)){case W.Zero:return"zero";case W.One:return"one";case W.Two:return"two";case W.Few:return"few";case W.Many:return"many";default:return"other"}}}return i.\u0275fac=function(s){return new(s||i)(y.LFG(y.soG))},i.\u0275prov=y.Yz7({token:i,factory:i.\u0275fac}),i})(),nw=(()=>{class i{}return i.\u0275fac=function(s){return new(s||i)},i.\u0275mod=y.oAB({type:i}),i.\u0275inj=y.cJS({providers:[{provide:Lr,useClass:no}]}),i})();function vl(i){return"server"===i}let wl=(()=>{class i{}return i.\u0275prov=(0,y.Yz7)({token:i,providedIn:"root",factory:()=>new Ap((0,y.LFG)(le),window)}),i})();class Ap{constructor(r,s){this.document=r,this.window=s,this.offset=()=>[0,0]}setOffset(r){this.offset=Array.isArray(r)?()=>r:r}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(r){this.supportsScrolling()&&this.window.scrollTo(r[0],r[1])}scrollToAnchor(r){if(!this.supportsScrolling())return;const s=function(i,r){const s=i.getElementById(r)||i.getElementsByName(r)[0];if(s)return s;if("function"==typeof i.createTreeWalker&&i.body&&(i.body.createShadowRoot||i.body.attachShadow)){const o=i.createTreeWalker(i.body,NodeFilter.SHOW_ELEMENT);let l=o.currentNode;for(;l;){const d=l.shadowRoot;if(d){const h=d.getElementById(r)||d.querySelector(`[name="${r}"]`);if(h)return h}l=o.nextNode()}}return null}(this.document,r);s&&(this.scrollToElement(s),this.attemptFocus(s))}setHistoryScrollRestoration(r){if(this.supportScrollRestoration()){const s=this.window.history;s&&s.scrollRestoration&&(s.scrollRestoration=r)}}scrollToElement(r){const s=r.getBoundingClientRect(),o=s.left+this.window.pageXOffset,l=s.top+this.window.pageYOffset,d=this.offset();this.window.scrollTo(o-d[0],l-d[1])}attemptFocus(r){return r.focus(),this.document.activeElement===r}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const r=Cl(this.window.history)||Cl(Object.getPrototypeOf(this.window.history));return!(!r||!r.writable&&!r.set)}catch(r){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(r){return!1}}}function Cl(i){return Object.getOwnPropertyDescriptor(i,"scrollRestoration")}class so extends class extends class{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){var i;i=new so,K||(K=i)}onAndCancel(r,s,o){return r.addEventListener(s,o,!1),()=>{r.removeEventListener(s,o,!1)}}dispatchEvent(r,s){r.dispatchEvent(s)}remove(r){r.parentNode&&r.parentNode.removeChild(r)}createElement(r,s){return(s=s||this.getDefaultDocument()).createElement(r)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(r){return r.nodeType===Node.ELEMENT_NODE}isShadowRoot(r){return r instanceof DocumentFragment}getGlobalEventTarget(r,s){return"window"===s?window:"document"===s?r:"body"===s?r.body:null}getBaseHref(r){const s=(ea=ea||document.querySelector("base"),ea?ea.getAttribute("href"):null);return null==s?null:function(i){bl=bl||document.createElement("a"),bl.setAttribute("href",i);const r=bl.pathname;return"/"===r.charAt(0)?r:`/${r}`}(s)}resetBaseElement(){ea=null}getUserAgent(){return window.navigator.userAgent}getCookie(r){return function(i,r){r=encodeURIComponent(r);for(const s of i.split(";")){const o=s.indexOf("="),[l,d]=-1==o?[s,""]:[s.slice(0,o),s.slice(o+1)];if(l.trim()===r)return decodeURIComponent(d)}return null}(document.cookie,r)}}let bl,ea=null;const Dl=new y.OlP("TRANSITION_ID"),Sp=[{provide:y.ip1,useFactory:function(i,r,s){return()=>{s.get(y.CZH).donePromise.then(()=>{const o=O(),l=r.querySelectorAll(`style[ng-transition="${i}"]`);for(let d=0;d<l.length;d++)o.remove(l[d])})}},deps:[Dl,le,y.zs3],multi:!0}];class Bt{static init(){(0,y.VLi)(new Bt)}addToWindow(r){y.dqk.getAngularTestability=(o,l=!0)=>{const d=r.findTestabilityInTree(o,l);if(null==d)throw new Error("Could not find testability for element.");return d},y.dqk.getAllAngularTestabilities=()=>r.getAllTestabilities(),y.dqk.getAllAngularRootElements=()=>r.getAllRootElements(),y.dqk.frameworkStabilizers||(y.dqk.frameworkStabilizers=[]),y.dqk.frameworkStabilizers.push(o=>{const l=y.dqk.getAllAngularTestabilities();let d=l.length,h=!1;const g=function(_){h=h||_,d--,0==d&&o(h)};l.forEach(function(_){_.whenStable(g)})})}findTestabilityInTree(r,s,o){if(null==s)return null;const l=r.getTestability(s);return null!=l?l:o?O().isShadowRoot(s)?this.findTestabilityInTree(r,s.host,!0):this.findTestabilityInTree(r,s.parentElement,!0):null}}let xp=(()=>{class i{build(){return new XMLHttpRequest}}return i.\u0275fac=function(s){return new(s||i)},i.\u0275prov=y.Yz7({token:i,factory:i.\u0275fac}),i})();const oo=new y.OlP("EventManagerPlugins");let Nl=(()=>{class i{constructor(s,o){this._zone=o,this._eventNameToPlugin=new Map,s.forEach(l=>l.manager=this),this._plugins=s.slice().reverse()}addEventListener(s,o,l){return this._findPluginFor(o).addEventListener(s,o,l)}addGlobalEventListener(s,o,l){return this._findPluginFor(o).addGlobalEventListener(s,o,l)}getZone(){return this._zone}_findPluginFor(s){const o=this._eventNameToPlugin.get(s);if(o)return o;const l=this._plugins;for(let d=0;d<l.length;d++){const h=l[d];if(h.supports(s))return this._eventNameToPlugin.set(s,h),h}throw new Error(`No event manager plugin found for event ${s}`)}}return i.\u0275fac=function(s){return new(s||i)(y.LFG(oo),y.LFG(y.R0b))},i.\u0275prov=y.Yz7({token:i,factory:i.\u0275fac}),i})();class tu{constructor(r){this._doc=r}addGlobalEventListener(r,s,o){const l=O().getGlobalEventTarget(this._doc,r);if(!l)throw new Error(`Unsupported event target ${l} for event ${s}`);return this.addEventListener(l,s,o)}}let Ud=(()=>{class i{constructor(){this._stylesSet=new Set}addStyles(s){const o=new Set;s.forEach(l=>{this._stylesSet.has(l)||(this._stylesSet.add(l),o.add(l))}),this.onStylesAdded(o)}onStylesAdded(s){}getAllStyles(){return Array.from(this._stylesSet)}}return i.\u0275fac=function(s){return new(s||i)},i.\u0275prov=y.Yz7({token:i,factory:i.\u0275fac}),i})(),ao=(()=>{class i extends Ud{constructor(s){super(),this._doc=s,this._hostNodes=new Map,this._hostNodes.set(s.head,[])}_addStylesToHost(s,o,l){s.forEach(d=>{const h=this._doc.createElement("style");h.textContent=d,l.push(o.appendChild(h))})}addHost(s){const o=[];this._addStylesToHost(this._stylesSet,s,o),this._hostNodes.set(s,o)}removeHost(s){const o=this._hostNodes.get(s);o&&o.forEach(Rp),this._hostNodes.delete(s)}onStylesAdded(s){this._hostNodes.forEach((o,l)=>{this._addStylesToHost(s,l,o)})}ngOnDestroy(){this._hostNodes.forEach(s=>s.forEach(Rp))}}return i.\u0275fac=function(s){return new(s||i)(y.LFG(le))},i.\u0275prov=y.Yz7({token:i,factory:i.\u0275fac}),i})();function Rp(i){O().remove(i)}const fe={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},ut=/%COMP%/g;function ms(i,r,s){for(let o=0;o<r.length;o++){let l=r[o];Array.isArray(l)?ms(i,l,s):(l=l.replace(ut,i),s.push(l))}return s}function Oy(i){return r=>{if("__ngUnwrap__"===r)return i;!1===i(r)&&(r.preventDefault(),r.returnValue=!1)}}let ta=(()=>{class i{constructor(s,o,l){this.eventManager=s,this.sharedStylesHost=o,this.appId=l,this.rendererByCompId=new Map,this.defaultRenderer=new ys(s)}createRenderer(s,o){if(!s||!o)return this.defaultRenderer;switch(o.encapsulation){case y.ifc.Emulated:{let l=this.rendererByCompId.get(o.id);return l||(l=new _s(this.eventManager,this.sharedStylesHost,o,this.appId),this.rendererByCompId.set(o.id,l)),l.applyToHost(s),l}case 1:case y.ifc.ShadowDom:return new Ui(this.eventManager,this.sharedStylesHost,s,o);default:if(!this.rendererByCompId.has(o.id)){const l=ms(o.id,o.styles,[]);this.sharedStylesHost.addStyles(l),this.rendererByCompId.set(o.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return i.\u0275fac=function(s){return new(s||i)(y.LFG(Nl),y.LFG(ao),y.LFG(y.AFp))},i.\u0275prov=y.Yz7({token:i,factory:i.\u0275fac}),i})();class ys{constructor(r){this.eventManager=r,this.data=Object.create(null)}destroy(){}createElement(r,s){return s?document.createElementNS(fe[s]||s,r):document.createElement(r)}createComment(r){return document.createComment(r)}createText(r){return document.createTextNode(r)}appendChild(r,s){r.appendChild(s)}insertBefore(r,s,o){r&&r.insertBefore(s,o)}removeChild(r,s){r&&r.removeChild(s)}selectRootElement(r,s){let o="string"==typeof r?document.querySelector(r):r;if(!o)throw new Error(`The selector "${r}" did not match any elements`);return s||(o.textContent=""),o}parentNode(r){return r.parentNode}nextSibling(r){return r.nextSibling}setAttribute(r,s,o,l){if(l){s=l+":"+s;const d=fe[l];d?r.setAttributeNS(d,s,o):r.setAttribute(s,o)}else r.setAttribute(s,o)}removeAttribute(r,s,o){if(o){const l=fe[o];l?r.removeAttributeNS(l,s):r.removeAttribute(`${o}:${s}`)}else r.removeAttribute(s)}addClass(r,s){r.classList.add(s)}removeClass(r,s){r.classList.remove(s)}setStyle(r,s,o,l){l&(y.JOm.DashCase|y.JOm.Important)?r.style.setProperty(s,o,l&y.JOm.Important?"important":""):r.style[s]=o}removeStyle(r,s,o){o&y.JOm.DashCase?r.style.removeProperty(s):r.style[s]=""}setProperty(r,s,o){r[s]=o}setValue(r,s){r.nodeValue=s}listen(r,s,o){return"string"==typeof r?this.eventManager.addGlobalEventListener(r,s,Oy(o)):this.eventManager.addEventListener(r,s,Oy(o))}}class _s extends ys{constructor(r,s,o,l){super(r),this.component=o;const d=ms(l+"-"+o.id,o.styles,[]);s.addStyles(d),this.contentAttr="_ngcontent-%COMP%".replace(ut,l+"-"+o.id),this.hostAttr=function(i){return"_nghost-%COMP%".replace(ut,i)}(l+"-"+o.id)}applyToHost(r){super.setAttribute(r,this.hostAttr,"")}createElement(r,s){const o=super.createElement(r,s);return super.setAttribute(o,this.contentAttr,""),o}}class Ui extends ys{constructor(r,s,o,l){super(r),this.sharedStylesHost=s,this.hostEl=o,this.shadowRoot=o.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const d=ms(l.id,l.styles,[]);for(let h=0;h<d.length;h++){const g=document.createElement("style");g.textContent=d[h],this.shadowRoot.appendChild(g)}}nodeOrShadowRoot(r){return r===this.hostEl?this.shadowRoot:r}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(r,s){return super.appendChild(this.nodeOrShadowRoot(r),s)}insertBefore(r,s,o){return super.insertBefore(this.nodeOrShadowRoot(r),s,o)}removeChild(r,s){return super.removeChild(this.nodeOrShadowRoot(r),s)}parentNode(r){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(r)))}}let Py=(()=>{class i extends tu{constructor(s){super(s)}supports(s){return!0}addEventListener(s,o,l){return s.addEventListener(o,l,!1),()=>this.removeEventListener(s,o,l)}removeEventListener(s,o,l){return s.removeEventListener(o,l)}}return i.\u0275fac=function(s){return new(s||i)(y.LFG(le))},i.\u0275prov=y.Yz7({token:i,factory:i.\u0275fac}),i})();const iu=["alt","control","meta","shift"],Vy={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Lp={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Sn={alt:i=>i.altKey,control:i=>i.ctrlKey,meta:i=>i.metaKey,shift:i=>i.shiftKey};let dr=(()=>{class i extends tu{constructor(s){super(s)}supports(s){return null!=i.parseEventName(s)}addEventListener(s,o,l){const d=i.parseEventName(o),h=i.eventCallback(d.fullKey,l,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>O().onAndCancel(s,d.domEventName,h))}static parseEventName(s){const o=s.toLowerCase().split("."),l=o.shift();if(0===o.length||"keydown"!==l&&"keyup"!==l)return null;const d=i._normalizeKey(o.pop());let h="";if(iu.forEach(_=>{const w=o.indexOf(_);w>-1&&(o.splice(w,1),h+=_+".")}),h+=d,0!=o.length||0===d.length)return null;const g={};return g.domEventName=l,g.fullKey=h,g}static getEventFullKey(s){let o="",l=function(i){let r=i.key;if(null==r){if(r=i.keyIdentifier,null==r)return"Unidentified";r.startsWith("U+")&&(r=String.fromCharCode(parseInt(r.substring(2),16)),3===i.location&&Lp.hasOwnProperty(r)&&(r=Lp[r]))}return Vy[r]||r}(s);return l=l.toLowerCase()," "===l?l="space":"."===l&&(l="dot"),iu.forEach(d=>{d!=l&&Sn[d](s)&&(o+=d+".")}),o+=l,o}static eventCallback(s,o,l){return d=>{i.getEventFullKey(d)===s&&l.runGuarded(()=>o(d))}}static _normalizeKey(s){switch(s){case"esc":return"escape";default:return s}}}return i.\u0275fac=function(s){return new(s||i)(y.LFG(le))},i.\u0275prov=y.Yz7({token:i,factory:i.\u0275fac}),i})();const jy=(0,y.eFA)(y._c5,"browser",[{provide:y.Lbi,useValue:"browser"},{provide:y.g9A,useValue:function(){so.makeCurrent(),Bt.init()},multi:!0},{provide:le,useFactory:function(){return(0,y.RDi)(document),document},deps:[]}]),lo=[[],{provide:y.zSh,useValue:"root"},{provide:y.qLn,useFactory:function(){return new y.qLn},deps:[]},{provide:oo,useClass:Py,multi:!0,deps:[le,y.R0b,y.Lbi]},{provide:oo,useClass:dr,multi:!0,deps:[le]},[],{provide:ta,useClass:ta,deps:[Nl,ao,y.AFp]},{provide:y.FYo,useExisting:ta},{provide:Ud,useExisting:ao},{provide:ao,useClass:ao,deps:[le]},{provide:y.dDg,useClass:y.dDg,deps:[y.R0b]},{provide:Nl,useClass:Nl,deps:[oo,y.R0b]},{provide:class{},useClass:xp,deps:[]},[]];let Es=(()=>{class i{constructor(s){if(s)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(s){return{ngModule:i,providers:[{provide:y.AFp,useValue:s.appId},{provide:Dl,useExisting:y.AFp},Sp]}}}return i.\u0275fac=function(s){return new(s||i)(y.LFG(i,12))},i.\u0275mod=y.oAB({type:i}),i.\u0275inj=y.cJS({providers:lo,imports:[nw,y.hGG]}),i})();"undefined"!=typeof window&&window;var Ht=x(4402),Ir=x(7574),Qd=x(9796),Ke=x(8002),Vl=x(1555);function co(i,r){return new Ir.y(s=>{const o=i.length;if(0===o)return void s.complete();const l=new Array(o);let d=0,h=0;for(let g=0;g<o;g++){const _=(0,Ht.D)(i[g]);let w=!1;s.add(_.subscribe({next:C=>{w||(w=!0,h++),l[g]=C},error:C=>s.error(C),complete:()=>{d++,(d===o||!w)&&(h===o&&s.next(r?r.reduce((C,I,A)=>(C[I]=l[A],C),{}):l),s.complete())}}))}})}let Ul=(()=>{class i{constructor(s,o){this._renderer=s,this._elementRef=o,this.onChange=l=>{},this.onTouched=()=>{}}setProperty(s,o){this._renderer.setProperty(this._elementRef.nativeElement,s,o)}registerOnTouched(s){this.onTouched=s}registerOnChange(s){this.onChange=s}setDisabledState(s){this.setProperty("disabled",s)}}return i.\u0275fac=function(s){return new(s||i)(y.Y36(y.Qsj),y.Y36(y.SBq))},i.\u0275dir=y.lG2({type:i}),i})(),ni=(()=>{class i extends Ul{}return i.\u0275fac=function(){let r;return function(o){return(r||(r=y.n5z(i)))(o||i)}}(),i.\u0275dir=y.lG2({type:i,features:[y.qOj]}),i})();const ri=new y.OlP("NgValueAccessor"),Bl={provide:ri,useExisting:(0,y.Gpc)(()=>Bi),multi:!0},$p=new y.OlP("CompositionEventMode");let Bi=(()=>{class i extends Ul{constructor(s,o,l){super(s,o),this._compositionMode=l,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const i=O()?O().getUserAgent():"";return/android (\d+)/.test(i.toLowerCase())}())}writeValue(s){this.setProperty("value",null==s?"":s)}_handleInput(s){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(s)}_compositionStart(){this._composing=!0}_compositionEnd(s){this._composing=!1,this._compositionMode&&this.onChange(s)}}return i.\u0275fac=function(s){return new(s||i)(y.Y36(y.Qsj),y.Y36(y.SBq),y.Y36($p,8))},i.\u0275dir=y.lG2({type:i,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(s,o){1&s&&y.NdJ("input",function(d){return o._handleInput(d.target.value)})("blur",function(){return o.onTouched()})("compositionstart",function(){return o._compositionStart()})("compositionend",function(d){return o._compositionEnd(d.target.value)})},features:[y._Bn([Bl]),y.qOj]}),i})();const dn=new y.OlP("NgValidators"),ji=new y.OlP("NgAsyncValidators");function qy(i){return null!=i}function Hl(i){const r=(0,y.QGY)(i)?(0,Ht.D)(i):i;return(0,y.CqO)(r),r}function Wy(i){let r={};return i.forEach(s=>{r=null!=s?Object.assign(Object.assign({},r),s):r}),0===Object.keys(r).length?null:r}function $l(i,r){return r.map(s=>s(i))}function Gl(i){return i.map(r=>function(i){return!i.validate}(r)?r:s=>r.validate(s))}function ql(i){return null!=i?function(i){if(!i)return null;const r=i.filter(qy);return 0==r.length?null:function(s){return Wy($l(s,r))}}(Gl(i)):null}function zl(i){return null!=i?function(i){if(!i)return null;const r=i.filter(qy);return 0==r.length?null:function(s){return function(...i){if(1===i.length){const r=i[0];if((0,Qd.k)(r))return co(r,null);if((0,Vl.K)(r)&&Object.getPrototypeOf(r)===Object.prototype){const s=Object.keys(r);return co(s.map(o=>r[o]),s)}}if("function"==typeof i[i.length-1]){const r=i.pop();return co(i=1===i.length&&(0,Qd.k)(i[0])?i[0]:i,null).pipe((0,Ke.U)(s=>r(...s)))}return co(i,null)}($l(s,r).map(Hl)).pipe((0,Ke.U)(Wy))}}(Gl(i)):null}function zy(i,r){return null===i?[r]:Array.isArray(i)?[...i,r]:[i,r]}function Ds(i){return i?Array.isArray(i)?i:[i]:[]}function lu(i,r){return Array.isArray(i)?i.includes(r):i===r}function Zy(i,r){const s=Ds(r);return Ds(i).forEach(l=>{lu(s,l)||s.push(l)}),s}function ua(i,r){return Ds(r).filter(s=>!lu(i,s))}let Ky=(()=>{class i{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(s){this._rawValidators=s||[],this._composedValidatorFn=ql(this._rawValidators)}_setAsyncValidators(s){this._rawAsyncValidators=s||[],this._composedAsyncValidatorFn=zl(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(s){this._onDestroyCallbacks.push(s)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(s=>s()),this._onDestroyCallbacks=[]}reset(s){this.control&&this.control.reset(s)}hasError(s,o){return!!this.control&&this.control.hasError(s,o)}getError(s,o){return this.control?this.control.getError(s,o):null}}return i.\u0275fac=function(s){return new(s||i)},i.\u0275dir=y.lG2({type:i}),i})(),ft=(()=>{class i extends Ky{get formDirective(){return null}get path(){return null}}return i.\u0275fac=function(){let r;return function(o){return(r||(r=y.n5z(i)))(o||i)}}(),i.\u0275dir=y.lG2({type:i,features:[y.qOj]}),i})();class Hr extends Ky{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class cu{constructor(r){this._cd=r}is(r){var s,o,l;return"submitted"===r?!!(null===(s=this._cd)||void 0===s?void 0:s.submitted):!!(null===(l=null===(o=this._cd)||void 0===o?void 0:o.control)||void 0===l?void 0:l[r])}}let hr=(()=>{class i extends cu{constructor(s){super(s)}}return i.\u0275fac=function(s){return new(s||i)(y.Y36(Hr,2))},i.\u0275dir=y.lG2({type:i,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(s,o){2&s&&y.ekj("ng-untouched",o.is("untouched"))("ng-touched",o.is("touched"))("ng-pristine",o.is("pristine"))("ng-dirty",o.is("dirty"))("ng-valid",o.is("valid"))("ng-invalid",o.is("invalid"))("ng-pending",o.is("pending"))},features:[y.qOj]}),i})(),br=(()=>{class i extends cu{constructor(s){super(s)}}return i.\u0275fac=function(s){return new(s||i)(y.Y36(ft,10))},i.\u0275dir=y.lG2({type:i,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(s,o){2&s&&y.ekj("ng-untouched",o.is("untouched"))("ng-touched",o.is("touched"))("ng-pristine",o.is("pristine"))("ng-dirty",o.is("dirty"))("ng-valid",o.is("valid"))("ng-invalid",o.is("invalid"))("ng-pending",o.is("pending"))("ng-submitted",o.is("submitted"))},features:[y.qOj]}),i})();function la(i,r){Kl(i,r),r.valueAccessor.writeValue(i.value),function(i,r){r.valueAccessor.registerOnChange(s=>{i._pendingValue=s,i._pendingChange=!0,i._pendingDirty=!0,"change"===i.updateOn&&$i(i,r)})}(i,r),function(i,r){const s=(o,l)=>{r.valueAccessor.writeValue(o),l&&r.viewToModelUpdate(o)};i.registerOnChange(s),r._registerOnDestroy(()=>{i._unregisterOnChange(s)})}(i,r),function(i,r){r.valueAccessor.registerOnTouched(()=>{i._pendingTouched=!0,"blur"===i.updateOn&&i._pendingChange&&$i(i,r),"submit"!==i.updateOn&&i.markAsTouched()})}(i,r),function(i,r){if(r.valueAccessor.setDisabledState){const s=o=>{r.valueAccessor.setDisabledState(o)};i.registerOnDisabledChange(s),r._registerOnDestroy(()=>{i._unregisterOnDisabledChange(s)})}}(i,r)}function Zl(i,r){i.forEach(s=>{s.registerOnValidatorChange&&s.registerOnValidatorChange(r)})}function Kl(i,r){const s=function(i){return i._rawValidators}(i);null!==r.validator?i.setValidators(zy(s,r.validator)):"function"==typeof s&&i.setValidators([s]);const o=function(i){return i._rawAsyncValidators}(i);null!==r.asyncValidator?i.setAsyncValidators(zy(o,r.asyncValidator)):"function"==typeof o&&i.setAsyncValidators([o]);const l=()=>i.updateValueAndValidity();Zl(r._rawValidators,l),Zl(r._rawAsyncValidators,l)}function $i(i,r){i._pendingDirty&&i.markAsDirty(),i.setValue(i._pendingValue,{emitModelToViewChange:!1}),r.viewToModelUpdate(i._pendingValue),i._pendingChange=!1}function Gi(i,r){const s=i.indexOf(r);s>-1&&i.splice(s,1)}const ii="VALID",qi="INVALID",Tr="PENDING",ha="DISABLED";function ah(i){return(yo(i)?i.validators:i)||null}function hu(i){return Array.isArray(i)?ql(i):i||null}function uh(i,r){return(yo(r)?r.asyncValidators:i)||null}function fu(i){return Array.isArray(i)?zl(i):i||null}function yo(i){return null!=i&&!Array.isArray(i)&&"object"==typeof i}class Wi{constructor(r,s){this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=r,this._rawAsyncValidators=s,this._composedValidatorFn=hu(this._rawValidators),this._composedAsyncValidatorFn=fu(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(r){this._rawValidators=this._composedValidatorFn=r}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(r){this._rawAsyncValidators=this._composedAsyncValidatorFn=r}get parent(){return this._parent}get valid(){return this.status===ii}get invalid(){return this.status===qi}get pending(){return this.status==Tr}get disabled(){return this.status===ha}get enabled(){return this.status!==ha}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(r){this._rawValidators=r,this._composedValidatorFn=hu(r)}setAsyncValidators(r){this._rawAsyncValidators=r,this._composedAsyncValidatorFn=fu(r)}addValidators(r){this.setValidators(Zy(r,this._rawValidators))}addAsyncValidators(r){this.setAsyncValidators(Zy(r,this._rawAsyncValidators))}removeValidators(r){this.setValidators(ua(r,this._rawValidators))}removeAsyncValidators(r){this.setAsyncValidators(ua(r,this._rawAsyncValidators))}hasValidator(r){return lu(this._rawValidators,r)}hasAsyncValidator(r){return lu(this._rawAsyncValidators,r)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(r={}){this.touched=!0,this._parent&&!r.onlySelf&&this._parent.markAsTouched(r)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(r=>r.markAllAsTouched())}markAsUntouched(r={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(s=>{s.markAsUntouched({onlySelf:!0})}),this._parent&&!r.onlySelf&&this._parent._updateTouched(r)}markAsDirty(r={}){this.pristine=!1,this._parent&&!r.onlySelf&&this._parent.markAsDirty(r)}markAsPristine(r={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(s=>{s.markAsPristine({onlySelf:!0})}),this._parent&&!r.onlySelf&&this._parent._updatePristine(r)}markAsPending(r={}){this.status=Tr,!1!==r.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!r.onlySelf&&this._parent.markAsPending(r)}disable(r={}){const s=this._parentMarkedDirty(r.onlySelf);this.status=ha,this.errors=null,this._forEachChild(o=>{o.disable(Object.assign(Object.assign({},r),{onlySelf:!0}))}),this._updateValue(),!1!==r.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},r),{skipPristineCheck:s})),this._onDisabledChange.forEach(o=>o(!0))}enable(r={}){const s=this._parentMarkedDirty(r.onlySelf);this.status=ii,this._forEachChild(o=>{o.enable(Object.assign(Object.assign({},r),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:r.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},r),{skipPristineCheck:s})),this._onDisabledChange.forEach(o=>o(!1))}_updateAncestors(r){this._parent&&!r.onlySelf&&(this._parent.updateValueAndValidity(r),r.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(r){this._parent=r}updateValueAndValidity(r={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===ii||this.status===Tr)&&this._runAsyncValidator(r.emitEvent)),!1!==r.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!r.onlySelf&&this._parent.updateValueAndValidity(r)}_updateTreeValidity(r={emitEvent:!0}){this._forEachChild(s=>s._updateTreeValidity(r)),this.updateValueAndValidity({onlySelf:!0,emitEvent:r.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?ha:ii}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(r){if(this.asyncValidator){this.status=Tr,this._hasOwnPendingAsyncValidator=!0;const s=Hl(this.asyncValidator(this));this._asyncValidationSubscription=s.subscribe(o=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(o,{emitEvent:r})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(r,s={}){this.errors=r,this._updateControlsErrors(!1!==s.emitEvent)}get(r){return function(i,r,s){if(null==r||(Array.isArray(r)||(r=r.split(".")),Array.isArray(r)&&0===r.length))return null;let o=i;return r.forEach(l=>{o=o instanceof Yt?o.controls.hasOwnProperty(l)?o.controls[l]:null:o instanceof zp&&o.at(l)||null}),o}(this,r)}getError(r,s){const o=s?this.get(s):this;return o&&o.errors?o.errors[r]:null}hasError(r,s){return!!this.getError(r,s)}get root(){let r=this;for(;r._parent;)r=r._parent;return r}_updateControlsErrors(r){this.status=this._calculateStatus(),r&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(r)}_initObservables(){this.valueChanges=new y.vpe,this.statusChanges=new y.vpe}_calculateStatus(){return this._allControlsDisabled()?ha:this.errors?qi:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Tr)?Tr:this._anyControlsHaveStatus(qi)?qi:ii}_anyControlsHaveStatus(r){return this._anyControls(s=>s.status===r)}_anyControlsDirty(){return this._anyControls(r=>r.dirty)}_anyControlsTouched(){return this._anyControls(r=>r.touched)}_updatePristine(r={}){this.pristine=!this._anyControlsDirty(),this._parent&&!r.onlySelf&&this._parent._updatePristine(r)}_updateTouched(r={}){this.touched=this._anyControlsTouched(),this._parent&&!r.onlySelf&&this._parent._updateTouched(r)}_isBoxedValue(r){return"object"==typeof r&&null!==r&&2===Object.keys(r).length&&"value"in r&&"disabled"in r}_registerOnCollectionChange(r){this._onCollectionChange=r}_setUpdateStrategy(r){yo(r)&&null!=r.updateOn&&(this._updateOn=r.updateOn)}_parentMarkedDirty(r){return!r&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class fa extends Wi{constructor(r=null,s,o){super(ah(s),uh(o,s)),this._onChange=[],this._applyFormState(r),this._setUpdateStrategy(s),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}setValue(r,s={}){this.value=this._pendingValue=r,this._onChange.length&&!1!==s.emitModelToViewChange&&this._onChange.forEach(o=>o(this.value,!1!==s.emitViewToModelChange)),this.updateValueAndValidity(s)}patchValue(r,s={}){this.setValue(r,s)}reset(r=null,s={}){this._applyFormState(r),this.markAsPristine(s),this.markAsUntouched(s),this.setValue(this.value,s),this._pendingChange=!1}_updateValue(){}_anyControls(r){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(r){this._onChange.push(r)}_unregisterOnChange(r){Gi(this._onChange,r)}registerOnDisabledChange(r){this._onDisabledChange.push(r)}_unregisterOnDisabledChange(r){Gi(this._onDisabledChange,r)}_forEachChild(r){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(r){this._isBoxedValue(r)?(this.value=this._pendingValue=r.value,r.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=r}}class Yt extends Wi{constructor(r,s,o){super(ah(s),uh(o,s)),this.controls=r,this._initObservables(),this._setUpdateStrategy(s),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(r,s){return this.controls[r]?this.controls[r]:(this.controls[r]=s,s.setParent(this),s._registerOnCollectionChange(this._onCollectionChange),s)}addControl(r,s,o={}){this.registerControl(r,s),this.updateValueAndValidity({emitEvent:o.emitEvent}),this._onCollectionChange()}removeControl(r,s={}){this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),delete this.controls[r],this.updateValueAndValidity({emitEvent:s.emitEvent}),this._onCollectionChange()}setControl(r,s,o={}){this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),delete this.controls[r],s&&this.registerControl(r,s),this.updateValueAndValidity({emitEvent:o.emitEvent}),this._onCollectionChange()}contains(r){return this.controls.hasOwnProperty(r)&&this.controls[r].enabled}setValue(r,s={}){this._checkAllValuesPresent(r),Object.keys(r).forEach(o=>{this._throwIfControlMissing(o),this.controls[o].setValue(r[o],{onlySelf:!0,emitEvent:s.emitEvent})}),this.updateValueAndValidity(s)}patchValue(r,s={}){null!=r&&(Object.keys(r).forEach(o=>{this.controls[o]&&this.controls[o].patchValue(r[o],{onlySelf:!0,emitEvent:s.emitEvent})}),this.updateValueAndValidity(s))}reset(r={},s={}){this._forEachChild((o,l)=>{o.reset(r[l],{onlySelf:!0,emitEvent:s.emitEvent})}),this._updatePristine(s),this._updateTouched(s),this.updateValueAndValidity(s)}getRawValue(){return this._reduceChildren({},(r,s,o)=>(r[o]=s instanceof fa?s.value:s.getRawValue(),r))}_syncPendingControls(){let r=this._reduceChildren(!1,(s,o)=>!!o._syncPendingControls()||s);return r&&this.updateValueAndValidity({onlySelf:!0}),r}_throwIfControlMissing(r){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[r])throw new Error(`Cannot find form control with name: ${r}.`)}_forEachChild(r){Object.keys(this.controls).forEach(s=>{const o=this.controls[s];o&&r(o,s)})}_setUpControls(){this._forEachChild(r=>{r.setParent(this),r._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(r){for(const s of Object.keys(this.controls)){const o=this.controls[s];if(this.contains(s)&&r(o))return!0}return!1}_reduceValue(){return this._reduceChildren({},(r,s,o)=>((s.enabled||this.disabled)&&(r[o]=s.value),r))}_reduceChildren(r,s){let o=r;return this._forEachChild((l,d)=>{o=s(o,l,d)}),o}_allControlsDisabled(){for(const r of Object.keys(this.controls))if(this.controls[r].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(r){this._forEachChild((s,o)=>{if(void 0===r[o])throw new Error(`Must supply a value for form control with name: '${o}'.`)})}}class zp extends Wi{constructor(r,s,o){super(ah(s),uh(o,s)),this.controls=r,this._initObservables(),this._setUpdateStrategy(s),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(r){return this.controls[r]}push(r,s={}){this.controls.push(r),this._registerControl(r),this.updateValueAndValidity({emitEvent:s.emitEvent}),this._onCollectionChange()}insert(r,s,o={}){this.controls.splice(r,0,s),this._registerControl(s),this.updateValueAndValidity({emitEvent:o.emitEvent})}removeAt(r,s={}){this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:s.emitEvent})}setControl(r,s,o={}){this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),s&&(this.controls.splice(r,0,s),this._registerControl(s)),this.updateValueAndValidity({emitEvent:o.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(r,s={}){this._checkAllValuesPresent(r),r.forEach((o,l)=>{this._throwIfControlMissing(l),this.at(l).setValue(o,{onlySelf:!0,emitEvent:s.emitEvent})}),this.updateValueAndValidity(s)}patchValue(r,s={}){null!=r&&(r.forEach((o,l)=>{this.at(l)&&this.at(l).patchValue(o,{onlySelf:!0,emitEvent:s.emitEvent})}),this.updateValueAndValidity(s))}reset(r=[],s={}){this._forEachChild((o,l)=>{o.reset(r[l],{onlySelf:!0,emitEvent:s.emitEvent})}),this._updatePristine(s),this._updateTouched(s),this.updateValueAndValidity(s)}getRawValue(){return this.controls.map(r=>r instanceof fa?r.value:r.getRawValue())}clear(r={}){this.controls.length<1||(this._forEachChild(s=>s._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:r.emitEvent}))}_syncPendingControls(){let r=this.controls.reduce((s,o)=>!!o._syncPendingControls()||s,!1);return r&&this.updateValueAndValidity({onlySelf:!0}),r}_throwIfControlMissing(r){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(r))throw new Error(`Cannot find form control at index ${r}`)}_forEachChild(r){this.controls.forEach((s,o)=>{r(s,o)})}_updateValue(){this.value=this.controls.filter(r=>r.enabled||this.disabled).map(r=>r.value)}_anyControls(r){return this.controls.some(s=>s.enabled&&r(s))}_setUpControls(){this._forEachChild(r=>this._registerControl(r))}_checkAllValuesPresent(r){this._forEachChild((s,o)=>{if(void 0===r[o])throw new Error(`Must supply a value for form control at index: ${o}.`)})}_allControlsDisabled(){for(const r of this.controls)if(r.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(r){r.setParent(this),r._registerOnCollectionChange(this._onCollectionChange)}}const lw={provide:ft,useExisting:(0,y.Gpc)(()=>Yl)},zi=(()=>Promise.resolve(null))();let Yl=(()=>{class i extends ft{constructor(s,o){super(),this.submitted=!1,this._directives=[],this.ngSubmit=new y.vpe,this.form=new Yt({},ql(s),zl(o))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(s){zi.then(()=>{const o=this._findContainer(s.path);s.control=o.registerControl(s.name,s.control),la(s.control,s),s.control.updateValueAndValidity({emitEvent:!1}),this._directives.push(s)})}getControl(s){return this.form.get(s.path)}removeControl(s){zi.then(()=>{const o=this._findContainer(s.path);o&&o.removeControl(s.name),Gi(this._directives,s)})}addFormGroup(s){zi.then(()=>{const o=this._findContainer(s.path),l=new Yt({});(function(i,r){Kl(i,r)})(l,s),o.registerControl(s.name,l),l.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(s){zi.then(()=>{const o=this._findContainer(s.path);o&&o.removeControl(s.name)})}getFormGroup(s){return this.form.get(s.path)}updateModel(s,o){zi.then(()=>{this.form.get(s.path).setValue(o)})}setValue(s){this.control.setValue(s)}onSubmit(s){return this.submitted=!0,function(i,r){i._syncPendingControls(),r.forEach(s=>{const o=s.control;"submit"===o.updateOn&&o._pendingChange&&(s.viewToModelUpdate(o._pendingValue),o._pendingChange=!1)})}(this.form,this._directives),this.ngSubmit.emit(s),!1}onReset(){this.resetForm()}resetForm(s){this.form.reset(s),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(s){return s.pop(),s.length?this.form.get(s):this.form}}return i.\u0275fac=function(s){return new(s||i)(y.Y36(dn,10),y.Y36(ji,10))},i.\u0275dir=y.lG2({type:i,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(s,o){1&s&&y.NdJ("submit",function(d){return o.onSubmit(d)})("reset",function(){return o.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[y._Bn([lw]),y.qOj]}),i})();const Zi={provide:Hr,useExisting:(0,y.Gpc)(()=>Jl)},Ki=(()=>Promise.resolve(null))();let Jl=(()=>{class i extends Hr{constructor(s,o,l,d){super(),this.control=new fa,this._registered=!1,this.update=new y.vpe,this._parent=s,this._setValidators(o),this._setAsyncValidators(l),this.valueAccessor=function(i,r){if(!r)return null;let s,o,l;return Array.isArray(r),r.forEach(d=>{d.constructor===Bi?s=d:function(i){return Object.getPrototypeOf(i.constructor)===ni}(d)?o=d:l=d}),l||o||s||null}(0,d)}ngOnChanges(s){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in s&&this._updateDisabled(s),function(i,r){if(!i.hasOwnProperty("model"))return!1;const s=i.model;return!!s.isFirstChange()||!Object.is(r,s.currentValue)}(s,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?function(i,r){return[...r.path,i]}(this.name,this._parent):[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(s){this.viewModel=s,this.update.emit(s)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){la(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(s){Ki.then(()=>{this.control.setValue(s,{emitViewToModelChange:!1})})}_updateDisabled(s){const o=s.isDisabled.currentValue,l=""===o||o&&"false"!==o;Ki.then(()=>{l&&!this.control.disabled?this.control.disable():!l&&this.control.disabled&&this.control.enable()})}}return i.\u0275fac=function(s){return new(s||i)(y.Y36(ft,9),y.Y36(dn,10),y.Y36(ji,10),y.Y36(ri,10))},i.\u0275dir=y.lG2({type:i,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[y._Bn([Zi]),y.qOj,y.TTD]}),i})(),dh=(()=>{class i{}return i.\u0275fac=function(s){return new(s||i)},i.\u0275dir=y.lG2({type:i,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),i})(),Zp=(()=>{class i{}return i.\u0275fac=function(s){return new(s||i)},i.\u0275mod=y.oAB({type:i}),i.\u0275inj=y.cJS({}),i})();const gh={provide:dn,useExisting:(0,y.Gpc)(()=>yu),multi:!0};let yu=(()=>{class i{constructor(){this._required=!1}get required(){return this._required}set required(s){this._required=null!=s&&!1!==s&&"false"!=`${s}`,this._onChange&&this._onChange()}validate(s){return this.required?function(i){return function(i){return null==i||0===i.length}(i.value)?{required:!0}:null}(s):null}registerOnValidatorChange(s){this._onChange=s}}return i.\u0275fac=function(s){return new(s||i)},i.\u0275dir=y.lG2({type:i,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(s,o){2&s&&y.uIk("required",o.required?"":null)},inputs:{required:"required"},features:[y._Bn([gh])]}),i})(),yh=(()=>{class i{}return i.\u0275fac=function(s){return new(s||i)},i.\u0275mod=y.oAB({type:i}),i.\u0275inj=y.cJS({imports:[[Zp]]}),i})(),hw=(()=>{class i{}return i.\u0275fac=function(s){return new(s||i)},i.\u0275mod=y.oAB({type:i}),i.\u0275inj=y.cJS({imports:[yh]}),i})();var $e=x(5917),Eo=x(9765),uc=x(7971);class Gr extends Eo.xQ{constructor(r){super(),this._value=r}get value(){return this.getValue()}_subscribe(r){const s=super._subscribe(r);return s&&!s.closed&&r.next(this._value),s}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new uc.N;return this._value}next(r){super.next(this._value=r)}}var _h=x(4869),si=x(7393);class f_ extends si.L{notifyNext(r,s,o,l,d){this.destination.next(s)}notifyError(r,s){this.destination.error(r)}notifyComplete(r){this.destination.complete()}}class p_ extends si.L{constructor(r,s,o){super(),this.parent=r,this.outerValue=s,this.outerIndex=o,this.index=0}_next(r){this.parent.notifyNext(this.outerValue,r,this.outerIndex,this.index++,this)}_error(r){this.parent.notifyError(r,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var og=x(7444);function _u(i,r,s,o,l=new p_(i,s,o)){if(!l.closed)return r instanceof Ir.y?r.subscribe(l):(0,og.s)(r)(l)}var lc=x(6693);const _a={};class Qt{constructor(r){this.resultSelector=r}call(r,s){return s.subscribe(new vh(r,this.resultSelector))}}class vh extends f_{constructor(r,s){super(r),this.resultSelector=s,this.active=0,this.values=[],this.observables=[]}_next(r){this.values.push(_a),this.observables.push(r)}_complete(){const r=this.observables,s=r.length;if(0===s)this.destination.complete();else{this.active=s,this.toRespond=s;for(let o=0;o<s;o++)this.add(_u(this,r[o],void 0,o))}}notifyComplete(r){0==(this.active-=1)&&this.destination.complete()}notifyNext(r,s,o){const l=this.values,h=this.toRespond?l[o]===_a?--this.toRespond:this.toRespond:0;l[o]=s,0===h&&(this.resultSelector?this._tryResultSelector(l):this.destination.next(l.slice()))}_tryResultSelector(r){let s;try{s=this.resultSelector.apply(this,r)}catch(o){return void this.destination.error(o)}this.destination.next(s)}}const _i=(()=>{function i(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return i.prototype=Object.create(Error.prototype),i})();var va=x(3282);function vu(...i){return(0,va.J)(1)((0,$e.of)(...i))}var vi=x(9193);function ug(i){return new Ir.y(r=>{let s;try{s=i()}catch(l){return void r.error(l)}return(s?(0,Ht.D)(s):(0,vi.c)()).subscribe(r)})}var lg=x(2441),Eu=x(5345);function Jt(i,r){return"function"==typeof r?s=>s.pipe(Jt((o,l)=>(0,Ht.D)(i(o,l)).pipe((0,Ke.U)((d,h)=>r(o,d,l,h))))):s=>s.lift(new Ea(i))}class Ea{constructor(r){this.project=r}call(r,s){return s.subscribe(new Yn(r,this.project))}}class Yn extends Eu.Ds{constructor(r,s){super(r),this.project=s,this.index=0}_next(r){let s;const o=this.index++;try{s=this.project(r,o)}catch(l){return void this.destination.error(l)}this._innerSub(s)}_innerSub(r){const s=this.innerSubscription;s&&s.unsubscribe();const o=new Eu.IY(this),l=this.destination;l.add(o),this.innerSubscription=(0,Eu.ft)(r,o),this.innerSubscription!==o&&l.add(this.innerSubscription)}_complete(){const{innerSubscription:r}=this;(!r||r.closed)&&super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(r){this.destination.next(r)}}const Eh=(()=>{function i(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return i.prototype=Object.create(Error.prototype),i})();function wu(i){return r=>0===i?(0,vi.c)():r.lift(new bt(i))}class bt{constructor(r){if(this.total=r,this.total<0)throw new Eh}call(r,s){return s.subscribe(new wo(r,this.total))}}class wo extends si.L{constructor(r,s){super(r),this.total=s,this.count=0}_next(r){const s=this.total,o=++this.count;o<=s&&(this.destination.next(r),o===s&&(this.destination.complete(),this.unsubscribe()))}}function xs(...i){const r=i[i.length-1];return(0,_h.K)(r)?(i.pop(),s=>vu(i,s,r)):s=>vu(i,s)}function Co(i,r){let s=!1;return arguments.length>=2&&(s=!0),function(l){return l.lift(new m_(i,r,s))}}class m_{constructor(r,s,o=!1){this.accumulator=r,this.seed=s,this.hasSeed=o}call(r,s){return s.subscribe(new Ei(r,this.accumulator,this.seed,this.hasSeed))}}class Ei extends si.L{constructor(r,s,o,l){super(r),this.accumulator=s,this._seed=o,this.hasSeed=l,this.index=0}get seed(){return this._seed}set seed(r){this.hasSeed=!0,this._seed=r}_next(r){if(this.hasSeed)return this._tryNext(r);this.seed=r,this.destination.next(r)}_tryNext(r){const s=this.index++;let o;try{o=this.accumulator(this.seed,r,s)}catch(l){this.destination.error(l)}this.seed=o,this.destination.next(o)}}function Sr(i,r){return function(o){return o.lift(new wh(i,r))}}class wh{constructor(r,s){this.predicate=r,this.thisArg=s}call(r,s){return s.subscribe(new dg(r,this.predicate,this.thisArg))}}class dg extends si.L{constructor(r,s,o){super(r),this.predicate=s,this.thisArg=o,this.count=0}_next(r){let s;try{s=this.predicate.call(this.thisArg,r,this.count++)}catch(o){return void this.destination.error(o)}s&&this.destination.next(r)}}function wi(i){return function(s){const o=new y_(i),l=s.lift(o);return o.caught=l}}class y_{constructor(r){this.selector=r}call(r,s){return s.subscribe(new __(r,this.selector,this.caught))}}class __ extends Eu.Ds{constructor(r,s,o){super(r),this.selector=s,this.caught=o}error(r){if(!this.isStopped){let s;try{s=this.selector(r,this.caught)}catch(d){return void super.error(d)}this._unsubscribeAndRecycle();const o=new Eu.IY(this);this.add(o);const l=(0,Eu.ft)(s,o);l!==o&&this.add(l)}}}var Qn=x(9773);function wa(i,r){return(0,Qn.zg)(i,r,1)}function v(i){return function(s){return 0===i?(0,vi.c)():s.lift(new f(i))}}class f{constructor(r){if(this.total=r,this.total<0)throw new Eh}call(r,s){return s.subscribe(new m(r,this.total))}}class m extends si.L{constructor(r,s){super(r),this.total=s,this.ring=new Array,this.count=0}_next(r){const s=this.ring,o=this.total,l=this.count++;s.length<o?s.push(r):s[l%o]=r}_complete(){const r=this.destination;let s=this.count;if(s>0){const o=this.count>=this.total?this.total:this.count,l=this.ring;for(let d=0;d<o;d++){const h=s++%o;r.next(l[h])}}r.complete()}}function E(i=V){return r=>r.lift(new b(i))}class b{constructor(r){this.errorFactory=r}call(r,s){return s.subscribe(new T(r,this.errorFactory))}}class T extends si.L{constructor(r,s){super(r),this.errorFactory=s,this.hasValue=!1}_next(r){this.hasValue=!0,this.destination.next(r)}_complete(){if(this.hasValue)return this.destination.complete();{let r;try{r=this.errorFactory()}catch(s){r=s}this.destination.error(r)}}}function V(){return new _i}function ie(i=null){return r=>r.lift(new Ee(i))}class Ee{constructor(r){this.defaultValue=r}call(r,s){return s.subscribe(new Me(r,this.defaultValue))}}class Me extends si.L{constructor(r,s){super(r),this.defaultValue=s,this.isEmpty=!0}_next(r){this.isEmpty=!1,this.destination.next(r)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}var We=x(4487);function Ft(i,r){const s=arguments.length>=2;return o=>o.pipe(i?Sr((l,d)=>i(l,d,o)):We.y,wu(1),s?ie(r):E(()=>new _i))}var qt=x(3342),Io=x(1307),fr=x(5319);class hg{constructor(r){this.callback=r}call(r,s){return s.subscribe(new fg(r,this.callback))}}class fg extends si.L{constructor(r,s){super(r),this.add(new fr.w(s))}}class Wr{constructor(r,s){this.id=r,this.url=s}}class Ch extends Wr{constructor(r,s,o="imperative",l=null){super(r,s),this.navigationTrigger=o,this.restoredState=l}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class bo extends Wr{constructor(r,s,o){super(r,s),this.urlAfterRedirects=o}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class dc extends Wr{constructor(r,s,o){super(r,s),this.reason=o}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class pg extends Wr{constructor(r,s,o){super(r,s),this.error=o}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class v_ extends Wr{constructor(r,s,o,l){super(r,s),this.urlAfterRedirects=o,this.state=l}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ns extends Wr{constructor(r,s,o,l){super(r,s),this.urlAfterRedirects=o,this.state=l}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ci extends Wr{constructor(r,s,o,l,d){super(r,s),this.urlAfterRedirects=o,this.state=l,this.shouldActivate=d}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Mx extends Wr{constructor(r,s,o,l){super(r,s),this.urlAfterRedirects=o,this.state=l}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ox extends Wr{constructor(r,s,o,l){super(r,s),this.urlAfterRedirects=o,this.state=l}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class E_{constructor(r){this.route=r}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class JD{constructor(r){this.route=r}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Rs{constructor(r){this.snapshot=r}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class w_{constructor(r){this.snapshot=r}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class C_{constructor(r){this.snapshot=r}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class XD{constructor(r){this.snapshot=r}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class I_{constructor(r,s,o){this.routerEvent=r,this.position=s,this.anchor=o}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const rt="primary";class pw{constructor(r){this.params=r||{}}has(r){return Object.prototype.hasOwnProperty.call(this.params,r)}get(r){if(this.has(r)){const s=this.params[r];return Array.isArray(s)?s[0]:s}return null}getAll(r){if(this.has(r)){const s=this.params[r];return Array.isArray(s)?s:[s]}return[]}get keys(){return Object.keys(this.params)}}function Cu(i){return new pw(i)}const gg="ngNavigationCancelingError";function Ih(i){const r=Error("NavigationCancelingError: "+i);return r[gg]=!0,r}function Px(i,r,s){const o=s.path.split("/");if(o.length>i.length||"full"===s.pathMatch&&(r.hasChildren()||o.length<i.length))return null;const l={};for(let d=0;d<o.length;d++){const h=o[d],g=i[d];if(h.startsWith(":"))l[h.substring(1)]=g;else if(h!==g.path)return null}return{consumed:i.slice(0,o.length),posParams:l}}function Ii(i,r){const s=i?Object.keys(i):void 0,o=r?Object.keys(r):void 0;if(!s||!o||s.length!=o.length)return!1;let l;for(let d=0;d<s.length;d++)if(l=s[d],!b_(i[l],r[l]))return!1;return!0}function b_(i,r){if(Array.isArray(i)&&Array.isArray(r)){if(i.length!==r.length)return!1;const s=[...i].sort(),o=[...r].sort();return s.every((l,d)=>o[d]===l)}return i===r}function mw(i){return Array.prototype.concat.apply([],i)}function mg(i){return i.length>0?i[i.length-1]:null}function Jn(i,r){for(const s in i)i.hasOwnProperty(s)&&r(i[s],s)}function Ms(i){return(0,y.CqO)(i)?i:(0,y.QGY)(i)?(0,Ht.D)(Promise.resolve(i)):(0,$e.of)(i)}const tT={exact:function A_(i,r,s){if(!Iu(i.segments,r.segments)||!bh(i.segments,r.segments,s)||i.numberOfChildren!==r.numberOfChildren)return!1;for(const o in r.children)if(!i.children[o]||!A_(i.children[o],r.children[o],s))return!1;return!0},subset:_w},yw={exact:function(i,r){return Ii(i,r)},subset:function(i,r){return Object.keys(r).length<=Object.keys(i).length&&Object.keys(r).every(s=>b_(i[s],r[s]))},ignored:()=>!0};function D_(i,r,s){return tT[s.paths](i.root,r.root,s.matrixParams)&&yw[s.queryParams](i.queryParams,r.queryParams)&&!("exact"===s.fragment&&i.fragment!==r.fragment)}function _w(i,r,s){return vw(i,r,r.segments,s)}function vw(i,r,s,o){if(i.segments.length>s.length){const l=i.segments.slice(0,s.length);return!(!Iu(l,s)||r.hasChildren()||!bh(l,s,o))}if(i.segments.length===s.length){if(!Iu(i.segments,s)||!bh(i.segments,s,o))return!1;for(const l in r.children)if(!i.children[l]||!_w(i.children[l],r.children[l],o))return!1;return!0}{const l=s.slice(0,i.segments.length),d=s.slice(i.segments.length);return!!(Iu(i.segments,l)&&bh(i.segments,l,o)&&i.children[rt])&&vw(i.children[rt],r,d,o)}}function bh(i,r,s){return r.every((o,l)=>yw[s](i[l].parameters,o.parameters))}class Ca{constructor(r,s,o){this.root=r,this.queryParams=s,this.fragment=o}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Cu(this.queryParams)),this._queryParamMap}toString(){return ww.serialize(this)}}class it{constructor(r,s){this.segments=r,this.children=s,this.parent=null,Jn(s,(o,l)=>o.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Dh(this)}}class fc{constructor(r,s){this.path=r,this.parameters=s}get parameterMap(){return this._parameterMap||(this._parameterMap=Cu(this.parameters)),this._parameterMap}toString(){return Eg(this)}}function Iu(i,r){return i.length===r.length&&i.every((s,o)=>s.path===r[o].path)}class x_{}class N_{parse(r){const s=new Fx(r);return new Ca(s.parseRootSegment(),s.parseQueryParams(),s.parseFragment())}serialize(r){var i;return`${`/${bu(r.root,!0)}`}${function(i){const r=Object.keys(i).map(s=>{const o=i[s];return Array.isArray(o)?o.map(l=>`${Du(s)}=${Du(l)}`).join("&"):`${Du(s)}=${Du(o)}`}).filter(s=>!!s);return r.length?`?${r.join("&")}`:""}(r.queryParams)}${"string"==typeof r.fragment?`#${i=r.fragment,encodeURI(i)}`:""}`}}const ww=new N_;function Dh(i){return i.segments.map(r=>Eg(r)).join("/")}function bu(i,r){if(!i.hasChildren())return Dh(i);if(r){const s=i.children[rt]?bu(i.children[rt],!1):"",o=[];return Jn(i.children,(l,d)=>{d!==rt&&o.push(`${d}:${bu(l,!1)}`)}),o.length>0?`${s}(${o.join("//")})`:s}{const s=function(i,r){let s=[];return Jn(i.children,(o,l)=>{l===rt&&(s=s.concat(r(o,l)))}),Jn(i.children,(o,l)=>{l!==rt&&(s=s.concat(r(o,l)))}),s}(i,(o,l)=>l===rt?[bu(i.children[rt],!1)]:[`${l}:${bu(o,!1)}`]);return 1===Object.keys(i.children).length&&null!=i.children[rt]?`${Dh(i)}/${s[0]}`:`${Dh(i)}/(${s.join("//")})`}}function R_(i){return encodeURIComponent(i).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Du(i){return R_(i).replace(/%3B/gi,";")}function vg(i){return R_(i).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function pc(i){return decodeURIComponent(i)}function M_(i){return pc(i.replace(/\+/g,"%20"))}function Eg(i){return`${vg(i.path)}${function(i){return Object.keys(i).map(r=>`;${vg(r)}=${vg(i[r])}`).join("")}(i.parameters)}`}const Cw=/^[^\/()?;=#]+/;function wg(i){const r=i.match(Cw);return r?r[0]:""}const rT=/^[^=?&#]+/,O_=/^[^?&#]+/;class Fx{constructor(r){this.url=r,this.remaining=r}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new it([],{}):new it([],this.parseChildren())}parseQueryParams(){const r={};if(this.consumeOptional("?"))do{this.parseQueryParam(r)}while(this.consumeOptional("&"));return r}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const r=[];for(this.peekStartsWith("(")||r.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),r.push(this.parseSegment());let s={};this.peekStartsWith("/(")&&(this.capture("/"),s=this.parseParens(!0));let o={};return this.peekStartsWith("(")&&(o=this.parseParens(!1)),(r.length>0||Object.keys(s).length>0)&&(o[rt]=new it(r,s)),o}parseSegment(){const r=wg(this.remaining);if(""===r&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(r),new fc(pc(r),this.parseMatrixParams())}parseMatrixParams(){const r={};for(;this.consumeOptional(";");)this.parseParam(r);return r}parseParam(r){const s=wg(this.remaining);if(!s)return;this.capture(s);let o="";if(this.consumeOptional("=")){const l=wg(this.remaining);l&&(o=l,this.capture(o))}r[pc(s)]=pc(o)}parseQueryParam(r){const s=function(i){const r=i.match(rT);return r?r[0]:""}(this.remaining);if(!s)return;this.capture(s);let o="";if(this.consumeOptional("=")){const h=function(i){const r=i.match(O_);return r?r[0]:""}(this.remaining);h&&(o=h,this.capture(o))}const l=M_(s),d=M_(o);if(r.hasOwnProperty(l)){let h=r[l];Array.isArray(h)||(h=[h],r[l]=h),h.push(d)}else r[l]=d}parseParens(r){const s={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const o=wg(this.remaining),l=this.remaining[o.length];if("/"!==l&&")"!==l&&";"!==l)throw new Error(`Cannot parse url '${this.url}'`);let d;o.indexOf(":")>-1?(d=o.substr(0,o.indexOf(":")),this.capture(d),this.capture(":")):r&&(d=rt);const h=this.parseChildren();s[d]=1===Object.keys(h).length?h[rt]:new it([],h),this.consumeOptional("//")}return s}peekStartsWith(r){return this.remaining.startsWith(r)}consumeOptional(r){return!!this.peekStartsWith(r)&&(this.remaining=this.remaining.substring(r.length),!0)}capture(r){if(!this.consumeOptional(r))throw new Error(`Expected "${r}".`)}}class P_{constructor(r){this._root=r}get root(){return this._root.value}parent(r){const s=this.pathFromRoot(r);return s.length>1?s[s.length-2]:null}children(r){const s=k_(r,this._root);return s?s.children.map(o=>o.value):[]}firstChild(r){const s=k_(r,this._root);return s&&s.children.length>0?s.children[0].value:null}siblings(r){const s=Cg(r,this._root);return s.length<2?[]:s[s.length-2].children.map(l=>l.value).filter(l=>l!==r)}pathFromRoot(r){return Cg(r,this._root).map(s=>s.value)}}function k_(i,r){if(i===r.value)return r;for(const s of r.children){const o=k_(i,s);if(o)return o}return null}function Cg(i,r){if(i===r.value)return[r];for(const s of r.children){const o=Cg(i,s);if(o.length)return o.unshift(r),o}return[]}class Do{constructor(r,s){this.value=r,this.children=s}toString(){return`TreeNode(${this.value})`}}function Ah(i){const r={};return i&&i.children.forEach(s=>r[s.value.outlet]=s),r}class bi extends P_{constructor(r,s){super(r),this.snapshot=s,L_(this,r)}toString(){return this.snapshot.toString()}}function Dw(i,r){const s=function(i,r){const h=new Ig([],{},{},"",{},rt,r,null,i.root,-1,{});return new F_("",new Do(h,[]))}(i,r),o=new Gr([new fc("",{})]),l=new Gr({}),d=new Gr({}),h=new Gr({}),g=new Gr(""),_=new gc(o,l,h,g,d,rt,r,s.root);return _.snapshot=s.root,new bi(new Do(_,[]),s)}class gc{constructor(r,s,o,l,d,h,g,_){this.url=r,this.params=s,this.queryParams=o,this.fragment=l,this.data=d,this.outlet=h,this.component=g,this._futureSnapshot=_}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Ke.U)(r=>Cu(r)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Ke.U)(r=>Cu(r)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Aw(i,r="emptyOnly"){const s=i.pathFromRoot;let o=0;if("always"!==r)for(o=s.length-1;o>=1;){const l=s[o],d=s[o-1];if(l.routeConfig&&""===l.routeConfig.path)o--;else{if(d.component)break;o--}}return function(i){return i.reduce((r,s)=>({params:Object.assign(Object.assign({},r.params),s.params),data:Object.assign(Object.assign({},r.data),s.data),resolve:Object.assign(Object.assign({},r.resolve),s._resolvedData)}),{params:{},data:{},resolve:{}})}(s.slice(o))}class Ig{constructor(r,s,o,l,d,h,g,_,w,C,I){this.url=r,this.params=s,this.queryParams=o,this.fragment=l,this.data=d,this.outlet=h,this.component=g,this.routeConfig=_,this._urlSegment=w,this._lastPathIndex=C,this._resolve=I}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Cu(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Cu(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(o=>o.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class F_ extends P_{constructor(r,s){super(s),this.url=r,L_(this,s)}toString(){return Sw(this._root)}}function L_(i,r){r.value._routerState=i,r.children.forEach(s=>L_(i,s))}function Sw(i){const r=i.children.length>0?` { ${i.children.map(Sw).join(", ")} } `:"";return`${i.value}${r}`}function V_(i){if(i.snapshot){const r=i.snapshot,s=i._futureSnapshot;i.snapshot=s,Ii(r.queryParams,s.queryParams)||i.queryParams.next(s.queryParams),r.fragment!==s.fragment&&i.fragment.next(s.fragment),Ii(r.params,s.params)||i.params.next(s.params),function(i,r){if(i.length!==r.length)return!1;for(let s=0;s<i.length;++s)if(!Ii(i[s],r[s]))return!1;return!0}(r.url,s.url)||i.url.next(s.url),Ii(r.data,s.data)||i.data.next(s.data)}else i.snapshot=i._futureSnapshot,i.data.next(i._futureSnapshot.data)}function Ye(i,r){return Ii(i.params,r.params)&&function(i,r){return Iu(i,r)&&i.every((s,o)=>Ii(s.parameters,r[o].parameters))}(i.url,r.url)&&!(!i.parent!=!r.parent)&&(!i.parent||Ye(i.parent,r.parent))}function Sh(i,r,s){if(s&&i.shouldReuseRoute(r.value,s.value.snapshot)){const o=s.value;o._futureSnapshot=r.value;const l=function(i,r,s){return r.children.map(o=>{for(const l of s.children)if(i.shouldReuseRoute(o.value,l.value.snapshot))return Sh(i,o,l);return Sh(i,o)})}(i,r,s);return new Do(o,l)}{if(i.shouldAttach(r.value)){const d=i.retrieve(r.value);if(null!==d){const h=d.route;return xh(r,h),h}}const o=function(i){return new gc(new Gr(i.url),new Gr(i.params),new Gr(i.queryParams),new Gr(i.fragment),new Gr(i.data),i.outlet,i.component,i)}(r.value),l=r.children.map(d=>Sh(i,d));return new Do(o,l)}}function xh(i,r){if(i.value.routeConfig!==r.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(i.children.length!==r.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");r.value._futureSnapshot=i.value;for(let s=0;s<i.children.length;++s)xh(i.children[s],r.children[s])}function mc(i){return"object"==typeof i&&null!=i&&!i.outlets&&!i.segmentPath}function oi(i){return"object"==typeof i&&null!=i&&i.outlets}function Nh(i,r,s,o,l){let d={};return o&&Jn(o,(h,g)=>{d[g]=Array.isArray(h)?h.map(_=>`${_}`):`${h}`}),new Ca(s.root===i?r:U_(s.root,i,r),d,l)}function U_(i,r,s){const o={};return Jn(i.children,(l,d)=>{o[d]=l===r?s:U_(l,r,s)}),new it(i.segments,o)}class bg{constructor(r,s,o){if(this.isAbsolute=r,this.numberOfDoubleDots=s,this.commands=o,r&&o.length>0&&mc(o[0]))throw new Error("Root segment cannot have matrix parameters");const l=o.find(oi);if(l&&l!==mg(o))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Dg{constructor(r,s,o){this.segmentGroup=r,this.processChildren=s,this.index=o}}function Rh(i,r,s){if(i||(i=new it([],{})),0===i.segments.length&&i.hasChildren())return yc(i,r,s);const o=function(i,r,s){let o=0,l=r;const d={match:!1,pathIndex:0,commandIndex:0};for(;l<i.segments.length;){if(o>=s.length)return d;const h=i.segments[l],g=s[o];if(oi(g))break;const _=`${g}`,w=o<s.length-1?s[o+1]:null;if(l>0&&void 0===_)break;if(_&&w&&"object"==typeof w&&void 0===w.outlets){if(!Mw(_,w,h))return d;o+=2}else{if(!Mw(_,{},h))return d;o++}l++}return{match:!0,pathIndex:l,commandIndex:o}}(i,r,s),l=s.slice(o.commandIndex);if(o.match&&o.pathIndex<i.segments.length){const d=new it(i.segments.slice(0,o.pathIndex),{});return d.children[rt]=new it(i.segments.slice(o.pathIndex),i.children),yc(d,0,l)}return o.match&&0===l.length?new it(i.segments,{}):o.match&&!i.hasChildren()?B_(i,r,s):o.match?yc(i,0,l):B_(i,r,s)}function yc(i,r,s){if(0===s.length)return new it(i.segments,{});{const o=function(i){return oi(i[0])?i[0].outlets:{[rt]:i}}(s),l={};return Jn(o,(d,h)=>{"string"==typeof d&&(d=[d]),null!==d&&(l[h]=Rh(i.children[h],r,d))}),Jn(i.children,(d,h)=>{void 0===o[h]&&(l[h]=d)}),new it(i.segments,l)}}function B_(i,r,s){const o=i.segments.slice(0,r);let l=0;for(;l<s.length;){const d=s[l];if(oi(d)){const _=Rw(d.outlets);return new it(o,_)}if(0===l&&mc(s[0])){o.push(new fc(i.segments[r].path,oT(s[0]))),l++;continue}const h=oi(d)?d.outlets[rt]:`${d}`,g=l<s.length-1?s[l+1]:null;h&&g&&mc(g)?(o.push(new fc(h,oT(g))),l+=2):(o.push(new fc(h,{})),l++)}return new it(o,{})}function Rw(i){const r={};return Jn(i,(s,o)=>{"string"==typeof s&&(s=[s]),null!==s&&(r[o]=B_(new it([],{}),0,s))}),r}function oT(i){const r={};return Jn(i,(s,o)=>r[o]=`${s}`),r}function Mw(i,r,s){return i==s.path&&Ii(r,s.parameters)}class Ow{constructor(r,s,o,l){this.routeReuseStrategy=r,this.futureState=s,this.currState=o,this.forwardEvent=l}activate(r){const s=this.futureState._root,o=this.currState?this.currState._root:null;this.deactivateChildRoutes(s,o,r),V_(this.futureState.root),this.activateChildRoutes(s,o,r)}deactivateChildRoutes(r,s,o){const l=Ah(s);r.children.forEach(d=>{const h=d.value.outlet;this.deactivateRoutes(d,l[h],o),delete l[h]}),Jn(l,(d,h)=>{this.deactivateRouteAndItsChildren(d,o)})}deactivateRoutes(r,s,o){const l=r.value,d=s?s.value:null;if(l===d)if(l.component){const h=o.getContext(l.outlet);h&&this.deactivateChildRoutes(r,s,h.children)}else this.deactivateChildRoutes(r,s,o);else d&&this.deactivateRouteAndItsChildren(s,o)}deactivateRouteAndItsChildren(r,s){this.routeReuseStrategy.shouldDetach(r.value.snapshot)?this.detachAndStoreRouteSubtree(r,s):this.deactivateRouteAndOutlet(r,s)}detachAndStoreRouteSubtree(r,s){const o=s.getContext(r.value.outlet);if(o&&o.outlet){const l=o.outlet.detach(),d=o.children.onOutletDeactivated();this.routeReuseStrategy.store(r.value.snapshot,{componentRef:l,route:r,contexts:d})}}deactivateRouteAndOutlet(r,s){const o=s.getContext(r.value.outlet),l=o&&r.value.component?o.children:s,d=Ah(r);for(const h of Object.keys(d))this.deactivateRouteAndItsChildren(d[h],l);o&&o.outlet&&(o.outlet.deactivate(),o.children.onOutletDeactivated(),o.attachRef=null,o.resolver=null,o.route=null)}activateChildRoutes(r,s,o){const l=Ah(s);r.children.forEach(d=>{this.activateRoutes(d,l[d.value.outlet],o),this.forwardEvent(new XD(d.value.snapshot))}),r.children.length&&this.forwardEvent(new w_(r.value.snapshot))}activateRoutes(r,s,o){const l=r.value,d=s?s.value:null;if(V_(l),l===d)if(l.component){const h=o.getOrCreateContext(l.outlet);this.activateChildRoutes(r,s,h.children)}else this.activateChildRoutes(r,s,o);else if(l.component){const h=o.getOrCreateContext(l.outlet);if(this.routeReuseStrategy.shouldAttach(l.snapshot)){const g=this.routeReuseStrategy.retrieve(l.snapshot);this.routeReuseStrategy.store(l.snapshot,null),h.children.onOutletReAttached(g.contexts),h.attachRef=g.componentRef,h.route=g.route.value,h.outlet&&h.outlet.attach(g.componentRef,g.route.value),j_(g.route)}else{const g=function(i){for(let r=i.parent;r;r=r.parent){const s=r.routeConfig;if(s&&s._loadedConfig)return s._loadedConfig;if(s&&s.component)return null}return null}(l.snapshot),_=g?g.module.componentFactoryResolver:null;h.attachRef=null,h.route=l,h.resolver=_,h.outlet&&h.outlet.activateWith(l,_),this.activateChildRoutes(r,null,h.children)}}else this.activateChildRoutes(r,null,o)}}function j_(i){V_(i.value),i.children.forEach(j_)}class Mh{constructor(r,s){this.routes=r,this.module=s}}function Tu(i){return"function"==typeof i}function _c(i){return i instanceof Ca}const Ag=Symbol("INITIAL_VALUE");function Sg(){return Jt(i=>function(...i){let r,s;return(0,_h.K)(i[i.length-1])&&(s=i.pop()),"function"==typeof i[i.length-1]&&(r=i.pop()),1===i.length&&(0,Qd.k)(i[0])&&(i=i[0]),(0,lc.n)(i,s).lift(new Qt(r))}(i.map(r=>r.pipe(wu(1),xs(Ag)))).pipe(Co((r,s)=>{let o=!1;return s.reduce((l,d,h)=>l!==Ag?l:(d===Ag&&(o=!0),o||!1!==d&&h!==s.length-1&&!_c(d)?l:d),r)},Ag),Sr(r=>r!==Ag),(0,Ke.U)(r=>_c(r)?r:!0===r),wu(1)))}let uT=(()=>{class i{}return i.\u0275fac=function(s){return new(s||i)},i.\u0275cmp=y.Xpm({type:i,selectors:[["ng-component"]],decls:1,vars:0,template:function(s,o){1&s&&y._UZ(0,"router-outlet")},directives:function(){return[Vg]},encapsulation:2}),i})();function lT(i,r=""){for(let s=0;s<i.length;s++){const o=i[s];Ia(o,H_(r,o))}}function Ia(i,r){i.children&&lT(i.children,r)}function H_(i,r){return r?i||r.path?i&&!r.path?`${i}/`:!i&&r.path?r.path:`${i}/${r.path}`:"":i}function $_(i){const r=i.children&&i.children.map($_),s=r?Object.assign(Object.assign({},i),{children:r}):Object.assign({},i);return!s.component&&(r||s.loadChildren)&&s.outlet&&s.outlet!==rt&&(s.component=uT),s}function ai(i){return i.outlet||rt}function xg(i,r){const s=i.filter(o=>ai(o)===r);return s.push(...i.filter(o=>ai(o)!==r)),s}const G_={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function vc(i,r,s){var o;if(""===r.path)return"full"===r.pathMatch&&(i.hasChildren()||s.length>0)?Object.assign({},G_):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const d=(r.matcher||Px)(s,i,r);if(!d)return Object.assign({},G_);const h={};Jn(d.posParams,(_,w)=>{h[w]=_.path});const g=d.consumed.length>0?Object.assign(Object.assign({},h),d.consumed[d.consumed.length-1].parameters):h;return{matched:!0,consumedSegments:d.consumed,lastChild:d.consumed.length,parameters:g,positionalParamSegments:null!==(o=d.posParams)&&void 0!==o?o:{}}}function Ng(i,r,s,o,l="corrected"){if(s.length>0&&function(i,r,s){return s.some(o=>Ec(i,r,o)&&ai(o)!==rt)}(i,s,o)){const h=new it(r,function(i,r,s,o){const l={};l[rt]=o,o._sourceSegment=i,o._segmentIndexShift=r.length;for(const d of s)if(""===d.path&&ai(d)!==rt){const h=new it([],{});h._sourceSegment=i,h._segmentIndexShift=r.length,l[ai(d)]=h}return l}(i,r,o,new it(s,i.children)));return h._sourceSegment=i,h._segmentIndexShift=r.length,{segmentGroup:h,slicedSegments:[]}}if(0===s.length&&function(i,r,s){return s.some(o=>Ec(i,r,o))}(i,s,o)){const h=new it(i.segments,function(i,r,s,o,l,d){const h={};for(const g of o)if(Ec(i,s,g)&&!l[ai(g)]){const _=new it([],{});_._sourceSegment=i,_._segmentIndexShift="legacy"===d?i.segments.length:r.length,h[ai(g)]=_}return Object.assign(Object.assign({},l),h)}(i,r,s,o,i.children,l));return h._sourceSegment=i,h._segmentIndexShift=r.length,{segmentGroup:h,slicedSegments:s}}const d=new it(i.segments,i.children);return d._sourceSegment=i,d._segmentIndexShift=r.length,{segmentGroup:d,slicedSegments:s}}function Ec(i,r,s){return(!(i.hasChildren()||r.length>0)||"full"!==s.pathMatch)&&""===s.path}function kw(i,r,s,o){return!!(ai(i)===o||o!==rt&&Ec(r,s,i))&&("**"===i.path||vc(r,i,s).matched)}function q_(i,r,s){return 0===r.length&&!i.children[s]}class Oh{constructor(r){this.segmentGroup=r||null}}class Fw{constructor(r){this.urlTree=r}}function Da(i){return new Ir.y(r=>r.error(new Oh(i)))}function Au(i){return new Ir.y(r=>r.error(new Fw(i)))}function W_(i){return new Ir.y(r=>r.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${i}'`)))}class Cc{constructor(r,s,o,l,d){this.configLoader=s,this.urlSerializer=o,this.urlTree=l,this.config=d,this.allowRedirects=!0,this.ngModule=r.get(y.h0i)}apply(){const r=Ng(this.urlTree.root,[],[],this.config).segmentGroup,s=new it(r.segments,r.children);return this.expandSegmentGroup(this.ngModule,this.config,s,rt).pipe((0,Ke.U)(d=>this.createUrlTree(Rg(d),this.urlTree.queryParams,this.urlTree.fragment))).pipe(wi(d=>{if(d instanceof Fw)return this.allowRedirects=!1,this.match(d.urlTree);throw d instanceof Oh?this.noMatchError(d):d}))}match(r){return this.expandSegmentGroup(this.ngModule,this.config,r.root,rt).pipe((0,Ke.U)(l=>this.createUrlTree(Rg(l),r.queryParams,r.fragment))).pipe(wi(l=>{throw l instanceof Oh?this.noMatchError(l):l}))}noMatchError(r){return new Error(`Cannot match any routes. URL Segment: '${r.segmentGroup}'`)}createUrlTree(r,s,o){const l=r.segments.length>0?new it([],{[rt]:r}):r;return new Ca(l,s,o)}expandSegmentGroup(r,s,o,l){return 0===o.segments.length&&o.hasChildren()?this.expandChildren(r,s,o).pipe((0,Ke.U)(d=>new it([],d))):this.expandSegment(r,o,s,o.segments,l,!0)}expandChildren(r,s,o){const l=[];for(const d of Object.keys(o.children))"primary"===d?l.unshift(d):l.push(d);return(0,Ht.D)(l).pipe(wa(d=>{const h=o.children[d],g=xg(s,d);return this.expandSegmentGroup(r,g,h,d).pipe((0,Ke.U)(_=>({segment:_,outlet:d})))}),Co((d,h)=>(d[h.outlet]=h.segment,d),{}),function(i,r){const s=arguments.length>=2;return o=>o.pipe(i?Sr((l,d)=>i(l,d,o)):We.y,v(1),s?ie(r):E(()=>new _i))}())}expandSegment(r,s,o,l,d,h){return(0,Ht.D)(o).pipe(wa(g=>this.expandSegmentAgainstRoute(r,s,o,g,l,d,h).pipe(wi(w=>{if(w instanceof Oh)return(0,$e.of)(null);throw w}))),Ft(g=>!!g),wi((g,_)=>{if(g instanceof _i||"EmptyError"===g.name){if(q_(s,l,d))return(0,$e.of)(new it([],{}));throw new Oh(s)}throw g}))}expandSegmentAgainstRoute(r,s,o,l,d,h,g){return kw(l,s,d,h)?void 0===l.redirectTo?this.matchSegmentAgainstRoute(r,s,l,d,h):g&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(r,s,o,l,d,h):Da(s):Da(s)}expandSegmentAgainstRouteUsingRedirect(r,s,o,l,d,h){return"**"===l.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(r,o,l,h):this.expandRegularSegmentAgainstRouteUsingRedirect(r,s,o,l,d,h)}expandWildCardWithParamsAgainstRouteUsingRedirect(r,s,o,l){const d=this.applyRedirectCommands([],o.redirectTo,{});return o.redirectTo.startsWith("/")?Au(d):this.lineralizeSegments(o,d).pipe((0,Qn.zg)(h=>{const g=new it(h,{});return this.expandSegment(r,g,s,h,l,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(r,s,o,l,d,h){const{matched:g,consumedSegments:_,lastChild:w,positionalParamSegments:C}=vc(s,l,d);if(!g)return Da(s);const I=this.applyRedirectCommands(_,l.redirectTo,C);return l.redirectTo.startsWith("/")?Au(I):this.lineralizeSegments(l,I).pipe((0,Qn.zg)(A=>this.expandSegment(r,s,o,A.concat(d.slice(w)),h,!1)))}matchSegmentAgainstRoute(r,s,o,l,d){if("**"===o.path)return o.loadChildren?(o._loadedConfig?(0,$e.of)(o._loadedConfig):this.configLoader.load(r.injector,o)).pipe((0,Ke.U)(A=>(o._loadedConfig=A,new it(l,{})))):(0,$e.of)(new it(l,{}));const{matched:h,consumedSegments:g,lastChild:_}=vc(s,o,l);if(!h)return Da(s);const w=l.slice(_);return this.getChildConfig(r,o,l).pipe((0,Qn.zg)(I=>{const A=I.module,D=I.routes,{segmentGroup:P,slicedSegments:L}=Ng(s,g,w,D),ae=new it(P.segments,P.children);if(0===L.length&&ae.hasChildren())return this.expandChildren(A,D,ae).pipe((0,Ke.U)(lt=>new it(g,lt)));if(0===D.length&&0===L.length)return(0,$e.of)(new it(g,{}));const Ie=ai(o)===d;return this.expandSegment(A,ae,D,L,Ie?rt:d,!0).pipe((0,Ke.U)(Be=>new it(g.concat(Be.segments),Be.children)))}))}getChildConfig(r,s,o){return s.children?(0,$e.of)(new Mh(s.children,r)):s.loadChildren?void 0!==s._loadedConfig?(0,$e.of)(s._loadedConfig):this.runCanLoadGuards(r.injector,s,o).pipe((0,Qn.zg)(l=>{return l?this.configLoader.load(r.injector,s).pipe((0,Ke.U)(d=>(s._loadedConfig=d,d))):(i=s,new Ir.y(r=>r.error(Ih(`Cannot load children because the guard of the route "path: '${i.path}'" returned false`))));var i})):(0,$e.of)(new Mh([],r))}runCanLoadGuards(r,s,o){const l=s.canLoad;if(!l||0===l.length)return(0,$e.of)(!0);const d=l.map(h=>{const g=r.get(h);let _;if((i=g)&&Tu(i.canLoad))_=g.canLoad(s,o);else{if(!Tu(g))throw new Error("Invalid CanLoad guard");_=g(s,o)}var i;return Ms(_)});return(0,$e.of)(d).pipe(Sg(),(0,qt.b)(h=>{if(!_c(h))return;const g=Ih(`Redirecting to "${this.urlSerializer.serialize(h)}"`);throw g.url=h,g}),(0,Ke.U)(h=>!0===h))}lineralizeSegments(r,s){let o=[],l=s.root;for(;;){if(o=o.concat(l.segments),0===l.numberOfChildren)return(0,$e.of)(o);if(l.numberOfChildren>1||!l.children[rt])return W_(r.redirectTo);l=l.children[rt]}}applyRedirectCommands(r,s,o){return this.applyRedirectCreatreUrlTree(s,this.urlSerializer.parse(s),r,o)}applyRedirectCreatreUrlTree(r,s,o,l){const d=this.createSegmentGroup(r,s.root,o,l);return new Ca(d,this.createQueryParams(s.queryParams,this.urlTree.queryParams),s.fragment)}createQueryParams(r,s){const o={};return Jn(r,(l,d)=>{if("string"==typeof l&&l.startsWith(":")){const g=l.substring(1);o[d]=s[g]}else o[d]=l}),o}createSegmentGroup(r,s,o,l){const d=this.createSegments(r,s.segments,o,l);let h={};return Jn(s.children,(g,_)=>{h[_]=this.createSegmentGroup(r,g,o,l)}),new it(d,h)}createSegments(r,s,o,l){return s.map(d=>d.path.startsWith(":")?this.findPosParam(r,d,l):this.findOrReturn(d,o))}findPosParam(r,s,o){const l=o[s.path.substring(1)];if(!l)throw new Error(`Cannot redirect to '${r}'. Cannot find '${s.path}'.`);return l}findOrReturn(r,s){let o=0;for(const l of s){if(l.path===r.path)return s.splice(o),l;o++}return r}}function Rg(i){const r={};for(const o of Object.keys(i.children)){const d=Rg(i.children[o]);(d.segments.length>0||d.hasChildren())&&(r[o]=d)}return function(i){if(1===i.numberOfChildren&&i.children[rt]){const r=i.children[rt];return new it(i.segments.concat(r.segments),r.children)}return i}(new it(i.segments,r))}class Mg{constructor(r){this.path=r,this.route=this.path[this.path.length-1]}}class Ic{constructor(r,s){this.component=r,this.route=s}}function Vw(i,r,s){const o=i._root;return kg(o,r?r._root:null,s,[o.value])}function Pg(i,r,s){const o=function(i){if(!i)return null;for(let r=i.parent;r;r=r.parent){const s=r.routeConfig;if(s&&s._loadedConfig)return s._loadedConfig}return null}(r);return(o?o.module.injector:s).get(i)}function kg(i,r,s,o,l={canDeactivateChecks:[],canActivateChecks:[]}){const d=Ah(r);return i.children.forEach(h=>{(function(i,r,s,o,l={canDeactivateChecks:[],canActivateChecks:[]}){const d=i.value,h=r?r.value:null,g=s?s.getContext(i.value.outlet):null;if(h&&d.routeConfig===h.routeConfig){const _=function(i,r,s){if("function"==typeof s)return s(i,r);switch(s){case"pathParamsChange":return!Iu(i.url,r.url);case"pathParamsOrQueryParamsChange":return!Iu(i.url,r.url)||!Ii(i.queryParams,r.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Ye(i,r)||!Ii(i.queryParams,r.queryParams);case"paramsChange":default:return!Ye(i,r)}}(h,d,d.routeConfig.runGuardsAndResolvers);_?l.canActivateChecks.push(new Mg(o)):(d.data=h.data,d._resolvedData=h._resolvedData),kg(i,r,d.component?g?g.children:null:s,o,l),_&&g&&g.outlet&&g.outlet.isActivated&&l.canDeactivateChecks.push(new Ic(g.outlet.component,h))}else h&&kh(r,g,l),l.canActivateChecks.push(new Mg(o)),kg(i,null,d.component?g?g.children:null:s,o,l)})(h,d[h.value.outlet],s,o.concat([h.value]),l),delete d[h.value.outlet]}),Jn(d,(h,g)=>kh(h,s.getContext(g),l)),l}function kh(i,r,s){const o=Ah(i),l=i.value;Jn(o,(d,h)=>{kh(d,l.component?r?r.children.getContext(h):null:r,s)}),s.canDeactivateChecks.push(new Ic(l.component&&r&&r.outlet&&r.outlet.isActivated?r.outlet.component:null,l))}class $w{}function mT(i){return new Ir.y(r=>r.error(i))}class z_{constructor(r,s,o,l,d,h){this.rootComponentType=r,this.config=s,this.urlTree=o,this.url=l,this.paramsInheritanceStrategy=d,this.relativeLinkResolution=h}recognize(){const r=Ng(this.urlTree.root,[],[],this.config.filter(h=>void 0===h.redirectTo),this.relativeLinkResolution).segmentGroup,s=this.processSegmentGroup(this.config,r,rt);if(null===s)return null;const o=new Ig([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},rt,this.rootComponentType,null,this.urlTree.root,-1,{}),l=new Do(o,s),d=new F_(this.url,l);return this.inheritParamsAndData(d._root),d}inheritParamsAndData(r){const s=r.value,o=Aw(s,this.paramsInheritanceStrategy);s.params=Object.freeze(o.params),s.data=Object.freeze(o.data),r.children.forEach(l=>this.inheritParamsAndData(l))}processSegmentGroup(r,s,o){return 0===s.segments.length&&s.hasChildren()?this.processChildren(r,s):this.processSegment(r,s,s.segments,o)}processChildren(r,s){const o=[];for(const d of Object.keys(s.children)){const h=s.children[d],g=xg(r,d),_=this.processSegmentGroup(g,h,d);if(null===_)return null;o.push(..._)}const l=qw(o);return l.sort((r,s)=>r.value.outlet===rt?-1:s.value.outlet===rt?1:r.value.outlet.localeCompare(s.value.outlet)),l}processSegment(r,s,o,l){for(const d of r){const h=this.processSegmentAgainstRoute(d,s,o,l);if(null!==h)return h}return q_(s,o,l)?[]:null}processSegmentAgainstRoute(r,s,o,l){if(r.redirectTo||!kw(r,s,o,l))return null;let d,h=[],g=[];if("**"===r.path){const D=o.length>0?mg(o).parameters:{};d=new Ig(o,D,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,zw(r),ai(r),r.component,r,Ww(s),Z_(s)+o.length,Zw(r))}else{const D=vc(s,r,o);if(!D.matched)return null;h=D.consumedSegments,g=o.slice(D.lastChild),d=new Ig(h,D.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,zw(r),ai(r),r.component,r,Ww(s),Z_(s)+h.length,Zw(r))}const _=(i=r).children?i.children:i.loadChildren?i._loadedConfig.routes:[],{segmentGroup:w,slicedSegments:C}=Ng(s,h,g,_.filter(D=>void 0===D.redirectTo),this.relativeLinkResolution);var i;if(0===C.length&&w.hasChildren()){const D=this.processChildren(_,w);return null===D?null:[new Do(d,D)]}if(0===_.length&&0===C.length)return[new Do(d,[])];const I=ai(r)===l,A=this.processSegment(_,w,C,I?rt:l);return null===A?null:[new Do(d,A)]}}function vT(i){const r=i.value.routeConfig;return r&&""===r.path&&void 0===r.redirectTo}function qw(i){const r=[],s=new Set;for(const o of i){if(!vT(o)){r.push(o);continue}const l=r.find(d=>o.value.routeConfig===d.value.routeConfig);void 0!==l?(l.children.push(...o.children),s.add(l)):r.push(o)}for(const o of s){const l=qw(o.children);r.push(new Do(o.value,l))}return r.filter(o=>!s.has(o))}function Ww(i){let r=i;for(;r._sourceSegment;)r=r._sourceSegment;return r}function Z_(i){let r=i,s=r._segmentIndexShift?r._segmentIndexShift:0;for(;r._sourceSegment;)r=r._sourceSegment,s+=r._segmentIndexShift?r._segmentIndexShift:0;return s-1}function zw(i){return i.data||{}}function Zw(i){return i.resolve||{}}function Y_(i){return Jt(r=>{const s=i(r);return s?(0,Ht.D)(s).pipe((0,Ke.U)(()=>r)):(0,$e.of)(r)})}class Qw extends class{shouldDetach(r){return!1}store(r,s){}shouldAttach(r){return!1}retrieve(r){return null}shouldReuseRoute(r,s){return r.routeConfig===s.routeConfig}}{}const Q_=new y.OlP("ROUTES");class Jw{constructor(r,s,o,l){this.loader=r,this.compiler=s,this.onLoadStartListener=o,this.onLoadEndListener=l}load(r,s){if(s._loader$)return s._loader$;this.onLoadStartListener&&this.onLoadStartListener(s);const l=this.loadModuleFactory(s.loadChildren).pipe((0,Ke.U)(d=>{this.onLoadEndListener&&this.onLoadEndListener(s);const h=d.create(r);return new Mh(mw(h.injector.get(Q_,void 0,y.XFs.Self|y.XFs.Optional)).map($_),h)}),wi(d=>{throw s._loader$=void 0,d}));return s._loader$=new lg.c(l,()=>new Eo.xQ).pipe((0,Io.x)()),s._loader$}loadModuleFactory(r){return"string"==typeof r?(0,Ht.D)(this.loader.load(r)):Ms(r()).pipe((0,Qn.zg)(s=>s instanceof y.YKP?(0,$e.of)(s):(0,Ht.D)(this.compiler.compileModuleAsync(s))))}}class IT{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Ta,this.attachRef=null}}class Ta{constructor(){this.contexts=new Map}onChildOutletCreated(r,s){const o=this.getOrCreateContext(r);o.outlet=s,this.contexts.set(r,o)}onChildOutletDestroyed(r){const s=this.getContext(r);s&&(s.outlet=null)}onOutletDeactivated(){const r=this.contexts;return this.contexts=new Map,r}onOutletReAttached(r){this.contexts=r}getOrCreateContext(r){let s=this.getContext(r);return s||(s=new IT,this.contexts.set(r,s)),s}getContext(r){return this.contexts.get(r)||null}}class DT{shouldProcessUrl(r){return!0}extract(r){return r}merge(r,s){return r}}function Fg(i){throw i}function J_(i,r,s){return r.parse("/")}function Xw(i,r){return(0,$e.of)(null)}const X_={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},ev={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let pr=(()=>{class i{constructor(s,o,l,d,h,g,_,w){this.rootComponentType=s,this.urlSerializer=o,this.rootContexts=l,this.location=d,this.config=w,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.lastLocationChangeInfo=null,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Eo.xQ,this.errorHandler=Fg,this.malformedUriErrorHandler=J_,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Xw,afterPreactivation:Xw},this.urlHandlingStrategy=new DT,this.routeReuseStrategy=new Qw,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=h.get(y.h0i),this.console=h.get(y.c2e);const A=h.get(y.R0b);this.isNgZoneEnabled=A instanceof y.R0b&&y.R0b.isInAngularZone(),this.resetConfig(w),this.currentUrlTree=new Ca(new it([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Jw(g,_,D=>this.triggerEvent(new E_(D)),D=>this.triggerEvent(new JD(D))),this.routerState=Dw(this.currentUrlTree,this.rootComponentType),this.transitions=new Gr({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var s;return null===(s=this.location.getState())||void 0===s?void 0:s.\u0275routerPageId}setupNavigations(s){const o=this.events;return s.pipe(Sr(l=>0!==l.id),(0,Ke.U)(l=>Object.assign(Object.assign({},l),{extractedUrl:this.urlHandlingStrategy.extract(l.rawUrl)})),Jt(l=>{let d=!1,h=!1;return(0,$e.of)(l).pipe((0,qt.b)(g=>{this.currentNavigation={id:g.id,initialUrl:g.currentRawUrl,extractedUrl:g.extractedUrl,trigger:g.source,extras:g.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Jt(g=>{const _=!this.navigated||g.extractedUrl.toString()!==this.browserUrlTree.toString(),w=("reload"===this.onSameUrlNavigation||_)&&this.urlHandlingStrategy.shouldProcessUrl(g.rawUrl);if(Lg(g.source)&&(this.browserUrlTree=g.rawUrl),w)return(0,$e.of)(g).pipe(Jt(C=>{const I=this.transitions.getValue();return o.next(new Ch(C.id,this.serializeUrl(C.extractedUrl),C.source,C.restoredState)),I!==this.transitions.getValue()?vi.E:Promise.resolve(C)}),function(i,r,s,o){return Jt(l=>function(i,r,s,o,l){return new Cc(i,r,s,o,l).apply()}(i,r,s,l.extractedUrl,o).pipe((0,Ke.U)(d=>Object.assign(Object.assign({},l),{urlAfterRedirects:d}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,qt.b)(C=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:C.urlAfterRedirects})}),function(i,r,s,o,l){return(0,Qn.zg)(d=>function(i,r,s,o,l="emptyOnly",d="legacy"){try{const h=new z_(i,r,s,o,l,d).recognize();return null===h?mT(new $w):(0,$e.of)(h)}catch(h){return mT(h)}}(i,r,d.urlAfterRedirects,s(d.urlAfterRedirects),o,l).pipe((0,Ke.U)(h=>Object.assign(Object.assign({},d),{targetSnapshot:h}))))}(this.rootComponentType,this.config,C=>this.serializeUrl(C),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,qt.b)(C=>{"eager"===this.urlUpdateStrategy&&(C.extras.skipLocationChange||this.setBrowserUrl(C.urlAfterRedirects,C),this.browserUrlTree=C.urlAfterRedirects);const I=new v_(C.id,this.serializeUrl(C.extractedUrl),this.serializeUrl(C.urlAfterRedirects),C.targetSnapshot);o.next(I)}));if(_&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:I,extractedUrl:A,source:D,restoredState:P,extras:L}=g,ae=new Ch(I,this.serializeUrl(A),D,P);o.next(ae);const Ie=Dw(A,this.rootComponentType).snapshot;return(0,$e.of)(Object.assign(Object.assign({},g),{targetSnapshot:Ie,urlAfterRedirects:A,extras:Object.assign(Object.assign({},L),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=g.rawUrl,this.browserUrlTree=g.urlAfterRedirects,g.resolve(null),vi.E}),Y_(g=>{const{targetSnapshot:_,id:w,extractedUrl:C,rawUrl:I,extras:{skipLocationChange:A,replaceUrl:D}}=g;return this.hooks.beforePreactivation(_,{navigationId:w,appliedUrlTree:C,rawUrlTree:I,skipLocationChange:!!A,replaceUrl:!!D})}),(0,qt.b)(g=>{const _=new Ns(g.id,this.serializeUrl(g.extractedUrl),this.serializeUrl(g.urlAfterRedirects),g.targetSnapshot);this.triggerEvent(_)}),(0,Ke.U)(g=>Object.assign(Object.assign({},g),{guards:Vw(g.targetSnapshot,g.currentSnapshot,this.rootContexts)})),function(i,r){return(0,Qn.zg)(s=>{const{targetSnapshot:o,currentSnapshot:l,guards:{canActivateChecks:d,canDeactivateChecks:h}}=s;return 0===h.length&&0===d.length?(0,$e.of)(Object.assign(Object.assign({},s),{guardsResult:!0})):function(i,r,s,o){return(0,Ht.D)(i).pipe((0,Qn.zg)(l=>function(i,r,s,o,l){const d=r&&r.routeConfig?r.routeConfig.canDeactivate:null;if(!d||0===d.length)return(0,$e.of)(!0);const h=d.map(g=>{const _=Pg(g,r,l);let w;if(function(i){return i&&Tu(i.canDeactivate)}(_))w=Ms(_.canDeactivate(i,r,s,o));else{if(!Tu(_))throw new Error("Invalid CanDeactivate guard");w=Ms(_(i,r,s,o))}return w.pipe(Ft())});return(0,$e.of)(h).pipe(Sg())}(l.component,l.route,s,r,o)),Ft(l=>!0!==l,!0))}(h,o,l,i).pipe((0,Qn.zg)(g=>g&&function(i){return"boolean"==typeof i}(g)?function(i,r,s,o){return(0,Ht.D)(r).pipe(wa(l=>vu(function(i,r){return null!==i&&r&&r(new Rs(i)),(0,$e.of)(!0)}(l.route.parent,o),function(i,r){return null!==i&&r&&r(new C_(i)),(0,$e.of)(!0)}(l.route,o),function(i,r,s){const o=r[r.length-1],d=r.slice(0,r.length-1).reverse().map(h=>function(i){const r=i.routeConfig?i.routeConfig.canActivateChild:null;return r&&0!==r.length?{node:i,guards:r}:null}(h)).filter(h=>null!==h).map(h=>ug(()=>{const g=h.guards.map(_=>{const w=Pg(_,h.node,s);let C;if(function(i){return i&&Tu(i.canActivateChild)}(w))C=Ms(w.canActivateChild(o,i));else{if(!Tu(w))throw new Error("Invalid CanActivateChild guard");C=Ms(w(o,i))}return C.pipe(Ft())});return(0,$e.of)(g).pipe(Sg())}));return(0,$e.of)(d).pipe(Sg())}(i,l.path,s),function(i,r,s){const o=r.routeConfig?r.routeConfig.canActivate:null;if(!o||0===o.length)return(0,$e.of)(!0);const l=o.map(d=>ug(()=>{const h=Pg(d,r,s);let g;if(function(i){return i&&Tu(i.canActivate)}(h))g=Ms(h.canActivate(r,i));else{if(!Tu(h))throw new Error("Invalid CanActivate guard");g=Ms(h(r,i))}return g.pipe(Ft())}));return(0,$e.of)(l).pipe(Sg())}(i,l.route,s))),Ft(l=>!0!==l,!0))}(o,d,i,r):(0,$e.of)(g)),(0,Ke.U)(g=>Object.assign(Object.assign({},s),{guardsResult:g})))})}(this.ngModule.injector,g=>this.triggerEvent(g)),(0,qt.b)(g=>{if(_c(g.guardsResult)){const w=Ih(`Redirecting to "${this.serializeUrl(g.guardsResult)}"`);throw w.url=g.guardsResult,w}const _=new Ci(g.id,this.serializeUrl(g.extractedUrl),this.serializeUrl(g.urlAfterRedirects),g.targetSnapshot,!!g.guardsResult);this.triggerEvent(_)}),Sr(g=>!!g.guardsResult||(this.restoreHistory(g),this.cancelNavigationTransition(g,""),!1)),Y_(g=>{if(g.guards.canActivateChecks.length)return(0,$e.of)(g).pipe((0,qt.b)(_=>{const w=new Mx(_.id,this.serializeUrl(_.extractedUrl),this.serializeUrl(_.urlAfterRedirects),_.targetSnapshot);this.triggerEvent(w)}),Jt(_=>{let w=!1;return(0,$e.of)(_).pipe(function(i,r){return(0,Qn.zg)(s=>{const{targetSnapshot:o,guards:{canActivateChecks:l}}=s;if(!l.length)return(0,$e.of)(s);let d=0;return(0,Ht.D)(l).pipe(wa(h=>function(i,r,s,o){return function(i,r,s,o){const l=Object.keys(i);if(0===l.length)return(0,$e.of)({});const d={};return(0,Ht.D)(l).pipe((0,Qn.zg)(h=>function(i,r,s,o){const l=Pg(i,r,o);return Ms(l.resolve?l.resolve(r,s):l(r,s))}(i[h],r,s,o).pipe((0,qt.b)(g=>{d[h]=g}))),v(1),(0,Qn.zg)(()=>Object.keys(d).length===l.length?(0,$e.of)(d):vi.E))}(i._resolve,i,r,o).pipe((0,Ke.U)(d=>(i._resolvedData=d,i.data=Object.assign(Object.assign({},i.data),Aw(i,s).resolve),null)))}(h.route,o,i,r)),(0,qt.b)(()=>d++),v(1),(0,Qn.zg)(h=>d===l.length?(0,$e.of)(s):vi.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,qt.b)({next:()=>w=!0,complete:()=>{w||(this.restoreHistory(_),this.cancelNavigationTransition(_,"At least one route resolver didn't emit any value."))}}))}),(0,qt.b)(_=>{const w=new Ox(_.id,this.serializeUrl(_.extractedUrl),this.serializeUrl(_.urlAfterRedirects),_.targetSnapshot);this.triggerEvent(w)}))}),Y_(g=>{const{targetSnapshot:_,id:w,extractedUrl:C,rawUrl:I,extras:{skipLocationChange:A,replaceUrl:D}}=g;return this.hooks.afterPreactivation(_,{navigationId:w,appliedUrlTree:C,rawUrlTree:I,skipLocationChange:!!A,replaceUrl:!!D})}),(0,Ke.U)(g=>{const _=function(i,r,s){const o=Sh(i,r._root,s?s._root:void 0);return new bi(o,r)}(this.routeReuseStrategy,g.targetSnapshot,g.currentRouterState);return Object.assign(Object.assign({},g),{targetRouterState:_})}),(0,qt.b)(g=>{this.currentUrlTree=g.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,g.rawUrl),this.routerState=g.targetRouterState,"deferred"===this.urlUpdateStrategy&&(g.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,g),this.browserUrlTree=g.urlAfterRedirects)}),((i,r,s)=>(0,Ke.U)(o=>(new Ow(r,o.targetRouterState,o.currentRouterState,s).activate(i),o)))(this.rootContexts,this.routeReuseStrategy,g=>this.triggerEvent(g)),(0,qt.b)({next(){d=!0},complete(){d=!0}}),function(i){return r=>r.lift(new hg(i))}(()=>{if(!d&&!h){const g=`Navigation ID ${l.id} is not equal to the current navigation id ${this.navigationId}`;"replace"===this.canceledNavigationResolution?(this.restoreHistory(l),this.cancelNavigationTransition(l,g)):this.cancelNavigationTransition(l,g)}this.currentNavigation=null}),wi(g=>{if(h=!0,function(i){return i&&i[gg]}(g)){const _=_c(g.url);_||(this.navigated=!0,this.restoreHistory(l,!0));const w=new dc(l.id,this.serializeUrl(l.extractedUrl),g.message);o.next(w),_?setTimeout(()=>{const C=this.urlHandlingStrategy.merge(g.url,this.rawUrlTree),I={skipLocationChange:l.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Lg(l.source)};this.scheduleNavigation(C,"imperative",null,I,{resolve:l.resolve,reject:l.reject,promise:l.promise})},0):l.resolve(!1)}else{this.restoreHistory(l,!0);const _=new pg(l.id,this.serializeUrl(l.extractedUrl),g);o.next(_);try{l.resolve(this.errorHandler(g))}catch(w){l.reject(w)}}return vi.E}))}))}resetRootComponentType(s){this.rootComponentType=s,this.routerState.root.component=this.rootComponentType}getTransition(){const s=this.transitions.value;return s.urlAfterRedirects=this.browserUrlTree,s}setTransition(s){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),s))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(s=>{const o=this.extractLocationChangeInfoFromEvent(s);this.shouldScheduleNavigation(this.lastLocationChangeInfo,o)&&setTimeout(()=>{const{source:l,state:d,urlTree:h}=o,g={replaceUrl:!0};if(d){const _=Object.assign({},d);delete _.navigationId,delete _.\u0275routerPageId,0!==Object.keys(_).length&&(g.state=_)}this.scheduleNavigation(h,l,d,g)},0),this.lastLocationChangeInfo=o}))}extractLocationChangeInfoFromEvent(s){var o;return{source:"popstate"===s.type?"popstate":"hashchange",urlTree:this.parseUrl(s.url),state:(null===(o=s.state)||void 0===o?void 0:o.navigationId)?s.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(s,o){if(!s)return!0;const l=o.urlTree.toString()===s.urlTree.toString();return o.transitionId!==s.transitionId||!l||!("hashchange"===o.source&&"popstate"===s.source||"popstate"===o.source&&"hashchange"===s.source)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(s){this.events.next(s)}resetConfig(s){lT(s),this.config=s.map($_),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(s,o={}){const{relativeTo:l,queryParams:d,fragment:h,queryParamsHandling:g,preserveFragment:_}=o,w=l||this.routerState.root,C=_?this.currentUrlTree.fragment:h;let I=null;switch(g){case"merge":I=Object.assign(Object.assign({},this.currentUrlTree.queryParams),d);break;case"preserve":I=this.currentUrlTree.queryParams;break;default:I=d||null}return null!==I&&(I=this.removeEmptyProps(I)),function(i,r,s,o,l){if(0===s.length)return Nh(r.root,r.root,r,o,l);const d=function(i){if("string"==typeof i[0]&&1===i.length&&"/"===i[0])return new bg(!0,0,i);let r=0,s=!1;const o=i.reduce((l,d,h)=>{if("object"==typeof d&&null!=d){if(d.outlets){const g={};return Jn(d.outlets,(_,w)=>{g[w]="string"==typeof _?_.split("/"):_}),[...l,{outlets:g}]}if(d.segmentPath)return[...l,d.segmentPath]}return"string"!=typeof d?[...l,d]:0===h?(d.split("/").forEach((g,_)=>{0==_&&"."===g||(0==_&&""===g?s=!0:".."===g?r++:""!=g&&l.push(g))}),l):[...l,d]},[]);return new bg(s,r,o)}(s);if(d.toRoot())return Nh(r.root,new it([],{}),r,o,l);const h=function(i,r,s){if(i.isAbsolute)return new Dg(r.root,!0,0);if(-1===s.snapshot._lastPathIndex){const d=s.snapshot._urlSegment;return new Dg(d,d===r.root,0)}const o=mc(i.commands[0])?0:1;return function(i,r,s){let o=i,l=r,d=s;for(;d>l;){if(d-=l,o=o.parent,!o)throw new Error("Invalid number of '../'");l=o.segments.length}return new Dg(o,!1,l-d)}(s.snapshot._urlSegment,s.snapshot._lastPathIndex+o,i.numberOfDoubleDots)}(d,r,i),g=h.processChildren?yc(h.segmentGroup,h.index,d.commands):Rh(h.segmentGroup,h.index,d.commands);return Nh(h.segmentGroup,g,r,o,l)}(w,this.currentUrlTree,s,I,null!=C?C:null)}navigateByUrl(s,o={skipLocationChange:!1}){const l=_c(s)?s:this.parseUrl(s),d=this.urlHandlingStrategy.merge(l,this.rawUrlTree);return this.scheduleNavigation(d,"imperative",null,o)}navigate(s,o={skipLocationChange:!1}){return function(i){for(let r=0;r<i.length;r++){const s=i[r];if(null==s)throw new Error(`The requested path contains ${s} segment at index ${r}`)}}(s),this.navigateByUrl(this.createUrlTree(s,o),o)}serializeUrl(s){return this.urlSerializer.serialize(s)}parseUrl(s){let o;try{o=this.urlSerializer.parse(s)}catch(l){o=this.malformedUriErrorHandler(l,this.urlSerializer,s)}return o}isActive(s,o){let l;if(l=!0===o?Object.assign({},X_):!1===o?Object.assign({},ev):o,_c(s))return D_(this.currentUrlTree,s,l);const d=this.parseUrl(s);return D_(this.currentUrlTree,d,l)}removeEmptyProps(s){return Object.keys(s).reduce((o,l)=>{const d=s[l];return null!=d&&(o[l]=d),o},{})}processNavigations(){this.navigations.subscribe(s=>{this.navigated=!0,this.lastSuccessfulId=s.id,this.currentPageId=s.targetPageId,this.events.next(new bo(s.id,this.serializeUrl(s.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,s.resolve(!0)},s=>{this.console.warn("Unhandled Navigation Error: ")})}scheduleNavigation(s,o,l,d,h){var g,_;if(this.disposed)return Promise.resolve(!1);const w=this.getTransition(),C=Lg(o)&&w&&!Lg(w.source),D=(this.lastSuccessfulId===w.id||this.currentNavigation?w.rawUrl:w.urlAfterRedirects).toString()===s.toString();if(C&&D)return Promise.resolve(!0);let P,L,ae;h?(P=h.resolve,L=h.reject,ae=h.promise):ae=new Promise((Be,lt)=>{P=Be,L=lt});const Ie=++this.navigationId;let Se;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(l=this.location.getState()),Se=l&&l.\u0275routerPageId?l.\u0275routerPageId:d.replaceUrl||d.skipLocationChange?null!==(g=this.browserPageId)&&void 0!==g?g:0:(null!==(_=this.browserPageId)&&void 0!==_?_:0)+1):Se=0,this.setTransition({id:Ie,targetPageId:Se,source:o,restoredState:l,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:s,extras:d,resolve:P,reject:L,promise:ae,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),ae.catch(Be=>Promise.reject(Be))}setBrowserUrl(s,o){const l=this.urlSerializer.serialize(s),d=Object.assign(Object.assign({},o.extras.state),this.generateNgRouterState(o.id,o.targetPageId));this.location.isCurrentPathEqualTo(l)||o.extras.replaceUrl?this.location.replaceState(l,"",d):this.location.go(l,"",d)}restoreHistory(s,o=!1){var l,d;if("computed"===this.canceledNavigationResolution){const h=this.currentPageId-s.targetPageId;"popstate"!==s.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(l=this.currentNavigation)||void 0===l?void 0:l.finalUrl)||0===h?this.currentUrlTree===(null===(d=this.currentNavigation)||void 0===d?void 0:d.finalUrl)&&0===h&&(this.resetState(s),this.browserUrlTree=s.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(h)}else"replace"===this.canceledNavigationResolution&&(o&&this.resetState(s),this.resetUrlToCurrentUrlTree())}resetState(s){this.routerState=s.currentRouterState,this.currentUrlTree=s.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,s.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(s,o){const l=new dc(s.id,this.serializeUrl(s.extractedUrl),o);this.triggerEvent(l),s.resolve(!1)}generateNgRouterState(s,o){return"computed"===this.canceledNavigationResolution?{navigationId:s,\u0275routerPageId:o}:{navigationId:s}}}return i.\u0275fac=function(s){return new(s||i)(y.LFG(y.DyG),y.LFG(x_),y.LFG(Ta),y.LFG(be),y.LFG(y.zs3),y.LFG(y.v3s),y.LFG(y.Sil),y.LFG(void 0))},i.\u0275prov=y.Yz7({token:i,factory:i.\u0275fac}),i})();function Lg(i){return"imperative"!==i}let bc=(()=>{class i{constructor(s,o,l){this.router=s,this.route=o,this.locationStrategy=l,this.commands=[],this.onChanges=new Eo.xQ,this.subscription=s.events.subscribe(d=>{d instanceof bo&&this.updateTargetUrlAndHref()})}set routerLink(s){this.commands=null!=s?Array.isArray(s)?s:[s]:[]}ngOnChanges(s){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(s,o,l,d,h){if(0!==s||o||l||d||h||"string"==typeof this.target&&"_self"!=this.target)return!0;const g={skipLocationChange:Dc(this.skipLocationChange),replaceUrl:Dc(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,g),!1}updateTargetUrlAndHref(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:Dc(this.preserveFragment)})}}return i.\u0275fac=function(s){return new(s||i)(y.Y36(pr),y.Y36(gc),y.Y36(q))},i.\u0275dir=y.lG2({type:i,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(s,o){1&s&&y.NdJ("click",function(d){return o.onClick(d.button,d.ctrlKey,d.shiftKey,d.altKey,d.metaKey)}),2&s&&(y.Ikx("href",o.href,y.LSH),y.uIk("target",o.target))},inputs:{routerLink:"routerLink",target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo"},features:[y.TTD]}),i})();function Dc(i){return""===i||!!i}let Vg=(()=>{class i{constructor(s,o,l,d,h){this.parentContexts=s,this.location=o,this.resolver=l,this.changeDetector=h,this.activated=null,this._activatedRoute=null,this.activateEvents=new y.vpe,this.deactivateEvents=new y.vpe,this.name=d||rt,s.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const s=this.parentContexts.getContext(this.name);s&&s.route&&(s.attachRef?this.attach(s.attachRef,s.route):this.activateWith(s.route,s.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const s=this.activated;return this.activated=null,this._activatedRoute=null,s}attach(s,o){this.activated=s,this._activatedRoute=o,this.location.insert(s.hostView)}deactivate(){if(this.activated){const s=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(s)}}activateWith(s,o){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=s;const h=(o=o||this.resolver).resolveComponentFactory(s._futureSnapshot.routeConfig.component),g=this.parentContexts.getOrCreateContext(this.name).children,_=new nC(s,g,this.location.injector);this.activated=this.location.createComponent(h,this.location.length,_),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return i.\u0275fac=function(s){return new(s||i)(y.Y36(Ta),y.Y36(y.s_b),y.Y36(y._Vd),y.$8M("name"),y.Y36(y.sBO))},i.\u0275dir=y.lG2({type:i,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),i})();class nC{constructor(r,s,o){this.route=r,this.childContexts=s,this.parent=o}get(r,s){return r===gc?this.route:r===Ta?this.childContexts:this.parent.get(r,s)}}class tv{}class Lh{preload(r,s){return(0,$e.of)(null)}}let rC=(()=>{class i{constructor(s,o,l,d,h){this.router=s,this.injector=d,this.preloadingStrategy=h,this.loader=new Jw(o,l,w=>s.triggerEvent(new E_(w)),w=>s.triggerEvent(new JD(w)))}setUpPreloading(){this.subscription=this.router.events.pipe(Sr(s=>s instanceof bo),wa(()=>this.preload())).subscribe(()=>{})}preload(){const s=this.injector.get(y.h0i);return this.processRoutes(s,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(s,o){const l=[];for(const d of o)if(d.loadChildren&&!d.canLoad&&d._loadedConfig){const h=d._loadedConfig;l.push(this.processRoutes(h.module,h.routes))}else d.loadChildren&&!d.canLoad?l.push(this.preloadConfig(s,d)):d.children&&l.push(this.processRoutes(s,d.children));return(0,Ht.D)(l).pipe((0,va.J)(),(0,Ke.U)(d=>{}))}preloadConfig(s,o){return this.preloadingStrategy.preload(o,()=>(o._loadedConfig?(0,$e.of)(o._loadedConfig):this.loader.load(s.injector,o)).pipe((0,Qn.zg)(d=>(o._loadedConfig=d,this.processRoutes(d.module,d.routes)))))}}return i.\u0275fac=function(s){return new(s||i)(y.LFG(pr),y.LFG(y.v3s),y.LFG(y.Sil),y.LFG(y.zs3),y.LFG(tv))},i.\u0275prov=y.Yz7({token:i,factory:i.\u0275fac}),i})(),nv=(()=>{class i{constructor(s,o,l={}){this.router=s,this.viewportScroller=o,this.options=l,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},l.scrollPositionRestoration=l.scrollPositionRestoration||"disabled",l.anchorScrolling=l.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(s=>{s instanceof Ch?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=s.navigationTrigger,this.restoredId=s.restoredState?s.restoredState.navigationId:0):s instanceof bo&&(this.lastId=s.id,this.scheduleScrollEvent(s,this.router.parseUrl(s.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(s=>{s instanceof I_&&(s.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(s.position):s.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(s.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(s,o){this.router.triggerEvent(new I_(s,"popstate"===this.lastSource?this.store[this.restoredId]:null,o))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return i.\u0275fac=function(s){return new(s||i)(y.LFG(pr),y.LFG(wl),y.LFG(void 0))},i.\u0275prov=y.Yz7({token:i,factory:i.\u0275fac}),i})();const Di=new y.OlP("ROUTER_CONFIGURATION"),rv=new y.OlP("ROUTER_FORROOT_GUARD"),Uh=[be,{provide:x_,useClass:N_},{provide:pr,useFactory:function(i,r,s,o,l,d,h,g={},_,w){const C=new pr(null,i,r,s,o,l,d,mw(h));return _&&(C.urlHandlingStrategy=_),w&&(C.routeReuseStrategy=w),function(i,r){i.errorHandler&&(r.errorHandler=i.errorHandler),i.malformedUriErrorHandler&&(r.malformedUriErrorHandler=i.malformedUriErrorHandler),i.onSameUrlNavigation&&(r.onSameUrlNavigation=i.onSameUrlNavigation),i.paramsInheritanceStrategy&&(r.paramsInheritanceStrategy=i.paramsInheritanceStrategy),i.relativeLinkResolution&&(r.relativeLinkResolution=i.relativeLinkResolution),i.urlUpdateStrategy&&(r.urlUpdateStrategy=i.urlUpdateStrategy)}(g,C),g.enableTracing&&C.events.subscribe(I=>{var A,D;null===(A=console.group)||void 0===A||A.call(console,`Router Event: ${I.constructor.name}`),console.log(I.toString()),console.log(I),null===(D=console.groupEnd)||void 0===D||D.call(console)}),C},deps:[x_,Ta,be,y.zs3,y.v3s,y.Sil,Q_,Di,[class{},new y.FiY],[class{},new y.FiY]]},Ta,{provide:gc,useFactory:function(i){return i.routerState.root},deps:[pr]},{provide:y.v3s,useClass:y.EAV},rC,Lh,class{preload(r,s){return s().pipe(wi(()=>(0,$e.of)(null)))}},{provide:Di,useValue:{enableTracing:!1}}];function AT(){return new y.PXZ("Router",pr)}let Ug=(()=>{class i{constructor(s,o){}static forRoot(s,o){return{ngModule:i,providers:[Uh,oC(s),{provide:rv,useFactory:sC,deps:[[pr,new y.FiY,new y.tp0]]},{provide:Di,useValue:o||{}},{provide:q,useFactory:ST,deps:[oe,[new y.tBr(de),new y.FiY],Di]},{provide:nv,useFactory:iC,deps:[pr,wl,Di]},{provide:tv,useExisting:o&&o.preloadingStrategy?o.preloadingStrategy:Lh},{provide:y.PXZ,multi:!0,useFactory:AT},[Bg,{provide:y.ip1,multi:!0,useFactory:Tc,deps:[Bg]},{provide:uC,useFactory:aC,deps:[Bg]},{provide:y.tb,multi:!0,useExisting:uC}]]}}static forChild(s){return{ngModule:i,providers:[oC(s)]}}}return i.\u0275fac=function(s){return new(s||i)(y.LFG(rv,8),y.LFG(pr,8))},i.\u0275mod=y.oAB({type:i}),i.\u0275inj=y.cJS({}),i})();function iC(i,r,s){return s.scrollOffset&&r.setOffset(s.scrollOffset),new nv(i,r,s)}function ST(i,r,s={}){return s.useHash?new Ce(i,r):new _e(i,r)}function sC(i){return"guarded"}function oC(i){return[{provide:y.deG,multi:!0,useValue:i},{provide:Q_,multi:!0,useValue:i}]}let Bg=(()=>{class i{constructor(s){this.injector=s,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new Eo.xQ}appInitializer(){return this.injector.get(S,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let o=null;const l=new Promise(g=>o=g),d=this.injector.get(pr),h=this.injector.get(Di);return"disabled"===h.initialNavigation?(d.setUpLocationChangeListener(),o(!0)):"enabled"===h.initialNavigation||"enabledBlocking"===h.initialNavigation?(d.hooks.afterPreactivation=()=>this.initNavigation?(0,$e.of)(null):(this.initNavigation=!0,o(!0),this.resultOfPreactivationDone),d.initialNavigation()):o(!0),l})}bootstrapListener(s){const o=this.injector.get(Di),l=this.injector.get(rC),d=this.injector.get(nv),h=this.injector.get(pr),g=this.injector.get(y.z2F);s===g.components[0]&&(("enabledNonBlocking"===o.initialNavigation||void 0===o.initialNavigation)&&h.initialNavigation(),l.setUpPreloading(),d.init(),h.resetRootComponentType(g.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return i.\u0275fac=function(s){return new(s||i)(y.LFG(y.zs3))},i.\u0275prov=y.Yz7({token:i,factory:i.\u0275fac}),i})();function Tc(i){return i.appInitializer.bind(i)}function aC(i){return i.bootstrapListener.bind(i)}const uC=new y.OlP("Router Initializer");let MT=(()=>{class i{}return i.\u0275fac=function(s){return new(s||i)},i.\u0275mod=y.oAB({type:i}),i.\u0275inj=y.cJS({imports:[Ug]}),i})(),OT=(()=>{class i{constructor(){}}return i.\u0275fac=function(s){return new(s||i)},i.\u0275cmp=y.Xpm({type:i,selectors:[["app-root"]],decls:1,vars:0,template:function(s,o){1&s&&y._UZ(0,"router-outlet")},directives:[Vg],styles:[""]}),i})(),PT=(()=>{class i{constructor(){}ngOnInit(){}}return i.\u0275fac=function(s){return new(s||i)},i.\u0275cmp=y.Xpm({type:i,selectors:[["app-ejercicio2"]],decls:7,vars:0,consts:[["routerLink","/ej2/login",1,"btnlink"],["routerLink","/home",1,"btnlink"]],template:function(s,o){1&s&&(y.TgZ(0,"p"),y._uU(1,"ejercicio2"),y.qZA(),y.TgZ(2,"a",0),y._uU(3,"Login"),y.qZA(),y._UZ(4,"br"),y.TgZ(5,"a",1),y._uU(6,"Back home"),y.qZA())},directives:[bc],styles:[""]}),i})(),kT=(()=>{class i{constructor(){this.title="ejercicio-one",this.edadUno="",this.edadDos="",this.prom="",this.suma=""}ngOnInit(){}limpiar(){this.edadUno="",this.edadDos="",this.prom="",this.suma=""}calcular(){this.suma=(parseInt(this.edadUno)+parseInt(this.edadDos)).toString(),this.prom=(parseInt(this.suma)/2).toString()}}return i.\u0275fac=function(s){return new(s||i)},i.\u0275cmp=y.Xpm({type:i,selectors:[["app-ejercicio1"]],decls:25,vars:4,consts:[["for","edadUno"],["type","text",3,"ngModel","ngModelChange"],["for","edadDos"],["type","button","value","Calcular",3,"click"],["type","button","value","Limpiar",3,"click"],["routerLink","/home",1,"btnlink"],["for","prom"],["for","sum"]],template:function(s,o){1&s&&(y.TgZ(0,"label",0),y._uU(1,"Edad 1"),y.qZA(),y._UZ(2,"br"),y.TgZ(3,"input",1),y.NdJ("ngModelChange",function(d){return o.edadUno=d}),y.qZA(),y._UZ(4,"br"),y.TgZ(5,"label",2),y._uU(6,"Edad 2"),y.qZA(),y._UZ(7,"br"),y.TgZ(8,"input",1),y.NdJ("ngModelChange",function(d){return o.edadDos=d}),y.qZA(),y._UZ(9,"br"),y._UZ(10,"br"),y.TgZ(11,"div"),y.TgZ(12,"input",3),y.NdJ("click",function(){return o.calcular()}),y.qZA(),y.TgZ(13,"input",4),y.NdJ("click",function(){return o.limpiar()}),y.qZA(),y.TgZ(14,"a",5),y._uU(15,"Back home"),y.qZA(),y.qZA(),y._UZ(16,"br"),y.TgZ(17,"div"),y.TgZ(18,"label",6),y._uU(19,"Promedio:"),y.qZA(),y.TgZ(20,"input",1),y.NdJ("ngModelChange",function(d){return o.prom=d}),y.qZA(),y._UZ(21,"br"),y.TgZ(22,"label",7),y._uU(23,"Suma:"),y.qZA(),y.TgZ(24,"input",1),y.NdJ("ngModelChange",function(d){return o.suma=d}),y.qZA(),y.qZA()),2&s&&(y.xp6(3),y.Q6J("ngModel",o.edadUno),y.xp6(5),y.Q6J("ngModel",o.edadDos),y.xp6(12),y.Q6J("ngModel",o.prom),y.xp6(4),y.Q6J("ngModel",o.suma))},directives:[Bi,hr,Jl,bc],styles:[""]}),i})();const Yx=function(){return["/ej1"]};let FT=(()=>{class i{constructor(){}ngOnInit(){}}return i.\u0275fac=function(s){return new(s||i)},i.\u0275cmp=y.Xpm({type:i,selectors:[["app-home"]],decls:13,vars:2,consts:[[3,"routerLink"],["routerLink","/ej2"],["routerLink","/salonDeJuegos/home"]],template:function(s,o){1&s&&(y.TgZ(0,"div"),y._uU(1," Ejercicios:"),y._UZ(2,"br"),y.TgZ(3,"ul"),y.TgZ(4,"li"),y.TgZ(5,"a",0),y._uU(6,"1"),y.qZA(),y.qZA(),y.TgZ(7,"li"),y.TgZ(8,"a",1),y._uU(9,"2"),y.qZA(),y.qZA(),y.TgZ(10,"li"),y.TgZ(11,"a",2),y._uU(12,"TP"),y.qZA(),y.qZA(),y.qZA(),y.qZA()),2&s&&(y.xp6(5),y.Q6J("routerLink",y.DdM(1,Yx)))},directives:[bc],styles:[""]}),i})();class lC{constructor(r,s){this.nombre=r,this.clave=s}}var xt=x(3637),Xn=x(9126);function cC(){return i=>i.lift(new So)}class So{call(r,s){return s.subscribe(new sv(r))}}class sv extends si.L{constructor(r){super(r),this.hasPrev=!1}_next(r){let s;this.hasPrev?s=[this.prev,r]:this.hasPrev=!0,this.prev=r,s&&this.destination.next(s)}}class Qx{constructor(r,s){this.compare=r,this.keySelector=s}call(r,s){return s.subscribe(new LT(r,this.compare,this.keySelector))}}class LT extends si.L{constructor(r,s,o){super(r),this.keySelector=o,this.hasKey=!1,"function"==typeof s&&(this.compare=s)}compare(r,s){return r===s}_next(r){let s;try{const{keySelector:l}=this;s=l?l(r):r}catch(l){return this.destination.error(l)}let o=!1;if(this.hasKey)try{const{compare:l}=this;o=l(this.key,s)}catch(l){return this.destination.error(l)}else this.hasKey=!0;o||(this.key=s,this.destination.next(r))}}var Ac=x(309),Ps=x(9958),dC=(x(9083),x(4486)),ue=x(8239),av=x(5452),hC=x(6034),Ji=x(300),wt=x(4685),jg=function(i,r){return(jg=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,o){s.__proto__=o}||function(s,o){for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(s[l]=o[l])})(i,r)};function uv(i){var r="function"==typeof Symbol&&Symbol.iterator,s=r&&i[r],o=0;if(s)return s.call(i);if(i&&"number"==typeof i.length)return{next:function(){return i&&o>=i.length&&(i=void 0),{value:i&&i[o++],done:!i}}};throw new TypeError(r?"Object is not iterable.":"Symbol.iterator is not defined.")}var Ne,pC="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},lv=lv||{},Je=pC||self;function Hg(){}function $g(i){var r=typeof i;return"array"==(r="object"!=r?r:i?Array.isArray(i)?"array":r:"null")||"object"==r&&"number"==typeof i.length}function Gg(i){var r=typeof i;return"object"==r&&null!=i||"function"==r}var cv="closure_uid_"+(1e9*Math.random()>>>0),UT=0;function Jx(i,r,s){return i.call.apply(i.bind,arguments)}function Xx(i,r,s){if(!i)throw Error();if(2<arguments.length){var o=Array.prototype.slice.call(arguments,2);return function(){var l=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(l,o),i.apply(r,l)}}return function(){return i.apply(r,arguments)}}function xn(i,r,s){return(xn=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Jx:Xx).apply(null,arguments)}function qg(i,r){var s=Array.prototype.slice.call(arguments,1);return function(){var o=s.slice();return o.push.apply(o,arguments),i.apply(this,o)}}function Fn(i,r){function s(){}s.prototype=r.prototype,i.Z=r.prototype,i.prototype=new s,i.prototype.constructor=i,i.Vb=function(o,l,d){for(var h=Array(arguments.length-2),g=2;g<arguments.length;g++)h[g-2]=arguments[g];return r.prototype[l].apply(o,h)}}function xo(){this.s=this.s,this.o=this.o}var Xi={};xo.prototype.s=!1,xo.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var i=function(i){return Object.prototype.hasOwnProperty.call(i,cv)&&i[cv]||(i[cv]=++UT)}(this);delete Xi[i]}},xo.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var BT=Array.prototype.indexOf?function(i,r){return Array.prototype.indexOf.call(i,r,void 0)}:function(i,r){if("string"==typeof i)return"string"!=typeof r||1!=r.length?-1:i.indexOf(r,0);for(var s=0;s<i.length;s++)if(s in i&&i[s]===r)return s;return-1},jT=Array.prototype.forEach?function(i,r,s){Array.prototype.forEach.call(i,r,s)}:function(i,r,s){for(var o=i.length,l="string"==typeof i?i.split(""):i,d=0;d<o;d++)d in l&&r.call(s,l[d],d,i)};function dv(i){return Array.prototype.concat.apply([],arguments)}function Wg(i){var r=i.length;if(0<r){for(var s=Array(r),o=0;o<r;o++)s[o]=i[o];return s}return[]}function jh(i){return/^[\s\xa0]*$/.test(i)}var er,mC=String.prototype.trim?function(i){return i.trim()}:function(i){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(i)[1]};function zr(i,r){return-1!=i.indexOf(r)}function zg(i,r){return i<r?-1:i>r?1:0}e:{var yC=Je.navigator;if(yC){var Zg=yC.userAgent;if(Zg){er=Zg;break e}}er=""}function hv(i,r,s){for(var o in i)r.call(s,i[o],o,i)}function _C(i){var r={};for(var s in i)r[s]=i[s];return r}var vC="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function EC(i,r){for(var s,o,l=1;l<arguments.length;l++){for(s in o=arguments[l])i[s]=o[s];for(var d=0;d<vC.length;d++)s=vC[d],Object.prototype.hasOwnProperty.call(o,s)&&(i[s]=o[s])}}function fv(i){return fv[" "](i),i}fv[" "]=Hg;var xc,i,Kg=zr(er,"Opera"),es=zr(er,"Trident")||zr(er,"MSIE"),pv=zr(er,"Edge"),li=pv||es,Sc=zr(er,"Gecko")&&!(zr(er.toLowerCase(),"webkit")&&!zr(er,"Edge"))&&!(zr(er,"Trident")||zr(er,"MSIE"))&&!zr(er,"Edge"),$T=zr(er.toLowerCase(),"webkit")&&!zr(er,"Edge");function wC(){var i=Je.document;return i?i.documentMode:void 0}e:{var Ti="",Su=(i=er,Sc?/rv:([^\);]+)(\)|;)/.exec(i):pv?/Edge\/([\d\.]+)/.exec(i):es?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(i):$T?/WebKit\/(\S+)/.exec(i):Kg?/(?:Version)[ \/]?(\S+)/.exec(i):void 0);if(Su&&(Ti=Su?Su[1]:""),es){var Ln=wC();if(null!=Ln&&Ln>parseFloat(Ti)){xc=String(Ln);break e}}xc=Ti}var xu={};function Yg(){return r=xu,Object.prototype.hasOwnProperty.call(r,9)?r[9]:r[9]=function(){for(var i=0,r=mC(String(xc)).split("."),s=mC("9").split("."),o=Math.max(r.length,s.length),l=0;0==i&&l<o;l++){var d=r[l]||"",h=s[l]||"";do{if(d=/(\d*)(\D*)(.*)/.exec(d)||["","","",""],h=/(\d*)(\D*)(.*)/.exec(h)||["","","",""],0==d[0].length&&0==h[0].length)break;i=zg(0==d[1].length?0:parseInt(d[1],10),0==h[1].length?0:parseInt(h[1],10))||zg(0==d[2].length,0==h[2].length)||zg(d[2],h[2]),d=d[3],h=h[3]}while(0==i)}return 0<=i}();var r}var Nc=Je.document&&es&&(wC()||parseInt(xc,10))||void 0,Rc=function(){if(!Je.addEventListener||!Object.defineProperty)return!1;var i=!1,r=Object.defineProperty({},"passive",{get:function(){i=!0}});try{Je.addEventListener("test",Hg,r),Je.removeEventListener("test",Hg,r)}catch(s){}return i}();function fn(i,r){this.type=i,this.g=this.target=r,this.defaultPrevented=!1}function ks(i,r){if(fn.call(this,i?i.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,i){var s=this.type=i.type,o=i.changedTouches&&i.changedTouches.length?i.changedTouches[0]:null;if(this.target=i.target||i.srcElement,this.g=r,r=i.relatedTarget){if(Sc){e:{try{fv(r.nodeName);var l=!0;break e}catch(d){}l=!1}l||(r=null)}}else"mouseover"==s?r=i.fromElement:"mouseout"==s&&(r=i.toElement);this.relatedTarget=r,o?(this.clientX=void 0!==o.clientX?o.clientX:o.pageX,this.clientY=void 0!==o.clientY?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0):(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0),this.button=i.button,this.key=i.key||"",this.ctrlKey=i.ctrlKey,this.altKey=i.altKey,this.shiftKey=i.shiftKey,this.metaKey=i.metaKey,this.pointerId=i.pointerId||0,this.pointerType="string"==typeof i.pointerType?i.pointerType:Mc[i.pointerType]||"",this.state=i.state,this.i=i,i.defaultPrevented&&ks.Z.h.call(this)}}fn.prototype.h=function(){this.defaultPrevented=!0},Fn(ks,fn);var Mc={2:"touch",3:"pen",4:"mouse"};ks.prototype.h=function(){ks.Z.h.call(this);var i=this.i;i.preventDefault?i.preventDefault():i.returnValue=!1};var Fs="closure_listenable_"+(1e6*Math.random()|0),Oc=0;function Pc(i,r,s,o,l){this.listener=i,this.proxy=null,this.src=r,this.type=s,this.capture=!!o,this.ia=l,this.key=++Oc,this.ca=this.fa=!1}function No(i){i.ca=!0,i.listener=null,i.proxy=null,i.src=null,i.ia=null}function Hh(i){this.src=i,this.g={},this.h=0}function Jg(i,r){var s=r.type;if(s in i.g){var d,o=i.g[s],l=BT(o,r);(d=0<=l)&&Array.prototype.splice.call(o,l,1),d&&(No(r),0==i.g[s].length&&(delete i.g[s],i.h--))}}function Xg(i,r,s,o){for(var l=0;l<i.length;++l){var d=i[l];if(!d.ca&&d.listener==r&&d.capture==!!s&&d.ia==o)return l}return-1}Hh.prototype.add=function(i,r,s,o,l){var d=i.toString();(i=this.g[d])||(i=this.g[d]=[],this.h++);var h=Xg(i,r,o,l);return-1<h?(r=i[h],s||(r.fa=!1)):((r=new Pc(r,this.src,d,!!o,l)).fa=s,i.push(r)),r};var em="closure_lm_"+(1e6*Math.random()|0),tm={};function gv(i,r,s,o,l){if(o&&o.once)return yv(i,r,s,o,l);if(Array.isArray(r)){for(var d=0;d<r.length;d++)gv(i,r[d],s,o,l);return null}return s=DC(s),i&&i[Fs]?i.N(r,s,Gg(o)?!!o.capture:!!o,l):mv(i,r,s,!1,o,l)}function mv(i,r,s,o,l,d){if(!r)throw Error("Invalid event type");var h=Gg(l)?!!l.capture:!!l,g=nm(i);if(g||(i[em]=g=new Hh(i)),(s=g.add(r,s,o,h,d)).proxy)return s;if(o=function(){var r=GT;return function i(s){return r.call(i.src,i.listener,s)}}(),s.proxy=o,o.src=i,o.listener=s,i.addEventListener)Rc||(l=h),void 0===l&&(l=!1),i.addEventListener(r.toString(),o,l);else if(i.attachEvent)i.attachEvent(bC(r.toString()),o);else{if(!i.addListener||!i.removeListener)throw Error("addEventListener and attachEvent are unavailable.");i.addListener(o)}return s}function yv(i,r,s,o,l){if(Array.isArray(r)){for(var d=0;d<r.length;d++)yv(i,r[d],s,o,l);return null}return s=DC(s),i&&i[Fs]?i.O(r,s,Gg(o)?!!o.capture:!!o,l):mv(i,r,s,!0,o,l)}function IC(i,r,s,o,l){if(Array.isArray(r))for(var d=0;d<r.length;d++)IC(i,r[d],s,o,l);else o=Gg(o)?!!o.capture:!!o,s=DC(s),i&&i[Fs]?(i=i.i,(r=String(r).toString())in i.g&&-1<(s=Xg(d=i.g[r],s,o,l))&&(No(d[s]),Array.prototype.splice.call(d,s,1),0==d.length&&(delete i.g[r],i.h--))):i&&(i=nm(i))&&(r=i.g[r.toString()],i=-1,r&&(i=Xg(r,s,o,l)),(s=-1<i?r[i]:null)&&_v(s))}function _v(i){if("number"!=typeof i&&i&&!i.ca){var r=i.src;if(r&&r[Fs])Jg(r.i,i);else{var s=i.type,o=i.proxy;r.removeEventListener?r.removeEventListener(s,o,i.capture):r.detachEvent?r.detachEvent(bC(s),o):r.addListener&&r.removeListener&&r.removeListener(o),(s=nm(r))?(Jg(s,i),0==s.h&&(s.src=null,r[em]=null)):No(i)}}}function bC(i){return i in tm?tm[i]:tm[i]="on"+i}function GT(i,r){if(i.ca)i=!0;else{r=new ks(r,this);var s=i.listener,o=i.ia||i.src;i.fa&&_v(i),i=s.call(o,r)}return i}function nm(i){return(i=i[em])instanceof Hh?i:null}var vv="__closure_events_fn_"+(1e9*Math.random()>>>0);function DC(i){return"function"==typeof i?i:(i[vv]||(i[vv]=function(r){return i.handleEvent(r)}),i[vv])}function Vn(){xo.call(this),this.i=new Hh(this),this.P=this,this.I=null}function Un(i,r){var s,o=i.I;if(o)for(s=[];o;o=o.I)s.push(o);if(i=i.P,o=r.type||r,"string"==typeof r)r=new fn(r,i);else if(r instanceof fn)r.target=r.target||i;else{var l=r;EC(r=new fn(o,i),l)}if(l=!0,s)for(var d=s.length-1;0<=d;d--){var h=r.g=s[d];l=rm(h,o,!0,r)&&l}if(l=rm(h=r.g=i,o,!0,r)&&l,l=rm(h,o,!1,r)&&l,s)for(d=0;d<s.length;d++)l=rm(h=r.g=s[d],o,!1,r)&&l}function rm(i,r,s,o){if(!(r=i.i.g[String(r)]))return!0;r=r.concat();for(var l=!0,d=0;d<r.length;++d){var h=r[d];if(h&&!h.ca&&h.capture==s){var g=h.listener,_=h.ia||h.src;h.fa&&Jg(i.i,h),l=!1!==g.call(_,o)&&l}}return l&&!o.defaultPrevented}Fn(Vn,xo),Vn.prototype[Fs]=!0,Vn.prototype.removeEventListener=function(i,r,s,o){IC(this,i,r,s,o)},Vn.prototype.M=function(){if(Vn.Z.M.call(this),this.i){var r,i=this.i;for(r in i.g){for(var s=i.g[r],o=0;o<s.length;o++)No(s[o]);delete i.g[r],i.h--}}this.I=null},Vn.prototype.N=function(i,r,s,o){return this.i.add(String(i),r,!1,s,o)},Vn.prototype.O=function(i,r,s,o){return this.i.add(String(i),r,!0,s,o)};var im=Je.JSON.stringify;function qT(){var i=KT,r=null;return i.g&&(r=i.g,i.g=i.g.next,i.g||(i.h=null),r.next=null),r}var SC,WT=function(){function i(){this.h=this.g=null}return i.prototype.add=function(r,s){var o=zT.get();o.set(r,s),this.h?this.h.next=o:this.g=o,this.h=o},i}(),zT=new(function(){function i(r,s){this.i=r,this.j=s,this.h=0,this.g=null}return i.prototype.get=function(){var r;return 0<this.h?(this.h--,this.g=(r=this.g).next,r.next=null):r=this.i(),r},i}())(function(){return new ZT},function(i){return i.reset()}),ZT=function(){function i(){this.next=this.g=this.h=null}return i.prototype.set=function(r,s){this.h=r,this.g=s,this.next=null},i.prototype.reset=function(){this.next=this.g=this.h=null},i}();function TC(i){Je.setTimeout(function(){throw i},0)}function AC(i,r){SC||function(){var i=Je.Promise.resolve(void 0);SC=function(){i.then(YT)}}(),Ev||(SC(),Ev=!0),KT.add(i,r)}var Ev=!1,KT=new WT;function YT(){for(var i;i=qT();){try{i.h.call(i.g)}catch(s){TC(s)}var r=zT;r.j(i),100>r.h&&(r.h++,i.next=r.g,r.g=i)}Ev=!1}function sm(i,r){Vn.call(this),this.h=i||1,this.g=r||Je,this.j=xn(this.kb,this),this.l=Date.now()}function $h(i){i.da=!1,i.S&&(i.g.clearTimeout(i.S),i.S=null)}function Gh(i,r,s){if("function"==typeof i)s&&(i=xn(i,s));else{if(!i||"function"!=typeof i.handleEvent)throw Error("Invalid listener argument");i=xn(i.handleEvent,i)}return 2147483647<Number(r)?-1:Je.setTimeout(i,r||0)}function xC(i){i.g=Gh(function(){i.g=null,i.i&&(i.i=!1,xC(i))},i.j);var r=i.h;i.h=null,i.m.apply(null,r)}Fn(sm,Vn),(Ne=sm.prototype).da=!1,Ne.S=null,Ne.kb=function(){if(this.da){var i=Date.now()-this.l;0<i&&i<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-i):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Un(this,"tick"),this.da&&($h(this),this.start()))}},Ne.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Ne.M=function(){sm.Z.M.call(this),$h(this),delete this.g};var rN=function(i){function r(s,o){var l=i.call(this)||this;return l.m=s,l.j=o,l.h=null,l.i=!1,l.g=null,l}return function(i,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function s(){this.constructor=i}jg(i,r),i.prototype=null===r?Object.create(r):(s.prototype=r.prototype,new s)}(r,i),r.prototype.l=function(s){this.h=arguments,this.g?this.i=!0:xC(this)},r.prototype.M=function(){i.prototype.M.call(this),this.g&&(Je.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)},r}(xo);function om(i){xo.call(this),this.h=i,this.g={}}Fn(om,xo);var QT=[];function NC(i,r,s,o){Array.isArray(s)||(s&&(QT[0]=s.toString()),s=QT);for(var l=0;l<s.length;l++){var d=gv(r,s[l],o||i.handleEvent,!1,i.h||i);if(!d)break;i.g[d.key]=d}}function wv(i){hv(i.g,function(r,s){this.g.hasOwnProperty(s)&&_v(r)},i),i.g={}}function Cv(){this.g=!0}function Fc(i,r,s,o){i.info(function(){return"XMLHTTP TEXT ("+r+"): "+function(i,r){if(!i.g)return r;if(!r)return null;try{var s=JSON.parse(r);if(s)for(i=0;i<s.length;i++)if(Array.isArray(s[i])){var o=s[i];if(!(2>o.length)){var l=o[1];if(Array.isArray(l)&&!(1>l.length)){var d=l[0];if("noop"!=d&&"stop"!=d&&"close"!=d)for(var h=1;h<l.length;h++)l[h]=""}}}return im(s)}catch(g){return r}}(i,s)+(o?" "+o:"")})}om.prototype.M=function(){om.Z.M.call(this),wv(this)},om.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Cv.prototype.Aa=function(){this.g=!1},Cv.prototype.info=function(){};var Aa={},qh=null;function am(){return qh=qh||new Vn}function Iv(i){fn.call(this,Aa.Ma,i)}function Wh(i){var r=am();Un(r,new Iv(r,i))}function MC(i,r){fn.call(this,Aa.STAT_EVENT,i),this.stat=r}function xr(i){var r=am();Un(r,new MC(r,i))}function OC(i,r){fn.call(this,Aa.Na,i),this.size=r}function zh(i,r){if("function"!=typeof i)throw Error("Fn must not be null and must be a function");return Je.setTimeout(function(){i()},r)}Aa.Ma="serverreachability",Fn(Iv,fn),Aa.STAT_EVENT="statevent",Fn(MC,fn),Aa.Na="timingevent",Fn(OC,fn);var Zh={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},PC={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function um(){}function lm(){}um.prototype.h=null;var kC,cm={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function Kh(){fn.call(this,"d")}function Dv(){fn.call(this,"c")}function Sa(){}function Yh(i,r,s,o){this.l=i,this.j=r,this.m=s,this.X=o||1,this.V=new om(this),this.P=Tv,this.W=new sm(i=li?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new dm}function dm(){this.i=null,this.g="",this.h=!1}Fn(Kh,fn),Fn(Dv,fn),Fn(Sa,um),Sa.prototype.g=function(){return new XMLHttpRequest},Sa.prototype.i=function(){return{}},kC=new Sa;var Tv=45e3,Av={},Lc={};function Qh(i,r,s){i.K=1,i.v=ef(Ro(r)),i.s=s,i.U=!0,Sv(i,null)}function Sv(i,r){i.F=Date.now(),Vc(i),i.A=Ro(i.v);var s=i.A,o=i.X;Array.isArray(o)||(o=[String(o)]),Rv(s.h,"t",o),i.C=0,s=i.l.H,i.h=new dm,i.g=rI(i.l,s?r:null,!i.s),0<i.O&&(i.L=new rN(xn(i.Ia,i,i.g),i.O)),NC(i.V,i.g,"readystatechange",i.gb),r=i.H?_C(i.H):{},i.s?(i.u||(i.u="POST"),r["Content-Type"]="application/x-www-form-urlencoded",i.g.ea(i.A,i.u,i.s,r)):(i.u="GET",i.g.ea(i.A,i.u,null,r)),Wh(1),function(i,r,s,o,l,d){i.info(function(){if(i.g)if(d)for(var h="",g=d.split("&"),_=0;_<g.length;_++){var w=g[_].split("=");if(1<w.length){var C=w[0];w=w[1];var I=C.split("_");h=2<=I.length&&"type"==I[1]?h+(C+"=")+w+"&":h+(C+"=redacted&")}}else h=null;else h=d;return"XMLHTTP REQ ("+o+") [attempt "+l+"]: "+r+"\n"+s+"\n"+h})}(i.j,i.u,i.A,i.m,i.X,i.s)}function eA(i){return!!i.g&&"GET"==i.u&&2!=i.K&&i.l.Ba}function FC(i,r,s){for(var l,o=!0;!i.I&&i.C<s.length;){if((l=LC(i,s))==Lc){4==r&&(i.o=4,xr(14),o=!1),Fc(i.j,i.m,null,"[Incomplete Response]");break}if(l==Av){i.o=4,xr(15),Fc(i.j,i.m,s,"[Invalid Chunk]"),o=!1;break}Fc(i.j,i.m,l,null),Jh(i,l)}eA(i)&&l!=Lc&&l!=Av&&(i.h.g="",i.C=0),4!=r||0!=s.length||i.h.h||(i.o=1,xr(16),o=!1),i.i=i.i&&o,o?0<s.length&&!i.aa&&(i.aa=!0,(r=i.l).g==i&&r.$&&!r.L&&(r.h.info("Great, no buffering proxy detected. Bytes received: "+s.length),Gv(r),r.L=!0,xr(11))):(Fc(i.j,i.m,s,"[Invalid Chunked Response]"),xa(i),Nu(i))}function LC(i,r){var s=i.C,o=r.indexOf("\n",s);return-1==o?Lc:(s=Number(r.substring(s,o)),isNaN(s)?Av:(o+=1)+s>r.length?Lc:(r=r.substr(o,s),i.C=o+s,r))}function Vc(i){i.Y=Date.now()+i.P,VC(i,i.P)}function VC(i,r){if(null!=i.B)throw Error("WatchDog timer not null");i.B=zh(xn(i.eb,i),r)}function hm(i){i.B&&(Je.clearTimeout(i.B),i.B=null)}function Nu(i){0==i.l.G||i.I||XC(i.l,i)}function xa(i){hm(i);var r=i.L;r&&"function"==typeof r.na&&r.na(),i.L=null,$h(i.W),wv(i.V),i.g&&(r=i.g,i.g=null,r.abort(),r.na())}function Jh(i,r){try{var s=i.l;if(0!=s.G&&(s.g==i||Ov(s.i,i)))if(s.I=i.N,!i.J&&Ov(s.i,i)&&3==s.G){try{var o=s.Ca.g.parse(r)}catch(ae){o=null}if(Array.isArray(o)&&3==o.length){var l=o;if(0==l[0])e:if(s.u)s.ta=l[1],0<s.ta-s.U&&37500>l[2]&&s.N&&0==s.A&&!s.v&&(s.v=zh(xn(s.ab,s),6e3));else{if(s.g){if(!(s.g.F+3e3<i.F))break e;bm(s),af(s)}$v(s),xr(18)}if(1>=Mv(s.i)&&s.ka){try{s.ka()}catch(ae){}s.ka=void 0}}else Ou(s,11)}else if((i.J||s.g==i)&&bm(s),!jh(r))for(l=s.Ca.g.parse(r),r=0;r<l.length;r++){var d=l[r];if(s.U=d[0],d=d[1],2==s.G)if("c"==d[0]){s.J=d[1],s.la=d[2];var h=d[3];null!=h&&(s.ma=h,s.h.info("VER="+s.ma));var g=d[4];null!=g&&(s.za=g,s.h.info("SVER="+s.za));var _=d[5];null!=_&&"number"==typeof _&&0<_&&(s.K=o=1.5*_,s.h.info("backChannelRequestTimeoutMs_="+o)),o=s;var w=i.g;if(w){var C=w.g?w.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(C){var I=o.i;!I.g&&(zr(C,"spdy")||zr(C,"quic")||zr(C,"h2"))&&(I.j=I.l,I.g=new Set,I.h&&(ym(I,I.h),I.h=null))}if(o.D){var A=w.g?w.g.getResponseHeader("X-HTTP-Session-Id"):null;A&&(o.sa=A,Wt(o.F,o.D,A))}}s.G=3,s.j&&s.j.xa(),s.$&&(s.O=Date.now()-i.F,s.h.info("Handshake RTT: "+s.O+"ms"));var D=i;if((o=s).oa=nI(o,o.H?o.la:null,o.W),D.J){aA(o.i,D);var P=D,L=o.K;L&&P.setTimeout(L),P.B&&(hm(P),Vc(P)),o.g=D}else QC(o);0<s.l.length&&uf(s)}else"stop"!=d[0]&&"close"!=d[0]||Ou(s,7);else 3==s.G&&("stop"==d[0]||"close"==d[0]?"stop"==d[0]?Ou(s,7):Cm(s):"noop"!=d[0]&&s.j&&s.j.wa(d),s.A=0)}Wh(4)}catch(ae){}}function fm(i,r){if(i.forEach&&"function"==typeof i.forEach)i.forEach(r,void 0);else if($g(i)||"string"==typeof i)jT(i,r,void 0);else{if(i.T&&"function"==typeof i.T)var s=i.T();else if(i.R&&"function"==typeof i.R)s=void 0;else if($g(i)||"string"==typeof i){s=[];for(var o=i.length,l=0;l<o;l++)s.push(l)}else for(l in s=[],o=0,i)s[o++]=l;l=(o=function(i){if(i.R&&"function"==typeof i.R)return i.R();if("string"==typeof i)return i.split("");if($g(i)){for(var r=[],s=i.length,o=0;o<s;o++)r.push(i[o]);return r}for(o in r=[],s=0,i)r[s++]=i[o];return r}(i)).length;for(var d=0;d<l;d++)r.call(void 0,o[d],s&&s[d],i)}}function Uc(i,r){this.h={},this.g=[],this.i=0;var s=arguments.length;if(1<s){if(s%2)throw Error("Uneven number of arguments");for(var o=0;o<s;o+=2)this.set(arguments[o],arguments[o+1])}else if(i)if(i instanceof Uc)for(s=i.T(),o=0;o<s.length;o++)this.set(s[o],i.get(s[o]));else for(o in i)this.set(o,i[o])}function pm(i){if(i.i!=i.g.length){for(var r=0,s=0;r<i.g.length;){var o=i.g[r];Na(i.h,o)&&(i.g[s++]=o),r++}i.g.length=s}if(i.i!=i.g.length){var l={};for(s=r=0;r<i.g.length;)Na(l,o=i.g[r])||(i.g[s++]=o,l[o]=1),r++;i.g.length=s}}function Na(i,r){return Object.prototype.hasOwnProperty.call(i,r)}(Ne=Yh.prototype).setTimeout=function(i){this.P=i},Ne.gb=function(i){i=i.target;var r=this.L;r&&3==Vs(i)?r.l():this.Ia(i)},Ne.Ia=function(i){try{if(i==this.g)e:{var r=Vs(this.g),s=this.g.Da(),o=this.g.ba();if(!(3>r)&&(3!=r||li||this.g&&(this.h.h||this.g.ga()||Uv(this.g)))){this.I||4!=r||7==s||Wh(8==s||0>=o?3:2),hm(this);var l=this.g.ba();this.N=l;t:if(eA(this)){var d=Uv(this.g);i="";var h=d.length,g=4==Vs(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){xa(this),Nu(this);var _="";break t}this.h.i=new Je.TextDecoder}for(s=0;s<h;s++)this.h.h=!0,i+=this.h.i.decode(d[s],{stream:g&&s==h-1});d.splice(0,h),this.h.g+=i,this.C=0,_=this.h.g}else _=this.g.ga();if(this.i=200==l,function(i,r,s,o,l,d,h){i.info(function(){return"XMLHTTP RESP ("+o+") [ attempt "+l+"]: "+r+"\n"+s+"\n"+d+" "+h})}(this.j,this.u,this.A,this.m,this.X,r,l),this.i){if(this.$&&!this.J){t:{if(this.g){var w,C=this.g;if((w=C.g?C.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!jh(w)){var I=w;break t}}I=null}if(!(l=I)){this.i=!1,this.o=3,xr(12),xa(this),Nu(this);break e}Fc(this.j,this.m,l,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Jh(this,l)}this.U?(FC(this,r,_),li&&this.i&&3==r&&(NC(this.V,this.W,"tick",this.fb),this.W.start())):(Fc(this.j,this.m,_,null),Jh(this,_)),4==r&&xa(this),this.i&&!this.I&&(4==r?XC(this.l,this):(this.i=!1,Vc(this)))}else 400==l&&0<_.indexOf("Unknown SID")?(this.o=3,xr(12)):(this.o=0,xr(13)),xa(this),Nu(this)}}}catch(A){}},Ne.fb=function(){if(this.g){var i=Vs(this.g),r=this.g.ga();this.C<r.length&&(hm(this),FC(this,i,r),this.i&&4!=i&&Vc(this))}},Ne.cancel=function(){this.I=!0,xa(this)},Ne.eb=function(){this.B=null;var i=Date.now();0<=i-this.Y?(function(i,r){i.info(function(){return"TIMEOUT: "+r})}(this.j,this.A),2!=this.K&&(Wh(3),xr(17)),xa(this),this.o=2,Nu(this)):VC(this,this.Y-i)},(Ne=Uc.prototype).R=function(){pm(this);for(var i=[],r=0;r<this.g.length;r++)i.push(this.h[this.g[r]]);return i},Ne.T=function(){return pm(this),this.g.concat()},Ne.get=function(i,r){return Na(this.h,i)?this.h[i]:r},Ne.set=function(i,r){Na(this.h,i)||(this.i++,this.g.push(i)),this.h[i]=r},Ne.forEach=function(i,r){for(var s=this.T(),o=0;o<s.length;o++){var l=s[o],d=this.get(l);i.call(r,d,l,this)}};var gm=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Ru(i,r){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,i instanceof Ru){this.g=void 0!==r?r:i.g,mm(this,i.j),this.s=i.s,Xh(this,i.i),Bc(this,i.m),this.l=i.l,r=i.h;var s=new on;s.i=r.i,r.g&&(s.g=new Uc(r.g),s.h=r.h),Nv(this,s),this.o=i.o}else i&&(s=String(i).match(gm))?(this.g=!!r,mm(this,s[1]||"",!0),this.s=jc(s[2]||""),Xh(this,s[3]||"",!0),Bc(this,s[4]),this.l=jc(s[5]||"",!0),Nv(this,s[6]||"",!0),this.o=jc(s[7]||"")):(this.g=!!r,this.h=new on(null,this.g))}function Ro(i){return new Ru(i)}function mm(i,r,s){i.j=s?jc(r,!0):r,i.j&&(i.j=i.j.replace(/:$/,""))}function Xh(i,r,s){i.i=s?jc(r,!0):r}function Bc(i,r){if(r){if(r=Number(r),isNaN(r)||0>r)throw Error("Bad port number "+r);i.m=r}else i.m=null}function Nv(i,r,s){r instanceof on?(i.h=r,function(i,r){r&&!i.j&&(Mo(i),i.i=null,i.g.forEach(function(s,o){var l=o.toLowerCase();o!=l&&($C(this,o),Rv(this,l,s))},i)),i.j=r}(i.h,i.g)):(s||(r=Hc(r,HC)),i.h=new on(r,i.g))}function Wt(i,r,s){i.h.set(r,s)}function ef(i){return Wt(i,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),i}function jc(i,r){return i?r?decodeURI(i.replace(/%25/g,"%2525")):decodeURIComponent(i):""}function Hc(i,r,s){return"string"==typeof i?(i=encodeURI(i).replace(r,jC),s&&(i=i.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),i):null}function jC(i){return"%"+((i=i.charCodeAt(0))>>4&15).toString(16)+(15&i).toString(16)}Ru.prototype.toString=function(){var i=[],r=this.j;r&&i.push(Hc(r,nA,!0),":");var s=this.i;return(s||"file"==r)&&(i.push("//"),(r=this.s)&&i.push(Hc(r,nA,!0),"@"),i.push(encodeURIComponent(String(s)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(s=this.m)&&i.push(":",String(s))),(s=this.l)&&(this.i&&"/"!=s.charAt(0)&&i.push("/"),i.push(Hc(s,"/"==s.charAt(0)?iA:rA,!0))),(s=this.h.toString())&&i.push("?",s),(s=this.o)&&i.push("#",Hc(s,sA)),i.join("")};var nA=/[#\/\?@]/g,rA=/[#\?:]/g,iA=/[#\?]/g,HC=/[#\?@]/g,sA=/#/g;function on(i,r){this.h=this.g=null,this.i=i||null,this.j=!!r}function Mo(i){i.g||(i.g=new Uc,i.h=0,i.i&&function(i,r){if(i){i=i.split("&");for(var s=0;s<i.length;s++){var o=i[s].indexOf("="),l=null;if(0<=o){var d=i[s].substring(0,o);l=i[s].substring(o+1)}else d=i[s];r(d,l?decodeURIComponent(l.replace(/\+/g," ")):"")}}}(i.i,function(r,s){i.add(decodeURIComponent(r.replace(/\+/g," ")),s)}))}function $C(i,r){Mo(i),r=$c(i,r),Na(i.g.h,r)&&(i.i=null,i.h-=i.g.get(r).length,Na((i=i.g).h,r)&&(delete i.h[r],i.i--,i.g.length>2*i.i&&pm(i)))}function GC(i,r){return Mo(i),r=$c(i,r),Na(i.g.h,r)}function Rv(i,r,s){$C(i,r),0<s.length&&(i.i=null,i.g.set($c(i,r),Wg(s)),i.h+=s.length)}function $c(i,r){return r=String(r),i.j&&(r=r.toLowerCase()),r}(Ne=on.prototype).add=function(i,r){Mo(this),this.i=null,i=$c(this,i);var s=this.g.get(i);return s||this.g.set(i,s=[]),s.push(r),this.h+=1,this},Ne.forEach=function(i,r){Mo(this),this.g.forEach(function(s,o){jT(s,function(l){i.call(r,l,o,this)},this)},this)},Ne.T=function(){Mo(this);for(var i=this.g.R(),r=this.g.T(),s=[],o=0;o<r.length;o++)for(var l=i[o],d=0;d<l.length;d++)s.push(r[o]);return s},Ne.R=function(i){Mo(this);var r=[];if("string"==typeof i)GC(this,i)&&(r=dv(r,this.g.get($c(this,i))));else{i=this.g.R();for(var s=0;s<i.length;s++)r=dv(r,i[s])}return r},Ne.set=function(i,r){return Mo(this),this.i=null,GC(this,i=$c(this,i))&&(this.h-=this.g.get(i).length),this.g.set(i,[r]),this.h+=1,this},Ne.get=function(i,r){return i&&0<(i=this.R(i)).length?String(i[0]):r},Ne.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var i=[],r=this.g.T(),s=0;s<r.length;s++){var o=r[s],l=encodeURIComponent(String(o));o=this.R(o);for(var d=0;d<o.length;d++){var h=l;""!==o[d]&&(h+="="+encodeURIComponent(String(o[d]))),i.push(h)}}return this.i=i.join("&")};var WC=function(r,s){this.h=r,this.g=s};function Mu(i){this.l=i||oA,i=Je.PerformanceNavigationTiming?0<(i=Je.performance.getEntriesByType("navigation")).length&&("hq"==i[0].nextHopProtocol||"h2"==i[0].nextHopProtocol):!!(Je.g&&Je.g.Ea&&Je.g.Ea()&&Je.g.Ea().Zb),this.j=i?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var oA=10;function zC(i){return!!i.h||!!i.g&&i.g.size>=i.j}function Mv(i){return i.h?1:i.g?i.g.size:0}function Ov(i,r){return i.h?i.h==r:!!i.g&&i.g.has(r)}function ym(i,r){i.g?i.g.add(r):i.h=r}function aA(i,r){i.h&&i.h==r?i.h=null:i.g&&i.g.has(r)&&i.g.delete(r)}function Pv(i){var r,s;if(null!=i.h)return i.i.concat(i.h.D);if(null!=i.g&&0!==i.g.size){var o=i.i;try{for(var l=uv(i.g.values()),d=l.next();!d.done;d=l.next())o=o.concat(d.value.D)}catch(g){r={error:g}}finally{try{d&&!d.done&&(s=l.return)&&s.call(l)}finally{if(r)throw r.error}}return o}return Wg(i.i)}function tf(){}function Ls(){this.g=new tf}function uA(i,r,s){var o=s||"";try{fm(i,function(l,d){var h=l;Gg(l)&&(h=im(l)),r.push(o+d+"="+encodeURIComponent(h))})}catch(l){throw r.push(o+"type="+encodeURIComponent("_badmap")),l}}function ci(i,r,s,o,l){try{r.onload=null,r.onerror=null,r.onabort=null,r.ontimeout=null,l(o)}catch(d){}}function Nr(i){this.l=i.$b||null,this.j=i.ib||!1}function Kr(i,r){Vn.call(this),this.D=i,this.u=r,this.m=void 0,this.readyState=_m,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Mu.prototype.cancel=function(){var i,r;if(this.i=Pv(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){try{for(var s=uv(this.g.values()),o=s.next();!o.done;o=s.next())o.value.cancel()}catch(d){i={error:d}}finally{try{o&&!o.done&&(r=s.return)&&r.call(s)}finally{if(i)throw i.error}}this.g.clear()}},tf.prototype.stringify=function(i){return Je.JSON.stringify(i,void 0)},tf.prototype.parse=function(i){return Je.JSON.parse(i,void 0)},Fn(Nr,um),Nr.prototype.g=function(){return new Kr(this.l,this.j)},Nr.prototype.i=function(i){return function(){return i}}({}),Fn(Kr,Vn);var _m=0;function kv(i){i.j.read().then(i.Sa.bind(i)).catch(i.ha.bind(i))}function nf(i){i.readyState=4,i.l=null,i.j=null,i.A=null,rf(i)}function rf(i){i.onreadystatechange&&i.onreadystatechange.call(i)}(Ne=Kr.prototype).open=function(i,r){if(this.readyState!=_m)throw this.abort(),Error("Error reopening a connection");this.C=i,this.B=r,this.readyState=1,rf(this)},Ne.send=function(i){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var r={headers:this.v,method:this.C,credentials:this.m,cache:void 0};i&&(r.body=i),(this.D||Je).fetch(new Request(this.B,r)).then(this.Va.bind(this),this.ha.bind(this))},Ne.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,nf(this)),this.readyState=_m},Ne.Va=function(i){if(this.g&&(this.l=i,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=i.headers,this.readyState=2,rf(this)),this.g&&(this.readyState=3,rf(this),this.g)))if("arraybuffer"===this.responseType)i.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==Je.ReadableStream&&"body"in i){if(this.j=i.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;kv(this)}else i.text().then(this.Ua.bind(this),this.ha.bind(this))},Ne.Sa=function(i){if(this.g){if(this.u&&i.value)this.response.push(i.value);else if(!this.u){var r=i.value?i.value:new Uint8Array(0);(r=this.A.decode(r,{stream:!i.done}))&&(this.response=this.responseText+=r)}i.done?nf(this):rf(this),3==this.readyState&&kv(this)}},Ne.Ua=function(i){this.g&&(this.response=this.responseText=i,nf(this))},Ne.Ta=function(i){this.g&&(this.response=i,nf(this))},Ne.ha=function(){this.g&&nf(this)},Ne.setRequestHeader=function(i,r){this.v.append(i,r)},Ne.getResponseHeader=function(i){return this.h&&this.h.get(i.toLowerCase())||""},Ne.getAllResponseHeaders=function(){if(!this.h)return"";for(var i=[],r=this.h.entries(),s=r.next();!s.done;)i.push((s=s.value)[0]+": "+s[1]),s=r.next();return i.join("\r\n")},Object.defineProperty(Kr.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(i){this.m=i?"include":"same-origin"}});var cA=Je.JSON.parse;function In(i){Vn.call(this),this.headers=new Uc,this.u=i||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=vm,this.K=this.L=!1}Fn(In,Vn);var vm="",sf=/^https?$/i,dA=["POST","PUT"];function hA(i){return"content-type"==i.toLowerCase()}function Fv(i,r){i.h=!1,i.g&&(i.l=!0,i.g.abort(),i.l=!1),i.j=r,i.m=5,Lv(i),Em(i)}function Lv(i){i.D||(i.D=!0,Un(i,"complete"),Un(i,"error"))}function of(i){if(i.h&&void 0!==lv&&(!i.C[1]||4!=Vs(i)||2!=i.ba()))if(i.v&&4==Vs(i))Gh(i.Fa,0,i);else if(Un(i,"readystatechange"),4==Vs(i)){i.h=!1;try{var o,r=i.ba();e:switch(r){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var s=!0;break e;default:s=!1}if(!(o=s)){var l;if(l=0===r){var d=String(i.H).match(gm)[1]||null;if(!d&&Je.self&&Je.self.location){var h=Je.self.location.protocol;d=h.substr(0,h.length-1)}l=!sf.test(d?d.toLowerCase():"")}o=l}if(o)Un(i,"complete"),Un(i,"success");else{i.m=6;try{var g=2<Vs(i)?i.g.statusText:""}catch(_){g=""}i.j=g+" ["+i.ba()+"]",Lv(i)}}finally{Em(i)}}}function Em(i,r){if(i.g){Vv(i);var s=i.g,o=i.C[0]?Hg:null;i.g=null,i.C=null,r||Un(i,"ready");try{s.onreadystatechange=o}catch(l){}}}function Vv(i){i.g&&i.K&&(i.g.ontimeout=null),i.A&&(Je.clearTimeout(i.A),i.A=null)}function Vs(i){return i.g?i.g.readyState:0}function Uv(i){try{if(!i.g)return null;if("response"in i.g)return i.g.response;switch(i.J){case vm:case"text":return i.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in i.g)return i.g.mozResponseArrayBuffer}return null}catch(r){return null}}function wm(i,r,s){e:{for(o in s){var o=!1;break e}o=!0}o||(s=function(i){var r="";return hv(i,function(s,o){r+=o,r+=":",r+=s,r+="\r\n"}),r}(s),"string"==typeof i?null!=s&&encodeURIComponent(String(s)):Wt(i,r,s))}function Gc(i,r,s){return s&&s.internalChannelParams&&s.internalChannelParams[i]||r}function jv(i){this.za=0,this.l=[],this.h=new Cv,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Gc("failFast",!1,i),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Gc("baseRetryDelayMs",5e3,i),this.$a=Gc("retryDelaySeedMs",1e4,i),this.Ya=Gc("forwardChannelMaxRetries",2,i),this.ra=Gc("forwardChannelRequestTimeoutMs",2e4,i),this.qa=i&&i.xmlHttpFactory||void 0,this.Ba=i&&i.Yb||!1,this.K=void 0,this.H=i&&i.supportsCrossDomainXhr||!1,this.J="",this.i=new Mu(i&&i.concurrentRequestLimit),this.Ca=new Ls,this.ja=i&&i.fastHandshake||!1,this.Ra=i&&i.Wb||!1,i&&i.Aa&&this.h.Aa(),i&&i.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&i&&i.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!i||!1!==i.Xb}function Cm(i){if(Hv(i),3==i.G){var r=i.V++,s=Ro(i.F);Wt(s,"SID",i.J),Wt(s,"RID",r),Wt(s,"TYPE","terminate"),lf(i,s),(r=new Yh(i,i.h,r,void 0)).K=2,r.v=ef(Ro(s)),s=!1,Je.navigator&&Je.navigator.sendBeacon&&(s=Je.navigator.sendBeacon(r.v.toString(),"")),!s&&Je.Image&&((new Image).src=r.v,s=!0),s||(r.g=rI(r.l,null),r.g.ea(r.v)),r.F=Date.now(),Vc(r)}tI(i)}function af(i){i.g&&(Gv(i),i.g.cancel(),i.g=null)}function Hv(i){af(i),i.u&&(Je.clearTimeout(i.u),i.u=null),bm(i),i.i.cancel(),i.m&&("number"==typeof i.m&&Je.clearTimeout(i.m),i.m=null)}function Im(i,r){i.l.push(new WC(i.Za++,r)),3==i.G&&uf(i)}function uf(i){zC(i.i)||i.m||(i.m=!0,AC(i.Ha,i),i.C=0)}function KC(i,r){var s;s=r?r.m:i.V++;var o=Ro(i.F);Wt(o,"SID",i.J),Wt(o,"RID",s),Wt(o,"AID",i.U),lf(i,o),i.o&&i.s&&wm(o,i.o,i.s),s=new Yh(i,i.h,s,i.C+1),null===i.o&&(s.H=i.s),r&&(i.l=r.D.concat(i.l)),r=YC(i,s,1e3),s.setTimeout(Math.round(.5*i.ra)+Math.round(.5*i.ra*Math.random())),ym(i.i,s),Qh(s,o,r)}function lf(i,r){i.j&&fm({},function(s,o){Wt(r,o,s)})}function YC(i,r,s){s=Math.min(i.l.length,s);var o=i.j?xn(i.j.Oa,i.j,i):null;e:for(var l=i.l,d=-1;;){var h=["count="+s];-1==d?0<s?h.push("ofs="+(d=l[0].h)):d=0:h.push("ofs="+d);for(var g=!0,_=0;_<s;_++){var w=l[_].h,C=l[_].g;if(0>(w-=d))d=Math.max(0,l[_].h-100),g=!1;else try{uA(C,h,"req"+w+"_")}catch(I){o&&o(C)}}if(g){o=h.join("&");break e}}return i=i.l.splice(0,s),r.D=i,o}function QC(i){i.g||i.u||(i.Y=1,AC(i.Ga,i),i.A=0)}function $v(i){return!(i.g||i.u||3<=i.A||(i.Y++,i.u=zh(xn(i.Ga,i),eI(i,i.A)),i.A++,0))}function Gv(i){null!=i.B&&(Je.clearTimeout(i.B),i.B=null)}function JC(i){i.g=new Yh(i,i.h,"rpc",i.Y),null===i.o&&(i.g.H=i.s),i.g.O=0;var r=Ro(i.oa);Wt(r,"RID","rpc"),Wt(r,"SID",i.J),Wt(r,"CI",i.N?"0":"1"),Wt(r,"AID",i.U),lf(i,r),Wt(r,"TYPE","xmlhttp"),i.o&&i.s&&wm(r,i.o,i.s),i.K&&i.g.setTimeout(i.K);var s=i.g;i=i.la,s.K=1,s.v=ef(Ro(r)),s.s=null,s.U=!0,Sv(s,i)}function bm(i){null!=i.v&&(Je.clearTimeout(i.v),i.v=null)}function XC(i,r){var s=null;if(i.g==r){bm(i),Gv(i),i.g=null;var o=2}else{if(!Ov(i.i,r))return;s=r.D,aA(i.i,r),o=1}if(i.I=r.N,0!=i.G)if(r.i)if(1==o){s=r.s?r.s.length:0,r=Date.now()-r.F;var l=i.C;Un(o=am(),new OC(o,s,r,l)),uf(i)}else QC(i);else if(3==(l=r.o)||0==l&&0<i.I||!(1==o&&function(i,r){return!(Mv(i.i)>=i.i.j-(i.m?1:0)||(i.m?(i.l=r.D.concat(i.l),0):1==i.G||2==i.G||i.C>=(i.Xa?0:i.Ya)||(i.m=zh(xn(i.Ha,i,r),eI(i,i.C)),i.C++,0)))}(i,r)||2==o&&$v(i)))switch(s&&0<s.length&&(r=i.i,r.i=r.i.concat(s)),l){case 1:Ou(i,5);break;case 4:Ou(i,10);break;case 3:Ou(i,6);break;default:Ou(i,2)}}function eI(i,r){var s=i.Pa+Math.floor(Math.random()*i.$a);return i.j||(s*=2),s*r}function Ou(i,r){if(i.h.info("Error code "+r),2==r){var s=null;i.j&&(s=null);var o=xn(i.jb,i);s||(s=new Ru("//www.google.com/images/cleardot.gif"),Je.location&&"http"==Je.location.protocol||mm(s,"https"),ef(s)),function(i,r){var s=new Cv;if(Je.Image){var o=new Image;o.onload=qg(ci,s,o,"TestLoadImage: loaded",!0,r),o.onerror=qg(ci,s,o,"TestLoadImage: error",!1,r),o.onabort=qg(ci,s,o,"TestLoadImage: abort",!1,r),o.ontimeout=qg(ci,s,o,"TestLoadImage: timeout",!1,r),Je.setTimeout(function(){o.ontimeout&&o.ontimeout()},1e4),o.src=i}else r(!1)}(s.toString(),o)}else xr(2);i.G=0,i.j&&i.j.va(r),tI(i),Hv(i)}function tI(i){i.G=0,i.I=-1,i.j&&((0!=Pv(i.i).length||0!=i.l.length)&&(i.i.i.length=0,Wg(i.l),i.l.length=0),i.j.ua())}function nI(i,r,s){var o=function(i){return i instanceof Ru?Ro(i):new Ru(i,void 0)}(s);if(""!=o.i)r&&Xh(o,r+"."+o.i),Bc(o,o.m);else{var l=Je.location;o=function(i,r,s,o){var l=new Ru(null,void 0);return i&&mm(l,i),r&&Xh(l,r),s&&Bc(l,s),o&&(l.l=o),l}(l.protocol,r?r+"."+l.hostname:l.hostname,+l.port,s)}return i.aa&&hv(i.aa,function(d,h){Wt(o,h,d)}),s=i.sa,(r=i.D)&&s&&Wt(o,r,s),Wt(o,"VER",i.ma),lf(i,o),o}function rI(i,r,s){if(r&&!i.H)throw Error("Can't create secondary domain capable XhrIo object.");return(r=new In(s&&i.Ba&&!i.qa?new Nr({ib:!0}):i.qa)).L=i.H,r}function iI(){}function Dm(){if(es&&!(10<=Number(Nc)))throw Error("Environmental error: no available transport.")}function di(i,r){Vn.call(this),this.g=new jv(r),this.l=i,this.h=r&&r.messageUrlParams||null,i=r&&r.messageHeaders||null,r&&r.clientProtocolHeaderRequired&&(i?i["X-Client-Protocol"]="webchannel":i={"X-Client-Protocol":"webchannel"}),this.g.s=i,i=r&&r.initMessageHeaders||null,r&&r.messageContentType&&(i?i["X-WebChannel-Content-Type"]=r.messageContentType:i={"X-WebChannel-Content-Type":r.messageContentType}),r&&r.ya&&(i?i["X-WebChannel-Client-Profile"]=r.ya:i={"X-WebChannel-Client-Profile":r.ya}),this.g.P=i,(i=r&&r.httpHeadersOverwriteParam)&&!jh(i)&&(this.g.o=i),this.A=r&&r.supportsCrossDomainXhr||!1,this.v=r&&r.sendRawJson||!1,(r=r&&r.httpSessionIdParam)&&!jh(r)&&(this.g.D=r,null!==(i=this.h)&&r in i&&r in(i=this.h)&&delete i[r]),this.j=new Pu(this)}function qv(i){Kh.call(this);var r=i.__sm__;if(r){e:{for(var s in r){i=s;break e}i=void 0}(this.i=i)&&(i=this.i,r=null!==r&&i in r?r[i]:void 0),this.data=r}else this.data=i}function Wv(){Dv.call(this),this.status=1}function Pu(i){this.g=i}(Ne=In.prototype).ea=function(i,r,s,o){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+i);r=r?r.toUpperCase():"GET",this.H=i,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():kC.g(),this.C=function(i){return i.h||(i.h=i.i())}(this.u?this.u:kC),this.g.onreadystatechange=xn(this.Fa,this);try{this.F=!0,this.g.open(r,String(i),!0),this.F=!1}catch(d){return void Fv(this,d)}i=s||"";var l=new Uc(this.headers);o&&fm(o,function(d,h){l.set(h,d)}),o=function(i){e:{for(var r=hA,s=i.length,o="string"==typeof i?i.split(""):i,l=0;l<s;l++)if(l in o&&r.call(void 0,o[l],l,i)){r=l;break e}r=-1}return 0>r?null:"string"==typeof i?i.charAt(r):i[r]}(l.T()),s=Je.FormData&&i instanceof Je.FormData,!(0<=BT(dA,r))||o||s||l.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),l.forEach(function(d,h){this.g.setRequestHeader(h,d)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Vv(this),0<this.B&&((this.K=function(i){return es&&Yg()&&"number"==typeof i.timeout&&void 0!==i.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=xn(this.pa,this)):this.A=Gh(this.pa,this.B,this)),this.v=!0,this.g.send(i),this.v=!1}catch(d){Fv(this,d)}},Ne.pa=function(){void 0!==lv&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Un(this,"timeout"),this.abort(8))},Ne.abort=function(i){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=i||7,Un(this,"complete"),Un(this,"abort"),Em(this))},Ne.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Em(this,!0)),In.Z.M.call(this)},Ne.Fa=function(){this.s||(this.F||this.v||this.l?of(this):this.cb())},Ne.cb=function(){of(this)},Ne.ba=function(){try{return 2<Vs(this)?this.g.status:-1}catch(i){return-1}},Ne.ga=function(){try{return this.g?this.g.responseText:""}catch(i){return""}},Ne.Qa=function(i){if(this.g){var r=this.g.responseText;return i&&0==r.indexOf(i)&&(r=r.substring(i.length)),cA(r)}},Ne.Da=function(){return this.m},Ne.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(Ne=jv.prototype).ma=8,Ne.G=1,Ne.hb=function(i){try{this.h.info("Origin Trials invoked: "+i)}catch(r){}},Ne.Ha=function(i){if(this.m)if(this.m=null,1==this.G){if(!i){this.V=Math.floor(1e5*Math.random()),i=this.V++;var r=new Yh(this,this.h,i,void 0),s=this.s;if(this.P&&(s?EC(s=_C(s),this.P):s=this.P),null===this.o&&(r.H=s),this.ja)e:{for(var o=0,l=0;l<this.l.length;l++){var d=this.l[l];if(void 0===(d="__data__"in d.g&&"string"==typeof(d=d.g.__data__)?d.length:void 0))break;if(4096<(o+=d)){o=l;break e}if(4096===o||l===this.l.length-1){o=l+1;break e}}o=1e3}else o=1e3;o=YC(this,r,o),Wt(l=Ro(this.F),"RID",i),Wt(l,"CVER",22),this.D&&Wt(l,"X-HTTP-Session-Id",this.D),lf(this,l),this.o&&s&&wm(l,this.o,s),ym(this.i,r),this.Ra&&Wt(l,"TYPE","init"),this.ja?(Wt(l,"$req",o),Wt(l,"SID","null"),r.$=!0,Qh(r,l,null)):Qh(r,l,o),this.G=2}}else 3==this.G&&(i?KC(this,i):0==this.l.length||zC(this.i)||KC(this))},Ne.Ga=function(){if(this.u=null,JC(this),this.$&&!(this.L||null==this.g||0>=this.O)){var i=2*this.O;this.h.info("BP detection timer enabled: "+i),this.B=zh(xn(this.bb,this),i)}},Ne.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,xr(10),af(this),JC(this))},Ne.ab=function(){null!=this.v&&(this.v=null,af(this),$v(this),xr(19))},Ne.jb=function(i){i?(this.h.info("Successfully pinged google.com"),xr(2)):(this.h.info("Failed to ping google.com"),xr(1))},(Ne=iI.prototype).xa=function(){},Ne.wa=function(){},Ne.va=function(){},Ne.ua=function(){},Ne.Oa=function(){},Dm.prototype.g=function(i,r){return new di(i,r)},Fn(di,Vn),di.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var i=this.g,r=this.l,s=this.h||void 0;i.Wa&&(i.h.info("Origin Trials enabled."),AC(xn(i.hb,i,r))),xr(0),i.W=r,i.aa=s||{},i.N=i.X,i.F=nI(i,null,i.W),uf(i)},di.prototype.close=function(){Cm(this.g)},di.prototype.u=function(i){if("string"==typeof i){var r={};r.__data__=i,Im(this.g,r)}else this.v?((r={}).__data__=im(i),Im(this.g,r)):Im(this.g,i)},di.prototype.M=function(){this.g.j=null,delete this.j,Cm(this.g),delete this.g,di.Z.M.call(this)},Fn(qv,Kh),Fn(Wv,Dv),Fn(Pu,iI),Pu.prototype.xa=function(){Un(this.g,"a")},Pu.prototype.wa=function(i){Un(this.g,new qv(i))},Pu.prototype.va=function(i){Un(this.g,new Wv(i))},Pu.prototype.ua=function(){Un(this.g,"b")},Dm.prototype.createWebChannel=Dm.prototype.g,di.prototype.send=di.prototype.u,di.prototype.open=di.prototype.m,di.prototype.close=di.prototype.close,Zh.NO_ERROR=0,Zh.TIMEOUT=8,Zh.HTTP_ERROR=6,PC.COMPLETE="complete",lm.EventType=cm,cm.OPEN="a",cm.CLOSE="b",cm.ERROR="c",cm.MESSAGE="d",Vn.prototype.listen=Vn.prototype.N,In.prototype.listenOnce=In.prototype.O,In.prototype.getLastError=In.prototype.La,In.prototype.getLastErrorCode=In.prototype.Da,In.prototype.getStatus=In.prototype.ba,In.prototype.getResponseJson=In.prototype.Qa,In.prototype.getResponseText=In.prototype.ga,In.prototype.send=In.prototype.ea;var cf=Zh,Kv=PC,Yv=Aa,Tm_PROXY=10,Tm_NOPROXY=11,Am=Nr,qc=lm,Ra=In;class hn{constructor(r){this.uid=r}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(r){return r.uid===this.uid}}hn.UNAUTHENTICATED=new hn(null),hn.GOOGLE_CREDENTIALS=new hn("google-credentials-uid"),hn.FIRST_PARTY=new hn("first-party-uid"),hn.MOCK_USER=new hn("mock-user");let df="9.0.1";const Us=new Ji.Yd("@firebase/firestore");function sI(){return Us.logLevel}function we(i,...r){if(Us.logLevel<=Ji.in.DEBUG){const s=r.map(Qv);Us.debug(`Firestore (${df}): ${i}`,...s)}}function Nn(i,...r){if(Us.logLevel<=Ji.in.ERROR){const s=r.map(Qv);Us.error(`Firestore (${df}): ${i}`,...s)}}function je(i,...r){if(Us.logLevel<=Ji.in.WARN){const s=r.map(Qv);Us.warn(`Firestore (${df}): ${i}`,...s)}}function Qv(i){if("string"==typeof i)return i;try{return JSON.stringify(i)}catch(s){return i}}function Fe(i="Unexpected state"){const r=`FIRESTORE (${df}) INTERNAL ASSERTION FAILED: `+i;throw Nn(r),new Error(r)}function ze(i,r){i||Fe()}function Te(i,r){return i}const ee={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class me extends Error{constructor(r,s){super(s),this.code=r,this.message=s,this.name="FirebaseError",this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class dt{constructor(){this.promise=new Promise((r,s)=>{this.resolve=r,this.reject=s})}}class pA{constructor(r,s){this.user=s,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization=`Bearer ${r}`}}class aI{getToken(){return Promise.resolve(null)}invalidateToken(){}start(r,s){r.enqueueRetryable(()=>s(hn.UNAUTHENTICATED))}shutdown(){}}class Jv{constructor(r){this.token=r,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(r,s){this.changeListener=s,r.enqueueRetryable(()=>s(this.token.user))}shutdown(){this.changeListener=null}}class gA{constructor(r){this.t=r,this.currentUser=hn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(r,s){var o=this;let l=this.i;const d=_=>this.i!==l?(l=this.i,s(_)):Promise.resolve();let h=new dt;this.o=()=>{this.i++,this.currentUser=this.u(),h.resolve(),h=new dt,r.enqueueRetryable(()=>d(this.currentUser))};const g=_=>{r.enqueueRetryable((0,ue.Z)(function*(){we("FirebaseCredentialsProvider","Auth detected"),o.auth=_,o.auth.addAuthTokenListener(o.o),yield h.promise,yield d(o.currentUser)}))};this.t.onInit(_=>g(_)),setTimeout(()=>{if(!this.auth){const _=this.t.getImmediate({optional:!0});_?g(_):(we("FirebaseCredentialsProvider","Auth not yet detected"),h.resolve(),h=new dt)}},0),r.enqueueRetryable((0,ue.Z)(function*(){0===o.i&&(yield h.promise,yield d(o.currentUser))}))}getToken(){const r=this.i,s=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(s).then(o=>this.i!==r?(we("FirebaseCredentialsProvider","getToken aborted due to token change."),this.getToken()):o?(ze("string"==typeof o.accessToken),new pA(o.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const r=this.auth&&this.auth.getUid();return ze(null===r||"string"==typeof r),new hn(r)}}class uI{constructor(r,s,o){this.h=r,this.l=s,this.m=o,this.type="FirstParty",this.user=hn.FIRST_PARTY}get authHeaders(){const r={"X-Goog-AuthUser":this.l},s=this.h.auth.getAuthHeaderValueForFirstParty([]);return s&&(r.Authorization=s),this.m&&(r["X-Goog-Iam-Authorization-Token"]=this.m),r}}class lI{constructor(r,s,o){this.h=r,this.l=s,this.m=o}getToken(){return Promise.resolve(new uI(this.h,this.l,this.m))}start(r,s){r.enqueueRetryable(()=>s(hn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Yr{constructor(r,s){this.previousValue=r,s&&(s.sequenceNumberHandler=o=>this.g(o),this.p=o=>s.writeSequenceNumber(o))}g(r){return this.previousValue=Math.max(r,this.previousValue),this.previousValue}next(){const r=++this.previousValue;return this.p&&this.p(r),r}}function cI(i){const r="undefined"!=typeof self&&(self.crypto||self.msCrypto),s=new Uint8Array(i);if(r&&"function"==typeof r.getRandomValues)r.getRandomValues(s);else for(let o=0;o<i;o++)s[o]=Math.floor(256*Math.random());return s}Yr.T=-1;class dI{static I(){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",s=Math.floor(256/r.length)*r.length;let o="";for(;o.length<20;){const l=cI(40);for(let d=0;d<l.length;++d)o.length<20&&l[d]<s&&(o+=r.charAt(l[d]%r.length))}return o}}function gt(i,r){return i<r?-1:i>r?1:0}function Wc(i,r,s){return i.length===r.length&&i.every((o,l)=>s(o,r[l]))}function zc(i){return i+"\0"}class Bn{constructor(r,s){if(this.seconds=r,this.nanoseconds=s,s<0)throw new me(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+s);if(s>=1e9)throw new me(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+s);if(r<-62135596800)throw new me(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+r);if(r>=253402300800)throw new me(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+r)}static now(){return Bn.fromMillis(Date.now())}static fromDate(r){return Bn.fromMillis(r.getTime())}static fromMillis(r){const s=Math.floor(r/1e3),o=Math.floor(1e6*(r-1e3*s));return new Bn(s,o)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(r){return this.seconds===r.seconds?gt(this.nanoseconds,r.nanoseconds):gt(this.seconds,r.seconds)}isEqual(r){return r.seconds===this.seconds&&r.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class st{constructor(r){this.timestamp=r}static fromTimestamp(r){return new st(r)}static min(){return new st(new Bn(0,0))}compareTo(r){return this.timestamp._compareTo(r.timestamp)}isEqual(r){return this.timestamp.isEqual(r.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function hI(i){let r=0;for(const s in i)Object.prototype.hasOwnProperty.call(i,s)&&r++;return r}function Bs(i,r){for(const s in i)Object.prototype.hasOwnProperty.call(i,s)&&r(s,i[s])}function Xv(i){for(const r in i)if(Object.prototype.hasOwnProperty.call(i,r))return!1;return!0}class Zc{constructor(r,s,o){void 0===s?s=0:s>r.length&&Fe(),void 0===o?o=r.length-s:o>r.length-s&&Fe(),this.segments=r,this.offset=s,this.len=o}get length(){return this.len}isEqual(r){return 0===Zc.comparator(this,r)}child(r){const s=this.segments.slice(this.offset,this.limit());return r instanceof Zc?r.forEach(o=>{s.push(o)}):s.push(r),this.construct(s)}limit(){return this.offset+this.length}popFirst(r){return this.construct(this.segments,this.offset+(r=void 0===r?1:r),this.length-r)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(r){return this.segments[this.offset+r]}isEmpty(){return 0===this.length}isPrefixOf(r){if(r.length<this.length)return!1;for(let s=0;s<this.length;s++)if(this.get(s)!==r.get(s))return!1;return!0}isImmediateParentOf(r){if(this.length+1!==r.length)return!1;for(let s=0;s<this.length;s++)if(this.get(s)!==r.get(s))return!1;return!0}forEach(r){for(let s=this.offset,o=this.limit();s<o;s++)r(this.segments[s])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(r,s){const o=Math.min(r.length,s.length);for(let l=0;l<o;l++){const d=r.get(l),h=s.get(l);if(d<h)return-1;if(d>h)return 1}return r.length<s.length?-1:r.length>s.length?1:0}}class Ct extends Zc{construct(r,s,o){return new Ct(r,s,o)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...r){const s=[];for(const o of r){if(o.indexOf("//")>=0)throw new me(ee.INVALID_ARGUMENT,`Invalid segment (${o}). Paths must not contain // in them.`);s.push(...o.split("/").filter(l=>l.length>0))}return new Ct(s)}static emptyPath(){return new Ct([])}}const mA=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class pn extends Zc{construct(r,s,o){return new pn(r,s,o)}static isValidIdentifier(r){return mA.test(r)}canonicalString(){return this.toArray().map(r=>(r=r.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),pn.isValidIdentifier(r)||(r="`"+r+"`"),r)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new pn(["__name__"])}static fromServerFormat(r){const s=[];let o="",l=0;const d=()=>{if(0===o.length)throw new me(ee.INVALID_ARGUMENT,`Invalid field path (${r}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);s.push(o),o=""};let h=!1;for(;l<r.length;){const g=r[l];if("\\"===g){if(l+1===r.length)throw new me(ee.INVALID_ARGUMENT,"Path has trailing escape character: "+r);const _=r[l+1];if("\\"!==_&&"."!==_&&"`"!==_)throw new me(ee.INVALID_ARGUMENT,"Path has invalid escape sequence: "+r);o+=_,l+=2}else"`"===g?(h=!h,l++):"."!==g||h?(o+=g,l++):(d(),l++)}if(d(),h)throw new me(ee.INVALID_ARGUMENT,"Unterminated ` in path: "+r);return new pn(s)}static emptyPath(){return new pn([])}}class js{constructor(r){this.fields=r,r.sort(pn.comparator)}covers(r){for(const s of this.fields)if(s.isPrefixOf(r))return!0;return!1}isEqual(r){return Wc(this.fields,r.fields,(s,o)=>s.isEqual(o))}}class jn{constructor(r){this.binaryString=r}static fromBase64String(r){const s=atob(r);return new jn(s)}static fromUint8Array(r){const s=function(o){let l="";for(let d=0;d<o.length;++d)l+=String.fromCharCode(o[d]);return l}(r);return new jn(s)}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(r){const s=new Uint8Array(r.length);for(let o=0;o<r.length;o++)s[o]=r.charCodeAt(o);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(r){return gt(this.binaryString,r.binaryString)}isEqual(r){return this.binaryString===r.binaryString}}jn.EMPTY_BYTE_STRING=new jn("");const _A=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Oo(i){if(ze(!!i),"string"==typeof i){let r=0;const s=_A.exec(i);if(ze(!!s),s[1]){let l=s[1];l=(l+"000000000").substr(0,9),r=Number(l)}const o=new Date(i);return{seconds:Math.floor(o.getTime()/1e3),nanos:r}}return{seconds:gn(i.seconds),nanos:gn(i.nanos)}}function gn(i){return"number"==typeof i?i:"string"==typeof i?Number(i):0}function ku(i){return"string"==typeof i?jn.fromBase64String(i):jn.fromUint8Array(i)}function eE(i){var r,s;return"server_timestamp"===(null===(s=((null===(r=null==i?void 0:i.mapValue)||void 0===r?void 0:r.fields)||{}).__type__)||void 0===s?void 0:s.stringValue)}function tE(i){const r=i.mapValue.fields.__previous_value__;return eE(r)?tE(r):r}function hf(i){const r=Oo(i.mapValue.fields.__local_write_time__.timestampValue);return new Bn(r.seconds,r.nanos)}function Fu(i){return null==i}function nE(i){return 0===i&&1/i==-1/0}function vA(i){return"number"==typeof i&&Number.isInteger(i)&&!nE(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}class Le{constructor(r){this.path=r}static fromPath(r){return new Le(Ct.fromString(r))}static fromName(r){return new Le(Ct.fromString(r).popFirst(5))}hasCollectionId(r){return this.path.length>=2&&this.path.get(this.path.length-2)===r}isEqual(r){return null!==r&&0===Ct.comparator(this.path,r.path)}toString(){return this.path.toString()}static comparator(r,s){return Ct.comparator(r.path,s.path)}static isDocumentKey(r){return r.length%2==0}static fromSegments(r){return new Le(new Ct(r.slice()))}}function Kc(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?eE(i)?4:10:Fe()}function ts(i,r){const s=Kc(i);if(s!==Kc(r))return!1;switch(s){case 0:return!0;case 1:return i.booleanValue===r.booleanValue;case 4:return hf(i).isEqual(hf(r));case 3:return function(o,l){if("string"==typeof o.timestampValue&&"string"==typeof l.timestampValue&&o.timestampValue.length===l.timestampValue.length)return o.timestampValue===l.timestampValue;const d=Oo(o.timestampValue),h=Oo(l.timestampValue);return d.seconds===h.seconds&&d.nanos===h.nanos}(i,r);case 5:return i.stringValue===r.stringValue;case 6:return l=r,ku(i.bytesValue).isEqual(ku(l.bytesValue));case 7:return i.referenceValue===r.referenceValue;case 8:return function(o,l){return gn(o.geoPointValue.latitude)===gn(l.geoPointValue.latitude)&&gn(o.geoPointValue.longitude)===gn(l.geoPointValue.longitude)}(i,r);case 2:return function(o,l){if("integerValue"in o&&"integerValue"in l)return gn(o.integerValue)===gn(l.integerValue);if("doubleValue"in o&&"doubleValue"in l){const d=gn(o.doubleValue),h=gn(l.doubleValue);return d===h?nE(d)===nE(h):isNaN(d)&&isNaN(h)}return!1}(i,r);case 9:return Wc(i.arrayValue.values||[],r.arrayValue.values||[],ts);case 10:return function(o,l){const d=o.mapValue.fields||{},h=l.mapValue.fields||{};if(hI(d)!==hI(h))return!1;for(const g in d)if(d.hasOwnProperty(g)&&(void 0===h[g]||!ts(d[g],h[g])))return!1;return!0}(i,r);default:return Fe()}var l}function Ma(i,r){return void 0!==(i.values||[]).find(s=>ts(s,r))}function Yc(i,r){const s=Kc(i),o=Kc(r);if(s!==o)return gt(s,o);switch(s){case 0:return 0;case 1:return gt(i.booleanValue,r.booleanValue);case 2:return function(l,d){const h=gn(l.integerValue||l.doubleValue),g=gn(d.integerValue||d.doubleValue);return h<g?-1:h>g?1:h===g?0:isNaN(h)?isNaN(g)?0:-1:1}(i,r);case 3:return fI(i.timestampValue,r.timestampValue);case 4:return fI(hf(i),hf(r));case 5:return gt(i.stringValue,r.stringValue);case 6:return function(l,d){const h=ku(l),g=ku(d);return h.compareTo(g)}(i.bytesValue,r.bytesValue);case 7:return function(l,d){const h=l.split("/"),g=d.split("/");for(let _=0;_<h.length&&_<g.length;_++){const w=gt(h[_],g[_]);if(0!==w)return w}return gt(h.length,g.length)}(i.referenceValue,r.referenceValue);case 8:return function(l,d){const h=gt(gn(l.latitude),gn(d.latitude));return 0!==h?h:gt(gn(l.longitude),gn(d.longitude))}(i.geoPointValue,r.geoPointValue);case 9:return function(l,d){const h=l.values||[],g=d.values||[];for(let _=0;_<h.length&&_<g.length;++_){const w=Yc(h[_],g[_]);if(w)return w}return gt(h.length,g.length)}(i.arrayValue,r.arrayValue);case 10:return function(l,d){const h=l.fields||{},g=Object.keys(h),_=d.fields||{},w=Object.keys(_);g.sort(),w.sort();for(let C=0;C<g.length&&C<w.length;++C){const I=gt(g[C],w[C]);if(0!==I)return I;const A=Yc(h[g[C]],_[w[C]]);if(0!==A)return A}return gt(g.length,w.length)}(i.mapValue,r.mapValue);default:throw Fe()}}function fI(i,r){if("string"==typeof i&&"string"==typeof r&&i.length===r.length)return gt(i,r);const s=Oo(i),o=Oo(r),l=gt(s.seconds,o.seconds);return 0!==l?l:gt(s.nanos,o.nanos)}function xm(i){return Lu(i)}function Lu(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(o){const l=Oo(o);return`time(${l.seconds},${l.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?ku(i.bytesValue).toBase64():"referenceValue"in i?Le.fromName(i.referenceValue).toString():"geoPointValue"in i?`geo(${(r=i.geoPointValue).latitude},${r.longitude})`:"arrayValue"in i?function(o){let l="[",d=!0;for(const h of o.values||[])d?d=!1:l+=",",l+=Lu(h);return l+"]"}(i.arrayValue):"mapValue"in i?function(o){const l=Object.keys(o.fields||{}).sort();let d="{",h=!0;for(const g of l)h?h=!1:d+=",",d+=`${g}:${Lu(o.fields[g])}`;return d+"}"}(i.mapValue):Fe();var r}function Nm(i,r){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${r.path.canonicalString()}`}}function rE(i){return!!i&&"integerValue"in i}function iE(i){return!!i&&"arrayValue"in i}function pI(i){return!!i&&"nullValue"in i}function gI(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function ff(i){return!!i&&"mapValue"in i}function pf(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&"object"==typeof i.timestampValue)return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const r={mapValue:{fields:{}}};return Bs(i.mapValue.fields,(s,o)=>r.mapValue.fields[s]=pf(o)),r}if(i.arrayValue){const r={arrayValue:{values:[]}};for(let s=0;s<(i.arrayValue.values||[]).length;++s)r.arrayValue.values[s]=pf(i.arrayValue.values[s]);return r}return Object.assign({},i)}class gr{constructor(r){this.value=r}static empty(){return new gr({mapValue:{}})}field(r){if(r.isEmpty())return this.value;{let s=this.value;for(let o=0;o<r.length-1;++o)if(s=(s.mapValue.fields||{})[r.get(o)],!ff(s))return null;return s=(s.mapValue.fields||{})[r.lastSegment()],s||null}}set(r,s){this.getFieldsMap(r.popLast())[r.lastSegment()]=pf(s)}setAll(r){let s=pn.emptyPath(),o={},l=[];r.forEach((h,g)=>{if(!s.isImmediateParentOf(g)){const _=this.getFieldsMap(s);this.applyChanges(_,o,l),o={},l=[],s=g.popLast()}h?o[g.lastSegment()]=pf(h):l.push(g.lastSegment())});const d=this.getFieldsMap(s);this.applyChanges(d,o,l)}delete(r){const s=this.field(r.popLast());ff(s)&&s.mapValue.fields&&delete s.mapValue.fields[r.lastSegment()]}isEqual(r){return ts(this.value,r.value)}getFieldsMap(r){let s=this.value;s.mapValue.fields||(s.mapValue={fields:{}});for(let o=0;o<r.length;++o){let l=s.mapValue.fields[r.get(o)];ff(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},s.mapValue.fields[r.get(o)]=l),s=l}return s.mapValue.fields}applyChanges(r,s,o){Bs(s,(l,d)=>r[l]=d);for(const l of o)delete r[l]}clone(){return new gr(pf(this.value))}}function Vu(i){const r=[];return Bs(i.fields,(s,o)=>{const l=new pn([s]);if(ff(o)){const d=Vu(o.mapValue).fields;if(0===d.length)r.push(l);else for(const h of d)r.push(l.child(h))}else r.push(l)}),new js(r)}class Xt{constructor(r,s,o,l,d){this.key=r,this.documentType=s,this.version=o,this.data=l,this.documentState=d}static newInvalidDocument(r){return new Xt(r,0,st.min(),gr.empty(),0)}static newFoundDocument(r,s,o){return new Xt(r,1,s,o,0)}static newNoDocument(r,s){return new Xt(r,2,s,gr.empty(),0)}static newUnknownDocument(r,s){return new Xt(r,3,s,gr.empty(),2)}convertToFoundDocument(r,s){return this.version=r,this.documentType=1,this.data=s,this.documentState=0,this}convertToNoDocument(r){return this.version=r,this.documentType=2,this.data=gr.empty(),this.documentState=0,this}convertToUnknownDocument(r){return this.version=r,this.documentType=3,this.data=gr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(r){return r instanceof Xt&&this.key.isEqual(r.key)&&this.version.isEqual(r.version)&&this.documentType===r.documentType&&this.documentState===r.documentState&&this.data.isEqual(r.data)}clone(){return new Xt(this.key,this.documentType,this.version,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class mI{constructor(r,s=null,o=[],l=[],d=null,h=null,g=null){this.path=r,this.collectionGroup=s,this.orderBy=o,this.filters=l,this.limit=d,this.startAt=h,this.endAt=g,this.A=null}}function yI(i,r=null,s=[],o=[],l=null,d=null,h=null){return new mI(i,r,s,o,l,d,h)}function Qc(i){const r=Te(i);if(null===r.A){let s=r.path.canonicalString();null!==r.collectionGroup&&(s+="|cg:"+r.collectionGroup),s+="|f:",s+=r.filters.map(o=>function(i){return i.field.canonicalString()+i.op.toString()+xm(i.value)}(o)).join(","),s+="|ob:",s+=r.orderBy.map(o=>{return(l=o).field.canonicalString()+l.dir;var l}).join(","),Fu(r.limit)||(s+="|l:",s+=r.limit),r.startAt&&(s+="|lb:",s+=Mm(r.startAt)),r.endAt&&(s+="|ub:",s+=Mm(r.endAt)),r.A=s}return r.A}function gf(i,r){if(i.limit!==r.limit||i.orderBy.length!==r.orderBy.length)return!1;for(let l=0;l<i.orderBy.length;l++)if(!DA(i.orderBy[l],r.orderBy[l]))return!1;if(i.filters.length!==r.filters.length)return!1;for(let l=0;l<i.filters.length;l++)if((s=i.filters[l]).op!==(o=r.filters[l]).op||!s.field.isEqual(o.field)||!ts(s.value,o.value))return!1;var s,o;return i.collectionGroup===r.collectionGroup&&!!i.path.isEqual(r.path)&&!!II(i.startAt,r.startAt)&&II(i.endAt,r.endAt)}function Rm(i){return Le.isDocumentKey(i.path)&&null===i.collectionGroup&&0===i.filters.length}class tr extends class{}{constructor(r,s,o){super(),this.field=r,this.op=s,this.value=o}static create(r,s,o){return r.isKeyField()?"in"===s||"not-in"===s?this.R(r,s,o):new _I(r,s,o):"array-contains"===s?new IA(r,o):"in"===s?new sE(r,o):"not-in"===s?new bA(r,o):"array-contains-any"===s?new wI(r,o):new tr(r,s,o)}static R(r,s,o){return"in"===s?new vI(r,o):new CA(r,o)}matches(r){const s=r.data.field(this.field);return"!="===this.op?null!==s&&this.P(Yc(s,this.value)):null!==s&&Kc(this.value)===Kc(s)&&this.P(Yc(s,this.value))}P(r){switch(this.op){case"<":return r<0;case"<=":return r<=0;case"==":return 0===r;case"!=":return 0!==r;case">":return r>0;case">=":return r>=0;default:return Fe()}}v(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class _I extends tr{constructor(r,s,o){super(r,s,o),this.key=Le.fromName(o.referenceValue)}matches(r){const s=Le.comparator(r.key,this.key);return this.P(s)}}class vI extends tr{constructor(r,s){super(r,"in",s),this.keys=EI(0,s)}matches(r){return this.keys.some(s=>s.isEqual(r.key))}}class CA extends tr{constructor(r,s){super(r,"not-in",s),this.keys=EI(0,s)}matches(r){return!this.keys.some(s=>s.isEqual(r.key))}}function EI(i,r){var s;return((null===(s=r.arrayValue)||void 0===s?void 0:s.values)||[]).map(o=>Le.fromName(o.referenceValue))}class IA extends tr{constructor(r,s){super(r,"array-contains",s)}matches(r){const s=r.data.field(this.field);return iE(s)&&Ma(s.arrayValue,this.value)}}class sE extends tr{constructor(r,s){super(r,"in",s)}matches(r){const s=r.data.field(this.field);return null!==s&&Ma(this.value.arrayValue,s)}}class bA extends tr{constructor(r,s){super(r,"not-in",s)}matches(r){if(Ma(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const s=r.data.field(this.field);return null!==s&&!Ma(this.value.arrayValue,s)}}class wI extends tr{constructor(r,s){super(r,"array-contains-any",s)}matches(r){const s=r.data.field(this.field);return!(!iE(s)||!s.arrayValue.values)&&s.arrayValue.values.some(o=>Ma(this.value.arrayValue,o))}}class mf{constructor(r,s){this.position=r,this.before=s}}function Mm(i){return`${i.before?"b":"a"}:${i.position.map(r=>xm(r)).join(",")}`}class Jc{constructor(r,s="asc"){this.field=r,this.dir=s}}function DA(i,r){return i.dir===r.dir&&i.field.isEqual(r.field)}function CI(i,r,s){let o=0;for(let l=0;l<i.position.length;l++){const d=r[l],h=i.position[l];if(o=d.field.isKeyField()?Le.comparator(Le.fromName(h.referenceValue),s.key):Yc(h,s.data.field(d.field)),"desc"===d.dir&&(o*=-1),0!==o)break}return i.before?o<=0:o<0}function II(i,r){if(null===i)return null===r;if(null===r||i.before!==r.before||i.position.length!==r.position.length)return!1;for(let s=0;s<i.position.length;s++)if(!ts(i.position[s],r.position[s]))return!1;return!0}class Po{constructor(r,s=null,o=[],l=[],d=null,h="F",g=null,_=null){this.path=r,this.collectionGroup=s,this.explicitOrderBy=o,this.filters=l,this.limit=d,this.limitType=h,this.startAt=g,this.endAt=_,this.V=null,this.S=null}}function bI(i,r,s,o,l,d,h,g){return new Po(i,r,s,o,l,d,h,g)}function Uu(i){return new Po(i)}function yf(i){return!Fu(i.limit)&&"F"===i.limitType}function Om(i){return!Fu(i.limit)&&"L"===i.limitType}function oE(i){return i.explicitOrderBy.length>0?i.explicitOrderBy[0].field:null}function Pm(i){for(const r of i.filters)if(r.v())return r.field;return null}function aE(i){return null!==i.collectionGroup}function Xc(i){const r=Te(i);if(null===r.V){r.V=[];const s=Pm(r),o=oE(r);if(null!==s&&null===o)s.isKeyField()||r.V.push(new Jc(s)),r.V.push(new Jc(pn.keyField(),"asc"));else{let l=!1;for(const d of r.explicitOrderBy)r.V.push(d),d.field.isKeyField()&&(l=!0);if(!l){const d=r.explicitOrderBy.length>0?r.explicitOrderBy[r.explicitOrderBy.length-1].dir:"asc";r.V.push(new Jc(pn.keyField(),d))}}}return r.V}function Ai(i){const r=Te(i);if(!r.S)if("F"===r.limitType)r.S=yI(r.path,r.collectionGroup,Xc(r),r.filters,r.limit,r.startAt,r.endAt);else{const s=[];for(const d of Xc(r))s.push(new Jc(d.field,"desc"===d.dir?"asc":"desc"));const o=r.endAt?new mf(r.endAt.position,!r.endAt.before):null,l=r.startAt?new mf(r.startAt.position,!r.startAt.before):null;r.S=yI(r.path,r.collectionGroup,s,r.filters,r.limit,o,l)}return r.S}function km(i,r,s){return new Po(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),r,s,i.startAt,i.endAt)}function Bu(i,r){return gf(Ai(i),Ai(r))&&i.limitType===r.limitType}function uE(i){return`${Qc(Ai(i))}|lt:${i.limitType}`}function _f(i){return`Query(target=${function(i){let r=i.path.canonicalString();return null!==i.collectionGroup&&(r+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(r+=`, filters: [${i.filters.map(s=>{return`${(o=s).field.canonicalString()} ${o.op} ${xm(o.value)}`;var o}).join(", ")}]`),Fu(i.limit)||(r+=", limit: "+i.limit),i.orderBy.length>0&&(r+=`, orderBy: [${i.orderBy.map(s=>{return`${(o=s).field.canonicalString()} (${o.dir})`;var o}).join(", ")}]`),i.startAt&&(r+=", startAt: "+Mm(i.startAt)),i.endAt&&(r+=", endAt: "+Mm(i.endAt)),`Target(${r})`}(Ai(i))}; limitType=${i.limitType})`}function vf(i,r){return r.isFoundDocument()&&function(s,o){const l=o.key.path;return null!==s.collectionGroup?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(l):Le.isDocumentKey(s.path)?s.path.isEqual(l):s.path.isImmediateParentOf(l)}(i,r)&&function(s,o){for(const l of s.explicitOrderBy)if(!l.field.isKeyField()&&null===o.data.field(l.field))return!1;return!0}(i,r)&&function(s,o){for(const l of s.filters)if(!l.matches(o))return!1;return!0}(i,r)&&(o=r,!((s=i).startAt&&!CI(s.startAt,Xc(s),o)||s.endAt&&CI(s.endAt,Xc(s),o)));var s,o}function DI(i){return(r,s)=>{let o=!1;for(const l of Xc(i)){const d=lE(l,r,s);if(0!==d)return d;o=o||l.field.isKeyField()}return 0}}function lE(i,r,s){const o=i.field.isKeyField()?Le.comparator(r.key,s.key):function(l,d,h){const g=d.data.field(l),_=h.data.field(l);return null!==g&&null!==_?Yc(g,_):Fe()}(i.field,r,s);switch(i.dir){case"asc":return o;case"desc":return-1*o;default:return Fe()}}function TI(i,r){if(i.D){if(isNaN(r))return{doubleValue:"NaN"};if(r===1/0)return{doubleValue:"Infinity"};if(r===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:nE(r)?"-0":r}}function cE(i){return{integerValue:""+i}}function AI(i,r){return vA(r)?cE(r):TI(i,r)}class Ef{constructor(){this._=void 0}}function SI(i,r,s){return i instanceof ed?function(o,l){const d={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return l&&(d.fields.__previous_value__=l),{mapValue:d}}(s,r):i instanceof hi?AA(i,r):i instanceof ko?wf(i,r):function(o,l){const d=TA(o,l),h=ju(d)+ju(o.C);return rE(d)&&rE(o.C)?cE(h):TI(o.N,h)}(i,r)}function xI(i,r,s){return i instanceof hi?AA(i,r):i instanceof ko?wf(i,r):s}function TA(i,r){return i instanceof td?rE(s=r)||(o=s)&&"doubleValue"in o?r:{integerValue:0}:null;var o,s}class ed extends Ef{}class hi extends Ef{constructor(r){super(),this.elements=r}}function AA(i,r){const s=NI(r);for(const o of i.elements)s.some(l=>ts(l,o))||s.push(o);return{arrayValue:{values:s}}}class ko extends Ef{constructor(r){super(),this.elements=r}}function wf(i,r){let s=NI(r);for(const o of i.elements)s=s.filter(l=>!ts(l,o));return{arrayValue:{values:s}}}class td extends Ef{constructor(r,s){super(),this.N=r,this.C=s}}function ju(i){return gn(i.integerValue||i.doubleValue)}function NI(i){return iE(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}class Fm{constructor(r,s){this.field=r,this.transform=s}}class Hs{constructor(r,s){this.version=r,this.transformResults=s}}class mn{constructor(r,s){this.updateTime=r,this.exists=s}static none(){return new mn}static exists(r){return new mn(void 0,r)}static updateTime(r){return new mn(r)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(r){return this.exists===r.exists&&(this.updateTime?!!r.updateTime&&this.updateTime.isEqual(r.updateTime):!r.updateTime)}}function dE(i,r){return void 0!==i.updateTime?r.isFoundDocument()&&r.version.isEqual(i.updateTime):void 0===i.exists||i.exists===r.isFoundDocument()}class Hu{}function xA(i,r,s){i instanceof Cf?function(o,l,d){const h=o.value.clone(),g=Lm(o.fieldTransforms,l,d.transformResults);h.setAll(g),l.convertToFoundDocument(d.version,h).setHasCommittedMutations()}(i,r,s):i instanceof $s?function(o,l,d){if(!dE(o.precondition,l))return void l.convertToUnknownDocument(d.version);const h=Lm(o.fieldTransforms,l,d.transformResults),g=l.data;g.setAll(fE(o)),g.setAll(h),l.convertToFoundDocument(d.version,g).setHasCommittedMutations()}(i,r,s):r.convertToNoDocument(s.version).setHasCommittedMutations()}function hE(i,r,s){var l;i instanceof Cf?function(o,l,d){if(!dE(o.precondition,l))return;const h=o.value.clone(),g=pE(o.fieldTransforms,d,l);h.setAll(g),l.convertToFoundDocument(MI(l),h).setHasLocalMutations()}(i,r,s):i instanceof $s?function(o,l,d){if(!dE(o.precondition,l))return;const h=pE(o.fieldTransforms,d,l),g=l.data;g.setAll(fE(o)),g.setAll(h),l.convertToFoundDocument(MI(l),g).setHasLocalMutations()}(i,r,s):dE(i.precondition,l=r)&&l.convertToNoDocument(st.min())}function oN(i,r){let s=null;for(const o of i.fieldTransforms){const l=r.data.field(o.field),d=TA(o.transform,l||null);null!=d&&(null==s&&(s=gr.empty()),s.set(o.field,d))}return s||null}function RI(i,r){return i.type===r.type&&!!i.key.isEqual(r.key)&&!!i.precondition.isEqual(r.precondition)&&(o=r.fieldTransforms,!!(void 0===(s=i.fieldTransforms)&&void 0===o||s&&o&&Wc(s,o,(l,d)=>function(i,r){return i.field.isEqual(r.field)&&(o=r.transform,(s=i.transform)instanceof hi&&o instanceof hi||s instanceof ko&&o instanceof ko?Wc(s.elements,o.elements,ts):s instanceof td&&o instanceof td?ts(s.C,o.C):s instanceof ed&&o instanceof ed);var s,o}(l,d))))&&(0===i.type?i.value.isEqual(r.value):1!==i.type||i.data.isEqual(r.data)&&i.fieldMask.isEqual(r.fieldMask));var s,o}function MI(i){return i.isFoundDocument()?i.version:st.min()}class Cf extends Hu{constructor(r,s,o,l=[]){super(),this.key=r,this.value=s,this.precondition=o,this.fieldTransforms=l,this.type=0}}class $s extends Hu{constructor(r,s,o,l,d=[]){super(),this.key=r,this.data=s,this.fieldMask=o,this.precondition=l,this.fieldTransforms=d,this.type=1}}function fE(i){const r=new Map;return i.fieldMask.fields.forEach(s=>{if(!s.isEmpty()){const o=i.data.field(s);r.set(s,o)}}),r}function Lm(i,r,s){const o=new Map;ze(i.length===s.length);for(let l=0;l<s.length;l++){const d=i[l],h=d.transform,g=r.data.field(d.field);o.set(d.field,xI(h,g,s[l]))}return o}function pE(i,r,s){const o=new Map;for(const l of i){const d=l.transform,h=s.data.field(l.field);o.set(l.field,SI(d,h,r))}return o}class If extends Hu{constructor(r,s){super(),this.key=r,this.precondition=s,this.type=2,this.fieldTransforms=[]}}class OI extends Hu{constructor(r,s){super(),this.key=r,this.precondition=s,this.type=3,this.fieldTransforms=[]}}class NA{constructor(r){this.count=r}}var bn,vt;function gE(i){switch(i){case ee.OK:return Fe();case ee.CANCELLED:case ee.UNKNOWN:case ee.DEADLINE_EXCEEDED:case ee.RESOURCE_EXHAUSTED:case ee.INTERNAL:case ee.UNAVAILABLE:case ee.UNAUTHENTICATED:return!1;case ee.INVALID_ARGUMENT:case ee.NOT_FOUND:case ee.ALREADY_EXISTS:case ee.PERMISSION_DENIED:case ee.FAILED_PRECONDITION:case ee.ABORTED:case ee.OUT_OF_RANGE:case ee.UNIMPLEMENTED:case ee.DATA_LOSS:return!0;default:return Fe()}}function mE(i){if(void 0===i)return Nn("GRPC error has no .code"),ee.UNKNOWN;switch(i){case bn.OK:return ee.OK;case bn.CANCELLED:return ee.CANCELLED;case bn.UNKNOWN:return ee.UNKNOWN;case bn.DEADLINE_EXCEEDED:return ee.DEADLINE_EXCEEDED;case bn.RESOURCE_EXHAUSTED:return ee.RESOURCE_EXHAUSTED;case bn.INTERNAL:return ee.INTERNAL;case bn.UNAVAILABLE:return ee.UNAVAILABLE;case bn.UNAUTHENTICATED:return ee.UNAUTHENTICATED;case bn.INVALID_ARGUMENT:return ee.INVALID_ARGUMENT;case bn.NOT_FOUND:return ee.NOT_FOUND;case bn.ALREADY_EXISTS:return ee.ALREADY_EXISTS;case bn.PERMISSION_DENIED:return ee.PERMISSION_DENIED;case bn.FAILED_PRECONDITION:return ee.FAILED_PRECONDITION;case bn.ABORTED:return ee.ABORTED;case bn.OUT_OF_RANGE:return ee.OUT_OF_RANGE;case bn.UNIMPLEMENTED:return ee.UNIMPLEMENTED;case bn.DATA_LOSS:return ee.DATA_LOSS;default:return Fe()}}(vt=bn||(bn={}))[vt.OK=0]="OK",vt[vt.CANCELLED=1]="CANCELLED",vt[vt.UNKNOWN=2]="UNKNOWN",vt[vt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",vt[vt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",vt[vt.NOT_FOUND=5]="NOT_FOUND",vt[vt.ALREADY_EXISTS=6]="ALREADY_EXISTS",vt[vt.PERMISSION_DENIED=7]="PERMISSION_DENIED",vt[vt.UNAUTHENTICATED=16]="UNAUTHENTICATED",vt[vt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",vt[vt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",vt[vt.ABORTED=10]="ABORTED",vt[vt.OUT_OF_RANGE=11]="OUT_OF_RANGE",vt[vt.UNIMPLEMENTED=12]="UNIMPLEMENTED",vt[vt.INTERNAL=13]="INTERNAL",vt[vt.UNAVAILABLE=14]="UNAVAILABLE",vt[vt.DATA_LOSS=15]="DATA_LOSS";class Dn{constructor(r,s){this.comparator=r,this.root=s||nr.EMPTY}insert(r,s){return new Dn(this.comparator,this.root.insert(r,s,this.comparator).copy(null,null,nr.BLACK,null,null))}remove(r){return new Dn(this.comparator,this.root.remove(r,this.comparator).copy(null,null,nr.BLACK,null,null))}get(r){let s=this.root;for(;!s.isEmpty();){const o=this.comparator(r,s.key);if(0===o)return s.value;o<0?s=s.left:o>0&&(s=s.right)}return null}indexOf(r){let s=0,o=this.root;for(;!o.isEmpty();){const l=this.comparator(r,o.key);if(0===l)return s+o.left.size;l<0?o=o.left:(s+=o.left.size+1,o=o.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(r){return this.root.inorderTraversal(r)}forEach(r){this.inorderTraversal((s,o)=>(r(s,o),!1))}toString(){const r=[];return this.inorderTraversal((s,o)=>(r.push(`${s}:${o}`),!1)),`{${r.join(", ")}}`}reverseTraversal(r){return this.root.reverseTraversal(r)}getIterator(){return new Vm(this.root,null,this.comparator,!1)}getIteratorFrom(r){return new Vm(this.root,r,this.comparator,!1)}getReverseIterator(){return new Vm(this.root,null,this.comparator,!0)}getReverseIteratorFrom(r){return new Vm(this.root,r,this.comparator,!0)}}class Vm{constructor(r,s,o,l){this.isReverse=l,this.nodeStack=[];let d=1;for(;!r.isEmpty();)if(d=s?o(r.key,s):1,l&&(d*=-1),d<0)r=this.isReverse?r.left:r.right;else{if(0===d){this.nodeStack.push(r);break}this.nodeStack.push(r),r=this.isReverse?r.right:r.left}}getNext(){let r=this.nodeStack.pop();const s={key:r.key,value:r.value};if(this.isReverse)for(r=r.left;!r.isEmpty();)this.nodeStack.push(r),r=r.right;else for(r=r.right;!r.isEmpty();)this.nodeStack.push(r),r=r.left;return s}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const r=this.nodeStack[this.nodeStack.length-1];return{key:r.key,value:r.value}}}class nr{constructor(r,s,o,l,d){this.key=r,this.value=s,this.color=null!=o?o:nr.RED,this.left=null!=l?l:nr.EMPTY,this.right=null!=d?d:nr.EMPTY,this.size=this.left.size+1+this.right.size}copy(r,s,o,l,d){return new nr(null!=r?r:this.key,null!=s?s:this.value,null!=o?o:this.color,null!=l?l:this.left,null!=d?d:this.right)}isEmpty(){return!1}inorderTraversal(r){return this.left.inorderTraversal(r)||r(this.key,this.value)||this.right.inorderTraversal(r)}reverseTraversal(r){return this.right.reverseTraversal(r)||r(this.key,this.value)||this.left.reverseTraversal(r)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(r,s,o){let l=this;const d=o(r,l.key);return l=d<0?l.copy(null,null,null,l.left.insert(r,s,o),null):0===d?l.copy(null,s,null,null,null):l.copy(null,null,null,null,l.right.insert(r,s,o)),l.fixUp()}removeMin(){if(this.left.isEmpty())return nr.EMPTY;let r=this;return r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.removeMin(),null),r.fixUp()}remove(r,s){let o,l=this;if(s(r,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(r,s),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),0===s(r,l.key)){if(l.right.isEmpty())return nr.EMPTY;o=l.right.min(),l=l.copy(o.key,o.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(r,s))}return l.fixUp()}isRed(){return this.color}fixUp(){let r=this;return r.right.isRed()&&!r.left.isRed()&&(r=r.rotateLeft()),r.left.isRed()&&r.left.left.isRed()&&(r=r.rotateRight()),r.left.isRed()&&r.right.isRed()&&(r=r.colorFlip()),r}moveRedLeft(){let r=this.colorFlip();return r.right.left.isRed()&&(r=r.copy(null,null,null,null,r.right.rotateRight()),r=r.rotateLeft(),r=r.colorFlip()),r}moveRedRight(){let r=this.colorFlip();return r.left.left.isRed()&&(r=r.rotateRight(),r=r.colorFlip()),r}rotateLeft(){const r=this.copy(null,null,nr.RED,null,this.right.left);return this.right.copy(null,null,this.color,r,null)}rotateRight(){const r=this.copy(null,null,nr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,r)}colorFlip(){const r=this.left.copy(null,null,!this.left.color,null,null),s=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,r,s)}checkMaxDepth(){const r=this.check();return Math.pow(2,r)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Fe();const r=this.left.check();if(r!==this.right.check())throw Fe();return r+(this.isRed()?0:1)}}nr.EMPTY=null,nr.RED=!0,nr.BLACK=!1,nr.EMPTY=new class{constructor(){this.size=0}get key(){throw Fe()}get value(){throw Fe()}get color(){throw Fe()}get left(){throw Fe()}get right(){throw Fe()}copy(i,r,s,o,l){return this}insert(i,r,s){return new nr(i,r)}remove(i,r){return this}isEmpty(){return!0}inorderTraversal(i){return!1}reverseTraversal(i){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class an{constructor(r){this.comparator=r,this.data=new Dn(this.comparator)}has(r){return null!==this.data.get(r)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(r){return this.data.indexOf(r)}forEach(r){this.data.inorderTraversal((s,o)=>(r(s),!1))}forEachInRange(r,s){const o=this.data.getIteratorFrom(r[0]);for(;o.hasNext();){const l=o.getNext();if(this.comparator(l.key,r[1])>=0)return;s(l.key)}}forEachWhile(r,s){let o;for(o=void 0!==s?this.data.getIteratorFrom(s):this.data.getIterator();o.hasNext();)if(!r(o.getNext().key))return}firstAfterOrEqual(r){const s=this.data.getIteratorFrom(r);return s.hasNext()?s.getNext().key:null}getIterator(){return new bf(this.data.getIterator())}getIteratorFrom(r){return new bf(this.data.getIteratorFrom(r))}add(r){return this.copy(this.data.remove(r).insert(r,!0))}delete(r){return this.has(r)?this.copy(this.data.remove(r)):this}isEmpty(){return this.data.isEmpty()}unionWith(r){let s=this;return s.size<r.size&&(s=r,r=this),r.forEach(o=>{s=s.add(o)}),s}isEqual(r){if(!(r instanceof an)||this.size!==r.size)return!1;const s=this.data.getIterator(),o=r.data.getIterator();for(;s.hasNext();){const l=s.getNext().key,d=o.getNext().key;if(0!==this.comparator(l,d))return!1}return!0}toArray(){const r=[];return this.forEach(s=>{r.push(s)}),r}toString(){const r=[];return this.forEach(s=>r.push(s)),"SortedSet("+r.toString()+")"}copy(r){const s=new an(this.comparator);return s.data=r,s}}class bf{constructor(r){this.iter=r}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}const RA=new Dn(Le.comparator);function fi(){return RA}const Um=new Dn(Le.comparator);function nd(){return Um}const Df=new Dn(Le.comparator);function PI(){return Df}const MA=new an(Le.comparator);function Mt(...i){let r=MA;for(const s of i)r=r.add(s);return r}const OA=new an(gt);function Bm(){return OA}class Tf{constructor(r,s,o,l,d){this.snapshotVersion=r,this.targetChanges=s,this.targetMismatches=o,this.documentUpdates=l,this.resolvedLimboDocuments=d}static createSynthesizedRemoteEventForCurrentChange(r,s){const o=new Map;return o.set(r,Af.createSynthesizedTargetChangeForCurrentChange(r,s)),new Tf(st.min(),o,Bm(),fi(),Mt())}}class Af{constructor(r,s,o,l,d){this.resumeToken=r,this.current=s,this.addedDocuments=o,this.modifiedDocuments=l,this.removedDocuments=d}static createSynthesizedTargetChangeForCurrentChange(r,s){return new Af(jn.EMPTY_BYTE_STRING,s,Mt(),Mt(),Mt())}}class jm{constructor(r,s,o,l){this.k=r,this.removedTargetIds=s,this.key=o,this.$=l}}class kI{constructor(r,s){this.targetId=r,this.O=s}}class FI{constructor(r,s,o=jn.EMPTY_BYTE_STRING,l=null){this.state=r,this.targetIds=s,this.resumeToken=o,this.cause=l}}class LI{constructor(){this.F=0,this.M=VI(),this.L=jn.EMPTY_BYTE_STRING,this.B=!1,this.U=!0}get current(){return this.B}get resumeToken(){return this.L}get q(){return 0!==this.F}get K(){return this.U}j(r){r.approximateByteSize()>0&&(this.U=!0,this.L=r)}W(){let r=Mt(),s=Mt(),o=Mt();return this.M.forEach((l,d)=>{switch(d){case 0:r=r.add(l);break;case 2:s=s.add(l);break;case 1:o=o.add(l);break;default:Fe()}}),new Af(this.L,this.B,r,s,o)}G(){this.U=!1,this.M=VI()}H(r,s){this.U=!0,this.M=this.M.insert(r,s)}J(r){this.U=!0,this.M=this.M.remove(r)}Y(){this.F+=1}X(){this.F-=1}Z(){this.U=!0,this.B=!0}}class PA{constructor(r){this.tt=r,this.et=new Map,this.nt=fi(),this.st=kA(),this.it=new an(gt)}rt(r){for(const s of r.k)r.$&&r.$.isFoundDocument()?this.ot(s,r.$):this.at(s,r.key,r.$);for(const s of r.removedTargetIds)this.at(s,r.key,r.$)}ct(r){this.forEachTarget(r,s=>{const o=this.ut(s);switch(r.state){case 0:this.ht(s)&&o.j(r.resumeToken);break;case 1:o.X(),o.q||o.G(),o.j(r.resumeToken);break;case 2:o.X(),o.q||this.removeTarget(s);break;case 3:this.ht(s)&&(o.Z(),o.j(r.resumeToken));break;case 4:this.ht(s)&&(this.lt(s),o.j(r.resumeToken));break;default:Fe()}})}forEachTarget(r,s){r.targetIds.length>0?r.targetIds.forEach(s):this.et.forEach((o,l)=>{this.ht(l)&&s(l)})}ft(r){const s=r.targetId,o=r.O.count,l=this.dt(s);if(l){const d=l.target;if(Rm(d))if(0===o){const h=new Le(d.path);this.at(s,h,Xt.newNoDocument(h,st.min()))}else ze(1===o);else this.wt(s)!==o&&(this.lt(s),this.it=this.it.add(s))}}_t(r){const s=new Map;this.et.forEach((d,h)=>{const g=this.dt(h);if(g){if(d.current&&Rm(g.target)){const _=new Le(g.target.path);null!==this.nt.get(_)||this.gt(h,_)||this.at(h,_,Xt.newNoDocument(_,r))}d.K&&(s.set(h,d.W()),d.G())}});let o=Mt();this.st.forEach((d,h)=>{let g=!0;h.forEachWhile(_=>{const w=this.dt(_);return!w||2===w.purpose||(g=!1,!1)}),g&&(o=o.add(d))});const l=new Tf(r,s,this.it,this.nt,o);return this.nt=fi(),this.st=kA(),this.it=new an(gt),l}ot(r,s){if(!this.ht(r))return;const o=this.gt(r,s.key)?2:0;this.ut(r).H(s.key,o),this.nt=this.nt.insert(s.key,s),this.st=this.st.insert(s.key,this.yt(s.key).add(r))}at(r,s,o){if(!this.ht(r))return;const l=this.ut(r);this.gt(r,s)?l.H(s,1):l.J(s),this.st=this.st.insert(s,this.yt(s).delete(r)),o&&(this.nt=this.nt.insert(s,o))}removeTarget(r){this.et.delete(r)}wt(r){const s=this.ut(r).W();return this.tt.getRemoteKeysForTarget(r).size+s.addedDocuments.size-s.removedDocuments.size}Y(r){this.ut(r).Y()}ut(r){let s=this.et.get(r);return s||(s=new LI,this.et.set(r,s)),s}yt(r){let s=this.st.get(r);return s||(s=new an(gt),this.st=this.st.insert(r,s)),s}ht(r){const s=null!==this.dt(r);return s||we("WatchChangeAggregator","Detected inactive target",r),s}dt(r){const s=this.et.get(r);return s&&s.q?null:this.tt.Et(r)}lt(r){this.et.set(r,new LI),this.tt.getRemoteKeysForTarget(r).forEach(s=>{this.at(r,s,null)})}gt(r,s){return this.tt.getRemoteKeysForTarget(r).has(s)}}function kA(){return new Dn(Le.comparator)}function VI(){return new Dn(Le.comparator)}const Sf={asc:"ASCENDING",desc:"DESCENDING"},FA={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class LA{constructor(r,s){this.databaseId=r,this.D=s}}function xf(i,r){return i.D?`${new Date(1e3*r.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+r.nanoseconds).slice(-9)}Z`:{seconds:""+r.seconds,nanos:r.nanoseconds}}function Nf(i,r){return i.D?r.toBase64():r.toUint8Array()}function $u(i,r){return xf(i,r.toTimestamp())}function Rn(i){return ze(!!i),st.fromTimestamp(function(r){const s=Oo(r);return new Bn(s.seconds,s.nanos)}(i))}function yE(i,r){return(s=i,new Ct(["projects",s.projectId,"databases",s.database])).child("documents").child(r).canonicalString();var s}function VA(i){const r=Ct.fromString(i);return ze(jA(r)),r}function Rf(i,r){return yE(i.databaseId,r.path)}function pi(i,r){const s=VA(r);if(s.get(1)!==i.databaseId.projectId)throw new me(ee.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+s.get(1)+" vs "+i.databaseId.projectId);if(s.get(3)!==i.databaseId.database)throw new me(ee.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+s.get(3)+" vs "+i.databaseId.database);return new Le(vE(s))}function _E(i,r){return yE(i.databaseId,r)}function UI(i){const r=VA(i);return 4===r.length?Ct.emptyPath():vE(r)}function rd(i){return new Ct(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function vE(i){return ze(i.length>4&&"documents"===i.get(4)),i.popFirst(5)}function Hm(i,r,s){return{name:Rf(i,r),fields:s.value.mapValue.fields}}function EE(i,r,s){const o=pi(i,r.name),l=Rn(r.updateTime),d=new gr({mapValue:{fields:r.fields}}),h=Xt.newFoundDocument(o,l,d);return s&&h.setHasCommittedMutations(),s?h.setHasCommittedMutations():h}function $m(i,r){let s;if(r instanceof Cf)s={update:Hm(i,r.key,r.value)};else if(r instanceof If)s={delete:Rf(i,r.key)};else if(r instanceof $s)s={update:Hm(i,r.key,r.data),updateMask:Gu(r.fieldMask)};else{if(!(r instanceof OI))return Fe();s={verify:Rf(i,r.key)}}return r.fieldTransforms.length>0&&(s.updateTransforms=r.fieldTransforms.map(o=>function(l,d){const h=d.transform;if(h instanceof ed)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof hi)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof ko)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof td)return{fieldPath:d.field.canonicalString(),increment:h.C};throw Fe()}(0,o))),r.precondition.isNone||(s.currentDocument=void 0!==(l=r.precondition).updateTime?{updateTime:$u(i,l.updateTime)}:void 0!==l.exists?{exists:l.exists}:Fe()),s;var l}function wE(i,r){const s=r.currentDocument?void 0!==(l=r.currentDocument).updateTime?mn.updateTime(Rn(l.updateTime)):void 0!==l.exists?mn.exists(l.exists):mn.none():mn.none(),o=r.updateTransforms?r.updateTransforms.map(l=>function(d,h){let g=null;"setToServerValue"in h?(ze("REQUEST_TIME"===h.setToServerValue),g=new ed):"appendMissingElements"in h?g=new hi(h.appendMissingElements.values||[]):"removeAllFromArray"in h?g=new ko(h.removeAllFromArray.values||[]):"increment"in h?g=new td(d,h.increment):Fe();const _=pn.fromServerFormat(h.fieldPath);return new Fm(_,g)}(i,l)):[];var l;if(r.update){const l=pi(i,r.update.name),d=new gr({mapValue:{fields:r.update.fields}});if(r.updateMask){const h=new js((r.updateMask.fieldPaths||[]).map(w=>pn.fromServerFormat(w)));return new $s(l,d,h,s,o)}return new Cf(l,d,s,o)}if(r.delete){const l=pi(i,r.delete);return new If(l,s)}if(r.verify){const l=pi(i,r.verify);return new OI(l,s)}return Fe()}function CE(i,r){return{documents:[_E(i,r.path)]}}function Mf(i,r){const s={structuredQuery:{}},o=r.path;null!==r.collectionGroup?(s.parent=_E(i,o),s.structuredQuery.from=[{collectionId:r.collectionGroup,allDescendants:!0}]):(s.parent=_E(i,o.popLast()),s.structuredQuery.from=[{collectionId:o.lastSegment()}]);const l=function(g){if(0===g.length)return;const _=g.map(w=>function(C){if("=="===C.op){if(gI(C.value))return{unaryFilter:{field:kf(C.field),op:"IS_NAN"}};if(pI(C.value))return{unaryFilter:{field:kf(C.field),op:"IS_NULL"}}}else if("!="===C.op){if(gI(C.value))return{unaryFilter:{field:kf(C.field),op:"IS_NOT_NAN"}};if(pI(C.value))return{unaryFilter:{field:kf(C.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:kf(C.field),op:Pf(C.op),value:C.value}}}(w));return 1===_.length?_[0]:{compositeFilter:{op:"AND",filters:_}}}(r.filters);l&&(s.structuredQuery.where=l);const d=function(g){if(0!==g.length)return g.map(_=>{return{field:kf((w=_).field),direction:sd(w.dir)};var w})}(r.orderBy);d&&(s.structuredQuery.orderBy=d);const h=(_=r.limit,i.D||Fu(_)?_:{value:_});var _;return null!==h&&(s.structuredQuery.limit=h),r.startAt&&(s.structuredQuery.startAt=Dt(r.startAt)),r.endAt&&(s.structuredQuery.endAt=Dt(r.endAt)),s}function Of(i){let r=UI(i.parent);const s=i.structuredQuery,o=s.from?s.from.length:0;let l=null;if(o>0){ze(1===o);const C=s.from[0];C.allDescendants?l=C.collectionId:r=r.child(C.collectionId)}let d=[];s.where&&(d=id(s.where));let h=[];s.orderBy&&(h=s.orderBy.map(C=>{return new Jc(Ge((I=C).field),function(A){switch(A){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(I.direction));var I}));let g=null;s.limit&&(g=function(C){let I;return I="object"==typeof C?C.value:C,Fu(I)?null:I}(s.limit));let _=null;s.startAt&&(_=Fo(s.startAt));let w=null;return s.endAt&&(w=Fo(s.endAt)),bI(r,l,h,d,g,"F",_,w)}function id(i){return i?void 0!==i.unaryFilter?[IE(i)]:void 0!==i.fieldFilter?[Si(i)]:void 0!==i.compositeFilter?i.compositeFilter.filters.map(r=>id(r)).reduce((r,s)=>r.concat(s)):Fe():[]}function Dt(i){return{before:i.before,values:i.position}}function Fo(i){return new mf(i.values||[],!!i.before)}function sd(i){return Sf[i]}function Pf(i){return FA[i]}function kf(i){return{fieldPath:i.canonicalString()}}function Ge(i){return pn.fromServerFormat(i.fieldPath)}function Si(i){return tr.create(Ge(i.fieldFilter.field),function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return Fe()}}(i.fieldFilter.op),i.fieldFilter.value)}function IE(i){switch(i.unaryFilter.op){case"IS_NAN":const r=Ge(i.unaryFilter.field);return tr.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=Ge(i.unaryFilter.field);return tr.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Ge(i.unaryFilter.field);return tr.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=Ge(i.unaryFilter.field);return tr.create(l,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return Fe()}}function Gu(i){const r=[];return i.fields.forEach(s=>r.push(s.canonicalString())),{fieldPaths:r}}function jA(i){return i.length>=4&&"projects"===i.get(0)&&"databases"===i.get(2)}function xi(i){let r="";for(let s=0;s<i.length;s++)r.length>0&&(r=HA(r)),r=jI(i.get(s),r);return HA(r)}function jI(i,r){let s=r;const o=i.length;for(let l=0;l<o;l++){const d=i.charAt(l);switch(d){case"\0":s+="\x01\x10";break;case"\x01":s+="\x01\x11";break;default:s+=d}}return s}function HA(i){return i+"\x01\x01"}function Lo(i){const r=i.length;if(ze(r>=2),2===r)return ze("\x01"===i.charAt(0)&&"\x01"===i.charAt(1)),Ct.emptyPath();const s=r-2,o=[];let l="";for(let d=0;d<r;){const h=i.indexOf("\x01",d);switch((h<0||h>s)&&Fe(),i.charAt(h+1)){case"\x01":const g=i.substring(d,h);let _;0===l.length?_=g:(l+=g,_=l,l=""),o.push(_);break;case"\x10":l+=i.substring(d,h),l+="\0";break;case"\x11":l+=i.substring(d,h+1);break;default:Fe()}d=h+2}return new Ct(o)}class $A{constructor(r,s){this.seconds=r,this.nanoseconds=s}}class en{constructor(r,s,o){this.ownerId=r,this.allowTabSynchronization=s,this.leaseTimestampMs=o}}en.store="owner",en.key="owner";class At{constructor(r,s,o){this.userId=r,this.lastAcknowledgedBatchId=s,this.lastStreamToken=o}}At.store="mutationQueues",At.keyPath="userId";class yt{constructor(r,s,o,l,d){this.userId=r,this.batchId=s,this.localWriteTimeMs=o,this.baseMutations=l,this.mutations=d}}yt.store="mutations",yt.keyPath="batchId",yt.userMutationsIndex="userMutationsIndex",yt.userMutationsKeyPath=["userId","batchId"];class rr{constructor(){}static prefixForUser(r){return[r]}static prefixForPath(r,s){return[r,xi(s)]}static key(r,s,o){return[r,xi(s),o]}}rr.store="documentMutations",rr.PLACEHOLDER=new rr;class GA{constructor(r,s){this.path=r,this.readTime=s}}class HI{constructor(r,s){this.path=r,this.version=s}}class tn{constructor(r,s,o,l,d,h){this.unknownDocument=r,this.noDocument=s,this.document=o,this.hasCommittedMutations=l,this.readTime=d,this.parentPath=h}}tn.store="remoteDocuments",tn.readTimeIndex="readTimeIndex",tn.readTimeIndexPath="readTime",tn.collectionReadTimeIndex="collectionReadTimeIndex",tn.collectionReadTimeIndexPath=["parentPath","readTime"];class Rr{constructor(r){this.byteSize=r}}Rr.store="remoteDocumentGlobal",Rr.key="remoteDocumentGlobalKey";class Hn{constructor(r,s,o,l,d,h,g){this.targetId=r,this.canonicalId=s,this.readTime=o,this.resumeToken=l,this.lastListenSequenceNumber=d,this.lastLimboFreeSnapshotVersion=h,this.query=g}}Hn.store="targets",Hn.keyPath="targetId",Hn.queryTargetsIndexName="queryTargetsIndex",Hn.queryTargetsKeyPath=["canonicalId","targetId"];class ir{constructor(r,s,o){this.targetId=r,this.path=s,this.sequenceNumber=o}}ir.store="targetDocuments",ir.keyPath=["targetId","path"],ir.documentTargetsIndex="documentTargetsIndex",ir.documentTargetsKeyPath=["path","targetId"];class Mn{constructor(r,s,o,l){this.highestTargetId=r,this.highestListenSequenceNumber=s,this.lastRemoteSnapshotVersion=o,this.targetCount=l}}Mn.key="targetGlobalKey",Mn.store="targetGlobal";class qu{constructor(r,s){this.collectionId=r,this.parent=s}}qu.store="collectionParents",qu.keyPath=["collectionId","parent"];class Gs{constructor(r,s,o,l){this.clientId=r,this.updateTimeMs=s,this.networkEnabled=o,this.inForeground=l}}Gs.store="clientMetadata",Gs.keyPath="clientId";class Oa{constructor(r,s,o){this.bundleId=r,this.createTime=s,this.version=o}}Oa.store="bundles",Oa.keyPath="bundleId";class qs{constructor(r,s,o){this.name=r,this.readTime=s,this.bundledQuery=o}}qs.store="namedQueries",qs.keyPath="name";const bE=[At.store,yt.store,rr.store,tn.store,Hn.store,en.store,Mn.store,ir.store,Gs.store,Rr.store,qu.store,Oa.store,qs.store],DE="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Wu{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(r){this.onCommittedListeners.push(r)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(r=>r())}}class ge{constructor(r){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,r(s=>{this.isDone=!0,this.result=s,this.nextCallback&&this.nextCallback(s)},s=>{this.isDone=!0,this.error=s,this.catchCallback&&this.catchCallback(s)})}catch(r){return this.next(void 0,r)}next(r,s){return this.callbackAttached&&Fe(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(s,this.error):this.wrapSuccess(r,this.result):new ge((o,l)=>{this.nextCallback=d=>{this.wrapSuccess(r,d).next(o,l)},this.catchCallback=d=>{this.wrapFailure(s,d).next(o,l)}})}toPromise(){return new Promise((r,s)=>{this.next(r,s)})}wrapUserFunction(r){try{const s=r();return s instanceof ge?s:ge.resolve(s)}catch(s){return ge.reject(s)}}wrapSuccess(r,s){return r?this.wrapUserFunction(()=>r(s)):ge.resolve(s)}wrapFailure(r,s){return r?this.wrapUserFunction(()=>r(s)):ge.reject(s)}static resolve(r){return new ge((s,o)=>{s(r)})}static reject(r){return new ge((s,o)=>{o(r)})}static waitFor(r){return new ge((s,o)=>{let l=0,d=0,h=!1;r.forEach(g=>{++l,g.next(()=>{++d,h&&d===l&&s()},_=>o(_))}),h=!0,d===l&&s()})}static or(r){let s=ge.resolve(!1);for(const o of r)s=s.next(l=>l?ge.resolve(l):o());return s}static forEach(r,s){const o=[];return r.forEach((l,d)=>{o.push(s.call(this,l,d))}),this.waitFor(o)}}class zu{constructor(r,s){this.action=r,this.transaction=s,this.aborted=!1,this.Tt=new dt,this.transaction.oncomplete=()=>{this.Tt.resolve()},this.transaction.onabort=()=>{s.error?this.Tt.reject(new od(r,s.error)):this.Tt.resolve()},this.transaction.onerror=o=>{const l=GI(o.target.error);this.Tt.reject(new od(r,l))}}static open(r,s,o,l){try{return new zu(s,r.transaction(l,o))}catch(d){throw new od(s,d)}}get It(){return this.Tt.promise}abort(r){r&&this.Tt.reject(r),this.aborted||(we("SimpleDb","Aborting transaction:",r?r.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}store(r){const s=this.transaction.objectStore(r);return new qA(s)}}class Ni{constructor(r,s,o){this.name=r,this.version=s,this.At=o,12.2===Ni.Rt((0,wt.z$)())&&Nn("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(r){return we("SimpleDb","Removing database:",r),Vo(window.indexedDB.deleteDatabase(r)).toPromise()}static Pt(){if("undefined"==typeof indexedDB)return!1;if(Ni.bt())return!0;const r=(0,wt.z$)(),s=Ni.Rt(r),o=0<s&&s<10,l=Ni.vt(r),d=0<l&&l<4.5;return!(r.indexOf("MSIE ")>0||r.indexOf("Trident/")>0||r.indexOf("Edge/")>0||o||d)}static bt(){var r;return"undefined"!=typeof process&&"YES"===(null===(r=process.env)||void 0===r?void 0:r.Vt)}static St(r,s){return r.store(s)}static Rt(r){const s=r.match(/i(?:phone|pad|pod) os ([\d_]+)/i),o=s?s[1].split("_").slice(0,2).join("."):"-1";return Number(o)}static vt(r){const s=r.match(/Android ([\d.]+)/i),o=s?s[1].split(".").slice(0,2).join("."):"-1";return Number(o)}Dt(r){var s=this;return(0,ue.Z)(function*(){return s.db||(we("SimpleDb","Opening database:",s.name),s.db=yield new Promise((o,l)=>{const d=indexedDB.open(s.name,s.version);d.onsuccess=h=>{o(h.target.result)},d.onblocked=()=>{l(new od(r,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},d.onerror=h=>{const g=h.target.error;l("VersionError"===g.name?new me(ee.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):new od(r,g))},d.onupgradeneeded=h=>{we("SimpleDb",'Database "'+s.name+'" requires upgrade from version:',h.oldVersion),s.At.Ct(h.target.result,d.transaction,h.oldVersion,s.version).next(()=>{we("SimpleDb","Database upgrade to version "+s.version+" complete")})}})),s.Nt&&(s.db.onversionchange=o=>s.Nt(o)),s.db})()}xt(r){this.Nt=r,this.db&&(this.db.onversionchange=s=>r(s))}runTransaction(r,s,o,l){var d=this;return(0,ue.Z)(function*(){const h="readonly"===s;let g=0;for(;;){++g;try{d.db=yield d.Dt(r);const _=zu.open(d.db,r,h?"readonly":"readwrite",o),w=l(_).catch(C=>(_.abort(C),ge.reject(C))).toPromise();return w.catch(()=>{}),yield _.It,w}catch(_){const w="FirebaseError"!==_.name&&g<3;if(we("SimpleDb","Transaction failed with error:",_.message,"Retrying:",w),d.close(),!w)return Promise.reject(_)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class $I{constructor(r){this.kt=r,this.$t=!1,this.Ot=null}get isDone(){return this.$t}get Ft(){return this.Ot}set cursor(r){this.kt=r}done(){this.$t=!0}Mt(r){this.Ot=r}delete(){return Vo(this.kt.delete())}}class od extends me{constructor(r,s){super(ee.UNAVAILABLE,`IndexedDB transaction '${r}' failed: ${s}`),this.name="IndexedDbTransactionError"}}function Ws(i){return"IndexedDbTransactionError"===i.name}class qA{constructor(r){this.store=r}put(r,s){let o;return void 0!==s?(we("SimpleDb","PUT",this.store.name,r,s),o=this.store.put(s,r)):(we("SimpleDb","PUT",this.store.name,"<auto-key>",r),o=this.store.put(r)),Vo(o)}add(r){return we("SimpleDb","ADD",this.store.name,r,r),Vo(this.store.add(r))}get(r){return Vo(this.store.get(r)).next(s=>(void 0===s&&(s=null),we("SimpleDb","GET",this.store.name,r,s),s))}delete(r){return we("SimpleDb","DELETE",this.store.name,r),Vo(this.store.delete(r))}count(){return we("SimpleDb","COUNT",this.store.name),Vo(this.store.count())}Lt(r,s){const o=this.cursor(this.options(r,s)),l=[];return this.Bt(o,(d,h)=>{l.push(h)}).next(()=>l)}Ut(r,s){we("SimpleDb","DELETE ALL",this.store.name);const o=this.options(r,s);o.qt=!1;const l=this.cursor(o);return this.Bt(l,(d,h,g)=>g.delete())}Kt(r,s){let o;s?o=r:(o={},s=r);const l=this.cursor(o);return this.Bt(l,s)}jt(r){const s=this.cursor({});return new ge((o,l)=>{s.onerror=d=>{const h=GI(d.target.error);l(h)},s.onsuccess=d=>{const h=d.target.result;h?r(h.primaryKey,h.value).next(g=>{g?h.continue():o()}):o()}})}Bt(r,s){const o=[];return new ge((l,d)=>{r.onerror=h=>{d(h.target.error)},r.onsuccess=h=>{const g=h.target.result;if(!g)return void l();const _=new $I(g),w=s(g.primaryKey,g.value,_);if(w instanceof ge){const C=w.catch(I=>(_.done(),ge.reject(I)));o.push(C)}_.isDone?l():null===_.Ft?g.continue():g.continue(_.Ft)}}).next(()=>ge.waitFor(o))}options(r,s){let o;return void 0!==r&&("string"==typeof r?o=r:s=r),{index:o,range:s}}cursor(r){let s="next";if(r.reverse&&(s="prev"),r.index){const o=this.store.index(r.index);return r.qt?o.openKeyCursor(r.range,s):o.openCursor(r.range,s)}return this.store.openCursor(r.range,s)}}function Vo(i){return new ge((r,s)=>{i.onsuccess=o=>{r(o.target.result)},i.onerror=o=>{const l=GI(o.target.error);s(l)}})}let Gm=!1;function GI(i){const r=Ni.Rt((0,wt.z$)());if(r>=12.2&&r<13){const s="An internal error was encountered in the Indexed Database server";if(i.message.indexOf(s)>=0){const o=new me("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${s}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return Gm||(Gm=!0,setTimeout(()=>{throw o},0)),o}}return i}class WA extends Wu{constructor(r,s){super(),this.Qt=r,this.currentSequenceNumber=s}}function Ve(i,r){const s=Te(i);return Ni.St(s.Qt,r)}class qI{constructor(r,s,o,l){this.batchId=r,this.localWriteTime=s,this.baseMutations=o,this.mutations=l}applyToRemoteDocument(r,s){const o=s.mutationResults;for(let l=0;l<this.mutations.length;l++){const d=this.mutations[l];d.key.isEqual(r.key)&&xA(d,r,o[l])}}applyToLocalView(r){for(const s of this.baseMutations)s.key.isEqual(r.key)&&hE(s,r,this.localWriteTime);for(const s of this.mutations)s.key.isEqual(r.key)&&hE(s,r,this.localWriteTime)}applyToLocalDocumentSet(r){this.mutations.forEach(s=>{const o=r.get(s.key),l=o;this.applyToLocalView(l),o.isValidDocument()||l.convertToNoDocument(st.min())})}keys(){return this.mutations.reduce((r,s)=>r.add(s.key),Mt())}isEqual(r){return this.batchId===r.batchId&&Wc(this.mutations,r.mutations,(s,o)=>RI(s,o))&&Wc(this.baseMutations,r.baseMutations,(s,o)=>RI(s,o))}}class Zu{constructor(r,s,o,l){this.batch=r,this.commitVersion=s,this.mutationResults=o,this.docVersions=l}static from(r,s,o){ze(r.mutations.length===o.length);let l=PI();const d=r.mutations;for(let h=0;h<d.length;h++)l=l.insert(d[h].key,o[h].version);return new Zu(r,s,o,l)}}class Pa{constructor(r,s,o,l,d=st.min(),h=st.min(),g=jn.EMPTY_BYTE_STRING){this.target=r,this.targetId=s,this.purpose=o,this.sequenceNumber=l,this.snapshotVersion=d,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=g}withSequenceNumber(r){return new Pa(this.target,this.targetId,this.purpose,r,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(r,s){return new Pa(this.target,this.targetId,this.purpose,this.sequenceNumber,s,this.lastLimboFreeSnapshotVersion,r)}withLastLimboFreeSnapshotVersion(r){return new Pa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,r,this.resumeToken)}}class WI{constructor(r){this.Wt=r}}function TE(i,r){if(r.document)return EE(i.Wt,r.document,!!r.hasCommittedMutations);if(r.noDocument){const s=Le.fromSegments(r.noDocument.path),o=ad(r.noDocument.readTime),l=Xt.newNoDocument(s,o);return r.hasCommittedMutations?l.setHasCommittedMutations():l}if(r.unknownDocument){const s=Le.fromSegments(r.unknownDocument.path),o=ad(r.unknownDocument.version);return Xt.newUnknownDocument(s,o)}return Fe()}function zA(i,r,s){const o=zI(s),l=r.key.path.popLast().toArray();if(r.isFoundDocument()){const d={name:Rf(g=i.Wt,(_=r).key),fields:_.data.value.mapValue.fields,updateTime:xf(g,_.version.toTimestamp())};return new tn(null,null,d,r.hasCommittedMutations,o,l)}var g,_;if(r.isNoDocument()){const d=r.key.path.toArray(),h=yn(r.version),g=r.hasCommittedMutations;return new tn(null,new GA(d,h),null,g,o,l)}if(r.isUnknownDocument()){const d=r.key.path.toArray(),h=yn(r.version);return new tn(new HI(d,h),null,null,!0,o,l)}return Fe()}function zI(i){const r=i.toTimestamp();return[r.seconds,r.nanoseconds]}function ZI(i){const r=new Bn(i[0],i[1]);return st.fromTimestamp(r)}function yn(i){const r=i.toTimestamp();return new $A(r.seconds,r.nanoseconds)}function ad(i){const r=new Bn(i.seconds,i.nanoseconds);return st.fromTimestamp(r)}function ud(i,r){const s=(r.baseMutations||[]).map(d=>wE(i.Wt,d));for(let d=0;d<r.mutations.length-1;++d){const h=r.mutations[d];d+1<r.mutations.length&&void 0!==r.mutations[d+1].transform&&(h.updateTransforms=r.mutations[d+1].transform.fieldTransforms,r.mutations.splice(d+1,1),++d)}const o=r.mutations.map(d=>wE(i.Wt,d)),l=Bn.fromMillis(r.localWriteTimeMs);return new qI(r.batchId,l,s,o)}function Ku(i){const r=ad(i.readTime),s=void 0!==i.lastLimboFreeSnapshotVersion?ad(i.lastLimboFreeSnapshotVersion):st.min();let o;var l;return void 0!==i.query.documents?(ze(1===(l=i.query).documents.length),o=Ai(Uu(UI(l.documents[0])))):o=Ai(Of(i.query)),new Pa(o,i.targetId,0,i.lastListenSequenceNumber,r,s,jn.fromBase64String(i.resumeToken))}function KI(i,r){const s=yn(r.snapshotVersion),o=yn(r.lastLimboFreeSnapshotVersion);let l;l=Rm(r.target)?CE(i.Wt,r.target):Mf(i.Wt,r.target);const d=r.resumeToken.toBase64();return new Hn(r.targetId,Qc(r.target),s,d,r.sequenceNumber,o,l)}function AE(i){const r=Of({parent:i.parent,structuredQuery:i.structuredQuery});return"LAST"===i.limitType?km(r,r.limit,"L"):r}class ZA{getBundleMetadata(r,s){return YI(r).get(s).next(o=>{if(o)return{id:(l=o).bundleId,createTime:ad(l.createTime),version:l.version};var l})}saveBundleMetadata(r,s){return YI(r).put({bundleId:(o=s).id,createTime:yn(Rn(o.createTime)),version:o.version});var o}getNamedQuery(r,s){return QI(r).get(s).next(o=>{if(o)return{name:(l=o).name,query:AE(l.bundledQuery),readTime:ad(l.readTime)};var l})}saveNamedQuery(r,s){return QI(r).put({name:(o=s).name,readTime:yn(Rn(o.readTime)),bundledQuery:o.bundledQuery});var o}}function YI(i){return Ve(i,Oa.store)}function QI(i){return Ve(i,qs.store)}class KA{constructor(){this.Gt=new Ff}addToCollectionParentIndex(r,s){return this.Gt.add(s),ge.resolve()}getCollectionParents(r,s){return ge.resolve(this.Gt.getEntries(s))}}class Ff{constructor(){this.index={}}add(r){const s=r.lastSegment(),o=r.popLast(),l=this.index[s]||new an(Ct.comparator),d=!l.has(o);return this.index[s]=l.add(o),d}has(r){const s=r.lastSegment(),o=r.popLast(),l=this.index[s];return l&&l.has(o)}getEntries(r){return(this.index[r]||new an(Ct.comparator)).toArray()}}class YA{constructor(){this.zt=new Ff}addToCollectionParentIndex(r,s){if(!this.zt.has(s)){const o=s.lastSegment(),l=s.popLast();r.addOnCommittedListener(()=>{this.zt.add(s)});const d={collectionId:o,parent:xi(l)};return JI(r).put(d)}return ge.resolve()}getCollectionParents(r,s){const o=[],l=IDBKeyRange.bound([s,""],[zc(s),""],!1,!0);return JI(r).Lt(l).next(d=>{for(const h of d){if(h.collectionId!==s)break;o.push(Lo(h.parent))}return o})}}function JI(i){return Ve(i,qu.store)}const SE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class mr{constructor(r,s,o){this.cacheSizeCollectionThreshold=r,this.percentileToCollect=s,this.maximumSequenceNumbersToCollect=o}static withCacheSize(r){return new mr(r,mr.DEFAULT_COLLECTION_PERCENTILE,mr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function XI(i,r,s){const o=i.store(yt.store),l=i.store(rr.store),d=[],h=IDBKeyRange.only(s.batchId);let g=0;const _=o.Kt({range:h},(C,I,A)=>(g++,A.delete()));d.push(_.next(()=>{ze(1===g)}));const w=[];for(const C of s.mutations){const I=rr.key(r,C.key.path,s.batchId);d.push(l.delete(I)),w.push(C.key)}return ge.waitFor(d).next(()=>w)}function xE(i){if(!i)return 0;let r;if(i.document)r=i.document;else if(i.unknownDocument)r=i.unknownDocument;else{if(!i.noDocument)throw Fe();r=i.noDocument}return JSON.stringify(r).length}mr.DEFAULT_COLLECTION_PERCENTILE=10,mr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,mr.DEFAULT=new mr(41943040,mr.DEFAULT_COLLECTION_PERCENTILE,mr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),mr.DISABLED=new mr(-1,0,0);class NE{constructor(r,s,o,l){this.userId=r,this.N=s,this.Ht=o,this.referenceDelegate=l,this.Jt={}}static Yt(r,s,o,l){ze(""!==r.uid);const d=r.isAuthenticated()?r.uid:"";return new NE(d,s,o,l)}checkEmpty(r){let s=!0;const o=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return ka(r).Kt({index:yt.userMutationsIndex,range:o},(l,d,h)=>{s=!1,h.done()}).next(()=>s)}addMutationBatch(r,s,o,l){const d=ld(r),h=ka(r);return h.add({}).next(g=>{ze("number"==typeof g);const _=new qI(g,s,o,l),w=function(A,D,P){const L=P.baseMutations.map(Ie=>$m(A.Wt,Ie)),ae=P.mutations.map(Ie=>$m(A.Wt,Ie));return new yt(D,P.batchId,P.localWriteTime.toMillis(),L,ae)}(this.N,this.userId,_),C=[];let I=new an((A,D)=>gt(A.canonicalString(),D.canonicalString()));for(const A of l){const D=rr.key(this.userId,A.key.path,g);I=I.add(A.key.path.popLast()),C.push(h.put(w)),C.push(d.put(D,rr.PLACEHOLDER))}return I.forEach(A=>{C.push(this.Ht.addToCollectionParentIndex(r,A))}),r.addOnCommittedListener(()=>{this.Jt[g]=_.keys()}),ge.waitFor(C).next(()=>_)})}lookupMutationBatch(r,s){return ka(r).get(s).next(o=>o?(ze(o.userId===this.userId),ud(this.N,o)):null)}Xt(r,s){return this.Jt[s]?ge.resolve(this.Jt[s]):this.lookupMutationBatch(r,s).next(o=>{if(o){const l=o.keys();return this.Jt[s]=l,l}return null})}getNextMutationBatchAfterBatchId(r,s){const o=s+1,l=IDBKeyRange.lowerBound([this.userId,o]);let d=null;return ka(r).Kt({index:yt.userMutationsIndex,range:l},(h,g,_)=>{g.userId===this.userId&&(ze(g.batchId>=o),d=ud(this.N,g)),_.done()}).next(()=>d)}getHighestUnacknowledgedBatchId(r){const s=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let o=-1;return ka(r).Kt({index:yt.userMutationsIndex,range:s,reverse:!0},(l,d,h)=>{o=d.batchId,h.done()}).next(()=>o)}getAllMutationBatches(r){const s=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return ka(r).Lt(yt.userMutationsIndex,s).next(o=>o.map(l=>ud(this.N,l)))}getAllMutationBatchesAffectingDocumentKey(r,s){const o=rr.prefixForPath(this.userId,s.path),l=IDBKeyRange.lowerBound(o),d=[];return ld(r).Kt({range:l},(h,g,_)=>{const[w,C,I]=h,A=Lo(C);if(w===this.userId&&s.path.isEqual(A))return ka(r).get(I).next(D=>{if(!D)throw Fe();ze(D.userId===this.userId),d.push(ud(this.N,D))});_.done()}).next(()=>d)}getAllMutationBatchesAffectingDocumentKeys(r,s){let o=new an(gt);const l=[];return s.forEach(d=>{const h=rr.prefixForPath(this.userId,d.path),g=IDBKeyRange.lowerBound(h),_=ld(r).Kt({range:g},(w,C,I)=>{const[A,D,P]=w,L=Lo(D);A===this.userId&&d.path.isEqual(L)?o=o.add(P):I.done()});l.push(_)}),ge.waitFor(l).next(()=>this.Zt(r,o))}getAllMutationBatchesAffectingQuery(r,s){const o=s.path,l=o.length+1,d=rr.prefixForPath(this.userId,o),h=IDBKeyRange.lowerBound(d);let g=new an(gt);return ld(r).Kt({range:h},(_,w,C)=>{const[I,A,D]=_,P=Lo(A);I===this.userId&&o.isPrefixOf(P)?P.length===l&&(g=g.add(D)):C.done()}).next(()=>this.Zt(r,g))}Zt(r,s){const o=[],l=[];return s.forEach(d=>{l.push(ka(r).get(d).next(h=>{if(null===h)throw Fe();ze(h.userId===this.userId),o.push(ud(this.N,h))}))}),ge.waitFor(l).next(()=>o)}removeMutationBatch(r,s){return XI(r.Qt,this.userId,s).next(o=>(r.addOnCommittedListener(()=>{this.te(s.batchId)}),ge.forEach(o,l=>this.referenceDelegate.markPotentiallyOrphaned(r,l))))}te(r){delete this.Jt[r]}performConsistencyCheck(r){return this.checkEmpty(r).next(s=>{if(!s)return ge.resolve();const o=IDBKeyRange.lowerBound(rr.prefixForUser(this.userId)),l=[];return ld(r).Kt({range:o},(d,h,g)=>{if(d[0]===this.userId){const _=Lo(d[1]);l.push(_)}else g.done()}).next(()=>{ze(0===l.length)})})}containsKey(r,s){return eb(r,this.userId,s)}ee(r){return tb(r).get(this.userId).next(s=>s||new At(this.userId,-1,""))}}function eb(i,r,s){const o=rr.prefixForPath(r,s.path),l=o[1],d=IDBKeyRange.lowerBound(o);let h=!1;return ld(i).Kt({range:d,qt:!0},(g,_,w)=>{const[C,I,A]=g;C===r&&I===l&&(h=!0),w.done()}).next(()=>h)}function ka(i){return Ve(i,yt.store)}function ld(i){return Ve(i,rr.store)}function tb(i){return Ve(i,At.store)}class Yu{constructor(r){this.ne=r}next(){return this.ne+=2,this.ne}static se(){return new Yu(0)}static ie(){return new Yu(-1)}}class Lf{constructor(r,s){this.referenceDelegate=r,this.N=s}allocateTargetId(r){return this.re(r).next(s=>{const o=new Yu(s.highestTargetId);return s.highestTargetId=o.next(),this.oe(r,s).next(()=>s.highestTargetId)})}getLastRemoteSnapshotVersion(r){return this.re(r).next(s=>st.fromTimestamp(new Bn(s.lastRemoteSnapshotVersion.seconds,s.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(r){return this.re(r).next(s=>s.highestListenSequenceNumber)}setTargetsMetadata(r,s,o){return this.re(r).next(l=>(l.highestListenSequenceNumber=s,o&&(l.lastRemoteSnapshotVersion=o.toTimestamp()),s>l.highestListenSequenceNumber&&(l.highestListenSequenceNumber=s),this.oe(r,l)))}addTargetData(r,s){return this.ae(r,s).next(()=>this.re(r).next(o=>(o.targetCount+=1,this.ce(s,o),this.oe(r,o))))}updateTargetData(r,s){return this.ae(r,s)}removeTargetData(r,s){return this.removeMatchingKeysForTargetId(r,s.targetId).next(()=>cd(r).delete(s.targetId)).next(()=>this.re(r)).next(o=>(ze(o.targetCount>0),o.targetCount-=1,this.oe(r,o)))}removeTargets(r,s,o){let l=0;const d=[];return cd(r).Kt((h,g)=>{const _=Ku(g);_.sequenceNumber<=s&&null===o.get(_.targetId)&&(l++,d.push(this.removeTargetData(r,_)))}).next(()=>ge.waitFor(d)).next(()=>l)}forEachTarget(r,s){return cd(r).Kt((o,l)=>{const d=Ku(l);s(d)})}re(r){return nb(r).get(Mn.key).next(s=>(ze(null!==s),s))}oe(r,s){return nb(r).put(Mn.key,s)}ae(r,s){return cd(r).put(KI(this.N,s))}ce(r,s){let o=!1;return r.targetId>s.highestTargetId&&(s.highestTargetId=r.targetId,o=!0),r.sequenceNumber>s.highestListenSequenceNumber&&(s.highestListenSequenceNumber=r.sequenceNumber,o=!0),o}getTargetCount(r){return this.re(r).next(s=>s.targetCount)}getTargetData(r,s){const o=Qc(s),l=IDBKeyRange.bound([o,Number.NEGATIVE_INFINITY],[o,Number.POSITIVE_INFINITY]);let d=null;return cd(r).Kt({range:l,index:Hn.queryTargetsIndexName},(h,g,_)=>{const w=Ku(g);gf(s,w.target)&&(d=w,_.done())}).next(()=>d)}addMatchingKeys(r,s,o){const l=[],d=Uo(r);return s.forEach(h=>{const g=xi(h.path);l.push(d.put(new ir(o,g))),l.push(this.referenceDelegate.addReference(r,o,h))}),ge.waitFor(l)}removeMatchingKeys(r,s,o){const l=Uo(r);return ge.forEach(s,d=>{const h=xi(d.path);return ge.waitFor([l.delete([o,h]),this.referenceDelegate.removeReference(r,o,d)])})}removeMatchingKeysForTargetId(r,s){const o=Uo(r),l=IDBKeyRange.bound([s],[s+1],!1,!0);return o.delete(l)}getMatchingKeysForTargetId(r,s){const o=IDBKeyRange.bound([s],[s+1],!1,!0),l=Uo(r);let d=Mt();return l.Kt({range:o,qt:!0},(h,g,_)=>{const w=Lo(h[1]),C=new Le(w);d=d.add(C)}).next(()=>d)}containsKey(r,s){const o=xi(s.path),l=IDBKeyRange.bound([o],[zc(o)],!1,!0);let d=0;return Uo(r).Kt({index:ir.documentTargetsIndex,qt:!0,range:l},([h,g],_,w)=>{0!==h&&(d++,w.done())}).next(()=>d>0)}Et(r,s){return cd(r).get(s).next(o=>o?Ku(o):null)}}function cd(i){return Ve(i,Hn.store)}function nb(i){return Ve(i,Mn.store)}function Uo(i){return Ve(i,ir.store)}function ns(i){return rb.apply(this,arguments)}function rb(){return(rb=(0,ue.Z)(function*(i){if(i.code!==ee.FAILED_PRECONDITION||i.message!==DE)throw i;we("LocalStore","Unexpectedly lost primary lease")})).apply(this,arguments)}function RE([i,r],[s,o]){const l=gt(i,s);return 0===l?gt(r,o):l}class QA{constructor(r){this.ue=r,this.buffer=new an(RE),this.he=0}le(){return++this.he}fe(r){const s=[r,this.le()];if(this.buffer.size<this.ue)this.buffer=this.buffer.add(s);else{const o=this.buffer.last();RE(s,o)<0&&(this.buffer=this.buffer.delete(o).add(s))}}get maxValue(){return this.buffer.last()[0]}}class JA{constructor(r,s){this.garbageCollector=r,this.asyncQueue=s,this.de=!1,this.we=null}start(r){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this._e(r)}stop(){this.we&&(this.we.cancel(),this.we=null)}get started(){return null!==this.we}_e(r){var s=this;const o=this.de?3e5:6e4;we("LruGarbageCollector",`Garbage collection scheduled in ${o}ms`),this.we=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",o,(0,ue.Z)(function*(){s.we=null,s.de=!0;try{yield r.collectGarbage(s.garbageCollector)}catch(l){Ws(l)?we("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",l):yield ns(l)}yield s._e(r)}))}}class XA{constructor(r,s){this.me=r,this.params=s}calculateTargetCount(r,s){return this.me.ge(r).next(o=>Math.floor(s/100*o))}nthSequenceNumber(r,s){if(0===s)return ge.resolve(Yr.T);const o=new QA(s);return this.me.forEachTarget(r,l=>o.fe(l.sequenceNumber)).next(()=>this.me.ye(r,l=>o.fe(l))).next(()=>o.maxValue)}removeTargets(r,s,o){return this.me.removeTargets(r,s,o)}removeOrphanedDocuments(r,s){return this.me.removeOrphanedDocuments(r,s)}collect(r,s){return-1===this.params.cacheSizeCollectionThreshold?(we("LruGarbageCollector","Garbage collection skipped; disabled"),ge.resolve(SE)):this.getCacheSize(r).next(o=>o<this.params.cacheSizeCollectionThreshold?(we("LruGarbageCollector",`Garbage collection skipped; Cache size ${o} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),SE):this.pe(r,s))}getCacheSize(r){return this.me.getCacheSize(r)}pe(r,s){let o,l,d,h,g,_,w;const C=Date.now();return this.calculateTargetCount(r,this.params.percentileToCollect).next(I=>(I>this.params.maximumSequenceNumbersToCollect?(we("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${I}`),l=this.params.maximumSequenceNumbersToCollect):l=I,h=Date.now(),this.nthSequenceNumber(r,l))).next(I=>(o=I,g=Date.now(),this.removeTargets(r,o,s))).next(I=>(d=I,_=Date.now(),this.removeOrphanedDocuments(r,o))).next(I=>(w=Date.now(),sI()<=Ji.in.DEBUG&&we("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${h-C}ms\n\tDetermined least recently used ${l} in `+(g-h)+`ms\n\tRemoved ${d} targets in `+(_-g)+`ms\n\tRemoved ${I} documents in `+(w-_)+`ms\nTotal Duration: ${w-C}ms`),ge.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:d,documentsRemoved:I})))}}class eS{constructor(r,s){this.db=r,this.garbageCollector=new XA(this,s)}ge(r){const s=this.Ee(r);return this.db.getTargetCache().getTargetCount(r).next(o=>s.next(l=>o+l))}Ee(r){let s=0;return this.ye(r,o=>{s++}).next(()=>s)}forEachTarget(r,s){return this.db.getTargetCache().forEachTarget(r,s)}ye(r,s){return this.Te(r,(o,l)=>s(l))}addReference(r,s,o){return qm(r,o)}removeReference(r,s,o){return qm(r,o)}removeTargets(r,s,o){return this.db.getTargetCache().removeTargets(r,s,o)}markPotentiallyOrphaned(r,s){return qm(r,s)}Ie(r,s){return function(o,l){let d=!1;return tb(o).jt(h=>eb(o,h,l).next(g=>(g&&(d=!0),ge.resolve(!g)))).next(()=>d)}(r,s)}removeOrphanedDocuments(r,s){const o=this.db.getRemoteDocumentCache().newChangeBuffer(),l=[];let d=0;return this.Te(r,(h,g)=>{if(g<=s){const _=this.Ie(r,h).next(w=>{if(!w)return d++,o.getEntry(r,h).next(()=>(o.removeEntry(h),Uo(r).delete([0,xi(h.path)])))});l.push(_)}}).next(()=>ge.waitFor(l)).next(()=>o.apply(r)).next(()=>d)}removeTarget(r,s){const o=s.withSequenceNumber(r.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(r,o)}updateLimboDocument(r,s){return qm(r,s)}Te(r,s){const o=Uo(r);let l,d=Yr.T;return o.Kt({index:ir.documentTargetsIndex},([h,g],{path:_,sequenceNumber:w})=>{0===h?(d!==Yr.T&&s(new Le(Lo(l)),d),d=w,l=_):d=Yr.T}).next(()=>{d!==Yr.T&&s(new Le(Lo(l)),d)})}getCacheSize(r){return this.db.getRemoteDocumentCache().getSize(r)}}function qm(i,r){return Uo(i).put((o=i.currentSequenceNumber,new ir(0,xi(r.path),o)));var o}class Qu{constructor(r,s){this.mapKeyFn=r,this.equalsFn=s,this.inner={}}get(r){const s=this.mapKeyFn(r),o=this.inner[s];if(void 0!==o)for(const[l,d]of o)if(this.equalsFn(l,r))return d}has(r){return void 0!==this.get(r)}set(r,s){const o=this.mapKeyFn(r),l=this.inner[o];if(void 0!==l){for(let d=0;d<l.length;d++)if(this.equalsFn(l[d][0],r))return void(l[d]=[r,s]);l.push([r,s])}else this.inner[o]=[[r,s]]}delete(r){const s=this.mapKeyFn(r),o=this.inner[s];if(void 0===o)return!1;for(let l=0;l<o.length;l++)if(this.equalsFn(o[l][0],r))return 1===o.length?delete this.inner[s]:o.splice(l,1),!0;return!1}forEach(r){Bs(this.inner,(s,o)=>{for(const[l,d]of o)r(l,d)})}isEmpty(){return Xv(this.inner)}}class ib{constructor(){this.changes=new Qu(r=>r.toString(),(r,s)=>r.isEqual(s)),this.changesApplied=!1}getReadTime(r){const s=this.changes.get(r);return s?s.readTime:st.min()}addEntry(r,s){this.assertNotApplied(),this.changes.set(r.key,{document:r,readTime:s})}removeEntry(r,s=null){this.assertNotApplied(),this.changes.set(r,{document:Xt.newInvalidDocument(r),readTime:s})}getEntry(r,s){this.assertNotApplied();const o=this.changes.get(s);return void 0!==o?ge.resolve(o.document):this.getFromCache(r,s)}getEntries(r,s){return this.getAllFromCache(r,s)}apply(r){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(r)}assertNotApplied(){}}class tS{constructor(r,s){this.N=r,this.Ht=s}addEntry(r,s,o){return Ju(r).put(dd(s),o)}removeEntry(r,s){const o=Ju(r),l=dd(s);return o.delete(l)}updateMetadata(r,s){return this.getMetadata(r).next(o=>(o.byteSize+=s,this.Ae(r,o)))}getEntry(r,s){return Ju(r).get(dd(s)).next(o=>this.Re(s,o))}Pe(r,s){return Ju(r).get(dd(s)).next(o=>({document:this.Re(s,o),size:xE(o)}))}getEntries(r,s){let o=fi();return this.be(r,s,(l,d)=>{const h=this.Re(l,d);o=o.insert(l,h)}).next(()=>o)}ve(r,s){let o=fi(),l=new Dn(Le.comparator);return this.be(r,s,(d,h)=>{const g=this.Re(d,h);o=o.insert(d,g),l=l.insert(d,xE(h))}).next(()=>({documents:o,Ve:l}))}be(r,s,o){if(s.isEmpty())return ge.resolve();const l=IDBKeyRange.bound(s.first().path.toArray(),s.last().path.toArray()),d=s.getIterator();let h=d.getNext();return Ju(r).Kt({range:l},(g,_,w)=>{const C=Le.fromSegments(g);for(;h&&Le.comparator(h,C)<0;)o(h,null),h=d.getNext();h&&h.isEqual(C)&&(o(h,_),h=d.hasNext()?d.getNext():null),h?w.Mt(h.path.toArray()):w.done()}).next(()=>{for(;h;)o(h,null),h=d.hasNext()?d.getNext():null})}getDocumentsMatchingQuery(r,s,o){let l=fi();const d=s.path.length+1,h={};if(o.isEqual(st.min())){const g=s.path.toArray();h.range=IDBKeyRange.lowerBound(g)}else{const g=s.path.toArray(),_=zI(o);h.range=IDBKeyRange.lowerBound([g,_],!0),h.index=tn.collectionReadTimeIndex}return Ju(r).Kt(h,(g,_,w)=>{if(g.length!==d)return;const C=TE(this.N,_);s.path.isPrefixOf(C.key.path)?vf(s,C)&&(l=l.insert(C.key,C)):w.done()}).next(()=>l)}newChangeBuffer(r){return new uN(this,!!r&&r.trackRemovals)}getSize(r){return this.getMetadata(r).next(s=>s.byteSize)}getMetadata(r){return nS(r).get(Rr.key).next(s=>(ze(!!s),s))}Ae(r,s){return nS(r).put(Rr.key,s)}Re(r,s){if(s){const o=TE(this.N,s);if(!o.isNoDocument()||!o.version.isEqual(st.min()))return o}return Xt.newInvalidDocument(r)}}class uN extends ib{constructor(r,s){super(),this.Se=r,this.trackRemovals=s,this.De=new Qu(o=>o.toString(),(o,l)=>o.isEqual(l))}applyChanges(r){const s=[];let o=0,l=new an((d,h)=>gt(d.canonicalString(),h.canonicalString()));return this.changes.forEach((d,h)=>{const g=this.De.get(d);if(h.document.isValidDocument()){const _=zA(this.Se.N,h.document,this.getReadTime(d));l=l.add(d.path.popLast()),o+=xE(_)-g,s.push(this.Se.addEntry(r,d,_))}else if(o-=g,this.trackRemovals){const _=zA(this.Se.N,Xt.newNoDocument(d,st.min()),this.getReadTime(d));s.push(this.Se.addEntry(r,d,_))}else s.push(this.Se.removeEntry(r,d))}),l.forEach(d=>{s.push(this.Se.Ht.addToCollectionParentIndex(r,d))}),s.push(this.Se.updateMetadata(r,o)),ge.waitFor(s)}getFromCache(r,s){return this.Se.Pe(r,s).next(o=>(this.De.set(s,o.size),o.document))}getAllFromCache(r,s){return this.Se.ve(r,s).next(({documents:o,Ve:l})=>(l.forEach((d,h)=>{this.De.set(d,h)}),o))}}function nS(i){return Ve(i,Rr.store)}function Ju(i){return Ve(i,tn.store)}function dd(i){return i.path.toArray()}class rS{constructor(r){this.N=r}Ct(r,s,o,l){ze(o<l&&o>=0&&l<=11);const d=new zu("createOrUpgrade",s);var g;o<1&&l>=1&&(r.createObjectStore(en.store),(g=r).createObjectStore(At.store,{keyPath:At.keyPath}),g.createObjectStore(yt.store,{keyPath:yt.keyPath,autoIncrement:!0}).createIndex(yt.userMutationsIndex,yt.userMutationsKeyPath,{unique:!0}),g.createObjectStore(rr.store),sb(r),function(g){g.createObjectStore(tn.store)}(r));let h=ge.resolve();return o<3&&l>=3&&(0!==o&&(function(g){g.deleteObjectStore(ir.store),g.deleteObjectStore(Hn.store),g.deleteObjectStore(Mn.store)}(r),sb(r)),h=h.next(()=>function(g){const _=g.store(Mn.store),w=new Mn(0,0,st.min().toTimestamp(),0);return _.put(Mn.key,w)}(d))),o<4&&l>=4&&(0!==o&&(h=h.next(()=>function(g,_){return _.store(yt.store).Lt().next(w=>{g.deleteObjectStore(yt.store),g.createObjectStore(yt.store,{keyPath:yt.keyPath,autoIncrement:!0}).createIndex(yt.userMutationsIndex,yt.userMutationsKeyPath,{unique:!0});const C=_.store(yt.store),I=w.map(A=>C.put(A));return ge.waitFor(I)})}(r,d))),h=h.next(()=>{!function(g){g.createObjectStore(Gs.store,{keyPath:Gs.keyPath})}(r)})),o<5&&l>=5&&(h=h.next(()=>this.Ce(d))),o<6&&l>=6&&(h=h.next(()=>(function(g){g.createObjectStore(Rr.store)}(r),this.Ne(d)))),o<7&&l>=7&&(h=h.next(()=>this.xe(d))),o<8&&l>=8&&(h=h.next(()=>this.ke(r,d))),o<9&&l>=9&&(h=h.next(()=>{(function(g){g.objectStoreNames.contains("remoteDocumentChanges")&&g.deleteObjectStore("remoteDocumentChanges")})(r),function(g){const _=g.objectStore(tn.store);_.createIndex(tn.readTimeIndex,tn.readTimeIndexPath,{unique:!1}),_.createIndex(tn.collectionReadTimeIndex,tn.collectionReadTimeIndexPath,{unique:!1})}(s)})),o<10&&l>=10&&(h=h.next(()=>this.$e(d))),o<11&&l>=11&&(h=h.next(()=>{(function(g){g.createObjectStore(Oa.store,{keyPath:Oa.keyPath})})(r),function(g){g.createObjectStore(qs.store,{keyPath:qs.keyPath})}(r)})),h}Ne(r){let s=0;return r.store(tn.store).Kt((o,l)=>{s+=xE(l)}).next(()=>{const o=new Rr(s);return r.store(Rr.store).put(Rr.key,o)})}Ce(r){const s=r.store(At.store),o=r.store(yt.store);return s.Lt().next(l=>ge.forEach(l,d=>{const h=IDBKeyRange.bound([d.userId,-1],[d.userId,d.lastAcknowledgedBatchId]);return o.Lt(yt.userMutationsIndex,h).next(g=>ge.forEach(g,_=>{ze(_.userId===d.userId);const w=ud(this.N,_);return XI(r,d.userId,w).next(()=>{})}))}))}xe(r){const s=r.store(ir.store),o=r.store(tn.store);return r.store(Mn.store).get(Mn.key).next(l=>{const d=[];return o.Kt((h,g)=>{const _=new Ct(h),w=[0,xi(_)];d.push(s.get(w).next(C=>C?ge.resolve():s.put(new ir(0,xi(_),l.highestListenSequenceNumber))))}).next(()=>ge.waitFor(d))})}ke(r,s){r.createObjectStore(qu.store,{keyPath:qu.keyPath});const o=s.store(qu.store),l=new Ff,d=h=>{if(l.add(h)){const g=h.lastSegment(),_=h.popLast();return o.put({collectionId:g,parent:xi(_)})}};return s.store(tn.store).Kt({qt:!0},(h,g)=>{const _=new Ct(h);return d(_.popLast())}).next(()=>s.store(rr.store).Kt({qt:!0},([h,g,_],w)=>{const C=Lo(g);return d(C.popLast())}))}$e(r){const s=r.store(Hn.store);return s.Kt((o,l)=>{const d=Ku(l),h=KI(this.N,d);return s.put(h)})}}function sb(i){i.createObjectStore(ir.store,{keyPath:ir.keyPath}).createIndex(ir.documentTargetsIndex,ir.documentTargetsKeyPath,{unique:!0}),i.createObjectStore(Hn.store,{keyPath:Hn.keyPath}).createIndex(Hn.queryTargetsIndexName,Hn.queryTargetsKeyPath,{unique:!0}),i.createObjectStore(Mn.store)}const ME="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class OE{constructor(r,s,o,l,d,h,g,_,w,C){if(this.allowTabSynchronization=r,this.persistenceKey=s,this.clientId=o,this.Oe=d,this.window=h,this.document=g,this.Fe=w,this.Me=C,this.Le=null,this.Be=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Ue=null,this.inForeground=!1,this.qe=null,this.Ke=null,this.je=Number.NEGATIVE_INFINITY,this.Qe=I=>Promise.resolve(),!OE.Pt())throw new me(ee.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new eS(this,l),this.We=s+"main",this.N=new WI(_),this.Ge=new Ni(this.We,11,new rS(this.N)),this.ze=new Lf(this.referenceDelegate,this.N),this.Ht=new YA,this.He=new tS(this.N,this.Ht),this.Je=new ZA,this.window&&this.window.localStorage?this.Ye=this.window.localStorage:(this.Ye=null,!1===C&&Nn("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Xe().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new me(ee.FAILED_PRECONDITION,ME);return this.Ze(),this.tn(),this.en(),this.runTransaction("getHighestListenSequenceNumber","readonly",r=>this.ze.getHighestSequenceNumber(r))}).then(r=>{this.Le=new Yr(r,this.Fe)}).then(()=>{this.Be=!0}).catch(r=>(this.Ge&&this.Ge.close(),Promise.reject(r)))}nn(r){var s=this;return this.Qe=function(){var o=(0,ue.Z)(function*(l){if(s.started)return r(l)});return function(l){return o.apply(this,arguments)}}(),r(this.isPrimary)}setDatabaseDeletedListener(r){this.Ge.xt(function(){var s=(0,ue.Z)(function*(o){null===o.newVersion&&(yield r())});return function(o){return s.apply(this,arguments)}}())}setNetworkEnabled(r){var s=this;this.networkEnabled!==r&&(this.networkEnabled=r,this.Oe.enqueueAndForget((0,ue.Z)(function*(){s.started&&(yield s.Xe())})))}Xe(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",r=>Wm(r).put(new Gs(this.clientId,Date.now(),this.networkEnabled,this.inForeground)).next(()=>{if(this.isPrimary)return this.sn(r).next(s=>{s||(this.isPrimary=!1,this.Oe.enqueueRetryable(()=>this.Qe(!1)))})}).next(()=>this.rn(r)).next(s=>this.isPrimary&&!s?this.on(r).next(()=>!1):!!s&&this.an(r).next(()=>!0))).catch(r=>{if(Ws(r))return we("IndexedDbPersistence","Failed to extend owner lease: ",r),this.isPrimary;if(!this.allowTabSynchronization)throw r;return we("IndexedDbPersistence","Releasing owner lease after error during lease refresh",r),!1}).then(r=>{this.isPrimary!==r&&this.Oe.enqueueRetryable(()=>this.Qe(r)),this.isPrimary=r})}sn(r){return Vf(r).get(en.key).next(s=>ge.resolve(this.cn(s)))}un(r){return Wm(r).delete(this.clientId)}hn(){var r=this;return(0,ue.Z)(function*(){if(r.isPrimary&&!r.ln(r.je,18e5)){r.je=Date.now();const s=yield r.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",o=>{const l=Ve(o,Gs.store);return l.Lt().next(d=>{const h=r.fn(d,18e5),g=d.filter(_=>-1===h.indexOf(_));return ge.forEach(g,_=>l.delete(_.clientId)).next(()=>g)})}).catch(()=>[]);if(r.Ye)for(const o of s)r.Ye.removeItem(r.dn(o.clientId))}})()}en(){this.Ke=this.Oe.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.Xe().then(()=>this.hn()).then(()=>this.en()))}cn(r){return!!r&&r.ownerId===this.clientId}rn(r){return this.Me?ge.resolve(!0):Vf(r).get(en.key).next(s=>{if(null!==s&&this.ln(s.leaseTimestampMs,5e3)&&!this.wn(s.ownerId)){if(this.cn(s)&&this.networkEnabled)return!0;if(!this.cn(s)){if(!s.allowTabSynchronization)throw new me(ee.FAILED_PRECONDITION,ME);return!1}}return!(!this.networkEnabled||!this.inForeground)||Wm(r).Lt().next(o=>void 0===this.fn(o,5e3).find(l=>{if(this.clientId!==l.clientId){const h=!this.inForeground&&l.inForeground,g=this.networkEnabled===l.networkEnabled;if(!this.networkEnabled&&l.networkEnabled||h&&g)return!0}return!1}))}).next(s=>(this.isPrimary!==s&&we("IndexedDbPersistence",`Client ${s?"is":"is not"} eligible for a primary lease.`),s))}shutdown(){var r=this;return(0,ue.Z)(function*(){r.Be=!1,r._n(),r.Ke&&(r.Ke.cancel(),r.Ke=null),r.mn(),r.gn(),yield r.Ge.runTransaction("shutdown","readwrite",[en.store,Gs.store],s=>{const o=new WA(s,Yr.T);return r.on(o).next(()=>r.un(o))}),r.Ge.close(),r.yn()})()}fn(r,s){return r.filter(o=>this.ln(o.updateTimeMs,s)&&!this.wn(o.clientId))}pn(){return this.runTransaction("getActiveClients","readonly",r=>Wm(r).Lt().next(s=>this.fn(s,18e5).map(o=>o.clientId)))}get started(){return this.Be}getMutationQueue(r){return NE.Yt(r,this.N,this.Ht,this.referenceDelegate)}getTargetCache(){return this.ze}getRemoteDocumentCache(){return this.He}getIndexManager(){return this.Ht}getBundleCache(){return this.Je}runTransaction(r,s,o){let d;return we("IndexedDbPersistence","Starting transaction:",r),this.Ge.runTransaction(r,"readonly"===s?"readonly":"readwrite",bE,h=>(d=new WA(h,this.Le?this.Le.next():Yr.T),"readwrite-primary"===s?this.sn(d).next(g=>!!g||this.rn(d)).next(g=>{if(!g)throw Nn(`Failed to obtain primary lease for action '${r}'.`),this.isPrimary=!1,this.Oe.enqueueRetryable(()=>this.Qe(!1)),new me(ee.FAILED_PRECONDITION,DE);return o(d)}).next(g=>this.an(d).next(()=>g)):this.En(d).next(()=>o(d)))).then(h=>(d.raiseOnCommittedEvent(),h))}En(r){return Vf(r).get(en.key).next(s=>{if(null!==s&&this.ln(s.leaseTimestampMs,5e3)&&!this.wn(s.ownerId)&&!this.cn(s)&&!(this.Me||this.allowTabSynchronization&&s.allowTabSynchronization))throw new me(ee.FAILED_PRECONDITION,ME)})}an(r){const s=new en(this.clientId,this.allowTabSynchronization,Date.now());return Vf(r).put(en.key,s)}static Pt(){return Ni.Pt()}on(r){const s=Vf(r);return s.get(en.key).next(o=>this.cn(o)?(we("IndexedDbPersistence","Releasing primary lease."),s.delete(en.key)):ge.resolve())}ln(r,s){const o=Date.now();return!(r<o-s||r>o&&(Nn(`Detected an update time that is in the future: ${r} > ${o}`),1))}Ze(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.qe=()=>{this.Oe.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.Xe()))},this.document.addEventListener("visibilitychange",this.qe),this.inForeground="visible"===this.document.visibilityState)}mn(){this.qe&&(this.document.removeEventListener("visibilitychange",this.qe),this.qe=null)}tn(){var r;"function"==typeof(null===(r=this.window)||void 0===r?void 0:r.addEventListener)&&(this.Ue=()=>{this._n(),(0,wt.G6)()&&navigator.appVersion.match("Version/14")&&this.Oe.enterRestrictedMode(!0),this.Oe.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Ue))}gn(){this.Ue&&(this.window.removeEventListener("pagehide",this.Ue),this.Ue=null)}wn(r){var s;try{const o=null!==(null===(s=this.Ye)||void 0===s?void 0:s.getItem(this.dn(r)));return we("IndexedDbPersistence",`Client '${r}' ${o?"is":"is not"} zombied in LocalStorage`),o}catch(o){return Nn("IndexedDbPersistence","Failed to get zombied client id.",o),!1}}_n(){if(this.Ye)try{this.Ye.setItem(this.dn(this.clientId),String(Date.now()))}catch(r){Nn("Failed to set zombie client id.",r)}}yn(){if(this.Ye)try{this.Ye.removeItem(this.dn(this.clientId))}catch(r){}}dn(r){return`firestore_zombie_${this.persistenceKey}_${r}`}}function Vf(i){return Ve(i,en.store)}function Wm(i){return Ve(i,Gs.store)}function zm(i,r){let s=i.projectId;return i.isDefaultDatabase||(s+="."+i.database),"firestore/"+r+"/"+s+"/"}class PE{constructor(r,s){this.progress=r,this.Tn=s}}class ob{constructor(r,s,o){this.He=r,this.In=s,this.Ht=o}An(r,s){return this.In.getAllMutationBatchesAffectingDocumentKey(r,s).next(o=>this.Rn(r,s,o))}Rn(r,s,o){return this.He.getEntry(r,s).next(l=>{for(const d of o)d.applyToLocalView(l);return l})}Pn(r,s){r.forEach((o,l)=>{for(const d of s)d.applyToLocalView(l)})}bn(r,s){return this.He.getEntries(r,s).next(o=>this.vn(r,o).next(()=>o))}vn(r,s){return this.In.getAllMutationBatchesAffectingDocumentKeys(r,s).next(o=>this.Pn(s,o))}getDocumentsMatchingQuery(r,s,o){return Le.isDocumentKey((l=s).path)&&null===l.collectionGroup&&0===l.filters.length?this.Vn(r,s.path):aE(s)?this.Sn(r,s,o):this.Dn(r,s,o);var l}Vn(r,s){return this.An(r,new Le(s)).next(o=>{let l=nd();return o.isFoundDocument()&&(l=l.insert(o.key,o)),l})}Sn(r,s,o){const l=s.collectionGroup;let d=nd();return this.Ht.getCollectionParents(r,l).next(h=>ge.forEach(h,g=>{const _=(w=s,C=g.child(l),new Po(C,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt));var w,C;return this.Dn(r,_,o).next(w=>{w.forEach((C,I)=>{d=d.insert(C,I)})})}).next(()=>d))}Dn(r,s,o){let l,d;return this.He.getDocumentsMatchingQuery(r,s,o).next(h=>(l=h,this.In.getAllMutationBatchesAffectingQuery(r,s))).next(h=>(d=h,this.Cn(r,d,l).next(g=>{l=g;for(const _ of d)for(const w of _.mutations){const C=w.key;let I=l.get(C);null==I&&(I=Xt.newInvalidDocument(C),l=l.insert(C,I)),hE(w,I,_.localWriteTime),I.isFoundDocument()||(l=l.remove(C))}}))).next(()=>(l.forEach((h,g)=>{vf(s,g)||(l=l.remove(h))}),l))}Cn(r,s,o){let l=Mt();for(const h of s)for(const g of h.mutations)g instanceof $s&&null===o.get(g.key)&&(l=l.add(g.key));let d=o;return this.He.getEntries(r,l).next(h=>(h.forEach((g,_)=>{_.isFoundDocument()&&(d=d.insert(g,_))}),d))}}class Fa{constructor(r,s,o,l){this.targetId=r,this.fromCache=s,this.Nn=o,this.xn=l}static kn(r,s){let o=Mt(),l=Mt();for(const d of s.docChanges)switch(d.type){case 0:o=o.add(d.doc.key);break;case 1:l=l.add(d.doc.key)}return new Fa(r,s.fromCache,o,l)}}class sr{$n(r){this.On=r}getDocumentsMatchingQuery(r,s,o,l){return 0===(d=s).filters.length&&null===d.limit&&null==d.startAt&&null==d.endAt&&(0===d.explicitOrderBy.length||1===d.explicitOrderBy.length&&d.explicitOrderBy[0].field.isKeyField())||o.isEqual(st.min())?this.Fn(r,s):this.On.bn(r,l).next(d=>{const h=this.Mn(s,d);return(yf(s)||Om(s))&&this.Ln(s.limitType,h,l,o)?this.Fn(r,s):(sI()<=Ji.in.DEBUG&&we("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),_f(s)),this.On.getDocumentsMatchingQuery(r,s,o).next(g=>(h.forEach(_=>{g=g.insert(_.key,_)}),g)))});var d}Mn(r,s){let o=new an(DI(r));return s.forEach((l,d)=>{vf(r,d)&&(o=o.add(d))}),o}Ln(r,s,o,l){if(o.size!==s.size)return!0;const d="F"===r?s.last():s.first();return!!d&&(d.hasPendingWrites||d.version.compareTo(l)>0)}Fn(r,s){return sI()<=Ji.in.DEBUG&&we("QueryEngine","Using full collection scan to execute query:",_f(s)),this.On.getDocumentsMatchingQuery(r,s,st.min())}}class ab{constructor(r,s,o,l){this.persistence=r,this.Bn=s,this.N=l,this.Un=new Dn(gt),this.qn=new Qu(d=>Qc(d),gf),this.Kn=st.min(),this.In=r.getMutationQueue(o),this.jn=r.getRemoteDocumentCache(),this.ze=r.getTargetCache(),this.Qn=new ob(this.jn,this.In,this.persistence.getIndexManager()),this.Je=r.getBundleCache(),this.Bn.$n(this.Qn)}collectGarbage(r){return this.persistence.runTransaction("Collect garbage","readwrite-primary",s=>r.collect(s,this.Un))}}function Ri(i,r,s,o){return new ab(i,r,s,o)}function Zm(i,r){return kE.apply(this,arguments)}function kE(){return(kE=(0,ue.Z)(function*(i,r){const s=Te(i);let o=s.In,l=s.Qn;const d=yield s.persistence.runTransaction("Handle user change","readonly",h=>{let g;return s.In.getAllMutationBatches(h).next(_=>(g=_,o=s.persistence.getMutationQueue(r),l=new ob(s.jn,o,s.persistence.getIndexManager()),o.getAllMutationBatches(h))).next(_=>{const w=[],C=[];let I=Mt();for(const A of g){w.push(A.batchId);for(const D of A.mutations)I=I.add(D.key)}for(const A of _){C.push(A.batchId);for(const D of A.mutations)I=I.add(D.key)}return l.bn(h,I).next(A=>({Wn:A,removedBatchIds:w,addedBatchIds:C}))})});return s.In=o,s.Qn=l,s.Bn.$n(s.Qn),d})).apply(this,arguments)}function ub(i,r){const s=Te(i);return s.persistence.runTransaction("Acknowledge batch","readwrite-primary",o=>{const l=r.batch.keys(),d=s.jn.newChangeBuffer({trackRemovals:!0});return function(h,g,_,w){const C=_.batch,I=C.keys();let A=ge.resolve();return I.forEach(D=>{A=A.next(()=>w.getEntry(g,D)).next(P=>{const L=_.docVersions.get(D);ze(null!==L),P.version.compareTo(L)<0&&(C.applyToRemoteDocument(P,_),P.isValidDocument()&&w.addEntry(P,_.commitVersion))})}),A.next(()=>h.In.removeMutationBatch(g,C))}(s,o,r,d).next(()=>d.apply(o)).next(()=>s.In.performConsistencyCheck(o)).next(()=>s.Qn.bn(o,l))})}function FE(i){const r=Te(i);return r.persistence.runTransaction("Get last remote snapshot version","readonly",s=>r.ze.getLastRemoteSnapshotVersion(s))}function lb(i,r){const s=Te(i),o=r.snapshotVersion;let l=s.Un;return s.persistence.runTransaction("Apply remote event","readwrite-primary",d=>{const h=s.jn.newChangeBuffer({trackRemovals:!0});l=s.Un;const g=[];r.targetChanges.forEach((w,C)=>{const I=l.get(C);if(!I)return;g.push(s.ze.removeMatchingKeys(d,w.removedDocuments,C).next(()=>s.ze.addMatchingKeys(d,w.addedDocuments,C)));const A=w.resumeToken;if(A.approximateByteSize()>0){const D=I.withResumeToken(A,o).withSequenceNumber(d.currentSequenceNumber);l=l.insert(C,D),P=I,ae=w,ze((L=D).resumeToken.approximateByteSize()>0),(0===P.resumeToken.approximateByteSize()||L.snapshotVersion.toMicroseconds()-P.snapshotVersion.toMicroseconds()>=3e8||ae.addedDocuments.size+ae.modifiedDocuments.size+ae.removedDocuments.size>0)&&g.push(s.ze.updateTargetData(d,D))}var P,L,ae});let _=fi();if(r.documentUpdates.forEach((w,C)=>{r.resolvedLimboDocuments.has(w)&&g.push(s.persistence.referenceDelegate.updateLimboDocument(d,w))}),g.push(cb(d,h,r.documentUpdates,o,void 0).next(w=>{_=w})),!o.isEqual(st.min())){const w=s.ze.getLastRemoteSnapshotVersion(d).next(C=>s.ze.setTargetsMetadata(d,d.currentSequenceNumber,o));g.push(w)}return ge.waitFor(g).next(()=>h.apply(d)).next(()=>s.Qn.vn(d,_)).next(()=>_)}).then(d=>(s.Un=l,d))}function cb(i,r,s,o,l){let d=Mt();return s.forEach(h=>d=d.add(h)),r.getEntries(i,d).next(h=>{let g=fi();return s.forEach((_,w)=>{const C=h.get(_),I=(null==l?void 0:l.get(_))||o;w.isNoDocument()&&w.version.isEqual(st.min())?(r.removeEntry(_,I),g=g.insert(_,w)):!C.isValidDocument()||w.version.compareTo(C.version)>0||0===w.version.compareTo(C.version)&&C.hasPendingWrites?(r.addEntry(w,I),g=g.insert(_,w)):we("LocalStore","Ignoring outdated watch update for ",_,". Current version:",C.version," Watch version:",w.version)}),g})}function iS(i,r){const s=Te(i);return s.persistence.runTransaction("Get next mutation batch","readonly",o=>(void 0===r&&(r=-1),s.In.getNextMutationBatchAfterBatchId(o,r)))}function hd(i,r){const s=Te(i);return s.persistence.runTransaction("Allocate target","readwrite",o=>{let l;return s.ze.getTargetData(o,r).next(d=>d?(l=d,ge.resolve(l)):s.ze.allocateTargetId(o).next(h=>(l=new Pa(r,h,0,o.currentSequenceNumber),s.ze.addTargetData(o,l).next(()=>l))))}).then(o=>{const l=s.Un.get(o.targetId);return(null===l||o.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(s.Un=s.Un.insert(o.targetId,o),s.qn.set(r,o.targetId)),o})}function Xu(i,r,s){return LE.apply(this,arguments)}function LE(){return(LE=(0,ue.Z)(function*(i,r,s){const o=Te(i),l=o.Un.get(r),d=s?"readwrite":"readwrite-primary";try{s||(yield o.persistence.runTransaction("Release target",d,h=>o.persistence.referenceDelegate.removeTarget(h,l)))}catch(h){if(!Ws(h))throw h;we("LocalStore",`Failed to update sequence numbers for target ${r}: ${h}`)}o.Un=o.Un.remove(r),o.qn.delete(l.target)})).apply(this,arguments)}function VE(i,r,s){const o=Te(i);let l=st.min(),d=Mt();return o.persistence.runTransaction("Execute query","readonly",h=>function(g,_,w){const C=Te(g),I=C.qn.get(w);return void 0!==I?ge.resolve(C.Un.get(I)):C.ze.getTargetData(_,w)}(o,h,Ai(r)).next(g=>{if(g)return l=g.lastLimboFreeSnapshotVersion,o.ze.getMatchingKeysForTargetId(h,g.targetId).next(_=>{d=_})}).next(()=>o.Bn.getDocumentsMatchingQuery(h,r,s?l:st.min(),s?d:Mt())).next(g=>({documents:g,Gn:d})))}function db(i,r){const s=Te(i),o=Te(s.ze),l=s.Un.get(r);return l?Promise.resolve(l.target):s.persistence.runTransaction("Get target data","readonly",d=>o.Et(d,r).next(h=>h?h.target:null))}function hb(i){const r=Te(i);return r.persistence.runTransaction("Get new document changes","readonly",s=>function(o,l,d){const h=Te(o);let g=fi(),_=zI(d);const w=Ju(l),C=IDBKeyRange.lowerBound(_,!0);return w.Kt({index:tn.readTimeIndex,range:C},(I,A)=>{const D=TE(h.N,A);g=g.insert(D.key,D),_=A.readTime}).next(()=>({Tn:g,readTime:ZI(_)}))}(r.jn,s,r.Kn)).then(({Tn:s,readTime:o})=>(r.Kn=o,s))}function fb(){return(fb=(0,ue.Z)(function*(i){const r=Te(i);return r.persistence.runTransaction("Synchronize last document change read time","readonly",s=>function(o){const l=Ju(o);let d=st.min();return l.Kt({index:tn.readTimeIndex,reverse:!0},(h,g,_)=>{g.readTime&&(d=ZI(g.readTime)),_.done()}).next(()=>d)}(s)).then(s=>{r.Kn=s})})).apply(this,arguments)}function UE(){return(UE=(0,ue.Z)(function*(i,r,s,o){const l=Te(i);let d=Mt(),h=fi(),g=PI();for(const C of s){const I=r.zn(C.metadata.name);C.document&&(d=d.add(I)),h=h.insert(I,r.Hn(C)),g=g.insert(I,r.Jn(C.metadata.readTime))}const _=l.jn.newChangeBuffer({trackRemovals:!0}),w=yield hd(l,(C=o,Ai(Uu(Ct.fromString(`__bundle__/docs/${C}`)))));var C;return l.persistence.runTransaction("Apply bundle documents","readwrite",C=>cb(C,_,h,st.min(),g).next(I=>(_.apply(C),I)).next(I=>l.ze.removeMatchingKeysForTargetId(C,w.targetId).next(()=>l.ze.addMatchingKeys(C,d,w.targetId)).next(()=>l.Qn.vn(C,I)).next(()=>I)))})).apply(this,arguments)}function lN(i,r){return Km.apply(this,arguments)}function Km(){return(Km=(0,ue.Z)(function*(i,r,s=Mt()){const o=yield hd(i,Ai(AE(r.bundledQuery))),l=Te(i);return l.persistence.runTransaction("Save named query","readwrite",d=>{const h=Rn(r.readTime);if(o.snapshotVersion.compareTo(h)>=0)return l.Je.saveNamedQuery(d,r);const g=o.withResumeToken(jn.EMPTY_BYTE_STRING,h);return l.Un=l.Un.insert(g.targetId,g),l.ze.updateTargetData(d,g).next(()=>l.ze.removeMatchingKeysForTargetId(d,o.targetId)).next(()=>l.ze.addMatchingKeys(d,s,o.targetId)).next(()=>l.Je.saveNamedQuery(d,r))})})).apply(this,arguments)}class sS{constructor(r){this.N=r,this.Yn=new Map,this.Xn=new Map}getBundleMetadata(r,s){return ge.resolve(this.Yn.get(s))}saveBundleMetadata(r,s){var o;return this.Yn.set(s.id,{id:(o=s).id,version:o.version,createTime:Rn(o.createTime)}),ge.resolve()}getNamedQuery(r,s){return ge.resolve(this.Xn.get(s))}saveNamedQuery(r,s){return this.Xn.set(s.name,{name:(o=s).name,query:AE(o.bundledQuery),readTime:Rn(o.readTime)}),ge.resolve();var o}}class Uf{constructor(){this.Zn=new an(On.ts),this.es=new an(On.ns)}isEmpty(){return this.Zn.isEmpty()}addReference(r,s){const o=new On(r,s);this.Zn=this.Zn.add(o),this.es=this.es.add(o)}ss(r,s){r.forEach(o=>this.addReference(o,s))}removeReference(r,s){this.rs(new On(r,s))}os(r,s){r.forEach(o=>this.removeReference(o,s))}cs(r){const s=new Le(new Ct([])),o=new On(s,r),l=new On(s,r+1),d=[];return this.es.forEachInRange([o,l],h=>{this.rs(h),d.push(h.key)}),d}us(){this.Zn.forEach(r=>this.rs(r))}rs(r){this.Zn=this.Zn.delete(r),this.es=this.es.delete(r)}hs(r){const s=new Le(new Ct([])),o=new On(s,r),l=new On(s,r+1);let d=Mt();return this.es.forEachInRange([o,l],h=>{d=d.add(h.key)}),d}containsKey(r){const s=new On(r,0),o=this.Zn.firstAfterOrEqual(s);return null!==o&&r.isEqual(o.key)}}class On{constructor(r,s){this.key=r,this.ls=s}static ts(r,s){return Le.comparator(r.key,s.key)||gt(r.ls,s.ls)}static ns(r,s){return gt(r.ls,s.ls)||Le.comparator(r.key,s.key)}}class oS{constructor(r,s){this.Ht=r,this.referenceDelegate=s,this.In=[],this.fs=1,this.ds=new an(On.ts)}checkEmpty(r){return ge.resolve(0===this.In.length)}addMutationBatch(r,s,o,l){const d=this.fs;this.fs++;const h=new qI(d,s,o,l);this.In.push(h);for(const g of l)this.ds=this.ds.add(new On(g.key,d)),this.Ht.addToCollectionParentIndex(r,g.key.path.popLast());return ge.resolve(h)}lookupMutationBatch(r,s){return ge.resolve(this.ws(s))}getNextMutationBatchAfterBatchId(r,s){const l=this._s(s+1),d=l<0?0:l;return ge.resolve(this.In.length>d?this.In[d]:null)}getHighestUnacknowledgedBatchId(){return ge.resolve(0===this.In.length?-1:this.fs-1)}getAllMutationBatches(r){return ge.resolve(this.In.slice())}getAllMutationBatchesAffectingDocumentKey(r,s){const o=new On(s,0),l=new On(s,Number.POSITIVE_INFINITY),d=[];return this.ds.forEachInRange([o,l],h=>{const g=this.ws(h.ls);d.push(g)}),ge.resolve(d)}getAllMutationBatchesAffectingDocumentKeys(r,s){let o=new an(gt);return s.forEach(l=>{const d=new On(l,0),h=new On(l,Number.POSITIVE_INFINITY);this.ds.forEachInRange([d,h],g=>{o=o.add(g.ls)})}),ge.resolve(this.gs(o))}getAllMutationBatchesAffectingQuery(r,s){const o=s.path,l=o.length+1;let d=o;Le.isDocumentKey(d)||(d=d.child(""));const h=new On(new Le(d),0);let g=new an(gt);return this.ds.forEachWhile(_=>{const w=_.key.path;return!!o.isPrefixOf(w)&&(w.length===l&&(g=g.add(_.ls)),!0)},h),ge.resolve(this.gs(g))}gs(r){const s=[];return r.forEach(o=>{const l=this.ws(o);null!==l&&s.push(l)}),s}removeMutationBatch(r,s){ze(0===this.ys(s.batchId,"removed")),this.In.shift();let o=this.ds;return ge.forEach(s.mutations,l=>{const d=new On(l.key,s.batchId);return o=o.delete(d),this.referenceDelegate.markPotentiallyOrphaned(r,l.key)}).next(()=>{this.ds=o})}te(r){}containsKey(r,s){const o=new On(s,0),l=this.ds.firstAfterOrEqual(o);return ge.resolve(s.isEqual(l&&l.key))}performConsistencyCheck(r){return ge.resolve()}ys(r,s){return this._s(r)}_s(r){return 0===this.In.length?0:r-this.In[0].batchId}ws(r){const s=this._s(r);return s<0||s>=this.In.length?null:this.In[s]}}class aS{constructor(r,s){this.Ht=r,this.ps=s,this.docs=new Dn(Le.comparator),this.size=0}addEntry(r,s,o){const l=s.key,d=this.docs.get(l),h=d?d.size:0,g=this.ps(s);return this.docs=this.docs.insert(l,{document:s.clone(),size:g,readTime:o}),this.size+=g-h,this.Ht.addToCollectionParentIndex(r,l.path.popLast())}removeEntry(r){const s=this.docs.get(r);s&&(this.docs=this.docs.remove(r),this.size-=s.size)}getEntry(r,s){const o=this.docs.get(s);return ge.resolve(o?o.document.clone():Xt.newInvalidDocument(s))}getEntries(r,s){let o=fi();return s.forEach(l=>{const d=this.docs.get(l);o=o.insert(l,d?d.document.clone():Xt.newInvalidDocument(l))}),ge.resolve(o)}getDocumentsMatchingQuery(r,s,o){let l=fi();const d=new Le(s.path.child("")),h=this.docs.getIteratorFrom(d);for(;h.hasNext();){const{key:g,value:{document:_,readTime:w}}=h.getNext();if(!s.path.isPrefixOf(g.path))break;w.compareTo(o)<=0||vf(s,_)&&(l=l.insert(_.key,_.clone()))}return ge.resolve(l)}Es(r,s){return ge.forEach(this.docs,o=>s(o))}newChangeBuffer(r){return new uS(this)}getSize(r){return ge.resolve(this.size)}}class uS extends ib{constructor(r){super(),this.Se=r}applyChanges(r){const s=[];return this.changes.forEach((o,l)=>{l.document.isValidDocument()?s.push(this.Se.addEntry(r,l.document,this.getReadTime(o))):this.Se.removeEntry(o)}),ge.waitFor(s)}getFromCache(r,s){return this.Se.getEntry(r,s)}getAllFromCache(r,s){return this.Se.getEntries(r,s)}}class lS{constructor(r){this.persistence=r,this.Ts=new Qu(s=>Qc(s),gf),this.lastRemoteSnapshotVersion=st.min(),this.highestTargetId=0,this.Is=0,this.As=new Uf,this.targetCount=0,this.Rs=Yu.se()}forEachTarget(r,s){return this.Ts.forEach((o,l)=>s(l)),ge.resolve()}getLastRemoteSnapshotVersion(r){return ge.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(r){return ge.resolve(this.Is)}allocateTargetId(r){return this.highestTargetId=this.Rs.next(),ge.resolve(this.highestTargetId)}setTargetsMetadata(r,s,o){return o&&(this.lastRemoteSnapshotVersion=o),s>this.Is&&(this.Is=s),ge.resolve()}ae(r){this.Ts.set(r.target,r);const s=r.targetId;s>this.highestTargetId&&(this.Rs=new Yu(s),this.highestTargetId=s),r.sequenceNumber>this.Is&&(this.Is=r.sequenceNumber)}addTargetData(r,s){return this.ae(s),this.targetCount+=1,ge.resolve()}updateTargetData(r,s){return this.ae(s),ge.resolve()}removeTargetData(r,s){return this.Ts.delete(s.target),this.As.cs(s.targetId),this.targetCount-=1,ge.resolve()}removeTargets(r,s,o){let l=0;const d=[];return this.Ts.forEach((h,g)=>{g.sequenceNumber<=s&&null===o.get(g.targetId)&&(this.Ts.delete(h),d.push(this.removeMatchingKeysForTargetId(r,g.targetId)),l++)}),ge.waitFor(d).next(()=>l)}getTargetCount(r){return ge.resolve(this.targetCount)}getTargetData(r,s){const o=this.Ts.get(s)||null;return ge.resolve(o)}addMatchingKeys(r,s,o){return this.As.ss(s,o),ge.resolve()}removeMatchingKeys(r,s,o){this.As.os(s,o);const l=this.persistence.referenceDelegate,d=[];return l&&s.forEach(h=>{d.push(l.markPotentiallyOrphaned(r,h))}),ge.waitFor(d)}removeMatchingKeysForTargetId(r,s){return this.As.cs(s),ge.resolve()}getMatchingKeysForTargetId(r,s){const o=this.As.hs(s);return ge.resolve(o)}containsKey(r,s){return ge.resolve(this.As.containsKey(s))}}class cS{constructor(r,s){this.Ps={},this.Le=new Yr(0),this.Be=!1,this.Be=!0,this.referenceDelegate=r(this),this.ze=new lS(this),this.Ht=new KA,this.He=new aS(this.Ht,o=>this.referenceDelegate.bs(o)),this.N=new WI(s),this.Je=new sS(this.N)}start(){return Promise.resolve()}shutdown(){return this.Be=!1,Promise.resolve()}get started(){return this.Be}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(){return this.Ht}getMutationQueue(r){let s=this.Ps[r.toKey()];return s||(s=new oS(this.Ht,this.referenceDelegate),this.Ps[r.toKey()]=s),s}getTargetCache(){return this.ze}getRemoteDocumentCache(){return this.He}getBundleCache(){return this.Je}runTransaction(r,s,o){we("MemoryPersistence","Starting transaction:",r);const l=new dS(this.Le.next());return this.referenceDelegate.vs(),o(l).next(d=>this.referenceDelegate.Vs(l).next(()=>d)).toPromise().then(d=>(l.raiseOnCommittedEvent(),d))}Ss(r,s){return ge.or(Object.values(this.Ps).map(o=>()=>o.containsKey(r,s)))}}class dS extends Wu{constructor(r){super(),this.currentSequenceNumber=r}}class BE{constructor(r){this.persistence=r,this.Ds=new Uf,this.Cs=null}static Ns(r){return new BE(r)}get xs(){if(this.Cs)return this.Cs;throw Fe()}addReference(r,s,o){return this.Ds.addReference(o,s),this.xs.delete(o.toString()),ge.resolve()}removeReference(r,s,o){return this.Ds.removeReference(o,s),this.xs.add(o.toString()),ge.resolve()}markPotentiallyOrphaned(r,s){return this.xs.add(s.toString()),ge.resolve()}removeTarget(r,s){this.Ds.cs(s.targetId).forEach(l=>this.xs.add(l.toString()));const o=this.persistence.getTargetCache();return o.getMatchingKeysForTargetId(r,s.targetId).next(l=>{l.forEach(d=>this.xs.add(d.toString()))}).next(()=>o.removeTargetData(r,s))}vs(){this.Cs=new Set}Vs(r){const s=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ge.forEach(this.xs,o=>{const l=Le.fromPath(o);return this.ks(r,l).next(d=>{d||s.removeEntry(l)})}).next(()=>(this.Cs=null,s.apply(r)))}updateLimboDocument(r,s){return this.ks(r,s).next(o=>{o?this.xs.delete(s.toString()):this.xs.add(s.toString())})}bs(r){return 0}ks(r,s){return ge.or([()=>ge.resolve(this.Ds.containsKey(s)),()=>this.persistence.getTargetCache().containsKey(r,s),()=>this.persistence.Ss(r,s)])}}function gb(i,r){return`firestore_clients_${i}_${r}`}function mb(i,r,s){let o=`firestore_mutations_${i}_${s}`;return r.isAuthenticated()&&(o+=`_${r.uid}`),o}function el(i,r){return`firestore_targets_${i}_${r}`}class Bf{constructor(r,s,o,l){this.user=r,this.batchId=s,this.state=o,this.error=l}static $s(r,s,o){const l=JSON.parse(o);let d,h="object"==typeof l&&-1!==["pending","acknowledged","rejected"].indexOf(l.state)&&(void 0===l.error||"object"==typeof l.error);return h&&l.error&&(h="string"==typeof l.error.message&&"string"==typeof l.error.code,h&&(d=new me(l.error.code,l.error.message))),h?new Bf(r,s,l.state,d):(Nn("SharedClientState",`Failed to parse mutation state for ID '${s}': ${o}`),null)}Os(){const r={state:this.state,updateTimeMs:Date.now()};return this.error&&(r.error={code:this.error.code,message:this.error.message}),JSON.stringify(r)}}class pd{constructor(r,s,o){this.targetId=r,this.state=s,this.error=o}static $s(r,s){const o=JSON.parse(s);let l,d="object"==typeof o&&-1!==["not-current","current","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return d&&o.error&&(d="string"==typeof o.error.message&&"string"==typeof o.error.code,d&&(l=new me(o.error.code,o.error.message))),d?new pd(r,o.state,l):(Nn("SharedClientState",`Failed to parse target state for ID '${r}': ${s}`),null)}Os(){const r={state:this.state,updateTimeMs:Date.now()};return this.error&&(r.error={code:this.error.code,message:this.error.message}),JSON.stringify(r)}}class jf{constructor(r,s){this.clientId=r,this.activeTargetIds=s}static $s(r,s){const o=JSON.parse(s);let l="object"==typeof o&&o.activeTargetIds instanceof Array,d=Bm();for(let h=0;l&&h<o.activeTargetIds.length;++h)l=vA(o.activeTargetIds[h]),d=d.add(o.activeTargetIds[h]);return l?new jf(r,d):(Nn("SharedClientState",`Failed to parse client data for instance '${r}': ${s}`),null)}}class Ym{constructor(r,s){this.clientId=r,this.onlineState=s}static $s(r){const s=JSON.parse(r);return"object"==typeof s&&-1!==["Unknown","Online","Offline"].indexOf(s.onlineState)&&"string"==typeof s.clientId?new Ym(s.clientId,s.onlineState):(Nn("SharedClientState",`Failed to parse online state: ${r}`),null)}}class Qm{constructor(){this.activeTargetIds=Bm()}Fs(r){this.activeTargetIds=this.activeTargetIds.add(r)}Ms(r){this.activeTargetIds=this.activeTargetIds.delete(r)}Os(){const r={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(r)}}class jE{constructor(r,s,o,l,d){this.window=r,this.Oe=s,this.persistenceKey=o,this.Ls=l,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Bs=this.Us.bind(this),this.qs=new Dn(gt),this.started=!1,this.Ks=[];const h=o.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=d,this.js=gb(this.persistenceKey,this.Ls),this.Qs=`firestore_sequence_number_${this.persistenceKey}`,this.qs=this.qs.insert(this.Ls,new Qm),this.Ws=new RegExp(`^firestore_clients_${h}_([^_]*)$`),this.Gs=new RegExp(`^firestore_mutations_${h}_(\\d+)(?:_(.*))?$`),this.zs=new RegExp(`^firestore_targets_${h}_(\\d+)$`),this.Hs=`firestore_online_state_${this.persistenceKey}`,this.Js=function(g){return`firestore_bundle_loaded_${g}`}(this.persistenceKey),this.window.addEventListener("storage",this.Bs)}static Pt(r){return!(!r||!r.localStorage)}start(){var r=this;return(0,ue.Z)(function*(){const s=yield r.syncEngine.pn();for(const l of s){if(l===r.Ls)continue;const d=r.getItem(gb(r.persistenceKey,l));if(d){const h=jf.$s(l,d);h&&(r.qs=r.qs.insert(h.clientId,h))}}r.Ys();const o=r.storage.getItem(r.Hs);if(o){const l=r.Xs(o);l&&r.Zs(l)}for(const l of r.Ks)r.Us(l);r.Ks=[],r.window.addEventListener("pagehide",()=>r.shutdown()),r.started=!0})()}writeSequenceNumber(r){this.setItem(this.Qs,JSON.stringify(r))}getAllActiveQueryTargets(){return this.ti(this.qs)}isActiveQueryTarget(r){let s=!1;return this.qs.forEach((o,l)=>{l.activeTargetIds.has(r)&&(s=!0)}),s}addPendingMutation(r){this.ei(r,"pending")}updateMutationState(r,s,o){this.ei(r,s,o),this.ni(r)}addLocalQueryTarget(r){let s="not-current";if(this.isActiveQueryTarget(r)){const o=this.storage.getItem(el(this.persistenceKey,r));if(o){const l=pd.$s(r,o);l&&(s=l.state)}}return this.si.Fs(r),this.Ys(),s}removeLocalQueryTarget(r){this.si.Ms(r),this.Ys()}isLocalQueryTarget(r){return this.si.activeTargetIds.has(r)}clearQueryState(r){this.removeItem(el(this.persistenceKey,r))}updateQueryState(r,s,o){this.ii(r,s,o)}handleUserChange(r,s,o){s.forEach(l=>{this.ni(l)}),this.currentUser=r,o.forEach(l=>{this.addPendingMutation(l)})}setOnlineState(r){this.ri(r)}notifyBundleLoaded(){this.oi()}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Bs),this.removeItem(this.js),this.started=!1)}getItem(r){const s=this.storage.getItem(r);return we("SharedClientState","READ",r,s),s}setItem(r,s){we("SharedClientState","SET",r,s),this.storage.setItem(r,s)}removeItem(r){we("SharedClientState","REMOVE",r),this.storage.removeItem(r)}Us(r){var s=this;const o=r;if(o.storageArea===this.storage){if(we("SharedClientState","EVENT",o.key,o.newValue),o.key===this.js)return void Nn("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Oe.enqueueRetryable((0,ue.Z)(function*(){if(s.started){if(null!==o.key)if(s.Ws.test(o.key)){if(null==o.newValue){const l=s.ai(o.key);return s.ci(l,null)}{const l=s.ui(o.key,o.newValue);if(l)return s.ci(l.clientId,l)}}else if(s.Gs.test(o.key)){if(null!==o.newValue){const l=s.hi(o.key,o.newValue);if(l)return s.li(l)}}else if(s.zs.test(o.key)){if(null!==o.newValue){const l=s.fi(o.key,o.newValue);if(l)return s.di(l)}}else if(o.key===s.Hs){if(null!==o.newValue){const l=s.Xs(o.newValue);if(l)return s.Zs(l)}}else if(o.key===s.Qs){const l=function(d){let h=Yr.T;if(null!=d)try{const g=JSON.parse(d);ze("number"==typeof g),h=g}catch(g){Nn("SharedClientState","Failed to read sequence number from WebStorage",g)}return h}(o.newValue);l!==Yr.T&&s.sequenceNumberHandler(l)}else if(o.key===s.Js)return s.syncEngine.wi()}else s.Ks.push(o)}))}}get si(){return this.qs.get(this.Ls)}Ys(){this.setItem(this.js,this.si.Os())}ei(r,s,o){const l=new Bf(this.currentUser,r,s,o),d=mb(this.persistenceKey,this.currentUser,r);this.setItem(d,l.Os())}ni(r){const s=mb(this.persistenceKey,this.currentUser,r);this.removeItem(s)}ri(r){this.storage.setItem(this.Hs,JSON.stringify({clientId:this.Ls,onlineState:r}))}ii(r,s,o){const l=el(this.persistenceKey,r),d=new pd(r,s,o);this.setItem(l,d.Os())}oi(){this.setItem(this.Js,"value-not-used")}ai(r){const s=this.Ws.exec(r);return s?s[1]:null}ui(r,s){const o=this.ai(r);return jf.$s(o,s)}hi(r,s){const o=this.Gs.exec(r),l=Number(o[1]);return Bf.$s(new hn(void 0!==o[2]?o[2]:null),l,s)}fi(r,s){const o=this.zs.exec(r),l=Number(o[1]);return pd.$s(l,s)}Xs(r){return Ym.$s(r)}li(r){var s=this;return(0,ue.Z)(function*(){if(r.user.uid===s.currentUser.uid)return s.syncEngine._i(r.batchId,r.state,r.error);we("SharedClientState",`Ignoring mutation for non-active user ${r.user.uid}`)})()}di(r){return this.syncEngine.mi(r.targetId,r.state,r.error)}ci(r,s){const o=s?this.qs.insert(r,s):this.qs.remove(r),l=this.ti(this.qs),d=this.ti(o),h=[],g=[];return d.forEach(_=>{l.has(_)||h.push(_)}),l.forEach(_=>{d.has(_)||g.push(_)}),this.syncEngine.gi(h,g).then(()=>{this.qs=o})}Zs(r){this.qs.get(r.clientId)&&this.onlineStateHandler(r.onlineState)}ti(r){let s=Bm();return r.forEach((o,l)=>{s=s.unionWith(l.activeTargetIds)}),s}}class yb{constructor(){this.yi=new Qm,this.pi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(r){}updateMutationState(r,s,o){}addLocalQueryTarget(r){return this.yi.Fs(r),this.pi[r]||"not-current"}updateQueryState(r,s,o){this.pi[r]=s}removeLocalQueryTarget(r){this.yi.Ms(r)}isLocalQueryTarget(r){return this.yi.activeTargetIds.has(r)}clearQueryState(r){delete this.pi[r]}getAllActiveQueryTargets(){return this.yi.activeTargetIds}isActiveQueryTarget(r){return this.yi.activeTargetIds.has(r)}start(){return this.yi=new Qm,Promise.resolve()}handleUserChange(r,s,o){}setOnlineState(r){}shutdown(){}writeSequenceNumber(r){}notifyBundleLoaded(){}}class hS{Ei(r){}shutdown(){}}class _b{constructor(){this.Ti=()=>this.Ii(),this.Ai=()=>this.Ri(),this.Pi=[],this.bi()}Ei(r){this.Pi.push(r)}shutdown(){window.removeEventListener("online",this.Ti),window.removeEventListener("offline",this.Ai)}bi(){window.addEventListener("online",this.Ti),window.addEventListener("offline",this.Ai)}Ii(){we("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const r of this.Pi)r(0)}Ri(){we("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const r of this.Pi)r(1)}static Pt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const fS={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class pS{constructor(r){this.vi=r.vi,this.Vi=r.Vi}Si(r){this.Di=r}Ci(r){this.Ni=r}onMessage(r){this.xi=r}close(){this.Vi()}send(r){this.vi(r)}ki(){this.Di()}$i(r){this.Ni(r)}Oi(r){this.xi(r)}}class gS extends class{constructor(r){this.databaseInfo=r,this.databaseId=r.databaseId,this.Fi=(r.ssl?"https":"http")+"://"+r.host,this.Mi="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}Li(r,s,o,l){const d=this.Bi(r,s);we("RestConnection","Sending: ",d,o);const h={};return this.Ui(h,l),this.qi(r,d,h,o).then(g=>(we("RestConnection","Received: ",g),g),g=>{throw je("RestConnection",`${r} failed with error: `,g,"url: ",d,"request:",o),g})}Ki(r,s,o,l){return this.Li(r,s,o,l)}Ui(r,s){if(r["X-Goog-Api-Client"]="gl-js/ fire/"+df,r["Content-Type"]="text/plain",this.databaseInfo.appId&&(r["X-Firebase-GMPID"]=this.databaseInfo.appId),s)for(const o in s.authHeaders)s.authHeaders.hasOwnProperty(o)&&(r[o]=s.authHeaders[o])}Bi(r,s){return`${this.Fi}/v1/${s}:${fS[r]}`}}{constructor(r){super(r),this.forceLongPolling=r.forceLongPolling,this.autoDetectLongPolling=r.autoDetectLongPolling,this.useFetchStreams=r.useFetchStreams}qi(r,s,o,l){return new Promise((d,h)=>{const g=new Ra;g.listenOnce(Kv.COMPLETE,()=>{try{switch(g.getLastErrorCode()){case cf.NO_ERROR:const w=g.getResponseJson();we("Connection","XHR received:",JSON.stringify(w)),d(w);break;case cf.TIMEOUT:we("Connection",'RPC "'+r+'" timed out'),h(new me(ee.DEADLINE_EXCEEDED,"Request time out"));break;case cf.HTTP_ERROR:const C=g.getStatus();if(we("Connection",'RPC "'+r+'" failed with status:',C,"response text:",g.getResponseText()),C>0){const I=g.getResponseJson().error;if(I&&I.status&&I.message){const A=function(D){const P=D.toLowerCase().replace(/_/g,"-");return Object.values(ee).indexOf(P)>=0?P:ee.UNKNOWN}(I.status);h(new me(A,I.message))}else h(new me(ee.UNKNOWN,"Server responded with status "+g.getStatus()))}else h(new me(ee.UNAVAILABLE,"Connection failed."));break;default:Fe()}}finally{we("Connection",'RPC "'+r+'" completed.')}});const _=JSON.stringify(l);g.send(s,"POST",_,o,15)})}ji(r,s){const o=[this.Fi,"/","google.firestore.v1.Firestore","/",r,"/channel"],l=new Dm,d=am(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(h.xmlHttpFactory=new Am({})),this.Ui(h.initMessageHeaders,s),(0,wt.uI)()||(0,wt.b$)()||(0,wt.d)()||(0,wt.w1)()||(0,wt.Mn)()||(0,wt.ru)()||(h.httpHeadersOverwriteParam="$httpHeaders");const g=o.join("");we("Connection","Creating WebChannel: "+g,h);const _=l.createWebChannel(g,h);let w=!1,C=!1;const I=new pS({vi:D=>{C?we("Connection","Not sending because WebChannel is closed:",D):(w||(we("Connection","Opening WebChannel transport."),_.open(),w=!0),we("Connection","WebChannel sending:",D),_.send(D))},Vi:()=>_.close()}),A=(D,P,L)=>{D.listen(P,ae=>{try{L(ae)}catch(Ie){setTimeout(()=>{throw Ie},0)}})};return A(_,qc.EventType.OPEN,()=>{C||we("Connection","WebChannel transport opened.")}),A(_,qc.EventType.CLOSE,()=>{C||(C=!0,we("Connection","WebChannel transport closed"),I.$i())}),A(_,qc.EventType.ERROR,D=>{C||(C=!0,je("Connection","WebChannel transport errored:",D),I.$i(new me(ee.UNAVAILABLE,"The operation could not be completed")))}),A(_,qc.EventType.MESSAGE,D=>{var P;if(!C){const L=D.data[0];ze(!!L);const ae=L,Ie=ae.error||(null===(P=ae[0])||void 0===P?void 0:P.error);if(Ie){we("Connection","WebChannel received error:",Ie);const Se=Ie.status;let Be=function(Tn){const $o=bn[Tn];if(void 0!==$o)return mE($o)}(Se),lt=Ie.message;void 0===Be&&(Be=ee.INTERNAL,lt="Unknown error status: "+Se+" with message "+Ie.message),C=!0,I.$i(new me(Be,lt)),_.close()}else we("Connection","WebChannel received:",L),I.Oi(L)}}),A(d,Yv.STAT_EVENT,D=>{D.stat===Tm_PROXY?we("Connection","Detected buffering proxy"):D.stat===Tm_NOPROXY&&we("Connection","Detected no buffering proxy")}),setTimeout(()=>{I.ki()},0),I}}function gd(){return"undefined"!=typeof window?window:null}function La(){return"undefined"!=typeof document?document:null}function Hf(i){return new LA(i,!0)}class $f{constructor(r,s,o=1e3,l=1.5,d=6e4){this.Oe=r,this.timerId=s,this.Qi=o,this.Wi=l,this.Gi=d,this.zi=0,this.Hi=null,this.Ji=Date.now(),this.reset()}reset(){this.zi=0}Yi(){this.zi=this.Gi}Xi(r){this.cancel();const s=Math.floor(this.zi+this.Zi()),o=Math.max(0,Date.now()-this.Ji),l=Math.max(0,s-o);l>0&&we("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.zi} ms, delay with jitter: ${s} ms, last attempt: ${o} ms ago)`),this.Hi=this.Oe.enqueueAfterDelay(this.timerId,l,()=>(this.Ji=Date.now(),r())),this.zi*=this.Wi,this.zi<this.Qi&&(this.zi=this.Qi),this.zi>this.Gi&&(this.zi=this.Gi)}tr(){null!==this.Hi&&(this.Hi.skipDelay(),this.Hi=null)}cancel(){null!==this.Hi&&(this.Hi.cancel(),this.Hi=null)}Zi(){return(Math.random()-.5)*this.zi}}class rs{constructor(r,s,o,l,d,h){this.Oe=r,this.er=o,this.nr=l,this.credentialsProvider=d,this.listener=h,this.state=0,this.sr=0,this.ir=null,this.stream=null,this.rr=new $f(r,s)}ar(){return 1===this.state||2===this.state||4===this.state}cr(){return 2===this.state}start(){3!==this.state?this.auth():this.ur()}stop(){var r=this;return(0,ue.Z)(function*(){r.ar()&&(yield r.close(0))})()}hr(){this.state=0,this.rr.reset()}lr(){this.cr()&&null===this.ir&&(this.ir=this.Oe.enqueueAfterDelay(this.er,6e4,()=>this.dr()))}wr(r){this._r(),this.stream.send(r)}dr(){var r=this;return(0,ue.Z)(function*(){if(r.cr())return r.close(0)})()}_r(){this.ir&&(this.ir.cancel(),this.ir=null)}close(r,s){var o=this;return(0,ue.Z)(function*(){o._r(),o.rr.cancel(),o.sr++,3!==r?o.rr.reset():s&&s.code===ee.RESOURCE_EXHAUSTED?(Nn(s.toString()),Nn("Using maximum backoff delay to prevent overloading the backend."),o.rr.Yi()):s&&s.code===ee.UNAUTHENTICATED&&o.credentialsProvider.invalidateToken(),null!==o.stream&&(o.mr(),o.stream.close(),o.stream=null),o.state=r,yield o.listener.Ci(s)})()}mr(){}auth(){this.state=1;const r=this.gr(this.sr),s=this.sr;this.credentialsProvider.getToken().then(o=>{this.sr===s&&this.yr(o)},o=>{r(()=>{const l=new me(ee.UNKNOWN,"Fetching auth token failed: "+o.message);return this.pr(l)})})}yr(r){const s=this.gr(this.sr);this.stream=this.Er(r),this.stream.Si(()=>{s(()=>(this.state=2,this.listener.Si()))}),this.stream.Ci(o=>{s(()=>this.pr(o))}),this.stream.onMessage(o=>{s(()=>this.onMessage(o))})}ur(){var r=this;this.state=4,this.rr.Xi((0,ue.Z)(function*(){r.state=0,r.start()}))}pr(r){return we("PersistentStream",`close with error: ${r}`),this.stream=null,this.close(3,r)}gr(r){return s=>{this.Oe.enqueueAndForget(()=>this.sr===r?s():(we("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class mS extends rs{constructor(r,s,o,l,d){super(r,"listen_stream_connection_backoff","listen_stream_idle",s,o,d),this.N=l}Er(r){return this.nr.ji("Listen",r)}onMessage(r){this.rr.reset();const s=function(i,r){let s;if("targetChange"in r){const o="NO_CHANGE"===(_=r.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===_?1:"REMOVE"===_?2:"CURRENT"===_?3:"RESET"===_?4:Fe(),l=r.targetChange.targetIds||[],d=function(_,w){return _.D?(ze(void 0===w||"string"==typeof w),jn.fromBase64String(w||"")):(ze(void 0===w||w instanceof Uint8Array),jn.fromUint8Array(w||new Uint8Array))}(i,r.targetChange.resumeToken),h=r.targetChange.cause,g=h&&function(_){const w=void 0===_.code?ee.UNKNOWN:mE(_.code);return new me(w,_.message||"")}(h);s=new FI(o,l,d,g||null)}else if("documentChange"in r){const o=r.documentChange,l=pi(i,o.document.name),d=Rn(o.document.updateTime),h=new gr({mapValue:{fields:o.document.fields}}),g=Xt.newFoundDocument(l,d,h);s=new jm(o.targetIds||[],o.removedTargetIds||[],g.key,g)}else if("documentDelete"in r){const o=r.documentDelete,l=pi(i,o.document),d=o.readTime?Rn(o.readTime):st.min(),h=Xt.newNoDocument(l,d);s=new jm([],o.removedTargetIds||[],h.key,h)}else if("documentRemove"in r){const o=r.documentRemove,l=pi(i,o.document);s=new jm([],o.removedTargetIds||[],l,null)}else{if(!("filter"in r))return Fe();{const o=r.filter,d=new NA(o.count||0);s=new kI(o.targetId,d)}}var _;return s}(this.N,r),o=function(l){if(!("targetChange"in l))return st.min();const d=l.targetChange;return d.targetIds&&d.targetIds.length?st.min():d.readTime?Rn(d.readTime):st.min()}(r);return this.listener.Tr(s,o)}Ir(r){const s={};s.database=rd(this.N),s.addTarget=function(l,d){let h;const g=d.target;return h=Rm(g)?{documents:CE(l,g)}:{query:Mf(l,g)},h.targetId=d.targetId,d.resumeToken.approximateByteSize()>0?h.resumeToken=Nf(l,d.resumeToken):d.snapshotVersion.compareTo(st.min())>0&&(h.readTime=xf(l,d.snapshotVersion.toTimestamp())),h}(this.N,r);const o=function(i,r){const s=function(o,l){switch(l){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Fe()}}(0,r.purpose);return null==s?null:{"goog-listen-tags":s}}(0,r);o&&(s.labels=o),this.wr(s)}Ar(r){const s={};s.database=rd(this.N),s.removeTarget=r,this.wr(s)}}class Jm extends rs{constructor(r,s,o,l,d){super(r,"write_stream_connection_backoff","write_stream_idle",s,o,d),this.N=l,this.Rr=!1}get Pr(){return this.Rr}start(){this.Rr=!1,this.lastStreamToken=void 0,super.start()}mr(){this.Rr&&this.br([])}Er(r){return this.nr.ji("Write",r)}onMessage(r){if(ze(!!r.streamToken),this.lastStreamToken=r.streamToken,this.Rr){this.rr.reset();const s=function(i,r){return i&&i.length>0?(ze(void 0!==r),i.map(s=>function(o,l){let d=Rn(o.updateTime?o.updateTime:l);return d.isEqual(st.min())&&(d=Rn(l)),new Hs(d,o.transformResults||[])}(s,r))):[]}(r.writeResults,r.commitTime),o=Rn(r.commitTime);return this.listener.vr(o,s)}return ze(!r.writeResults||0===r.writeResults.length),this.Rr=!0,this.listener.Vr()}Sr(){const r={};r.database=rd(this.N),this.wr(r)}br(r){const s={streamToken:this.lastStreamToken,writes:r.map(o=>$m(this.N,o))};this.wr(s)}}class yS extends class{}{constructor(r,s,o){super(),this.credentials=r,this.nr=s,this.N=o,this.Dr=!1}Cr(){if(this.Dr)throw new me(ee.FAILED_PRECONDITION,"The client has already been terminated.")}Li(r,s,o){return this.Cr(),this.credentials.getToken().then(l=>this.nr.Li(r,s,o,l)).catch(l=>{throw"FirebaseError"===l.name?(l.code===ee.UNAUTHENTICATED&&this.credentials.invalidateToken(),l):new me(ee.UNKNOWN,l.toString())})}Ki(r,s,o){return this.Cr(),this.credentials.getToken().then(l=>this.nr.Ki(r,s,o,l)).catch(l=>{throw"FirebaseError"===l.name?(l.code===ee.UNAUTHENTICATED&&this.credentials.invalidateToken(),l):new me(ee.UNKNOWN,l.toString())})}terminate(){this.Dr=!0}}class _S{constructor(r,s){this.asyncQueue=r,this.onlineStateHandler=s,this.state="Unknown",this.Nr=0,this.kr=null,this.$r=!0}Or(){0===this.Nr&&(this.Fr("Unknown"),this.kr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.kr=null,this.Mr("Backend didn't respond within 10 seconds."),this.Fr("Offline"),Promise.resolve())))}Lr(r){"Online"===this.state?this.Fr("Unknown"):(this.Nr++,this.Nr>=1&&(this.Br(),this.Mr(`Connection failed 1 times. Most recent error: ${r.toString()}`),this.Fr("Offline")))}set(r){this.Br(),this.Nr=0,"Online"===r&&(this.$r=!1),this.Fr(r)}Fr(r){r!==this.state&&(this.state=r,this.onlineStateHandler(r))}Mr(r){const s=`Could not reach Cloud Firestore backend. ${r}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.$r?(Nn(s),this.$r=!1):we("OnlineStateTracker",s)}Br(){null!==this.kr&&(this.kr.cancel(),this.kr=null)}}class cN{constructor(r,s,o,l,d){var h=this;this.localStore=r,this.datastore=s,this.asyncQueue=o,this.remoteSyncer={},this.Ur=[],this.qr=new Map,this.Kr=new Set,this.jr=[],this.Qr=d,this.Qr.Ei(g=>{o.enqueueAndForget((0,ue.Z)(function*(){var _;zs(h)&&(we("RemoteStore","Restarting streams for network reachability change."),yield(_=(0,ue.Z)(function*(w){const C=Te(w);C.Kr.add(4),yield nl(C),C.Wr.set("Unknown"),C.Kr.delete(4),yield tl(C)}),function(w){return _.apply(this,arguments)})(h))}))}),this.Wr=new _S(o,l)}}function tl(i){return Gf.apply(this,arguments)}function Gf(){return(Gf=(0,ue.Z)(function*(i){if(zs(i))for(const r of i.jr)yield r(!0)})).apply(this,arguments)}function nl(i){return qf.apply(this,arguments)}function qf(){return(qf=(0,ue.Z)(function*(i){for(const r of i.jr)yield r(!1)})).apply(this,arguments)}function md(i,r){const s=Te(i);s.qr.has(r.targetId)||(s.qr.set(r.targetId,r),Xm(s)?$E(s):Bo(s).cr()&&HE(s,r))}function Wf(i,r){const s=Te(i),o=Bo(s);s.qr.delete(r),o.cr()&&vb(s,r),0===s.qr.size&&(o.cr()?o.lr():zs(s)&&s.Wr.set("Unknown"))}function HE(i,r){i.Gr.Y(r.targetId),Bo(i).Ir(r)}function vb(i,r){i.Gr.Y(r),Bo(i).Ar(r)}function $E(i){i.Gr=new PA({getRemoteKeysForTarget:r=>i.remoteSyncer.getRemoteKeysForTarget(r),Et:r=>i.qr.get(r)||null}),Bo(i).start(),i.Wr.Or()}function Xm(i){return zs(i)&&!Bo(i).ar()&&i.qr.size>0}function zs(i){return 0===Te(i).Kr.size}function GE(i){i.Gr=void 0}function vS(i){return ey.apply(this,arguments)}function ey(){return(ey=(0,ue.Z)(function*(i){i.qr.forEach((r,s)=>{HE(i,r)})})).apply(this,arguments)}function Eb(i,r){return qE.apply(this,arguments)}function qE(){return(qE=(0,ue.Z)(function*(i,r){GE(i),Xm(i)?(i.Wr.Lr(r),$E(i)):i.Wr.set("Unknown")})).apply(this,arguments)}function wb(i,r,s){return ty.apply(this,arguments)}function ty(){return(ty=(0,ue.Z)(function*(i,r,s){if(i.Wr.set("Online"),r instanceof FI&&2===r.state&&r.cause)try{yield(o=(0,ue.Z)(function*(l,d){const h=d.cause;for(const g of d.targetIds)l.qr.has(g)&&(yield l.remoteSyncer.rejectListen(g,h),l.qr.delete(g),l.Gr.removeTarget(g))}),function(l,d){return o.apply(this,arguments)})(i,r)}catch(o){we("RemoteStore","Failed to remove targets %s: %s ",r.targetIds.join(","),o),yield ny(i,o)}else if(r instanceof jm?i.Gr.rt(r):r instanceof kI?i.Gr.ft(r):i.Gr.ct(r),!s.isEqual(st.min()))try{const o=yield FE(i.localStore);s.compareTo(o)>=0&&(yield function(l,d){const h=l.Gr._t(d);return h.targetChanges.forEach((g,_)=>{if(g.resumeToken.approximateByteSize()>0){const w=l.qr.get(_);w&&l.qr.set(_,w.withResumeToken(g.resumeToken,d))}}),h.targetMismatches.forEach(g=>{const _=l.qr.get(g);if(!_)return;l.qr.set(g,_.withResumeToken(jn.EMPTY_BYTE_STRING,_.snapshotVersion)),vb(l,g);const w=new Pa(_.target,g,1,_.sequenceNumber);HE(l,w)}),l.remoteSyncer.applyRemoteEvent(h)}(i,s))}catch(o){we("RemoteStore","Failed to raise snapshot:",o),yield ny(i,o)}var o})).apply(this,arguments)}function ny(i,r,s){return ry.apply(this,arguments)}function ry(){return(ry=(0,ue.Z)(function*(i,r,s){if(!Ws(r))throw r;i.Kr.add(1),yield nl(i),i.Wr.set("Offline"),s||(s=()=>FE(i.localStore)),i.asyncQueue.enqueueRetryable((0,ue.Z)(function*(){we("RemoteStore","Retrying IndexedDB access"),yield s(),i.Kr.delete(1),yield tl(i)}))})).apply(this,arguments)}function Cb(i,r){return r().catch(s=>ny(i,s,r))}function zf(i){return or.apply(this,arguments)}function or(){return(or=(0,ue.Z)(function*(i){const r=Te(i),s=Zs(r);let o=r.Ur.length>0?r.Ur[r.Ur.length-1].batchId:-1;for(;yd(r);)try{const l=yield iS(r.localStore,o);if(null===l){0===r.Ur.length&&s.lr();break}o=l.batchId,ES(r,l)}catch(l){yield ny(r,l)}Ib(r)&&wS(r)})).apply(this,arguments)}function yd(i){return zs(i)&&i.Ur.length<10}function ES(i,r){i.Ur.push(r);const s=Zs(i);s.cr()&&s.Pr&&s.br(r.mutations)}function Ib(i){return zs(i)&&!Zs(i).ar()&&i.Ur.length>0}function wS(i){Zs(i).start()}function Zf(i){return WE.apply(this,arguments)}function WE(){return(WE=(0,ue.Z)(function*(i){Zs(i).Sr()})).apply(this,arguments)}function zE(i){return ZE.apply(this,arguments)}function ZE(){return(ZE=(0,ue.Z)(function*(i){const r=Zs(i);for(const s of i.Ur)r.br(s.mutations)})).apply(this,arguments)}function bb(i,r,s){return KE.apply(this,arguments)}function KE(){return(KE=(0,ue.Z)(function*(i,r,s){const o=i.Ur.shift(),l=Zu.from(o,r,s);yield Cb(i,()=>i.remoteSyncer.applySuccessfulWrite(l)),yield zf(i)})).apply(this,arguments)}function CS(i,r){return Kf.apply(this,arguments)}function Kf(){return(Kf=(0,ue.Z)(function*(i,r){var s;r&&Zs(i).Pr&&(yield(s=(0,ue.Z)(function*(o,l){if(gE(d=l.code)&&d!==ee.ABORTED){const h=o.Ur.shift();Zs(o).hr(),yield Cb(o,()=>o.remoteSyncer.rejectFailedWrite(h.batchId,l)),yield zf(o)}var d}),function(o,l){return s.apply(this,arguments)})(i,r)),Ib(i)&&wS(i)})).apply(this,arguments)}function iy(i,r){return sy.apply(this,arguments)}function sy(){return(sy=(0,ue.Z)(function*(i,r){const s=Te(i);r?(s.Kr.delete(2),yield tl(s)):r||(s.Kr.add(2),yield nl(s),s.Wr.set("Unknown"))})).apply(this,arguments)}function Bo(i){return i.zr||(i.zr=function(r,s,o){const l=Te(r);return l.Cr(),new mS(s,l.nr,l.credentials,l.N,o)}(i.datastore,i.asyncQueue,{Si:vS.bind(null,i),Ci:Eb.bind(null,i),Tr:wb.bind(null,i)}),i.jr.push(function(){var r=(0,ue.Z)(function*(s){s?(i.zr.hr(),Xm(i)?$E(i):i.Wr.set("Unknown")):(yield i.zr.stop(),GE(i))});return function(s){return r.apply(this,arguments)}}())),i.zr}function Zs(i){return i.Hr||(i.Hr=function(r,s,o){const l=Te(r);return l.Cr(),new Jm(s,l.nr,l.credentials,l.N,o)}(i.datastore,i.asyncQueue,{Si:Zf.bind(null,i),Ci:CS.bind(null,i),Vr:zE.bind(null,i),vr:bb.bind(null,i)}),i.jr.push(function(){var r=(0,ue.Z)(function*(s){s?(i.Hr.hr(),yield zf(i)):(yield i.Hr.stop(),i.Ur.length>0&&(we("RemoteStore",`Stopping write stream with ${i.Ur.length} pending writes`),i.Ur=[]))});return function(s){return r.apply(this,arguments)}}())),i.Hr}class Db{constructor(r,s,o,l,d){this.asyncQueue=r,this.timerId=s,this.targetTimeMs=o,this.op=l,this.removalCallback=d,this.deferred=new dt,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(h=>{})}static createAndSchedule(r,s,o,l,d){const h=Date.now()+o,g=new Db(r,s,h,l,d);return g.start(o),g}start(r){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),r)}skipDelay(){return this.handleDelayElapsed()}cancel(r){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new me(ee.CANCELLED,"Operation cancelled"+(r?": "+r:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(r=>this.deferred.resolve(r))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function rl(i,r){if(Nn("AsyncQueue",`${r}: ${i}`),Ws(i))return new me(ee.UNAVAILABLE,`${r}: ${i}`);throw i}class _d{constructor(r){this.comparator=r?(s,o)=>r(s,o)||Le.comparator(s.key,o.key):(s,o)=>Le.comparator(s.key,o.key),this.keyedMap=nd(),this.sortedSet=new Dn(this.comparator)}static emptySet(r){return new _d(r.comparator)}has(r){return null!=this.keyedMap.get(r)}get(r){return this.keyedMap.get(r)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(r){const s=this.keyedMap.get(r);return s?this.sortedSet.indexOf(s):-1}get size(){return this.sortedSet.size}forEach(r){this.sortedSet.inorderTraversal((s,o)=>(r(s),!1))}add(r){const s=this.delete(r.key);return s.copy(s.keyedMap.insert(r.key,r),s.sortedSet.insert(r,null))}delete(r){const s=this.get(r);return s?this.copy(this.keyedMap.remove(r),this.sortedSet.remove(s)):this}isEqual(r){if(!(r instanceof _d)||this.size!==r.size)return!1;const s=this.sortedSet.getIterator(),o=r.sortedSet.getIterator();for(;s.hasNext();){const l=s.getNext().key,d=o.getNext().key;if(!l.isEqual(d))return!1}return!0}toString(){const r=[];return this.forEach(s=>{r.push(s.toString())}),0===r.length?"DocumentSet ()":"DocumentSet (\n  "+r.join("  \n")+"\n)"}copy(r,s){const o=new _d;return o.comparator=this.comparator,o.keyedMap=r,o.sortedSet=s,o}}class YE{constructor(){this.Jr=new Dn(Le.comparator)}track(r){const s=r.doc.key,o=this.Jr.get(s);o?0!==r.type&&3===o.type?this.Jr=this.Jr.insert(s,r):3===r.type&&1!==o.type?this.Jr=this.Jr.insert(s,{type:o.type,doc:r.doc}):2===r.type&&2===o.type?this.Jr=this.Jr.insert(s,{type:2,doc:r.doc}):2===r.type&&0===o.type?this.Jr=this.Jr.insert(s,{type:0,doc:r.doc}):1===r.type&&0===o.type?this.Jr=this.Jr.remove(s):1===r.type&&2===o.type?this.Jr=this.Jr.insert(s,{type:1,doc:o.doc}):0===r.type&&1===o.type?this.Jr=this.Jr.insert(s,{type:2,doc:r.doc}):Fe():this.Jr=this.Jr.insert(s,r)}Yr(){const r=[];return this.Jr.inorderTraversal((s,o)=>{r.push(o)}),r}}class jo{constructor(r,s,o,l,d,h,g,_){this.query=r,this.docs=s,this.oldDocs=o,this.docChanges=l,this.mutatedKeys=d,this.fromCache=h,this.syncStateChanged=g,this.excludesMetadataChanges=_}static fromInitialDocuments(r,s,o,l){const d=[];return s.forEach(h=>{d.push({type:0,doc:h})}),new jo(r,s,_d.emptySet(s),d,o,l,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(r){if(!(this.fromCache===r.fromCache&&this.syncStateChanged===r.syncStateChanged&&this.mutatedKeys.isEqual(r.mutatedKeys)&&Bu(this.query,r.query)&&this.docs.isEqual(r.docs)&&this.oldDocs.isEqual(r.oldDocs)))return!1;const s=this.docChanges,o=r.docChanges;if(s.length!==o.length)return!1;for(let l=0;l<s.length;l++)if(s[l].type!==o[l].type||!s[l].doc.isEqual(o[l].doc))return!1;return!0}}class Tb{constructor(){this.Xr=void 0,this.listeners=[]}}class IS{constructor(){this.queries=new Qu(r=>uE(r),Bu),this.onlineState="Unknown",this.Zr=new Set}}function Yf(i,r){return Qf.apply(this,arguments)}function Qf(){return(Qf=(0,ue.Z)(function*(i,r){const s=Te(i),o=r.query;let l=!1,d=s.queries.get(o);if(d||(l=!0,d=new Tb),l)try{d.Xr=yield s.onListen(o)}catch(h){const g=rl(h,`Initialization of query '${_f(r.query)}' failed`);return void r.onError(g)}s.queries.set(o,d),d.listeners.push(r),r.eo(s.onlineState),d.Xr&&r.no(d.Xr)&&oy(s)})).apply(this,arguments)}function QE(i,r){return JE.apply(this,arguments)}function JE(){return(JE=(0,ue.Z)(function*(i,r){const s=Te(i),o=r.query;let l=!1;const d=s.queries.get(o);if(d){const h=d.listeners.indexOf(r);h>=0&&(d.listeners.splice(h,1),l=0===d.listeners.length)}if(l)return s.queries.delete(o),s.onUnlisten(o)})).apply(this,arguments)}function Ab(i,r){const s=Te(i);let o=!1;for(const l of r){const h=s.queries.get(l.query);if(h){for(const g of h.listeners)g.no(l)&&(o=!0);h.Xr=l}}o&&oy(s)}function Sb(i,r,s){const o=Te(i),l=o.queries.get(r);if(l)for(const d of l.listeners)d.onError(s);o.queries.delete(r)}function oy(i){i.Zr.forEach(r=>{r.next()})}class XE{constructor(r,s,o){this.query=r,this.so=s,this.io=!1,this.ro=null,this.onlineState="Unknown",this.options=o||{}}no(r){if(!this.options.includeMetadataChanges){const o=[];for(const l of r.docChanges)3!==l.type&&o.push(l);r=new jo(r.query,r.docs,r.oldDocs,o,r.mutatedKeys,r.fromCache,r.syncStateChanged,!0)}let s=!1;return this.io?this.oo(r)&&(this.so.next(r),s=!0):this.ao(r,this.onlineState)&&(this.co(r),s=!0),this.ro=r,s}onError(r){this.so.error(r)}eo(r){this.onlineState=r;let s=!1;return this.ro&&!this.io&&this.ao(this.ro,r)&&(this.co(this.ro),s=!0),s}ao(r,s){return!r.fromCache||!(this.options.uo&&"Offline"!==s||r.docs.isEmpty()&&"Offline"!==s)}oo(r){return r.docChanges.length>0||!!(r.syncStateChanged||this.ro&&this.ro.hasPendingWrites!==r.hasPendingWrites)&&!0===this.options.includeMetadataChanges}co(r){r=jo.fromInitialDocuments(r.query,r.docs,r.mutatedKeys,r.fromCache),this.io=!0,this.so.next(r)}}class xb{constructor(r,s){this.payload=r,this.byteLength=s}ho(){return"metadata"in this.payload}}class e0{constructor(r){this.N=r}zn(r){return pi(this.N,r)}Hn(r){return r.metadata.exists?EE(this.N,r.document,!1):Xt.newNoDocument(this.zn(r.metadata.name),this.Jn(r.metadata.readTime))}Jn(r){return Rn(r)}}class bS{constructor(r,s,o){this.lo=r,this.localStore=s,this.N=o,this.queries=[],this.documents=[],this.progress=Nb(r)}fo(r){this.progress.bytesLoaded+=r.byteLength;let s=this.progress.documentsLoaded;return r.payload.namedQuery?this.queries.push(r.payload.namedQuery):r.payload.documentMetadata?(this.documents.push({metadata:r.payload.documentMetadata}),r.payload.documentMetadata.exists||++s):r.payload.document&&(this.documents[this.documents.length-1].document=r.payload.document,++s),s!==this.progress.documentsLoaded?(this.progress.documentsLoaded=s,Object.assign({},this.progress)):null}wo(r){const s=new Map,o=new e0(this.N);for(const l of r)if(l.metadata.queries){const d=o.zn(l.metadata.name);for(const h of l.metadata.queries){const g=(s.get(h)||Mt()).add(d);s.set(h,g)}}return s}complete(){var r=this;return(0,ue.Z)(function*(){const s=yield function(i,r,s,o){return UE.apply(this,arguments)}(r.localStore,new e0(r.N),r.documents,r.lo.id),o=r.wo(r.documents);for(const l of r.queries)yield lN(r.localStore,l,o.get(l.name));return r.progress.taskState="Success",new PE(Object.assign({},r.progress),s)})()}}function Nb(i){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:i.totalDocuments,totalBytes:i.totalBytes}}class t0{constructor(r){this.key=r}}class Rb{constructor(r){this.key=r}}class n0{constructor(r,s){this.query=r,this._o=s,this.mo=null,this.current=!1,this.yo=Mt(),this.mutatedKeys=Mt(),this.po=DI(r),this.Eo=new _d(this.po)}get To(){return this._o}Io(r,s){const o=s?s.Ao:new YE,l=s?s.Eo:this.Eo;let d=s?s.mutatedKeys:this.mutatedKeys,h=l,g=!1;const _=yf(this.query)&&l.size===this.query.limit?l.last():null,w=Om(this.query)&&l.size===this.query.limit?l.first():null;if(r.inorderTraversal((C,I)=>{const A=l.get(C),D=vf(this.query,I)?I:null,P=!!A&&this.mutatedKeys.has(A.key),L=!!D&&(D.hasLocalMutations||this.mutatedKeys.has(D.key)&&D.hasCommittedMutations);let ae=!1;A&&D?A.data.isEqual(D.data)?P!==L&&(o.track({type:3,doc:D}),ae=!0):this.Ro(A,D)||(o.track({type:2,doc:D}),ae=!0,(_&&this.po(D,_)>0||w&&this.po(D,w)<0)&&(g=!0)):!A&&D?(o.track({type:0,doc:D}),ae=!0):A&&!D&&(o.track({type:1,doc:A}),ae=!0,(_||w)&&(g=!0)),ae&&(D?(h=h.add(D),d=L?d.add(C):d.delete(C)):(h=h.delete(C),d=d.delete(C)))}),yf(this.query)||Om(this.query))for(;h.size>this.query.limit;){const C=yf(this.query)?h.last():h.first();h=h.delete(C.key),d=d.delete(C.key),o.track({type:1,doc:C})}return{Eo:h,Ao:o,Ln:g,mutatedKeys:d}}Ro(r,s){return r.hasLocalMutations&&s.hasCommittedMutations&&!s.hasLocalMutations}applyChanges(r,s,o){const l=this.Eo;this.Eo=r.Eo,this.mutatedKeys=r.mutatedKeys;const d=r.Ao.Yr();d.sort((w,C)=>function(I,A){const D=P=>{switch(P){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Fe()}};return D(I)-D(A)}(w.type,C.type)||this.po(w.doc,C.doc)),this.Po(o);const h=s?this.bo():[],g=0===this.yo.size&&this.current?1:0,_=g!==this.mo;return this.mo=g,0!==d.length||_?{snapshot:new jo(this.query,r.Eo,l,d,r.mutatedKeys,0===g,_,!1),vo:h}:{vo:h}}eo(r){return this.current&&"Offline"===r?(this.current=!1,this.applyChanges({Eo:this.Eo,Ao:new YE,mutatedKeys:this.mutatedKeys,Ln:!1},!1)):{vo:[]}}Vo(r){return!this._o.has(r)&&!!this.Eo.has(r)&&!this.Eo.get(r).hasLocalMutations}Po(r){r&&(r.addedDocuments.forEach(s=>this._o=this._o.add(s)),r.modifiedDocuments.forEach(s=>{}),r.removedDocuments.forEach(s=>this._o=this._o.delete(s)),this.current=r.current)}bo(){if(!this.current)return[];const r=this.yo;this.yo=Mt(),this.Eo.forEach(o=>{this.Vo(o.key)&&(this.yo=this.yo.add(o.key))});const s=[];return r.forEach(o=>{this.yo.has(o)||s.push(new Rb(o))}),this.yo.forEach(o=>{r.has(o)||s.push(new t0(o))}),s}So(r){this._o=r.Gn,this.yo=Mt();const s=this.Io(r.documents);return this.applyChanges(s,!0)}Do(){return jo.fromInitialDocuments(this.query,this.Eo,this.mutatedKeys,0===this.mo)}}class Mb{constructor(r,s,o){this.query=r,this.targetId=s,this.view=o}}class Ob{constructor(r){this.key=r,this.Co=!1}}class Pb{constructor(r,s,o,l,d,h){this.localStore=r,this.remoteStore=s,this.eventManager=o,this.sharedClientState=l,this.currentUser=d,this.maxConcurrentLimboResolutions=h,this.No={},this.xo=new Qu(g=>uE(g),Bu),this.ko=new Map,this.$o=new Set,this.Oo=new Dn(Le.comparator),this.Fo=new Map,this.Mo=new Uf,this.Lo={},this.Bo=new Map,this.Uo=Yu.ie(),this.onlineState="Unknown",this.qo=void 0}get isPrimaryClient(){return!0===this.qo}}function DS(i,r){return r0.apply(this,arguments)}function r0(){return(r0=(0,ue.Z)(function*(i,r){const s=ly(i);let o,l;const d=s.xo.get(r);if(d)o=d.targetId,s.sharedClientState.addLocalQueryTarget(o),l=d.view.Do();else{const h=yield hd(s.localStore,Ai(r)),g=s.sharedClientState.addLocalQueryTarget(h.targetId);o=h.targetId,l=yield s0(s,r,o,"current"===g),s.isPrimaryClient&&md(s.remoteStore,h)}return l})).apply(this,arguments)}function s0(i,r,s,o){return ay.apply(this,arguments)}function ay(){return(ay=(0,ue.Z)(function*(i,r,s,o){i.Ko=(C,I,A)=>{return(D=(0,ue.Z)(function*(P,L,ae,Ie){let Se=L.view.Io(ae);Se.Ln&&(Se=yield VE(P.localStore,L.query,!1).then(({documents:Tn})=>L.view.Io(Tn,Se)));const Be=Ie&&Ie.targetChanges.get(L.targetId),lt=L.view.applyChanges(Se,P.isPrimaryClient,Be);return o0(P,L.targetId,lt.vo),lt.snapshot}),function(P,L,ae,Ie){return D.apply(this,arguments)})(i,C,I,A);var D};const l=yield VE(i.localStore,r,!0),d=new n0(r,l.Gn),h=d.Io(l.documents),g=Af.createSynthesizedTargetChangeForCurrentChange(s,o&&"Offline"!==i.onlineState),_=d.applyChanges(h,i.isPrimaryClient,g);o0(i,s,_.vo);const w=new Mb(r,s,d);return i.xo.set(r,w),i.ko.has(s)?i.ko.get(s).push(r):i.ko.set(s,[r]),_.snapshot})).apply(this,arguments)}function dN(i,r){return kb.apply(this,arguments)}function kb(){return(kb=(0,ue.Z)(function*(i,r){const s=Te(i),o=s.xo.get(r),l=s.ko.get(o.targetId);if(l.length>1)return s.ko.set(o.targetId,l.filter(d=>!Bu(d,r))),void s.xo.delete(r);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||(yield Xu(s.localStore,o.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(o.targetId),Wf(s.remoteStore,o.targetId),vd(s,o.targetId)}).catch(ns))):(vd(s,o.targetId),yield Xu(s.localStore,o.targetId,!0))})).apply(this,arguments)}function Fb(){return(Fb=(0,ue.Z)(function*(i,r,s){const o=Ed(i);try{const l=yield function(d,h){const g=Te(d),_=Bn.now(),w=h.reduce((I,A)=>I.add(A.key),Mt());let C;return g.persistence.runTransaction("Locally write mutations","readwrite",I=>g.Qn.bn(I,w).next(A=>{C=A;const D=[];for(const P of h){const L=oN(P,C.get(P.key));null!=L&&D.push(new $s(P.key,L,Vu(L.value.mapValue),mn.exists(!0)))}return g.In.addMutationBatch(I,_,D,h)})).then(I=>(I.applyToLocalDocumentSet(C),{batchId:I.batchId,changes:C}))}(o.localStore,r);o.sharedClientState.addPendingMutation(l.batchId),function(d,h,g){let _=d.Lo[d.currentUser.toKey()];_||(_=new Dn(gt)),_=_.insert(h,g),d.Lo[d.currentUser.toKey()]=_}(o,l.batchId,s),yield Va(o,l.changes),yield zf(o.remoteStore)}catch(l){const d=rl(l,"Failed to persist write");s.reject(d)}})).apply(this,arguments)}function TS(i,r){return Lb.apply(this,arguments)}function Lb(){return(Lb=(0,ue.Z)(function*(i,r){const s=Te(i);try{const o=yield lb(s.localStore,r);r.targetChanges.forEach((l,d)=>{const h=s.Fo.get(d);h&&(ze(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1),l.addedDocuments.size>0?h.Co=!0:l.modifiedDocuments.size>0?ze(h.Co):l.removedDocuments.size>0&&(ze(h.Co),h.Co=!1))}),yield Va(s,o,r)}catch(o){yield ns(o)}})).apply(this,arguments)}function AS(i,r,s){const o=Te(i);if(o.isPrimaryClient&&0===s||!o.isPrimaryClient&&1===s){const l=[];o.xo.forEach((d,h)=>{const g=h.view.eo(r);g.snapshot&&l.push(g.snapshot)}),function(d,h){const g=Te(d);g.onlineState=h;let _=!1;g.queries.forEach((w,C)=>{for(const I of C.listeners)I.eo(h)&&(_=!0)}),_&&oy(g)}(o.eventManager,r),l.length&&o.No.Tr(l),o.onlineState=r,o.isPrimaryClient&&o.sharedClientState.setOnlineState(r)}}function fN(i,r,s){return Vb.apply(this,arguments)}function Vb(){return(Vb=(0,ue.Z)(function*(i,r,s){const o=Te(i);o.sharedClientState.updateQueryState(r,"rejected",s);const l=o.Fo.get(r),d=l&&l.key;if(d){let h=new Dn(Le.comparator);h=h.insert(d,Xt.newNoDocument(d,st.min()));const g=Mt().add(d),_=new Tf(st.min(),new Map,new an(gt),h,g);yield TS(o,_),o.Oo=o.Oo.remove(d),o.Fo.delete(r),qb(o)}else yield Xu(o.localStore,r,!1).then(()=>vd(o,r,s)).catch(ns)})).apply(this,arguments)}function pN(i,r){return Ub.apply(this,arguments)}function Ub(){return(Ub=(0,ue.Z)(function*(i,r){const s=Te(i),o=r.batch.batchId;try{const l=yield ub(s.localStore,r);$b(s,o,null),Hb(s,o),s.sharedClientState.updateMutationState(o,"acknowledged"),yield Va(s,l)}catch(l){yield ns(l)}})).apply(this,arguments)}function gN(i,r,s){return Bb.apply(this,arguments)}function Bb(){return(Bb=(0,ue.Z)(function*(i,r,s){const o=Te(i);try{const l=yield function(d,h){const g=Te(d);return g.persistence.runTransaction("Reject batch","readwrite-primary",_=>{let w;return g.In.lookupMutationBatch(_,h).next(C=>(ze(null!==C),w=C.keys(),g.In.removeMutationBatch(_,C))).next(()=>g.In.performConsistencyCheck(_)).next(()=>g.Qn.bn(_,w))})}(o.localStore,r);$b(o,r,s),Hb(o,r),o.sharedClientState.updateMutationState(r,"rejected",s),yield Va(o,l)}catch(l){yield ns(l)}})).apply(this,arguments)}function jb(){return(jb=(0,ue.Z)(function*(i,r){const s=Te(i);zs(s.remoteStore)||we("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const o=yield function(d){const h=Te(d);return h.persistence.runTransaction("Get highest unacknowledged batch id","readonly",g=>h.In.getHighestUnacknowledgedBatchId(g))}(s.localStore);if(-1===o)return void r.resolve();const l=s.Bo.get(o)||[];l.push(r),s.Bo.set(o,l)}catch(o){const l=rl(o,"Initialization of waitForPendingWrites() operation failed");r.reject(l)}})).apply(this,arguments)}function Hb(i,r){(i.Bo.get(r)||[]).forEach(s=>{s.resolve()}),i.Bo.delete(r)}function $b(i,r,s){const o=Te(i);let l=o.Lo[o.currentUser.toKey()];if(l){const d=l.get(r);d&&(s?d.reject(s):d.resolve(),l=l.remove(r)),o.Lo[o.currentUser.toKey()]=l}}function vd(i,r,s=null){i.sharedClientState.removeLocalQueryTarget(r);for(const o of i.ko.get(r))i.xo.delete(o),s&&i.No.jo(o,s);i.ko.delete(r),i.isPrimaryClient&&i.Mo.cs(r).forEach(o=>{i.Mo.containsKey(o)||Gb(i,o)})}function Gb(i,r){i.$o.delete(r.path.canonicalString());const s=i.Oo.get(r);null!==s&&(Wf(i.remoteStore,s),i.Oo=i.Oo.remove(r),i.Fo.delete(s),qb(i))}function o0(i,r,s){for(const o of s)o instanceof t0?(i.Mo.addReference(o.key,r),yN(i,o)):o instanceof Rb?(we("SyncEngine","Document no longer in limbo: "+o.key),i.Mo.removeReference(o.key,r),i.Mo.containsKey(o.key)||Gb(i,o.key)):Fe()}function yN(i,r){const s=r.key,o=s.path.canonicalString();i.Oo.get(s)||i.$o.has(o)||(we("SyncEngine","New document in limbo: "+s),i.$o.add(o),qb(i))}function qb(i){for(;i.$o.size>0&&i.Oo.size<i.maxConcurrentLimboResolutions;){const r=i.$o.values().next().value;i.$o.delete(r);const s=new Le(Ct.fromString(r)),o=i.Uo.next();i.Fo.set(o,new Ob(s)),i.Oo=i.Oo.insert(s,o),md(i.remoteStore,new Pa(Ai(Uu(s.path)),o,2,Yr.T))}}function Va(i,r,s){return a0.apply(this,arguments)}function a0(){return(a0=(0,ue.Z)(function*(i,r,s){const o=Te(i),l=[],d=[],h=[];var g;o.xo.isEmpty()||(o.xo.forEach((g,_)=>{h.push(o.Ko(_,r,s).then(w=>{if(w){o.isPrimaryClient&&o.sharedClientState.updateQueryState(_.targetId,w.fromCache?"not-current":"current"),l.push(w);const C=Fa.kn(_.targetId,w);d.push(C)}}))}),yield Promise.all(h),o.No.Tr(l),yield(g=(0,ue.Z)(function*(_,w){const C=Te(_);try{yield C.persistence.runTransaction("notifyLocalViewChanges","readwrite",I=>ge.forEach(w,A=>ge.forEach(A.Nn,D=>C.persistence.referenceDelegate.addReference(I,A.targetId,D)).next(()=>ge.forEach(A.xn,D=>C.persistence.referenceDelegate.removeReference(I,A.targetId,D)))))}catch(I){if(!Ws(I))throw I;we("LocalStore","Failed to update sequence numbers: "+I)}for(const I of w){const A=I.targetId;if(!I.fromCache){const D=C.Un.get(A),L=D.withLastLimboFreeSnapshotVersion(D.snapshotVersion);C.Un=C.Un.insert(A,L)}}}),function(_,w){return g.apply(this,arguments)})(o.localStore,d))})).apply(this,arguments)}function SS(i,r){return u0.apply(this,arguments)}function u0(){return(u0=(0,ue.Z)(function*(i,r){const s=Te(i);if(!s.currentUser.isEqual(r)){we("SyncEngine","User change. New user:",r.toKey());const o=yield Zm(s.localStore,r);s.currentUser=r,(l=s).Bo.forEach(h=>{h.forEach(g=>{g.reject(new me(ee.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),l.Bo.clear(),s.sharedClientState.handleUserChange(r,o.removedBatchIds,o.addedBatchIds),yield Va(s,o.Wn)}var l})).apply(this,arguments)}function _N(i,r){const s=Te(i),o=s.Fo.get(r);if(o&&o.Co)return Mt().add(o.key);{let l=Mt();const d=s.ko.get(r);if(!d)return l;for(const h of d){const g=s.xo.get(h);l=l.unionWith(g.view.To)}return l}}function vN(i,r){return Wb.apply(this,arguments)}function Wb(){return(Wb=(0,ue.Z)(function*(i,r){const s=Te(i),o=yield VE(s.localStore,r.query,!0),l=r.view.So(o);return s.isPrimaryClient&&o0(s,r.targetId,l.vo),l})).apply(this,arguments)}function EN(i){return l0.apply(this,arguments)}function l0(){return(l0=(0,ue.Z)(function*(i){const r=Te(i);return hb(r.localStore).then(s=>Va(r,s))})).apply(this,arguments)}function wN(i,r,s,o){return c0.apply(this,arguments)}function c0(){return(c0=(0,ue.Z)(function*(i,r,s,o){const l=Te(i),d=yield function(h,g){const _=Te(h),w=Te(_.In);return _.persistence.runTransaction("Lookup mutation documents","readonly",C=>w.Xt(C,g).next(I=>I?_.Qn.bn(C,I):ge.resolve(null)))}(l.localStore,r);var g;null!==d?("pending"===s?yield zf(l.remoteStore):"acknowledged"===s||"rejected"===s?($b(l,r,o||null),Hb(l,r),g=r,Te(Te(l.localStore).In).te(g)):Fe(),yield Va(l,d)):we("SyncEngine","Cannot apply mutation batch with id: "+r)})).apply(this,arguments)}function Ua(){return(Ua=(0,ue.Z)(function*(i,r){const s=Te(i);if(ly(s),Ed(s),!0===r&&!0!==s.qo){const o=s.sharedClientState.getAllActiveQueryTargets(),l=yield h0(s,o.toArray());s.qo=!0,yield iy(s.remoteStore,!0);for(const d of l)md(s.remoteStore,d)}else if(!1===r&&!1!==s.qo){const o=[];let l=Promise.resolve();s.ko.forEach((d,h)=>{s.sharedClientState.isLocalQueryTarget(h)?o.push(h):l=l.then(()=>(vd(s,h),Xu(s.localStore,h,!0))),Wf(s.remoteStore,h)}),yield l,yield h0(s,o),function(d){const h=Te(d);h.Fo.forEach((g,_)=>{Wf(h.remoteStore,_)}),h.Mo.us(),h.Fo=new Map,h.Oo=new Dn(Le.comparator)}(s),s.qo=!1,yield iy(s.remoteStore,!1)}})).apply(this,arguments)}function h0(i,r,s){return f0.apply(this,arguments)}function f0(){return(f0=(0,ue.Z)(function*(i,r,s){const o=Te(i),l=[],d=[];for(const h of r){let g;const _=o.ko.get(h);if(_&&0!==_.length){g=yield hd(o.localStore,Ai(_[0]));for(const w of _){const C=o.xo.get(w),I=yield vN(o,C);I.snapshot&&d.push(I.snapshot)}}else{const w=yield db(o.localStore,h);g=yield hd(o.localStore,w),yield s0(o,zb(w),h,!1)}l.push(g)}return o.No.Tr(d),l})).apply(this,arguments)}function zb(i){return bI(i.path,i.collectionGroup,i.orderBy,i.filters,i.limit,"F",i.startAt,i.endAt)}function p0(i){const r=Te(i);return Te(Te(r.localStore).persistence).pn()}function Zb(i,r,s,o){return uy.apply(this,arguments)}function uy(){return(uy=(0,ue.Z)(function*(i,r,s,o){const l=Te(i);if(l.qo)we("SyncEngine","Ignoring unexpected query state notification.");else if(l.ko.has(r))switch(s){case"current":case"not-current":{const d=yield hb(l.localStore),h=Tf.createSynthesizedRemoteEventForCurrentChange(r,"current"===s);yield Va(l,d,h);break}case"rejected":yield Xu(l.localStore,r,!0),vd(l,r,o);break;default:Fe()}})).apply(this,arguments)}function Kb(i,r,s){return Yb.apply(this,arguments)}function Yb(){return(Yb=(0,ue.Z)(function*(i,r,s){const o=ly(i);if(o.qo){for(const l of r){if(o.ko.has(l)){we("SyncEngine","Adding an already active target "+l);continue}const d=yield db(o.localStore,l),h=yield hd(o.localStore,d);yield s0(o,zb(d),h.targetId,!1),md(o.remoteStore,h)}for(const l of s)o.ko.has(l)&&(yield Xu(o.localStore,l,!1).then(()=>{Wf(o.remoteStore,l),vd(o,l)}).catch(ns))}})).apply(this,arguments)}function ly(i){const r=Te(i);return r.remoteStore.remoteSyncer.applyRemoteEvent=TS.bind(null,r),r.remoteStore.remoteSyncer.getRemoteKeysForTarget=_N.bind(null,r),r.remoteStore.remoteSyncer.rejectListen=fN.bind(null,r),r.No.Tr=Ab.bind(null,r.eventManager),r.No.jo=Sb.bind(null,r.eventManager),r}function Ed(i){const r=Te(i);return r.remoteStore.remoteSyncer.applySuccessfulWrite=pN.bind(null,r),r.remoteStore.remoteSyncer.rejectFailedWrite=gN.bind(null,r),r}class xS{constructor(){this.synchronizeTabs=!1}initialize(r){var s=this;return(0,ue.Z)(function*(){s.N=Hf(r.databaseInfo.databaseId),s.sharedClientState=s.Wo(r),s.persistence=s.Go(r),yield s.persistence.start(),s.gcScheduler=s.zo(r),s.localStore=s.Ho(r)})()}zo(r){return null}Ho(r){return Ri(this.persistence,new sr,r.initialUser,this.N)}Go(r){return new cS(BE.Ns,this.N)}Wo(r){return new yb}terminate(){var r=this;return(0,ue.Z)(function*(){r.gcScheduler&&r.gcScheduler.stop(),yield r.sharedClientState.shutdown(),yield r.persistence.shutdown()})()}}class NS extends xS{constructor(r,s,o){super(),this.Jo=r,this.cacheSizeBytes=s,this.forceOwnership=o,this.synchronizeTabs=!1}initialize(r){var s=()=>super.initialize,o=this;return(0,ue.Z)(function*(){yield s().call(o,r),yield function(i){return fb.apply(this,arguments)}(o.localStore),yield o.Jo.initialize(o,r),yield Ed(o.Jo.syncEngine),yield zf(o.Jo.remoteStore),yield o.persistence.nn(()=>(o.gcScheduler&&!o.gcScheduler.started&&o.gcScheduler.start(o.localStore),Promise.resolve()))})()}Ho(r){return Ri(this.persistence,new sr,r.initialUser,this.N)}zo(r){return new JA(this.persistence.referenceDelegate.garbageCollector,r.asyncQueue)}Go(r){const s=zm(r.databaseInfo.databaseId,r.databaseInfo.persistenceKey),o=void 0!==this.cacheSizeBytes?mr.withCacheSize(this.cacheSizeBytes):mr.DEFAULT;return new OE(this.synchronizeTabs,s,r.clientId,o,r.asyncQueue,gd(),La(),this.N,this.sharedClientState,!!this.forceOwnership)}Wo(r){return new yb}}class CN extends NS{constructor(r,s){super(r,s,!1),this.Jo=r,this.cacheSizeBytes=s,this.synchronizeTabs=!0}initialize(r){var s=()=>super.initialize,o=this;return(0,ue.Z)(function*(){yield s().call(o,r);const l=o.Jo.syncEngine;o.sharedClientState instanceof jE&&(o.sharedClientState.syncEngine={_i:wN.bind(null,l),mi:Zb.bind(null,l),gi:Kb.bind(null,l),pn:p0.bind(null,l),wi:EN.bind(null,l)},yield o.sharedClientState.start()),yield o.persistence.nn(function(){var d=(0,ue.Z)(function*(h){yield function(i,r){return Ua.apply(this,arguments)}(o.Jo.syncEngine,h),o.gcScheduler&&(h&&!o.gcScheduler.started?o.gcScheduler.start(o.localStore):h||o.gcScheduler.stop())});return function(h){return d.apply(this,arguments)}}())})()}Wo(r){const s=gd();if(!jE.Pt(s))throw new me(ee.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const o=zm(r.databaseInfo.databaseId,r.databaseInfo.persistenceKey);return new jE(s,r.asyncQueue,o,r.clientId,r.initialUser)}}class g0{initialize(r,s){var o=this;return(0,ue.Z)(function*(){o.localStore||(o.localStore=r.localStore,o.sharedClientState=r.sharedClientState,o.datastore=o.createDatastore(s),o.remoteStore=o.createRemoteStore(s),o.eventManager=o.createEventManager(s),o.syncEngine=o.createSyncEngine(s,!r.synchronizeTabs),o.sharedClientState.onlineStateHandler=l=>AS(o.syncEngine,l,1),o.remoteStore.remoteSyncer.handleCredentialChange=SS.bind(null,o.syncEngine),yield iy(o.remoteStore,o.syncEngine.isPrimaryClient))})()}createEventManager(r){return new IS}createDatastore(r){const s=Hf(r.databaseInfo.databaseId),o=new gS(r.databaseInfo);return new yS(r.credentials,o,s)}createRemoteStore(r){return s=this.localStore,o=this.datastore,l=r.asyncQueue,d=g=>AS(this.syncEngine,g,0),h=_b.Pt()?new _b:new hS,new cN(s,o,l,d,h);var s,o,l,d,h}createSyncEngine(r,s){return function(o,l,d,h,g,_,w){const C=new Pb(o,l,d,h,g,_);return w&&(C.qo=!0),C}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,r.initialUser,r.maxConcurrentLimboResolutions,s)}terminate(){return(r=(0,ue.Z)(function*(s){const o=Te(s);we("RemoteStore","RemoteStore shutting down."),o.Kr.add(5),yield nl(o),o.Qr.shutdown(),o.Wr.set("Unknown")}),function(s){return r.apply(this,arguments)})(this.remoteStore);var r}}function RS(i,r=10240){let s=0;return{read:()=>(0,ue.Z)(function*(){if(s<i.byteLength){const o={value:i.slice(s,s+r),done:!1};return s+=r,o}return{done:!0}})(),cancel:()=>(0,ue.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class il{constructor(r){this.observer=r,this.muted=!1}next(r){this.observer.next&&this.Yo(this.observer.next,r)}error(r){this.observer.error?this.Yo(this.observer.error,r):console.error("Uncaught Error in snapshot listener:",r)}Xo(){this.muted=!0}Yo(r,s){this.muted||setTimeout(()=>{this.muted||r(s)},0)}}class MS{constructor(r,s){this.Zo=r,this.N=s,this.metadata=new dt,this.buffer=new Uint8Array,this.ta=new TextDecoder("utf-8"),this.ea().then(o=>{o&&o.ho()?this.metadata.resolve(o.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==o?void 0:o.payload)}`))},o=>this.metadata.reject(o))}close(){return this.Zo.cancel()}getMetadata(){var r=this;return(0,ue.Z)(function*(){return r.metadata.promise})()}Qo(){var r=this;return(0,ue.Z)(function*(){return yield r.getMetadata(),r.ea()})()}ea(){var r=this;return(0,ue.Z)(function*(){const s=yield r.na();if(null===s)return null;const o=r.ta.decode(s),l=Number(o);isNaN(l)&&r.sa(`length string (${o}) is not valid number`);const d=yield r.ia(l);return new xb(JSON.parse(d),s.length+l)})()}ra(){return this.buffer.findIndex(r=>r==="{".charCodeAt(0))}na(){var r=this;return(0,ue.Z)(function*(){for(;r.ra()<0&&!(yield r.oa()););if(0===r.buffer.length)return null;const s=r.ra();s<0&&r.sa("Reached the end of bundle when a length string is expected.");const o=r.buffer.slice(0,s);return r.buffer=r.buffer.slice(s),o})()}ia(r){var s=this;return(0,ue.Z)(function*(){for(;s.buffer.length<r;)(yield s.oa())&&s.sa("Reached the end of bundle when more is expected.");const o=s.ta.decode(s.buffer.slice(0,r));return s.buffer=s.buffer.slice(r),o})()}sa(r){throw this.Zo.cancel(),new Error(`Invalid bundle format: ${r}`)}oa(){var r=this;return(0,ue.Z)(function*(){const s=yield r.Zo.read();if(!s.done){const o=new Uint8Array(r.buffer.length+s.value.length);o.set(r.buffer),o.set(s.value,r.buffer.length),r.buffer=o}return s.done})()}}class IN{constructor(r){this.datastore=r,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(r){var s=this;return(0,ue.Z)(function*(){if(s.ensureCommitNotCalled(),s.mutations.length>0)throw new me(ee.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const o=yield(l=(0,ue.Z)(function*(d,h){const g=Te(d),_=rd(g.N)+"/documents",w={documents:h.map(D=>Rf(g.N,D))},C=yield g.Ki("BatchGetDocuments",_,w),I=new Map;C.forEach(D=>{const P=function(i,r){return"found"in r?function(s,o){ze(!!o.found);const l=pi(s,o.found.name),d=Rn(o.found.updateTime),h=new gr({mapValue:{fields:o.found.fields}});return Xt.newFoundDocument(l,d,h)}(i,r):"missing"in r?function(s,o){ze(!!o.missing),ze(!!o.readTime);const l=pi(s,o.missing),d=Rn(o.readTime);return Xt.newNoDocument(l,d)}(i,r):Fe()}(g.N,D);I.set(P.key.toString(),P)});const A=[];return h.forEach(D=>{const P=I.get(D.toString());ze(!!P),A.push(P)}),A}),function(d,h){return l.apply(this,arguments)})(s.datastore,r);var l;return o.forEach(l=>s.recordVersion(l)),o})()}set(r,s){this.write(s.toMutation(r,this.precondition(r))),this.writtenDocs.add(r.toString())}update(r,s){try{this.write(s.toMutation(r,this.preconditionForUpdate(r)))}catch(o){this.lastWriteError=o}this.writtenDocs.add(r.toString())}delete(r){this.write(new If(r,this.precondition(r))),this.writtenDocs.add(r.toString())}commit(){var r=this;return(0,ue.Z)(function*(){if(r.ensureCommitNotCalled(),r.lastWriteError)throw r.lastWriteError;const s=r.readVersions;var o;r.mutations.forEach(o=>{s.delete(o.key.toString())}),s.forEach((o,l)=>{const d=Le.fromPath(l);r.mutations.push(new OI(d,r.precondition(d)))}),yield(o=(0,ue.Z)(function*(l,d){const h=Te(l),g=rd(h.N)+"/documents",_={writes:d.map(w=>$m(h.N,w))};yield h.Li("Commit",g,_)}),function(l,d){return o.apply(this,arguments)})(r.datastore,r.mutations),r.committed=!0})()}recordVersion(r){let s;if(r.isFoundDocument())s=r.version;else{if(!r.isNoDocument())throw Fe();s=st.min()}const o=this.readVersions.get(r.key.toString());if(o){if(!s.isEqual(o))throw new me(ee.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(r.key.toString(),s)}precondition(r){const s=this.readVersions.get(r.toString());return!this.writtenDocs.has(r.toString())&&s?mn.updateTime(s):mn.none()}preconditionForUpdate(r){const s=this.readVersions.get(r.toString());if(!this.writtenDocs.has(r.toString())&&s){if(s.isEqual(st.min()))throw new me(ee.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return mn.updateTime(s)}return mn.exists(!0)}write(r){this.ensureCommitNotCalled(),this.mutations.push(r)}ensureCommitNotCalled(){}}class bN{constructor(r,s,o,l){this.asyncQueue=r,this.datastore=s,this.updateFunction=o,this.deferred=l,this.aa=5,this.rr=new $f(this.asyncQueue,"transaction_retry")}run(){this.aa-=1,this.ca()}ca(){var r=this;this.rr.Xi((0,ue.Z)(function*(){const s=new IN(r.datastore),o=r.ua(s);o&&o.then(l=>{r.asyncQueue.enqueueAndForget(()=>s.commit().then(()=>{r.deferred.resolve(l)}).catch(d=>{r.ha(d)}))}).catch(l=>{r.ha(l)})}))}ua(r){try{const s=this.updateFunction(r);return!Fu(s)&&s.catch&&s.then?s:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(s){return this.deferred.reject(s),null}}ha(r){this.aa>0&&this.la(r)?(this.aa-=1,this.asyncQueue.enqueueAndForget(()=>(this.ca(),Promise.resolve()))):this.deferred.reject(r)}la(r){if("FirebaseError"===r.name){const s=r.code;return"aborted"===s||"failed-precondition"===s||!gE(s)}return!1}}class m0{constructor(r,s,o){var l=this;this.credentials=r,this.asyncQueue=s,this.databaseInfo=o,this.user=hn.UNAUTHENTICATED,this.clientId=dI.I(),this.credentialListener=()=>Promise.resolve(),this.credentials.start(s,function(){var d=(0,ue.Z)(function*(h){we("FirestoreClient","Received user=",h.uid),yield l.credentialListener(h),l.user=h});return function(h){return d.apply(this,arguments)}}())}getConfiguration(){var r=this;return(0,ue.Z)(function*(){return{asyncQueue:r.asyncQueue,databaseInfo:r.databaseInfo,clientId:r.clientId,credentials:r.credentials,initialUser:r.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(r){this.credentialListener=r}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new me(ee.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var r=this;this.asyncQueue.enterRestrictedMode();const s=new dt;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,ue.Z)(function*(){try{r.onlineComponents&&(yield r.onlineComponents.terminate()),r.offlineComponents&&(yield r.offlineComponents.terminate()),r.credentials.shutdown(),s.resolve()}catch(o){const l=rl(o,"Failed to shutdown persistence");s.reject(l)}})),s.promise}}function Jb(i,r){return Xb.apply(this,arguments)}function Xb(){return(Xb=(0,ue.Z)(function*(i,r){i.asyncQueue.verifyOperationInProgress(),we("FirestoreClient","Initializing OfflineComponentProvider");const s=yield i.getConfiguration();yield r.initialize(s);let o=s.initialUser;i.setCredentialChangeListener(function(){var l=(0,ue.Z)(function*(d){o.isEqual(d)||(yield Zm(r.localStore,d),o=d)});return function(d){return l.apply(this,arguments)}}()),r.persistence.setDatabaseDeletedListener(()=>i.terminate()),i.offlineComponents=r})).apply(this,arguments)}function OS(i,r){return y0.apply(this,arguments)}function y0(){return(y0=(0,ue.Z)(function*(i,r){i.asyncQueue.verifyOperationInProgress();const s=yield eD(i);we("FirestoreClient","Initializing OnlineComponentProvider");const o=yield i.getConfiguration();yield r.initialize(s,o),i.setCredentialChangeListener(l=>{return(d=(0,ue.Z)(function*(h,g){const _=Te(h);_.asyncQueue.verifyOperationInProgress(),we("RemoteStore","RemoteStore received new credentials");const w=zs(_);_.Kr.add(3),yield nl(_),w&&_.Wr.set("Unknown"),yield _.remoteSyncer.handleCredentialChange(g),_.Kr.delete(3),yield tl(_)}),function(h,g){return d.apply(this,arguments)})(r.remoteStore,l);var d}),i.onlineComponents=r})).apply(this,arguments)}function eD(i){return cy.apply(this,arguments)}function cy(){return(cy=(0,ue.Z)(function*(i){return i.offlineComponents||(we("FirestoreClient","Using default OfflineComponentProvider"),yield Jb(i,new xS)),i.offlineComponents})).apply(this,arguments)}function dy(i){return tD.apply(this,arguments)}function tD(){return(tD=(0,ue.Z)(function*(i){return i.onlineComponents||(we("FirestoreClient","Using default OnlineComponentProvider"),yield OS(i,new g0)),i.onlineComponents})).apply(this,arguments)}function PS(i){return eD(i).then(r=>r.persistence)}function _0(i){return eD(i).then(r=>r.localStore)}function wd(i){return dy(i).then(r=>r.remoteStore)}function v0(i){return dy(i).then(r=>r.syncEngine)}function Cd(i){return E0.apply(this,arguments)}function E0(){return(E0=(0,ue.Z)(function*(i){const r=yield dy(i),s=r.eventManager;return s.onListen=DS.bind(null,r.syncEngine),s.onUnlisten=dN.bind(null,r.syncEngine),s})).apply(this,arguments)}function nD(i,r,s={}){const o=new dt;return i.asyncQueue.enqueueAndForget((0,ue.Z)(function*(){return function(l,d,h,g,_){const w=new il({next:I=>{d.enqueueAndForget(()=>QE(l,C));const A=I.docs.has(h);!A&&I.fromCache?_.reject(new me(ee.UNAVAILABLE,"Failed to get document because the client is offline.")):A&&I.fromCache&&g&&"server"===g.source?_.reject(new me(ee.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):_.resolve(I)},error:I=>_.reject(I)}),C=new XE(Uu(h.path),w,{includeMetadataChanges:!0,uo:!0});return Yf(l,C)}(yield Cd(i),i.asyncQueue,r,s,o)})),o.promise}function rD(i,r,s={}){const o=new dt;return i.asyncQueue.enqueueAndForget((0,ue.Z)(function*(){return function(l,d,h,g,_){const w=new il({next:I=>{d.enqueueAndForget(()=>QE(l,C)),I.fromCache&&"server"===g.source?_.reject(new me(ee.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):_.resolve(I)},error:I=>_.reject(I)}),C=new XE(h,w,{includeMetadataChanges:!0,uo:!0});return Yf(l,C)}(yield Cd(i),i.asyncQueue,r,s,o)})),o.promise}class LS{constructor(r,s,o,l,d,h,g,_){this.databaseId=r,this.appId=s,this.persistenceKey=o,this.host=l,this.ssl=d,this.forceLongPolling=h,this.autoDetectLongPolling=g,this.useFetchStreams=_}}class sl{constructor(r,s){this.projectId=r,this.database=s||"(default)"}get isDefaultDatabase(){return"(default)"===this.database}isEqual(r){return r instanceof sl&&r.projectId===this.projectId&&r.database===this.database}}const b0=new Map;function D0(i,r,s){if(!s)throw new me(ee.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${r}.`)}function oD(i,r,s,o){if(!0===r&&!0===o)throw new me(ee.INVALID_ARGUMENT,`${i} and ${s} cannot be used together.`)}function hy(i){if(!Le.isDocumentKey(i))throw new me(ee.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function T0(i){if(Le.isDocumentKey(i))throw new me(ee.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function Jf(i){if(void 0===i)return"undefined";if(null===i)return"null";if("string"==typeof i)return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if("number"==typeof i||"boolean"==typeof i)return""+i;if("object"==typeof i){if(i instanceof Array)return"an array";{const r=function(s){if(s.constructor){const o=/function\s+([^\s(]+)\s*\(/.exec(s.constructor.toString());if(o&&o.length>1)return o[1]}return null}(i);return r?`a custom ${r} object`:"an object"}}return"function"==typeof i?"a function":Fe()}function _t(i,r){if("_delegate"in i&&(i=i._delegate),!(i instanceof r)){if(r.name===i.constructor.name)throw new me(ee.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const s=Jf(i);throw new me(ee.INVALID_ARGUMENT,`Expected type '${r.name}', but it was: ${s}`)}}return i}function aD(i,r){if(r<=0)throw new me(ee.INVALID_ARGUMENT,`Function ${i}() requires a positive number, but it was: ${r}.`)}class Mi{constructor(r){var s;if(void 0===r.host){if(void 0!==r.ssl)throw new me(ee.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=r.host,this.ssl=null===(s=r.ssl)||void 0===s||s;if(this.credentials=r.credentials,this.ignoreUndefinedProperties=!!r.ignoreUndefinedProperties,void 0===r.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==r.cacheSizeBytes&&r.cacheSizeBytes<1048576)throw new me(ee.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=r.cacheSizeBytes}this.experimentalForceLongPolling=!!r.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!r.experimentalAutoDetectLongPolling,this.useFetchStreams=!!r.useFetchStreams,oD("experimentalForceLongPolling",r.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",r.experimentalAutoDetectLongPolling)}isEqual(r){return this.host===r.host&&this.ssl===r.ssl&&this.credentials===r.credentials&&this.cacheSizeBytes===r.cacheSizeBytes&&this.experimentalForceLongPolling===r.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===r.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===r.ignoreUndefinedProperties&&this.useFetchStreams===r.useFetchStreams}}class Xf{constructor(r,s){this._credentials=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Mi({}),this._settingsFrozen=!1,r instanceof sl?this._databaseId=r:(this._app=r,this._databaseId=function(o){if(!Object.prototype.hasOwnProperty.apply(o.options,["projectId"]))throw new me(ee.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new sl(o.options.projectId)}(r))}get app(){if(!this._app)throw new me(ee.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(r){if(this._settingsFrozen)throw new me(ee.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Mi(r),void 0!==r.credentials&&(this._credentials=function(s){if(!s)return new aI;switch(s.type){case"gapi":const o=s.client;return ze(!("object"!=typeof o||null===o||!o.auth||!o.auth.getAuthHeaderValueForFirstParty)),new lI(o,s.sessionIndex||"0",s.iamToken||null);case"provider":return s.client;default:throw new me(ee.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(r.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(r){const s=b0.get(r);s&&(we("ComponentProvider","Removing Datastore"),b0.delete(r),s.terminate())}(this),Promise.resolve()}}class zt{constructor(r,s,o){this.converter=s,this._key=o,this.type="document",this.firestore=r}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ks(this.firestore,this.converter,this._key.path.popLast())}withConverter(r){return new zt(this.firestore,r,this._key)}}class Mr{constructor(r,s,o){this.converter=s,this._query=o,this.type="query",this.firestore=r}withConverter(r){return new Mr(this.firestore,r,this._query)}}class Ks extends Mr{constructor(r,s,o){super(r,s,Uu(o)),this._path=o,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const r=this._path.popLast();return r.isEmpty()?null:new zt(this.firestore,null,new Le(r))}withConverter(r){return new Ks(this.firestore,r,this._path)}}function uD(i,r,...s){if(i=(0,wt.m9)(i),D0("collection","path",r),i instanceof Xf){const o=Ct.fromString(r,...s);return T0(o),new Ks(i,null,o)}{if(!(i instanceof zt||i instanceof Ks))throw new me(ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=Ct.fromString(i.path,...s).child(Ct.fromString(r));return T0(o),new Ks(i.firestore,null,o)}}function A0(i,r,...s){if(i=(0,wt.m9)(i),1===arguments.length&&(r=dI.I()),D0("doc","path",r),i instanceof Xf){const o=Ct.fromString(r,...s);return hy(o),new zt(i,null,new Le(o))}{if(!(i instanceof zt||i instanceof Ks))throw new me(ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=i._path.child(Ct.fromString(r,...s));return hy(o),new zt(i.firestore,i instanceof Ks?i.converter:null,new Le(o))}}function lD(i,r){return i=(0,wt.m9)(i),r=(0,wt.m9)(r),(i instanceof zt||i instanceof Ks)&&(r instanceof zt||r instanceof Ks)&&i.firestore===r.firestore&&i.path===r.path&&i.converter===r.converter}function S0(i,r){return i=(0,wt.m9)(i),r=(0,wt.m9)(r),i instanceof Mr&&r instanceof Mr&&i.firestore===r.firestore&&Bu(i._query,r._query)&&i.converter===r.converter}class US{constructor(){this.fa=Promise.resolve(),this.da=[],this.wa=!1,this._a=[],this.ma=null,this.ga=!1,this.ya=!1,this.pa=[],this.rr=new $f(this,"async_queue_retry"),this.Ea=()=>{const s=La();s&&we("AsyncQueue","Visibility state changed to "+s.visibilityState),this.rr.tr()};const r=La();r&&"function"==typeof r.addEventListener&&r.addEventListener("visibilitychange",this.Ea)}get isShuttingDown(){return this.wa}enqueueAndForget(r){this.enqueue(r)}enqueueAndForgetEvenWhileRestricted(r){this.Ta(),this.Ia(r)}enterRestrictedMode(r){if(!this.wa){this.wa=!0,this.ya=r||!1;const s=La();s&&"function"==typeof s.removeEventListener&&s.removeEventListener("visibilitychange",this.Ea)}}enqueue(r){if(this.Ta(),this.wa)return new Promise(()=>{});const s=new dt;return this.Ia(()=>this.wa&&this.ya?Promise.resolve():(r().then(s.resolve,s.reject),s.promise)).then(()=>s.promise)}enqueueRetryable(r){this.enqueueAndForget(()=>(this.da.push(r),this.Aa()))}Aa(){var r=this;return(0,ue.Z)(function*(){if(0!==r.da.length){try{yield r.da[0](),r.da.shift(),r.rr.reset()}catch(s){if(!Ws(s))throw s;we("AsyncQueue","Operation failed with retryable error: "+s)}r.da.length>0&&r.rr.Xi(()=>r.Aa())}})()}Ia(r){const s=this.fa.then(()=>(this.ga=!0,r().catch(o=>{throw this.ma=o,this.ga=!1,Nn("INTERNAL UNHANDLED ERROR: ",function(l){let d=l.message||"";return l.stack&&(d=l.stack.includes(l.message)?l.stack:l.message+"\n"+l.stack),d}(o)),o}).then(o=>(this.ga=!1,o))));return this.fa=s,s}enqueueAfterDelay(r,s,o){this.Ta(),this.pa.indexOf(r)>-1&&(s=0);const l=Db.createAndSchedule(this,r,s,o,d=>this.Ra(d));return this._a.push(l),l}Ta(){this.ma&&Fe()}verifyOperationInProgress(){}Pa(){var r=this;return(0,ue.Z)(function*(){let s;do{s=r.fa,yield s}while(s!==r.fa)})()}ba(r){for(const s of this._a)if(s.timerId===r)return!0;return!1}va(r){return this.Pa().then(()=>{this._a.sort((s,o)=>s.targetTimeMs-o.targetTimeMs);for(const s of this._a)if(s.skipDelay(),"all"!==r&&s.timerId===r)break;return this.Pa()})}Va(r){this.pa.push(r)}Ra(r){const s=this._a.indexOf(r);this._a.splice(s,1)}}function x0(i){return function(r,s){if("object"!=typeof r||null===r)return!1;const o=r;for(const l of["next","error","complete"])if(l in o&&"function"==typeof o[l])return!0;return!1}(i)}class cD{constructor(){this._progressObserver={},this._taskCompletionResolver=new dt,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(r,s,o){this._progressObserver={next:r,error:s,complete:o}}catch(r){return this._taskCompletionResolver.promise.catch(r)}then(r,s){return this._taskCompletionResolver.promise.then(r,s)}_completeWith(r){this._updateProgress(r),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(r)}_failWith(r){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(r),this._taskCompletionResolver.reject(r)}_updateProgress(r){this._lastProgress=r,this._progressObserver.next&&this._progressObserver.next(r)}}class _n extends Xf{constructor(r,s){super(r,s),this.type="firestore",this._queue=new US,this._persistenceKey="name"in r?r.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||dD(this),this._firestoreClient.terminate()}}function Pn(i){return i._firestoreClient||dD(i),i._firestoreClient.verifyNotTerminated(),i._firestoreClient}function dD(i){var r;const s=i._freezeSettings(),o=(d=(null===(r=i._app)||void 0===r?void 0:r.options.appId)||"",new LS(i._databaseId,d,i._persistenceKey,(g=s).host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,g.useFetchStreams));var d,g;i._firestoreClient=new m0(i._credentials,i._queue,o)}function fy(i,r,s){const o=new dt;return i.asyncQueue.enqueue((0,ue.Z)(function*(){try{yield Jb(i,s),yield OS(i,r),o.resolve()}catch(l){if(!("FirebaseError"===(d=l).name?d.code===ee.FAILED_PRECONDITION||d.code===ee.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&d instanceof DOMException)||22===d.code||20===d.code||11===d.code))throw l;console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+l),o.reject(l)}var d})).then(()=>o.promise)}function N0(i){if(i._initialized||i._terminated)throw new me(ee.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Ho{constructor(...r){for(let s=0;s<r.length;++s)if(0===r[s].length)throw new me(ee.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new pn(r)}isEqual(r){return this._internalPath.isEqual(r._internalPath)}}class Ys{constructor(r){this._byteString=r}static fromBase64String(r){try{return new Ys(jn.fromBase64String(r))}catch(s){throw new me(ee.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+s)}}static fromUint8Array(r){return new Ys(jn.fromUint8Array(r))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(r){return this._byteString.isEqual(r._byteString)}}class ol{constructor(r){this._methodName=r}}class tp{constructor(r,s){if(!isFinite(r)||r<-90||r>90)throw new me(ee.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+r);if(!isFinite(s)||s<-180||s>180)throw new me(ee.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+s);this._lat=r,this._long=s}get latitude(){return this._lat}get longitude(){return this._long}isEqual(r){return this._lat===r._lat&&this._long===r._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(r){return gt(this._lat,r._lat)||gt(this._long,r._long)}}const xN=/^__.*__$/;class NN{constructor(r,s,o){this.data=r,this.fieldMask=s,this.fieldTransforms=o}toMutation(r,s){return null!==this.fieldMask?new $s(r,this.data,this.fieldMask,s,this.fieldTransforms):new Cf(r,this.data,s,this.fieldTransforms)}}class gD{constructor(r,s,o){this.data=r,this.fieldMask=s,this.fieldTransforms=o}toMutation(r,s){return new $s(r,this.data,this.fieldMask,s,this.fieldTransforms)}}function py(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Fe()}}class vn{constructor(r,s,o,l,d,h){this.settings=r,this.databaseId=s,this.N=o,this.ignoreUndefinedProperties=l,void 0===d&&this.Sa(),this.fieldTransforms=d||[],this.fieldMask=h||[]}get path(){return this.settings.path}get Da(){return this.settings.Da}Ca(r){return new vn(Object.assign(Object.assign({},this.settings),r),this.databaseId,this.N,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Na(r){var s;const o=null===(s=this.path)||void 0===s?void 0:s.child(r),l=this.Ca({path:o,xa:!1});return l.ka(r),l}$a(r){var s;const o=null===(s=this.path)||void 0===s?void 0:s.child(r),l=this.Ca({path:o,xa:!1});return l.Sa(),l}Oa(r){return this.Ca({path:void 0,xa:!0})}Fa(r){return _y(r,this.settings.methodName,this.settings.Ma||!1,this.path,this.settings.La)}contains(r){return void 0!==this.fieldMask.find(s=>r.isPrefixOf(s))||void 0!==this.fieldTransforms.find(s=>r.isPrefixOf(s.field))}Sa(){if(this.path)for(let r=0;r<this.path.length;r++)this.ka(this.path.get(r))}ka(r){if(0===r.length)throw this.Fa("Document fields must not be empty");if(py(this.Da)&&xN.test(r))throw this.Fa('Document fields cannot begin and end with "__"')}}class RN{constructor(r,s,o){this.databaseId=r,this.ignoreUndefinedProperties=s,this.N=o||Hf(r)}Ba(r,s,o,l=!1){return new vn({Da:r,methodName:s,La:o,path:pn.emptyPath(),xa:!1,Ma:l},this.databaseId,this.N,this.ignoreUndefinedProperties)}}function Ba(i){const r=i._freezeSettings(),s=Hf(i._databaseId);return new RN(i._databaseId,!!r.ignoreUndefinedProperties,s)}function np(i,r,s,o,l,d={}){const h=i.Ba(d.merge||d.mergeFields?2:0,r,s,l);ap("Data must be an object, but it was:",h,o);const g=op(o,h);let _,w;if(d.merge)_=new js(h.fieldMask),w=h.fieldTransforms;else if(d.mergeFields){const C=[];for(const I of d.mergeFields){const A=yy(r,I,s);if(!h.contains(A))throw new me(ee.INVALID_ARGUMENT,`Field '${A}' is specified in your field mask but missing from your input data.`);vD(C,A)||C.push(A)}_=new js(C),w=h.fieldTransforms.filter(I=>_.covers(I.field))}else _=null,w=h.fieldTransforms;return new NN(new gr(g),_,w)}class rp extends ol{_toFieldTransform(r){if(2!==r.Da)throw r.Fa(1===r.Da?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return r.fieldMask.push(r.path),null}isEqual(r){return r instanceof rp}}function ip(i,r,s){return new vn({Da:3,La:r.settings.La,methodName:i._methodName,xa:s},r.databaseId,r.N,r.ignoreUndefinedProperties)}class R0 extends ol{_toFieldTransform(r){return new Fm(r.path,new ed)}isEqual(r){return r instanceof R0}}class qS extends ol{constructor(r,s){super(r),this.Ua=s}_toFieldTransform(r){const s=ip(this,r,!0),o=this.Ua.map(d=>ul(d,s)),l=new hi(o);return new Fm(r.path,l)}isEqual(r){return this===r}}class mD extends ol{constructor(r,s){super(r),this.Ua=s}_toFieldTransform(r){const s=ip(this,r,!0),o=this.Ua.map(d=>ul(d,s)),l=new ko(o);return new Fm(r.path,l)}isEqual(r){return this===r}}class al extends ol{constructor(r,s){super(r),this.qa=s}_toFieldTransform(r){const s=new td(r.N,AI(r.N,this.qa));return new Fm(r.path,s)}isEqual(r){return this===r}}function gy(i,r,s,o){const l=i.Ba(1,r,s);ap("Data must be an object, but it was:",l,o);const d=[],h=gr.empty();Bs(o,(_,w)=>{const C=_D(r,_,s);w=(0,wt.m9)(w);const I=l.$a(C);if(w instanceof rp)d.push(C);else{const A=ul(w,I);null!=A&&(d.push(C),h.set(C,A))}});const g=new js(d);return new gD(h,g,l.fieldTransforms)}function sp(i,r,s,o,l,d){const h=i.Ba(1,r,s),g=[yy(r,o,s)],_=[l];if(d.length%2!=0)throw new me(ee.INVALID_ARGUMENT,`Function ${r}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let A=0;A<d.length;A+=2)g.push(yy(r,d[A])),_.push(d[A+1]);const w=[],C=gr.empty();for(let A=g.length-1;A>=0;--A)if(!vD(w,g[A])){const D=g[A];let P=_[A];P=(0,wt.m9)(P);const L=h.$a(D);if(P instanceof rp)w.push(D);else{const ae=ul(P,L);null!=ae&&(w.push(D),C.set(D,ae))}}const I=new js(w);return new gD(C,I,h.fieldTransforms)}function my(i,r,s,o=!1){return ul(s,i.Ba(o?4:3,r))}function ul(i,r){if(yD(i=(0,wt.m9)(i)))return ap("Unsupported field value:",r,i),op(i,r);if(i instanceof ol)return function(s,o){if(!py(o.Da))throw o.Fa(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Fa(`${s._methodName}() is not currently supported inside arrays`);const l=s._toFieldTransform(o);l&&o.fieldTransforms.push(l)}(i,r),null;if(void 0===i&&r.ignoreUndefinedProperties)return null;if(r.path&&r.fieldMask.push(r.path),i instanceof Array){if(r.settings.xa&&4!==r.Da)throw r.Fa("Nested arrays are not supported");return function(s,o){const l=[];let d=0;for(const h of s){let g=ul(h,o.Oa(d));null==g&&(g={nullValue:"NULL_VALUE"}),l.push(g),d++}return{arrayValue:{values:l}}}(i,r)}return function(s,o){if(null===(s=(0,wt.m9)(s)))return{nullValue:"NULL_VALUE"};if("number"==typeof s)return AI(o.N,s);if("boolean"==typeof s)return{booleanValue:s};if("string"==typeof s)return{stringValue:s};if(s instanceof Date){const l=Bn.fromDate(s);return{timestampValue:xf(o.N,l)}}if(s instanceof Bn){const l=new Bn(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:xf(o.N,l)}}if(s instanceof tp)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Ys)return{bytesValue:Nf(o.N,s._byteString)};if(s instanceof zt){const l=o.databaseId,d=s.firestore._databaseId;if(!d.isEqual(l))throw o.Fa(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:yE(s.firestore._databaseId||o.databaseId,s._key.path)}}throw o.Fa(`Unsupported field value: ${Jf(s)}`)}(i,r)}function op(i,r){const s={};return Xv(i)?r.path&&r.path.length>0&&r.fieldMask.push(r.path):Bs(i,(o,l)=>{const d=ul(l,r.Na(o));null!=d&&(s[o]=d)}),{mapValue:{fields:s}}}function yD(i){return!("object"!=typeof i||null===i||i instanceof Array||i instanceof Date||i instanceof Bn||i instanceof tp||i instanceof Ys||i instanceof zt||i instanceof ol)}function ap(i,r,s){if(!yD(s)||"object"!=typeof(o=s)||null===o||Object.getPrototypeOf(o)!==Object.prototype&&null!==Object.getPrototypeOf(o)){const o=Jf(s);throw r.Fa("an object"===o?i+" a custom object":i+" "+o)}var o}function yy(i,r,s){if((r=(0,wt.m9)(r))instanceof Ho)return r._internalPath;if("string"==typeof r)return _D(i,r);throw _y("Field path arguments must be of type string or FieldPath.",i,!1,void 0,s)}const $n=new RegExp("[~\\*/\\[\\]]");function _D(i,r,s){if(r.search($n)>=0)throw _y(`Invalid field path (${r}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,s);try{return new Ho(...r.split("."))._internalPath}catch(o){throw _y(`Invalid field path (${r}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,s)}}function _y(i,r,s,o,l){const d=o&&!o.isEmpty(),h=void 0!==l;let g=`Function ${r}() called with invalid data`;s&&(g+=" (via `toFirestore()`)"),g+=". ";let _="";return(d||h)&&(_+=" (found",d&&(_+=` in field ${o}`),h&&(_+=` in document ${l}`),_+=")"),new me(ee.INVALID_ARGUMENT,g+i+_)}function vD(i,r){return i.some(s=>s.isEqual(r))}class vy{constructor(r,s,o,l,d){this._firestore=r,this._userDataWriter=s,this._key=o,this._document=l,this._converter=d}get id(){return this._key.path.lastSegment()}get ref(){return new zt(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const r=new Ey(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(r)}return this._userDataWriter.convertValue(this._document.data.value)}}get(r){if(this._document){const s=this._document.data.field(wy("DocumentSnapshot.get",r));if(null!==s)return this._userDataWriter.convertValue(s)}}}class Ey extends vy{data(){return super.data()}}function wy(i,r){return"string"==typeof r?_D(i,r):r instanceof Ho?r._internalPath:r._delegate._internalPath}class Id{constructor(r,s){this.hasPendingWrites=r,this.fromCache=s}isEqual(r){return this.hasPendingWrites===r.hasPendingWrites&&this.fromCache===r.fromCache}}class ja extends vy{constructor(r,s,o,l,d,h){super(r,s,o,l,h),this._firestore=r,this._firestoreImpl=r,this.metadata=d}exists(){return super.exists()}data(r={}){if(this._document){if(this._converter){const s=new Cy(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(s,r)}return this._userDataWriter.convertValue(this._document.data.value,r.serverTimestamps)}}get(r,s={}){if(this._document){const o=this._document.data.field(wy("DocumentSnapshot.get",r));if(null!==o)return this._userDataWriter.convertValue(o,s.serverTimestamps)}}}class Cy extends ja{data(r={}){return super.data(r)}}class Ha{constructor(r,s,o,l){this._firestore=r,this._userDataWriter=s,this._snapshot=l,this.metadata=new Id(l.hasPendingWrites,l.fromCache),this.query=o}get docs(){const r=[];return this.forEach(s=>r.push(s)),r}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(r,s){this._snapshot.docs.forEach(o=>{r.call(s,new Cy(this._firestore,this._userDataWriter,o.key,o,new Id(this._snapshot.mutatedKeys.has(o.key),this._snapshot.fromCache),this.query.converter))})}docChanges(r={}){const s=!!r.includeMetadataChanges;if(s&&this._snapshot.excludesMetadataChanges)throw new me(ee.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===s||(this._cachedChanges=function(o,l){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map(h=>({type:"added",doc:new Cy(o._firestore,o._userDataWriter,h.doc.key,h.doc,new Id(o._snapshot.mutatedKeys.has(h.doc.key),o._snapshot.fromCache),o.query.converter),oldIndex:-1,newIndex:d++}))}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(h=>l||3!==h.type).map(h=>{const g=new Cy(o._firestore,o._userDataWriter,h.doc.key,h.doc,new Id(o._snapshot.mutatedKeys.has(h.doc.key),o._snapshot.fromCache),o.query.converter);let _=-1,w=-1;return 0!==h.type&&(_=d.indexOf(h.doc.key),d=d.delete(h.doc.key)),1!==h.type&&(d=d.add(h.doc),w=d.indexOf(h.doc.key)),{type:WS(h.type),doc:g,oldIndex:_,newIndex:w}})}}(this,s),this._cachedChangesIncludeMetadataChanges=s),this._cachedChanges}}function WS(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Fe()}}function ED(i,r){return i instanceof ja&&r instanceof ja?i._firestore===r._firestore&&i._key.isEqual(r._key)&&(null===i._document?null===r._document:i._document.isEqual(r._document))&&i._converter===r._converter:i instanceof Ha&&r instanceof Ha&&i._firestore===r._firestore&&S0(i.query,r.query)&&i.metadata.isEqual(r.metadata)&&i._snapshot.isEqual(r._snapshot)}function wD(i){if(Om(i)&&0===i.explicitOrderBy.length)throw new me(ee.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class up{}function ll(i,...r){for(const s of r)i=s._apply(i);return i}class zS extends up{constructor(r,s,o){super(),this.Ka=r,this.ja=s,this.Qa=o,this.type="where"}_apply(r){const s=Ba(r.firestore),o=function(l,d,h,g,_,w,C){let I;if(_.isKeyField()){if("array-contains"===w||"array-contains-any"===w)throw new me(ee.INVALID_ARGUMENT,`Invalid Query. You can't perform '${w}' queries on FieldPath.documentId().`);if("in"===w||"not-in"===w){rx(C,w);const D=[];for(const P of C)D.push(bD(g,l,P));I={arrayValue:{values:D}}}else I=bD(g,l,C)}else"in"!==w&&"not-in"!==w&&"array-contains-any"!==w||rx(C,w),I=my(h,"where",C,"in"===w||"not-in"===w);const A=tr.create(_,w,I);return function(D,P){if(P.v()){const ae=Pm(D);if(null!==ae&&!ae.isEqual(P.field))throw new me(ee.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${ae.toString()}' and '${P.field.toString()}'`);const Ie=oE(D);null!==Ie&&DD(0,P.field,Ie)}const L=function(ae,Ie){for(const Se of ae.filters)if(Ie.indexOf(Se.op)>=0)return Se.op;return null}(D,function(ae){switch(ae){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(P.op));if(null!==L)throw new me(ee.INVALID_ARGUMENT,L===P.op?`Invalid query. You cannot use more than one '${P.op.toString()}' filter.`:`Invalid query. You cannot use '${P.op.toString()}' filters with '${L.toString()}' filters.`)}(l,A),A}(r._query,0,s,r.firestore._databaseId,this.Ka,this.ja,this.Qa);return new Mr(r.firestore,r.converter,function(l,d){const h=l.filters.concat([d]);return new Po(l.path,l.collectionGroup,l.explicitOrderBy.slice(),h,l.limit,l.limitType,l.startAt,l.endAt)}(r._query,o))}}class KS extends up{constructor(r,s){super(),this.Ka=r,this.Wa=s,this.type="orderBy"}_apply(r){const s=function(o,l,d){if(null!==o.startAt)throw new me(ee.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==o.endAt)throw new me(ee.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const h=new Jc(l,d);return function(g,_){if(null===oE(g)){const w=Pm(g);null!==w&&DD(0,w,_.field)}}(o,h),h}(r._query,this.Ka,this.Wa);return new Mr(r.firestore,r.converter,function(o,l){const d=o.explicitOrderBy.concat([l]);return new Po(o.path,o.collectionGroup,d,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(r._query,s))}}class YS extends up{constructor(r,s,o){super(),this.type=r,this.Ga=s,this.za=o}_apply(r){return new Mr(r.firestore,r.converter,km(r._query,this.Ga,this.za))}}class CD extends up{constructor(r,s,o){super(),this.type=r,this.Ha=s,this.Ja=o}_apply(r){const s=ID(r,this.type,this.Ha,this.Ja);return new Mr(r.firestore,r.converter,(l=s,new Po((o=r._query).path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,l,o.endAt)));var o,l}}class Oi extends up{constructor(r,s,o){super(),this.type=r,this.Ha=s,this.Ja=o}_apply(r){const s=ID(r,this.type,this.Ha,this.Ja);return new Mr(r.firestore,r.converter,(l=s,new Po((o=r._query).path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,o.startAt,l)));var o,l}}function ID(i,r,s,o){if(s[0]=(0,wt.m9)(s[0]),s[0]instanceof vy)return function(l,d,h,g,_){if(!g)throw new me(ee.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${h}().`);const w=[];for(const C of Xc(l))if(C.field.isKeyField())w.push(Nm(d,g.key));else{const I=g.data.field(C.field);if(eE(I))throw new me(ee.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+C.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===I){const A=C.field.canonicalString();throw new me(ee.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${A}' (used as the orderBy) does not exist.`)}w.push(I)}return new mf(w,_)}(i._query,i.firestore._databaseId,r,s[0]._document,o);{const l=Ba(i.firestore);return function(d,h,g,_,w,C){const I=d.explicitOrderBy;if(w.length>I.length)throw new me(ee.INVALID_ARGUMENT,`Too many arguments provided to ${_}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const A=[];for(let D=0;D<w.length;D++){const P=w[D];if(I[D].field.isKeyField()){if("string"!=typeof P)throw new me(ee.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${_}(), but got a ${typeof P}`);if(!aE(d)&&-1!==P.indexOf("/"))throw new me(ee.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to ${_}() must be a plain document ID, but '${P}' contains a slash.`);const L=d.path.child(Ct.fromString(P));if(!Le.isDocumentKey(L))throw new me(ee.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to ${_}() must result in a valid document path, but '${L}' is not because it contains an odd number of segments.`);const ae=new Le(L);A.push(Nm(h,ae))}else{const L=my(g,_,P);A.push(L)}}return new mf(A,C)}(i._query,i.firestore._databaseId,l,r,s,o)}}function bD(i,r,s){if("string"==typeof(s=(0,wt.m9)(s))){if(""===s)throw new me(ee.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!aE(r)&&-1!==s.indexOf("/"))throw new me(ee.INVALID_ARGUMENT,`Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '${s}' contains a '/' character.`);const o=r.path.child(Ct.fromString(s));if(!Le.isDocumentKey(o))throw new me(ee.INVALID_ARGUMENT,`Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '${o}' is not because it has an odd number of segments (${o.length}).`);return Nm(i,new Le(o))}if(s instanceof zt)return Nm(i,s._key);throw new me(ee.INVALID_ARGUMENT,`Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: ${Jf(s)}.`)}function rx(i,r){if(!Array.isArray(i)||0===i.length)throw new me(ee.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${r.toString()}' filters.`);if(i.length>10)throw new me(ee.INVALID_ARGUMENT,`Invalid Query. '${r.toString()}' filters support a maximum of 10 elements in the value array.`)}function DD(i,r,s){if(!s.isEqual(r))throw new me(ee.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${r.toString()}' and so you must also use '${r.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${s.toString()}' instead.`)}class M0{convertValue(r,s="none"){switch(Kc(r)){case 0:return null;case 1:return r.booleanValue;case 2:return gn(r.integerValue||r.doubleValue);case 3:return this.convertTimestamp(r.timestampValue);case 4:return this.convertServerTimestamp(r,s);case 5:return r.stringValue;case 6:return this.convertBytes(ku(r.bytesValue));case 7:return this.convertReference(r.referenceValue);case 8:return this.convertGeoPoint(r.geoPointValue);case 9:return this.convertArray(r.arrayValue,s);case 10:return this.convertObject(r.mapValue,s);default:throw Fe()}}convertObject(r,s){const o={};return Bs(r.fields,(l,d)=>{o[l]=this.convertValue(d,s)}),o}convertGeoPoint(r){return new tp(gn(r.latitude),gn(r.longitude))}convertArray(r,s){return(r.values||[]).map(o=>this.convertValue(o,s))}convertServerTimestamp(r,s){switch(s){case"previous":const o=tE(r);return null==o?null:this.convertValue(o,s);case"estimate":return this.convertTimestamp(hf(r));default:return null}}convertTimestamp(r){const s=Oo(r);return new Bn(s.seconds,s.nanos)}convertDocumentKey(r,s){const o=Ct.fromString(r);ze(jA(o));const l=new sl(o.get(1),o.get(3)),d=new Le(o.popFirst(5));return l.isEqual(s)||Nn(`Document ${d} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${s.projectId}/${s.database}) instead.`),d}}function Iy(i,r,s){let o;return o=i?s&&(s.merge||s.mergeFields)?i.toFirestore(r,s):i.toFirestore(r):r,o}class lp extends M0{constructor(r){super(),this.firestore=r}convertBytes(r){return new Ys(r)}convertReference(r){const s=this.convertDocumentKey(r,this.firestore._databaseId);return new zt(this.firestore,null,s)}}class O0{constructor(r,s){this._firestore=r,this._commitHandler=s,this._mutations=[],this._committed=!1,this._dataReader=Ba(r)}set(r,s,o){this._verifyNotCommitted();const l=cl(r,this._firestore),d=Iy(l.converter,s,o),h=np(this._dataReader,"WriteBatch.set",l._key,d,null!==l.converter,o);return this._mutations.push(h.toMutation(l._key,mn.none())),this}update(r,s,o,...l){this._verifyNotCommitted();const d=cl(r,this._firestore);let h;return h="string"==typeof(s=(0,wt.m9)(s))||s instanceof Ho?sp(this._dataReader,"WriteBatch.update",d._key,s,o,l):gy(this._dataReader,"WriteBatch.update",d._key,s),this._mutations.push(h.toMutation(d._key,mn.exists(!0))),this}delete(r){this._verifyNotCommitted();const s=cl(r,this._firestore);return this._mutations=this._mutations.concat(new If(s._key,mn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new me(ee.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function cl(i,r){if((i=(0,wt.m9)(i)).firestore!==r)throw new me(ee.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return i}class bd extends M0{constructor(r){super(),this.firestore=r}convertBytes(r){return new Ys(r)}convertReference(r){const s=this.convertDocumentKey(r,this.firestore._databaseId);return new zt(this.firestore,null,s)}}function TD(i,r,s){i=_t(i,zt);const o=_t(i.firestore,_n),l=Iy(i.converter,r,s);return cp(o,[np(Ba(o),"setDoc",i._key,l,null!==i.converter,s).toMutation(i._key,mn.none())])}function ax(i,r,s,...o){i=_t(i,zt);const l=_t(i.firestore,_n),d=Ba(l);let h;return h="string"==typeof(r=(0,wt.m9)(r))||r instanceof Ho?sp(d,"updateDoc",i._key,r,s,o):gy(d,"updateDoc",i._key,r),cp(l,[h.toMutation(i._key,mn.exists(!0))])}function AD(i,...r){var s,o,l;i=(0,wt.m9)(i);let d={includeMetadataChanges:!1},h=0;"object"!=typeof r[h]||x0(r[h])||(d=r[h],h++);const g={includeMetadataChanges:d.includeMetadataChanges};if(x0(r[h])){const I=r[h];r[h]=null===(s=I.next)||void 0===s?void 0:s.bind(I),r[h+1]=null===(o=I.error)||void 0===o?void 0:o.bind(I),r[h+2]=null===(l=I.complete)||void 0===l?void 0:l.bind(I)}let _,w,C;if(i instanceof zt)w=_t(i.firestore,_n),C=Uu(i._key.path),_={next:I=>{r[h]&&r[h](by(w,i,I))},error:r[h+1],complete:r[h+2]};else{const I=_t(i,Mr);w=_t(I.firestore,_n),C=I._query;const A=new bd(w);_={next:D=>{r[h]&&r[h](new Ha(w,A,I,D))},error:r[h+1],complete:r[h+2]},wD(i._query)}return function(I,A,D,P){const L=new il(P),ae=new XE(A,L,D);return I.asyncQueue.enqueueAndForget((0,ue.Z)(function*(){return Yf(yield Cd(I),ae)})),()=>{L.Xo(),I.asyncQueue.enqueueAndForget((0,ue.Z)(function*(){return QE(yield Cd(I),ae)}))}}(Pn(w),C,g,_)}function cp(i,r){return function(s,o){const l=new dt;return s.asyncQueue.enqueueAndForget((0,ue.Z)(function*(){return function(i,r,s){return Fb.apply(this,arguments)}(yield v0(s),o,l)})),l.promise}(Pn(i),r)}function by(i,r,s){const o=s.docs.get(r._key),l=new bd(i);return new ja(i,l,r._key,o,new Id(s.hasPendingWrites,s.fromCache),r.converter)}class cx extends class{constructor(r,s){this._firestore=r,this._transaction=s,this._dataReader=Ba(r)}get(r){const s=cl(r,this._firestore),o=new lp(this._firestore);return this._transaction.lookup([s._key]).then(l=>{if(!l||1!==l.length)return Fe();const d=l[0];if(d.isFoundDocument())return new vy(this._firestore,o,d.key,d,s.converter);if(d.isNoDocument())return new vy(this._firestore,o,s._key,null,s.converter);throw Fe()})}set(r,s,o){const l=cl(r,this._firestore),d=Iy(l.converter,s,o),h=np(this._dataReader,"Transaction.set",l._key,d,null!==l.converter,o);return this._transaction.set(l._key,h),this}update(r,s,o,...l){const d=cl(r,this._firestore);let h;return h="string"==typeof(s=(0,wt.m9)(s))||s instanceof Ho?sp(this._dataReader,"Transaction.update",d._key,s,o,l):gy(this._dataReader,"Transaction.update",d._key,s),this._transaction.update(d._key,h),this}delete(r){const s=cl(r,this._firestore);return this._transaction.delete(s._key),this}}{constructor(r,s){super(r,s),this._firestore=r}get(r){const s=cl(r,this._firestore),o=new bd(this._firestore);return super.get(r).then(l=>new ja(this._firestore,o,s._key,l._document,new Id(!1,!1),s.converter))}}function U0(i,r){if(void 0===r)return{merge:!1};if(void 0!==r.mergeFields&&void 0!==r.merge)throw new me("invalid-argument",`Invalid options passed to function ${i}(): You cannot specify both "merge" and "mergeFields".`);return r}function OD(){if("undefined"==typeof Uint8Array)throw new me("unimplemented","Uint8Arrays are not available in this environment.")}function B0(){if("undefined"==typeof atob)throw new me("unimplemented","Blobs are unavailable in Firestore in this environment.")}(function(i){df=i})(av.SDK_VERSION),(0,av._registerComponent)(new hC.wA("firestore",(i,{options:r})=>{const s=i.getProvider("app").getImmediate(),o=new _n(s,new gA(i.getProvider("auth-internal")));return r=Object.assign({useFetchStreams:!0},r),o._setSettings(r),o},"PUBLIC")),(0,av.registerVersion)("@firebase/firestore","3.0.1",void 0);class dp{constructor(r){this._delegate=r}static fromBase64String(r){return B0(),new dp(Ys.fromBase64String(r))}static fromUint8Array(r){return OD(),new dp(Ys.fromUint8Array(r))}toBase64(){return B0(),this._delegate.toBase64()}toUint8Array(){return OD(),this._delegate.toUint8Array()}isEqual(r){return this._delegate.isEqual(r._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function j0(i){return function(i,r){if("object"!=typeof i||null===i)return!1;const s=i;for(const o of["next","error","complete"])if(o in s&&"function"==typeof s[o])return!0;return!1}(i)}class H0{enableIndexedDbPersistence(r,s){return function(i,r){N0(i=_t(i,_n));const s=Pn(i),o=i._freezeSettings(),l=new g0;return fy(s,l,new NS(l,o.cacheSizeBytes,null==r?void 0:r.forceOwnership))}(r._delegate,{forceOwnership:s})}enableMultiTabIndexedDbPersistence(r){return function(i){N0(i=_t(i,_n));const r=Pn(i),s=i._freezeSettings(),o=new g0;return fy(r,o,new CN(o,s.cacheSizeBytes))}(r._delegate)}clearIndexedDbPersistence(r){return function(i){if(i._initialized&&!i._terminated)throw new me(ee.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const r=new dt;return i._queue.enqueueAndForgetEvenWhileRestricted((0,ue.Z)(function*(){try{yield(s=(0,ue.Z)(function*(o){if(!Ni.Pt())return Promise.resolve();const l=o+"main";yield Ni.delete(l)}),function(o){return s.apply(this,arguments)})(zm(i._databaseId,i._persistenceKey)),r.resolve()}catch(s){r.reject(s)}var s})),r.promise}(r._delegate)}}class PD{constructor(r,s,o){this._delegate=s,this._persistenceProvider=o,this.INTERNAL={delete:()=>this.terminate()},r instanceof sl||(this._appCompat=r)}get _databaseId(){return this._delegate._databaseId}settings(r){const s=this._delegate._getSettings();!r.merge&&s.host!==r.host&&je("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),r.merge&&delete(r=Object.assign(Object.assign({},s),r)).merge,this._delegate._setSettings(r)}useEmulator(r,s,o={}){!function(i,r,s,o={}){var l;const d=(i=_t(i,Xf))._getSettings();if("firestore.googleapis.com"!==d.host&&d.host!==r&&je("Host has been set in both settings() and useEmulator(), emulator host will be used"),i._setSettings(Object.assign(Object.assign({},d),{host:`${r}:${s}`,ssl:!1})),o.mockUserToken){let h,g;if("string"==typeof o.mockUserToken)h=o.mockUserToken,g=hn.MOCK_USER;else{h=(0,wt.Sg)(o.mockUserToken,null===(l=i._app)||void 0===l?void 0:l.options.projectId);const _=o.mockUserToken.sub||o.mockUserToken.user_id;if(!_)throw new me(ee.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new hn(_)}i._credentials=new Jv(new pA(h,g))}}(this._delegate,r,s,o)}enableNetwork(){return function(i){return function(i){return i.asyncQueue.enqueue((0,ue.Z)(function*(){const r=yield PS(i),s=yield wd(i);return r.setNetworkEnabled(!0),function(o){const l=Te(o);return l.Kr.delete(0),tl(l)}(s)}))}(Pn(i=_t(i,_n)))}(this._delegate)}disableNetwork(){return function(i){return function(i){return i.asyncQueue.enqueue((0,ue.Z)(function*(){const r=yield PS(i),s=yield wd(i);return r.setNetworkEnabled(!1),(o=(0,ue.Z)(function*(l){const d=Te(l);d.Kr.add(0),yield nl(d),d.Wr.set("Offline")}),function(l){return o.apply(this,arguments)})(s);var o}))}(Pn(i=_t(i,_n)))}(this._delegate)}enablePersistence(r){let s=!1,o=!1;return r&&(s=!!r.synchronizeTabs,o=!!r.experimentalForceOwningTab,oD("synchronizeTabs",s,"experimentalForceOwningTab",o)),s?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,o)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function(i){return function(r){const s=new dt;return r.asyncQueue.enqueueAndForget((0,ue.Z)(function*(){return function(i,r){return jb.apply(this,arguments)}(yield v0(r),s)})),s.promise}(Pn(i=_t(i,_n)))}(this._delegate)}onSnapshotsInSync(r){return function(i,r){return function(i,r){const s=new il(r);return i.asyncQueue.enqueueAndForget((0,ue.Z)(function*(){return o=yield Cd(i),l=s,Te(o).Zr.add(l),void l.next();var o,l})),()=>{s.Xo(),i.asyncQueue.enqueueAndForget((0,ue.Z)(function*(){return o=yield Cd(i),l=s,void Te(o).Zr.delete(l);var o,l}))}}(Pn(i=_t(i,_n)),x0(r)?r:{next:r})}(this._delegate,r)}get app(){if(!this._appCompat)throw new me("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(r){try{return new Dd(this,uD(this._delegate,r))}catch(s){throw yr(s,"collection()","Firestore.collection()")}}doc(r){try{return new Qr(this,A0(this._delegate,r))}catch(s){throw yr(s,"doc()","Firestore.doc()")}}collectionGroup(r){try{return new Or(this,function(i,r){if(i=_t(i,Xf),D0("collectionGroup","collection id",r),r.indexOf("/")>=0)throw new me(ee.INVALID_ARGUMENT,`Invalid collection ID '${r}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Mr(i,null,(s=r,new Po(Ct.emptyPath(),s)));var s}(this._delegate,r))}catch(s){throw yr(s,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(r){return function(i,r){return function(i,r){const s=new dt;return i.asyncQueue.enqueueAndForget((0,ue.Z)(function*(){const o=yield(l=i,dy(l).then(d=>d.datastore));var l;new bN(i.asyncQueue,o,r,s).run()})),s.promise}(Pn(i),s=>r(new cx(i,s)))}(this._delegate,s=>r(new fp(this,s)))}batch(){return Pn(this._delegate),new $0(new O0(this._delegate,r=>cp(this._delegate,r)))}loadBundle(r){return function(i,r){const s=Pn(i=_t(i,_n)),o=new cD;return function(i,r,s,o){const l=function(d,h){let g;return g="string"==typeof d?(new TextEncoder).encode(d):d,_=function(_,w){if(_ instanceof Uint8Array)return RS(_,w);if(_ instanceof ArrayBuffer)return RS(new Uint8Array(_),w);if(_ instanceof ReadableStream)return _.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(g),new MS(_,h);var _}(s,Hf(r));i.asyncQueue.enqueueAndForget((0,ue.Z)(function*(){!function(i,r,s){const o=Te(i);var l;(l=(0,ue.Z)(function*(d,h,g){try{const _=yield h.getMetadata();if(yield function(A,D){const P=Te(A),L=Rn(D.createTime);return P.persistence.runTransaction("hasNewerBundle","readonly",ae=>P.Je.getBundleMetadata(ae,D.id)).then(ae=>!!ae&&ae.createTime.compareTo(L)>=0)}(d.localStore,_))return yield h.close(),void g._completeWith((A=_,{taskState:"Success",documentsLoaded:A.totalDocuments,bytesLoaded:A.totalBytes,totalDocuments:A.totalDocuments,totalBytes:A.totalBytes}));g._updateProgress(Nb(_));const w=new bS(_,d.localStore,h.N);let C=yield h.Qo();for(;C;){const A=yield w.fo(C);A&&g._updateProgress(A),C=yield h.Qo()}const I=yield w.complete();yield Va(d,I.Tn,void 0),yield function(A,D){const P=Te(A);return P.persistence.runTransaction("Save bundle","readwrite",L=>P.Je.saveBundleMetadata(L,D))}(d.localStore,_),g._completeWith(I.progress)}catch(_){je("SyncEngine",`Loading bundle failed with ${_}`),g._failWith(_)}var A}),function(d,h,g){return l.apply(this,arguments)})(o,r,s).then(()=>{o.sharedClientState.notifyBundleLoaded()})}(yield v0(i),l,o)}))}(s,i._databaseId,r,o),o}(this._delegate,r)}namedQuery(r){return function(i,r){return function(i,r){return i.asyncQueue.enqueue((0,ue.Z)(function*(){return function(s,o){const l=Te(s);return l.persistence.runTransaction("Get named query","readonly",d=>l.Je.getNamedQuery(d,o))}(yield _0(i),r)}))}(Pn(i=_t(i,_n)),r).then(s=>s?new Mr(i,null,s.query):null)}(this._delegate,r).then(s=>s?new Or(this,s):null)}}class Gn extends M0{constructor(r){super(),this.firestore=r}convertBytes(r){return new dp(new Ys(r))}convertReference(r){const s=this.convertDocumentKey(r,this.firestore._databaseId);return Qr.forKey(s,this.firestore,null)}}class fp{constructor(r,s){this._firestore=r,this._delegate=s,this._userDataWriter=new Gn(r)}get(r){const s=dl(r);return this._delegate.get(s).then(o=>new gp(this._firestore,new ja(this._firestore._delegate,this._userDataWriter,o._key,o._document,o.metadata,s.converter)))}set(r,s,o){const l=dl(r);return o?(U0("Transaction.set",o),this._delegate.set(l,s,o)):this._delegate.set(l,s),this}update(r,s,o,...l){const d=dl(r);return 2===arguments.length?this._delegate.update(d,s):this._delegate.update(d,s,o,...l),this}delete(r){const s=dl(r);return this._delegate.delete(s),this}}class $0{constructor(r){this._delegate=r}set(r,s,o){const l=dl(r);return o?(U0("WriteBatch.set",o),this._delegate.set(l,s,o)):this._delegate.set(l,s),this}update(r,s,o,...l){const d=dl(r);return 2===arguments.length?this._delegate.update(d,s):this._delegate.update(d,s,o,...l),this}delete(r){const s=dl(r);return this._delegate.delete(s),this}commit(){return this._delegate.commit()}}class Qs{constructor(r,s,o){this._firestore=r,this._userDataWriter=s,this._delegate=o}fromFirestore(r,s){const o=new Cy(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,null);return this._delegate.fromFirestore(new mp(this._firestore,o),null!=s?s:{})}toFirestore(r,s){return s?this._delegate.toFirestore(r,s):this._delegate.toFirestore(r)}static getInstance(r,s){const o=Qs.INSTANCES;let l=o.get(r);l||(l=new WeakMap,o.set(r,l));let d=l.get(s);return d||(d=new Qs(r,new Gn(r),s),l.set(s,d)),d}}Qs.INSTANCES=new WeakMap;class Qr{constructor(r,s){this.firestore=r,this._delegate=s,this._userDataWriter=new Gn(r)}static forPath(r,s,o){if(r.length%2!=0)throw new me("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${r.canonicalString()} has ${r.length}`);return new Qr(s,new zt(s._delegate,o,new Le(r)))}static forKey(r,s,o){return new Qr(s,new zt(s._delegate,o,r))}get id(){return this._delegate.id}get parent(){return new Dd(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(r){try{return new Dd(this.firestore,uD(this._delegate,r))}catch(s){throw yr(s,"collection()","DocumentReference.collection()")}}isEqual(r){return(r=(0,wt.m9)(r))instanceof zt&&lD(this._delegate,r)}set(r,s){s=U0("DocumentReference.set",s);try{return s?TD(this._delegate,r,s):TD(this._delegate,r)}catch(o){throw yr(o,"setDoc()","DocumentReference.set()")}}update(r,s,...o){try{return 1===arguments.length?ax(this._delegate,r):ax(this._delegate,r,s,...o)}catch(l){throw yr(l,"updateDoc()","DocumentReference.update()")}}delete(){return function(i){return cp(_t(i.firestore,_n),[new If(i._key,mn.none())])}(this._delegate)}onSnapshot(...r){const s=pp(r),o=kD(r,l=>new gp(this.firestore,new ja(this.firestore._delegate,this._userDataWriter,l._key,l._document,l.metadata,this._delegate.converter)));return AD(this._delegate,s,o)}get(r){let s;return s="cache"===(null==r?void 0:r.source)?function(i){i=_t(i,zt);const r=_t(i.firestore,_n),s=Pn(r),o=new bd(r);return function(i,r){const s=new dt;return i.asyncQueue.enqueueAndForget((0,ue.Z)(function*(){return(o=(0,ue.Z)(function*(l,d,h){try{const g=yield function(_,w){const C=Te(_);return C.persistence.runTransaction("read document","readonly",I=>C.Qn.An(I,w))}(l,d);g.isFoundDocument()?h.resolve(g):g.isNoDocument()?h.resolve(null):h.reject(new me(ee.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(g){const _=rl(g,`Failed to get document '${d} from cache`);h.reject(_)}}),function(l,d,h){return o.apply(this,arguments)})(yield _0(i),r,s);var o})),s.promise}(s,i._key).then(l=>new ja(r,o,i._key,l,new Id(null!==l&&l.hasLocalMutations,!0),i.converter))}(this._delegate):"server"===(null==r?void 0:r.source)?function(i){i=_t(i,zt);const r=_t(i.firestore,_n);return nD(Pn(r),i._key,{source:"server"}).then(s=>by(r,i,s))}(this._delegate):function(i){i=_t(i,zt);const r=_t(i.firestore,_n);return nD(Pn(r),i._key).then(s=>by(r,i,s))}(this._delegate),s.then(o=>new gp(this.firestore,new ja(this.firestore._delegate,this._userDataWriter,o._key,o._document,o.metadata,this._delegate.converter)))}withConverter(r){return new Qr(this.firestore,this._delegate.withConverter(r?Qs.getInstance(this.firestore,r):null))}}function yr(i,r,s){return i.message=i.message.replace(r,s),i}function pp(i){for(const r of i)if("object"==typeof r&&!j0(r))return r;return{}}function kD(i,r){var s,o;let l;return l=j0(i[0])?i[0]:j0(i[1])?i[1]:"function"==typeof i[0]?{next:i[0],error:i[1],complete:i[2]}:{next:i[1],error:i[2],complete:i[3]},{next:d=>{l.next&&l.next(r(d))},error:null===(s=l.error)||void 0===s?void 0:s.bind(l),complete:null===(o=l.complete)||void 0===o?void 0:o.bind(l)}}class gp{constructor(r,s){this._firestore=r,this._delegate=s}get ref(){return new Qr(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(r){return this._delegate.data(r)}get(r,s){return this._delegate.get(r,s)}isEqual(r){return ED(this._delegate,r._delegate)}}class mp extends gp{data(r){const s=this._delegate.data(r);return function(i,r){i||Fe()}(void 0!==s),s}}class Or{constructor(r,s){this.firestore=r,this._delegate=s,this._userDataWriter=new Gn(r)}where(r,s,o){try{return new Or(this.firestore,ll(this._delegate,function(i,r,s){const o=r,l=wy("where",i);return new zS(l,o,s)}(r,s,o)))}catch(l){throw yr(l,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(r,s){try{return new Or(this.firestore,ll(this._delegate,function(i,r="asc"){const s=r,o=wy("orderBy",i);return new KS(o,s)}(r,s)))}catch(o){throw yr(o,/(orderBy|where)\(\)/,"Query.$1()")}}limit(r){try{return new Or(this.firestore,ll(this._delegate,function(i){return aD("limit",i),new YS("limit",i,"F")}(r)))}catch(s){throw yr(s,"limit()","Query.limit()")}}limitToLast(r){try{return new Or(this.firestore,ll(this._delegate,function(i){return aD("limitToLast",i),new YS("limitToLast",i,"L")}(r)))}catch(s){throw yr(s,"limitToLast()","Query.limitToLast()")}}startAt(...r){try{return new Or(this.firestore,ll(this._delegate,function(...i){return new CD("startAt",i,!0)}(...r)))}catch(s){throw yr(s,"startAt()","Query.startAt()")}}startAfter(...r){try{return new Or(this.firestore,ll(this._delegate,function(...i){return new CD("startAfter",i,!1)}(...r)))}catch(s){throw yr(s,"startAfter()","Query.startAfter()")}}endBefore(...r){try{return new Or(this.firestore,ll(this._delegate,function(...i){return new Oi("endBefore",i,!0)}(...r)))}catch(s){throw yr(s,"endBefore()","Query.endBefore()")}}endAt(...r){try{return new Or(this.firestore,ll(this._delegate,function(...i){return new Oi("endAt",i,!1)}(...r)))}catch(s){throw yr(s,"endAt()","Query.endAt()")}}isEqual(r){return S0(this._delegate,r._delegate)}get(r){let s;return s="cache"===(null==r?void 0:r.source)?function(i){i=_t(i,Mr);const r=_t(i.firestore,_n),s=Pn(r),o=new bd(r);return function(i,r){const s=new dt;return i.asyncQueue.enqueueAndForget((0,ue.Z)(function*(){return(o=(0,ue.Z)(function*(l,d,h){try{const g=yield VE(l,d,!0),_=new n0(d,g.Gn),w=_.Io(g.documents),C=_.applyChanges(w,!1);h.resolve(C.snapshot)}catch(g){const _=rl(g,`Failed to execute query '${d} against cache`);h.reject(_)}}),function(l,d,h){return o.apply(this,arguments)})(yield _0(i),r,s);var o})),s.promise}(s,i._query).then(l=>new Ha(r,o,i,l))}(this._delegate):"server"===(null==r?void 0:r.source)?function(i){i=_t(i,Mr);const r=_t(i.firestore,_n),s=Pn(r),o=new bd(r);return rD(s,i._query,{source:"server"}).then(l=>new Ha(r,o,i,l))}(this._delegate):function(i){i=_t(i,Mr);const r=_t(i.firestore,_n),s=Pn(r),o=new bd(r);return wD(i._query),rD(s,i._query).then(l=>new Ha(r,o,i,l))}(this._delegate),s.then(o=>new G0(this.firestore,new Ha(this.firestore._delegate,this._userDataWriter,this._delegate,o._snapshot)))}onSnapshot(...r){const s=pp(r),o=kD(r,l=>new G0(this.firestore,new Ha(this.firestore._delegate,this._userDataWriter,this._delegate,l._snapshot)));return AD(this._delegate,s,o)}withConverter(r){return new Or(this.firestore,this._delegate.withConverter(r?Qs.getInstance(this.firestore,r):null))}}class FD{constructor(r,s){this._firestore=r,this._delegate=s}get type(){return this._delegate.type}get doc(){return new mp(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class G0{constructor(r,s){this._firestore=r,this._delegate=s}get query(){return new Or(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(r=>new mp(this._firestore,r))}docChanges(r){return this._delegate.docChanges(r).map(s=>new FD(this._firestore,s))}forEach(r,s){this._delegate.forEach(o=>{r.call(s,new mp(this._firestore,o))})}isEqual(r){return ED(this._delegate,r._delegate)}}class Dd extends Or{constructor(r,s){super(r,s),this.firestore=r,this._delegate=s}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const r=this._delegate.parent;return r?new Qr(this.firestore,r):null}doc(r){try{return new Qr(this.firestore,void 0===r?A0(this._delegate):A0(this._delegate,r))}catch(s){throw yr(s,"doc()","CollectionReference.doc()")}}add(r){return function(i,r){const s=_t(i.firestore,_n),o=A0(i),l=Iy(i.converter,r);return cp(s,[np(Ba(i.firestore),"addDoc",o._key,l,null!==i.converter,{}).toMutation(o._key,mn.exists(!1))]).then(()=>o)}(this._delegate,r).then(s=>new Qr(this.firestore,s))}isEqual(r){return lD(this._delegate,r._delegate)}withConverter(r){return new Dd(this.firestore,this._delegate.withConverter(r?Qs.getInstance(this.firestore,r):null))}}function dl(i){return _t(i,zt)}class Js{constructor(...r){this._delegate=new Ho(...r)}static documentId(){return new Js(pn.keyField().canonicalString())}isEqual(r){return(r=(0,wt.m9)(r))instanceof Ho&&this._delegate._internalPath.isEqual(r._internalPath)}}class ss{constructor(r){this._delegate=r}static serverTimestamp(){const r=new R0("serverTimestamp");return r._methodName="FieldValue.serverTimestamp",new ss(r)}static delete(){const r=new rp("deleteField");return r._methodName="FieldValue.delete",new ss(r)}static arrayUnion(...r){const s=function(...i){return new qS("arrayUnion",i)}(...r);return s._methodName="FieldValue.arrayUnion",new ss(s)}static arrayRemove(...r){const s=function(...i){return new mD("arrayRemove",i)}(...r);return s._methodName="FieldValue.arrayRemove",new ss(s)}static increment(r){const s=function(i){return new al("increment",i)}(r);return s._methodName="FieldValue.increment",new ss(s)}isEqual(r){return this._delegate.isEqual(r._delegate)}}const q0={Firestore:PD,GeoPoint:tp,Timestamp:Bn,Blob:dp,Transaction:fp,WriteBatch:$0,DocumentReference:Qr,DocumentSnapshot:gp,Query:Or,QueryDocumentSnapshot:mp,QuerySnapshot:G0,CollectionReference:Dd,FieldPath:Js,FieldValue:ss,setLogLevel:function(i){!function(i){Us.setLogLevel(i)}(i)},CACHE_SIZE_UNLIMITED:-1};!function(i){(function(i,r){i.INTERNAL.registerComponent(new hC.wA("firestore-compat",s=>((r,s)=>new PD(r,s,new H0))(s.getProvider("app-compat").getImmediate(),s.getProvider("firestore").getImmediate()),"PUBLIC").setServiceProps(Object.assign({},q0)))})(i),i.registerVersion("@firebase/firestore-compat","0.1.1")}(dC.Z);var px=x(6682),W0=x(7771),gx=x(8858);class LD extends Eo.xQ{constructor(r=Number.POSITIVE_INFINITY,s=Number.POSITIVE_INFINITY,o){super(),this.scheduler=o,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=r<1?1:r,this._windowTime=s<1?1:s,s===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(r){if(!this.isStopped){const s=this._events;s.push(r),s.length>this._bufferSize&&s.shift()}super.next(r)}nextTimeWindow(r){this.isStopped||(this._events.push(new VD(this._getNow(),r)),this._trimBufferThenGetEvents()),super.next(r)}_subscribe(r){const s=this._infiniteTimeWindow,o=s?this._events:this._trimBufferThenGetEvents(),l=this.scheduler,d=o.length;let h;if(this.closed)throw new uc.N;if(this.isStopped||this.hasError?h=fr.w.EMPTY:(this.observers.push(r),h=new gx.W(this,r)),l&&r.add(r=new Ac.ht(r,l)),s)for(let g=0;g<d&&!r.closed;g++)r.next(o[g]);else for(let g=0;g<d&&!r.closed;g++)r.next(o[g].value);return this.hasError?r.error(this.thrownError):this.isStopped&&r.complete(),h}_getNow(){return(this.scheduler||W0.c).now()}_trimBufferThenGetEvents(){const r=this._getNow(),s=this._bufferSize,o=this._windowTime,l=this._events,d=l.length;let h=0;for(;h<d&&!(r-l[h].time<o);)h++;return d>s&&(h=Math.max(h,d-s)),h>0&&l.splice(0,h),l}}class VD{constructor(r,s){this.time=r,this.value=s}}function UD(i,r,s){let o;return o=i&&"object"==typeof i?i:{bufferSize:i,windowTime:r,refCount:!1,scheduler:s},l=>l.lift(function({bufferSize:i=Number.POSITIVE_INFINITY,windowTime:r=Number.POSITIVE_INFINITY,refCount:s,scheduler:o}){let l,h,d=0,g=!1,_=!1;return function(C){let I;d++,!l||g?(g=!1,l=new LD(i,r,o),I=l.subscribe(this),h=C.subscribe({next(A){l.next(A)},error(A){g=!0,l.error(A)},complete(){_=!0,h=void 0,l.complete()}}),_&&(h=void 0)):I=l.subscribe(this),this.add(()=>{d--,I.unsubscribe(),I=void 0,h&&!_&&s&&0===d&&(h.unsubscribe(),h=void 0,l=void 0)})}}(o))}function BD(i,r){return r?Jt(()=>i,r):Jt(()=>i)}var os=x(3101);const hl=new y.OlP("angularfire2.auth.use-emulator"),_p=new y.OlP("angularfire2.auth.settings"),fl=new y.OlP("angularfire2.auth.tenant-id"),jD=new y.OlP("angularfire2.auth.langugage-code"),HD=new y.OlP("angularfire2.auth.use-device-language"),$D=new y.OlP("angularfire.auth.persistence"),z0=(i,r,s,o,l,d,h,g)=>(0,Xn.cc)(`${i.name}.auth`,"AngularFireAuth",i.name,()=>{const _=r.runOutsideAngular(()=>i.auth());if(s&&_.useEmulator(...s),o&&(_.tenantId=o),_.languageCode=l,d&&_.useDeviceLanguage(),h)for(const[w,C]of Object.entries(h))_.settings[w]=C;return g&&_.setPersistence(g),_},[s,o,l,d,h,g]);let Z0=(()=>{class i{constructor(s,o,l,d,h,g,_,w,C,I,A){const D=new Eo.xQ,P=(0,$e.of)(void 0).pipe((0,Ac.QV)(h.outsideAngular),Jt(()=>d.runOutsideAngular(()=>Promise.resolve().then(x.bind(x,9083)))),(0,Ke.U)(()=>(0,Ps.on)(s,d,o)),(0,Ke.U)(L=>z0(L,d,g,w,C,I,_,A)),UD({bufferSize:1,refCount:!1}));if(vl(l))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,$e.of)(null);else{P.pipe(Ft()).subscribe();const ae=P.pipe(Jt(Be=>Be.getRedirectResult().then(lt=>lt,()=>null)),Xn.iC,UD({bufferSize:1,refCount:!1})),Ie=P.pipe(Jt(Be=>new Ir.y(lt=>({unsubscribe:d.runOutsideAngular(()=>Be.onAuthStateChanged(Tn=>lt.next(Tn),Tn=>lt.error(Tn),()=>lt.complete()))})))),Se=P.pipe(Jt(Be=>new Ir.y(lt=>({unsubscribe:d.runOutsideAngular(()=>Be.onIdTokenChanged(Tn=>lt.next(Tn),Tn=>lt.error(Tn),()=>lt.complete()))}))));this.authState=ae.pipe(BD(Ie),(0,os.R)(h.outsideAngular),(0,Ac.QV)(h.insideAngular)),this.user=ae.pipe(BD(Se),(0,os.R)(h.outsideAngular),(0,Ac.QV)(h.insideAngular)),this.idToken=this.user.pipe(Jt(Be=>Be?(0,Ht.D)(Be.getIdToken()):(0,$e.of)(null))),this.idTokenResult=this.user.pipe(Jt(Be=>Be?(0,Ht.D)(Be.getIdTokenResult()):(0,$e.of)(null))),this.credential=(0,px.T)(ae,D,this.authState.pipe(Sr(Be=>!Be))).pipe((0,Ke.U)(Be=>(null==Be?void 0:Be.user)?Be:null),(0,os.R)(h.outsideAngular),(0,Ac.QV)(h.insideAngular))}return(0,Ps.pX)(this,P,d,{spy:{apply:(L,ae,Ie)=>{(L.startsWith("signIn")||L.startsWith("createUser"))&&Ie.then(Se=>D.next(Se))}}})}}return i.\u0275fac=function(s){return new(s||i)(y.LFG(Ps.Dh),y.LFG(Ps.xv,8),y.LFG(y.Lbi),y.LFG(y.R0b),y.LFG(Xn.HU),y.LFG(hl,8),y.LFG(_p,8),y.LFG(fl,8),y.LFG(jD,8),y.LFG(HD,8),y.LFG($D,8))},i.\u0275prov=y.Yz7({token:i,factory:i.\u0275fac,providedIn:"any"}),i})();function Ty(i,r){return function(i,r=xt.z){return new Ir.y(s=>{let o;return null!=r?r.schedule(()=>{o=i.onSnapshot({includeMetadataChanges:!0},s)}):o=i.onSnapshot({includeMetadataChanges:!0},s),()=>{null!=o&&o()}})}(i,r)}function K0(i,r){return Ty(i,r).pipe((0,Ke.U)(s=>({payload:s,type:"query"})))}function vp(i,r){return K0(i,r).pipe(xs(void 0),cC(),(0,Ke.U)(([s,o])=>{const l=o.payload.docChanges(),d=l.map(h=>({type:h.type,payload:h}));return s&&JSON.stringify(s.payload.metadata)!==JSON.stringify(o.payload.metadata)&&o.payload.docs.forEach((h,g)=>{const _=l.find(C=>C.doc.ref.isEqual(h.ref)),w=null==s?void 0:s.payload.docs.find(C=>C.ref.isEqual(h.ref));_&&JSON.stringify(_.doc.metadata)===JSON.stringify(h.metadata)||!_&&w&&JSON.stringify(w.metadata)===JSON.stringify(h.metadata)||d.push({type:"modified",payload:{oldIndex:g,newIndex:g,type:"modified",doc:h}})}),d}))}function $a(i,r,s){return vp(i,s).pipe(Co((o,l)=>function(i,r,s){return r.forEach(o=>{s.indexOf(o.type)>-1&&(i=function(i,r){switch(r.type){case"added":if(!i[r.newIndex]||!i[r.newIndex].doc.ref.isEqual(r.doc.ref))return Q0(i,r.newIndex,0,r);break;case"modified":if(null==i[r.oldIndex]||i[r.oldIndex].doc.ref.isEqual(r.doc.ref)){if(r.oldIndex!==r.newIndex){const s=i.slice();return s.splice(r.oldIndex,1),s.splice(r.newIndex,0,r),s}return Q0(i,r.newIndex,1,r)}break;case"removed":if(i[r.oldIndex]&&i[r.oldIndex].doc.ref.isEqual(r.doc.ref))return Q0(i,r.oldIndex,1)}return i}(i,o))}),i}(o,l.map(d=>d.payload),r),[]),s=>s.lift(new Qx(void 0,void 0)),(0,Ke.U)(o=>o.map(l=>({type:l.type,payload:l}))))}function Q0(i,r,s,...o){const l=i.slice();return l.splice(r,s,...o),l}function Ex(i){return(!i||0===i.length)&&(i=["added","removed","modified"]),i}class wx{constructor(r,s,o){this.ref=r,this.query=s,this.afs=o}stateChanges(r){let s=vp(this.query,this.afs.schedulers.outsideAngular);return r&&r.length>0&&(s=s.pipe((0,Ke.U)(o=>o.filter(l=>r.indexOf(l.type)>-1)))),s.pipe(xs(void 0),cC(),Sr(([o,l])=>l.length>0||!o),(0,Ke.U)(([o,l])=>l),Xn.iC)}auditTrail(r){return this.stateChanges(r).pipe(Co((s,o)=>[...s,...o],[]))}snapshotChanges(r){const s=Ex(r);return $a(this.query,s,this.afs.schedulers.outsideAngular).pipe(Xn.iC)}valueChanges(r={}){return K0(this.query,this.afs.schedulers.outsideAngular).pipe((0,Ke.U)(s=>s.payload.docs.map(o=>r.idField?Object.assign(Object.assign({},o.data()),{[r.idField]:o.id}):o.data())),Xn.iC)}get(r){return(0,Ht.D)(this.query.get(r)).pipe(Xn.f6)}add(r){return this.ref.add(r)}doc(r){return new Cx(this.ref.doc(r),this.afs)}}class Cx{constructor(r,s){this.ref=r,this.afs=s}set(r,s){return this.ref.set(r,s)}update(r){return this.ref.update(r)}delete(){return this.ref.delete()}collection(r,s){const o=this.ref.collection(r),{ref:l,query:d}=Dx(o,s);return new wx(l,d,this.afs)}snapshotChanges(){return function(i,r){return Ty(i,r).pipe(xs(void 0),cC(),(0,Ke.U)(([s,o])=>o.exists?(null==s?void 0:s.exists)?{payload:o,type:"modified"}:{payload:o,type:"added"}:{payload:o,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(Xn.iC)}valueChanges(r={}){return this.snapshotChanges().pipe((0,Ke.U)(({payload:s})=>r.idField?Object.assign(Object.assign({},s.data()),{[r.idField]:s.id}):s.data()))}get(r){return(0,Ht.D)(this.ref.get(r)).pipe((0,Ac.QV)(this.afs.schedulers.insideAngular))}}class kN{constructor(r,s){this.query=r,this.afs=s}stateChanges(r){return r&&0!==r.length?vp(this.query,this.afs.schedulers.outsideAngular).pipe((0,Ke.U)(s=>s.filter(o=>r.indexOf(o.type)>-1)),Sr(s=>s.length>0),Xn.iC):vp(this.query,this.afs.schedulers.outsideAngular).pipe(Xn.iC)}auditTrail(r){return this.stateChanges(r).pipe(Co((s,o)=>[...s,...o],[]))}snapshotChanges(r){const s=Ex(r);return $a(this.query,s,this.afs.schedulers.outsideAngular).pipe(Xn.iC)}valueChanges(r={}){return K0(this.query,this.afs.schedulers.outsideAngular).pipe((0,Ke.U)(o=>o.payload.docs.map(l=>r.idField?Object.assign({[r.idField]:l.id},l.data()):l.data())),Xn.iC)}get(r){return(0,Ht.D)(this.query.get(r)).pipe(Xn.f6)}}const Ix=new y.OlP("angularfire2.enableFirestorePersistence"),bx=new y.OlP("angularfire2.firestore.persistenceSettings"),FN=new y.OlP("angularfire2.firestore.settings"),LN=new y.OlP("angularfire2.firestore.use-emulator");function Dx(i,r=(s=>s)){return{query:r(i),ref:i}}let VN=(()=>{class i{constructor(s,o,l,d,h,g,_,w,C,I,A,D,P,L,ae,Ie){this.schedulers=_;const Se=(0,Ps.on)(s,g,o),Be=C;I&&z0(Se,g,A,P,L,ae,D,Ie),[this.firestore,this.persistenceEnabled$]=(0,Xn.cc)(`${Se.name}.firestore`,"AngularFirestore",Se.name,()=>{const lt=g.runOutsideAngular(()=>Se.firestore());if(d&&lt.settings(d),Be&&lt.useEmulator(...Be),l&&!vl(h)){const Tn=()=>{try{return(0,Ht.D)(lt.enablePersistence(w||void 0).then(()=>!0,()=>!1))}catch($o){return"undefined"!=typeof console&&console.warn($o),(0,$e.of)(!1)}};return[lt,g.runOutsideAngular(Tn)]}return[lt,(0,$e.of)(!1)]},[d,Be,l])}collection(s,o){let l;l="string"==typeof s?this.firestore.collection(s):s;const{ref:d,query:h}=Dx(l,o),g=this.schedulers.ngZone.run(()=>d);return new wx(g,h,this)}collectionGroup(s,o){const l=o||(h=>h),d=this.firestore.collectionGroup(s);return new kN(l(d),this)}doc(s){let o;o="string"==typeof s?this.firestore.doc(s):s;const l=this.schedulers.ngZone.run(()=>o);return new Cx(l,this)}createId(){return this.firestore.collection("_").doc().id}}return i.\u0275fac=function(s){return new(s||i)(y.LFG(Ps.Dh),y.LFG(Ps.xv,8),y.LFG(Ix,8),y.LFG(FN,8),y.LFG(y.Lbi),y.LFG(y.R0b),y.LFG(Xn.HU),y.LFG(bx,8),y.LFG(LN,8),y.LFG(Z0,8),y.LFG(hl,8),y.LFG(_p,8),y.LFG(fl,8),y.LFG(jD,8),y.LFG(HD,8),y.LFG($D,8))},i.\u0275prov=y.Yz7({token:i,factory:i.\u0275fac,providedIn:"any"}),i})();const Tx_firebaseConfig={apiKey:"AIzaSyBMx9FQQAFXTcVwPgLYquZnvxBkQPE348c",authDomain:"salondejuegos-8dcc9.firebaseapp.com",databaseURL:"https://salondejuegos-8dcc9-default-rtdb.firebaseio.com",projectId:"salondejuegos-8dcc9",storageBucket:"salondejuegos-8dcc9.appspot.com",messagingSenderId:"512465379912",appId:"1:512465379912:web:09d01c6af76e3ce66eee7d",measurementId:"G-FBLHYGJJY2"},u=[{path:"",pathMatch:"full",redirectTo:"home"},{path:"home",component:FT},{path:"ej1",component:kT},{path:"ej2",component:PT},{path:"ej2/login",component:(()=>{class i{constructor(s,o){this.firestore=s,this.router=o,this.usuario="",this.contrasenia="",this.student=new lC("","")}login(){var s;this.firestore.collection("usuarios").ref.get().then(l=>l.forEach(d=>(s=d.data(),this.usuario!=s.nombre?(this.router.navigateByUrl("ej2/error"),console.log("f"),0):this.contrasenia==s.clave?(this.router.navigateByUrl("/ej2/bienvenido"),console.log("v"),1):-1)))}ngOnInit(){}}return i.\u0275fac=function(s){return new(s||i)(y.Y36(VN),y.Y36(pr))},i.\u0275cmp=y.Xpm({type:i,selectors:[["app-login"]],decls:12,vars:2,consts:[[1,"wrapper","fadeInDown"],["id","formContent"],[1,"active"],["type","text","id","login","name","loginUs","placeholder","login","required","",1,"fadeIn","second",3,"ngModel","ngModelChange"],["type","text","id","password","name","loginPas","placeholder","password","required","",1,"fadeIn","third",3,"ngModel","ngModelChange"],["type","submit","value","Log In",1,"fadeIn","fourth",3,"click"],["id","formFooter"],["href","#",1,"underlineHover"]],template:function(s,o){1&s&&(y.TgZ(0,"body"),y.TgZ(1,"div",0),y.TgZ(2,"div",1),y.TgZ(3,"h2",2),y._uU(4," Sign In "),y.qZA(),y.TgZ(5,"form"),y.TgZ(6,"input",3),y.NdJ("ngModelChange",function(d){return o.usuario=d}),y.qZA(),y.TgZ(7,"input",4),y.NdJ("ngModelChange",function(d){return o.contrasenia=d}),y.qZA(),y.TgZ(8,"input",5),y.NdJ("click",function(){return o.login()}),y.qZA(),y.qZA(),y.TgZ(9,"div",6),y.TgZ(10,"a",7),y._uU(11,"Forgot Password?"),y.qZA(),y.qZA(),y.qZA(),y.qZA(),y.qZA()),2&s&&(y.xp6(6),y.Q6J("ngModel",o.usuario),y.xp6(1),y.Q6J("ngModel",o.contrasenia))},directives:[dh,br,Yl,Bi,yu,hr,Jl],styles:['@import"https://fonts.googleapis.com/css?family=Poppins";body[_ngcontent-%COMP%]{font-family:"Poppins",sans-serif;height:100vh;background-color:#56baed}a[_ngcontent-%COMP%]{color:#92badd;display:inline-block;text-decoration:none;font-weight:400}h2[_ngcontent-%COMP%]{text-align:center;font-size:16px;font-weight:600;text-transform:uppercase;display:inline-block;margin:40px 8px 10px;color:#ccc}.wrapper[_ngcontent-%COMP%]{display:flex;align-items:center;flex-direction:column;justify-content:center;width:100%;min-height:100%;padding:20px}#formContent[_ngcontent-%COMP%]{border-radius:10px;background:#fff;width:90%;max-width:450px;position:relative;padding:0;box-shadow:0 30px 60px #0000004d;text-align:center}#formFooter[_ngcontent-%COMP%]{background-color:#f6f6f6;border-top:1px solid #dce8f1;padding:25px;text-align:center;border-radius:0 0 10px 10px}h2.inactive[_ngcontent-%COMP%]{color:#ccc}h2.active[_ngcontent-%COMP%]{color:#0d0d0d;border-bottom:2px solid #5fbae9}input[type=button][_ngcontent-%COMP%], input[type=submit][_ngcontent-%COMP%], input[type=reset][_ngcontent-%COMP%]{background-color:#56baed;border:none;color:#fff;padding:15px 80px;text-align:center;text-decoration:none;display:inline-block;text-transform:uppercase;font-size:13px;box-shadow:0 10px 30px #5fbae966;border-radius:5px;margin:5px 20px 40px;transition:all .3s ease-in-out}input[type=button][_ngcontent-%COMP%]:hover, input[type=submit][_ngcontent-%COMP%]:hover, input[type=reset][_ngcontent-%COMP%]:hover{background-color:#39ace7}input[type=button][_ngcontent-%COMP%]:active, input[type=submit][_ngcontent-%COMP%]:active, input[type=reset][_ngcontent-%COMP%]:active{transform:scale(.95)}input[type=text][_ngcontent-%COMP%]{background-color:#f6f6f6;border:none;color:#0d0d0d;padding:15px 32px;text-align:center;text-decoration:none;display:inline-block;font-size:16px;margin:5px;width:85%;border:2px solid #f6f6f6;transition:all .5s ease-in-out;border-radius:5px}input[type=text][_ngcontent-%COMP%]:focus{background-color:#fff;border-bottom:2px solid #5fbae9}input[type=text][_ngcontent-%COMP%]:placeholder{color:#ccc}.fadeInDown[_ngcontent-%COMP%]{animation-name:fadeInDown;animation-duration:1s;animation-fill-mode:both}@keyframes fadeInDown{0%{opacity:0;transform:translateY(-100%)}to{opacity:1;transform:none}}@keyframes fadeIn{0%{opacity:0}to{opacity:1}}.fadeIn[_ngcontent-%COMP%]{opacity:0;animation:fadeIn ease-in 1;animation-fill-mode:forwards;animation-duration:1s}.fadeIn.first[_ngcontent-%COMP%]{animation-delay:.4s}.fadeIn.second[_ngcontent-%COMP%]{animation-delay:.6s}.fadeIn.third[_ngcontent-%COMP%]{animation-delay:.8s}.fadeIn.fourth[_ngcontent-%COMP%]{animation-delay:1s}.underlineHover[_ngcontent-%COMP%]:after{display:block;left:0;bottom:-10px;width:0;height:2px;background-color:#56baed;content:"";transition:width .2s}.underlineHover[_ngcontent-%COMP%]:hover{color:#0d0d0d}.underlineHover[_ngcontent-%COMP%]:hover:after{width:100%}*[_ngcontent-%COMP%]:focus{outline:none}#icon[_ngcontent-%COMP%]{width:60%}*[_ngcontent-%COMP%]{box-sizing:border-box}']}),i})()},{path:"ej2/bienvenido",component:(()=>{class i{constructor(){}ngOnInit(){}}return i.\u0275fac=function(s){return new(s||i)},i.\u0275cmp=y.Xpm({type:i,selectors:[["app-bienvenido"]],decls:4,vars:0,consts:[["routerLink","/ej2",1,"btnlink"]],template:function(s,o){1&s&&(y.TgZ(0,"p"),y._uU(1,"Bienvenido "),y.qZA(),y.TgZ(2,"a",0),y._uU(3,"Back home"),y.qZA())},directives:[bc],styles:[""]}),i})()},{path:"ej2/error",component:(()=>{class i{constructor(){}ngOnInit(){}}return i.\u0275fac=function(s){return new(s||i)},i.\u0275cmp=y.Xpm({type:i,selectors:[["app-error"]],decls:2,vars:0,template:function(s,o){1&s&&(y.TgZ(0,"p"),y._uU(1,"error works!"),y.qZA())},styles:[""]}),i})()},{path:"salonDeJuegos/home",component:(()=>{class i{constructor(){}ngOnInit(){}}return i.\u0275fac=function(s){return new(s||i)},i.\u0275cmp=y.Xpm({type:i,selectors:[["app-home"]],decls:2,vars:0,template:function(s,o){1&s&&(y.TgZ(0,"p"),y._uU(1,"home works!"),y.qZA())},styles:[""]}),i})()}];let c=(()=>{class i{}return i.\u0275fac=function(s){return new(s||i)},i.\u0275mod=y.oAB({type:i,bootstrap:[OT]}),i.\u0275inj=y.cJS({providers:[],imports:[[Es,MT,hw,Ug.forRoot(u),Ps.hO.initializeApp(Tx_firebaseConfig)]]}),i})();(0,y.G48)(),jy().bootstrapModule(c).catch(i=>console.error(i))},4762:(Oe,he,x)=>{"use strict";x.d(he,{ZT:()=>K,pi:()=>O,_T:()=>z,mG:()=>oe,Jh:()=>U,XA:()=>k,CR:()=>R,ev:()=>G});var y=function(Q,W){return(y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(J,re){J.__proto__=re}||function(J,re){for(var X in re)Object.prototype.hasOwnProperty.call(re,X)&&(J[X]=re[X])})(Q,W)};function K(Q,W){if("function"!=typeof W&&null!==W)throw new TypeError("Class extends value "+String(W)+" is not a constructor or null");function J(){this.constructor=Q}y(Q,W),Q.prototype=null===W?Object.create(W):(J.prototype=W.prototype,new J)}var O=function(){return(O=Object.assign||function(W){for(var J,re=1,X=arguments.length;re<X;re++)for(var H in J=arguments[re])Object.prototype.hasOwnProperty.call(J,H)&&(W[H]=J[H]);return W}).apply(this,arguments)};function z(Q,W){var J={};for(var re in Q)Object.prototype.hasOwnProperty.call(Q,re)&&W.indexOf(re)<0&&(J[re]=Q[re]);if(null!=Q&&"function"==typeof Object.getOwnPropertySymbols){var X=0;for(re=Object.getOwnPropertySymbols(Q);X<re.length;X++)W.indexOf(re[X])<0&&Object.prototype.propertyIsEnumerable.call(Q,re[X])&&(J[re[X]]=Q[re[X]])}return J}function oe(Q,W,J,re){return new(J||(J=Promise))(function(H,ve){function Pe(et){try{ke(re.next(et))}catch(Nt){ve(Nt)}}function ct(et){try{ke(re.throw(et))}catch(Nt){ve(Nt)}}function ke(et){et.done?H(et.value):function(H){return H instanceof J?H:new J(function(ve){ve(H)})}(et.value).then(Pe,ct)}ke((re=re.apply(Q,W||[])).next())})}function U(Q,W){var re,X,H,ve,J={label:0,sent:function(){if(1&H[0])throw H[1];return H[1]},trys:[],ops:[]};return ve={next:Pe(0),throw:Pe(1),return:Pe(2)},"function"==typeof Symbol&&(ve[Symbol.iterator]=function(){return this}),ve;function Pe(ke){return function(et){return function(ke){if(re)throw new TypeError("Generator is already executing.");for(;J;)try{if(re=1,X&&(H=2&ke[0]?X.return:ke[0]?X.throw||((H=X.return)&&H.call(X),0):X.next)&&!(H=H.call(X,ke[1])).done)return H;switch(X=0,H&&(ke=[2&ke[0],H.value]),ke[0]){case 0:case 1:H=ke;break;case 4:return J.label++,{value:ke[1],done:!1};case 5:J.label++,X=ke[1],ke=[0];continue;case 7:ke=J.ops.pop(),J.trys.pop();continue;default:if(!(H=(H=J.trys).length>0&&H[H.length-1])&&(6===ke[0]||2===ke[0])){J=0;continue}if(3===ke[0]&&(!H||ke[1]>H[0]&&ke[1]<H[3])){J.label=ke[1];break}if(6===ke[0]&&J.label<H[1]){J.label=H[1],H=ke;break}if(H&&J.label<H[2]){J.label=H[2],J.ops.push(ke);break}H[2]&&J.ops.pop(),J.trys.pop();continue}ke=W.call(Q,J)}catch(et){ke=[6,et],X=0}finally{re=H=0}if(5&ke[0])throw ke[1];return{value:ke[0]?ke[1]:void 0,done:!0}}([ke,et])}}}function k(Q){var W="function"==typeof Symbol&&Symbol.iterator,J=W&&Q[W],re=0;if(J)return J.call(Q);if(Q&&"number"==typeof Q.length)return{next:function(){return Q&&re>=Q.length&&(Q=void 0),{value:Q&&Q[re++],done:!Q}}};throw new TypeError(W?"Object is not iterable.":"Symbol.iterator is not defined.")}function R(Q,W){var J="function"==typeof Symbol&&Q[Symbol.iterator];if(!J)return Q;var X,ve,re=J.call(Q),H=[];try{for(;(void 0===W||W-- >0)&&!(X=re.next()).done;)H.push(X.value)}catch(Pe){ve={error:Pe}}finally{try{X&&!X.done&&(J=re.return)&&J.call(re)}finally{if(ve)throw ve.error}}return H}function G(Q,W,J){if(J||2===arguments.length)for(var H,re=0,X=W.length;re<X;re++)(H||!(re in W))&&(H||(H=Array.prototype.slice.call(W,0,re)),H[re]=W[re]);return Q.concat(H||Array.prototype.slice.call(W))}},8239:(Oe,he,x)=>{"use strict";function y(O,z,se,Z,le,oe,U){try{var S=O[oe](U),M=S.value}catch(k){return void se(k)}S.done?z(M):Promise.resolve(M).then(Z,le)}function K(O){return function(){var z=this,se=arguments;return new Promise(function(Z,le){var oe=O.apply(z,se);function U(M){y(oe,Z,le,U,S,"next",M)}function S(M){y(oe,Z,le,U,S,"throw",M)}U(void 0)})}}x.d(he,{Z:()=>K})}},Oe=>{Oe(Oe.s=1728)}]);